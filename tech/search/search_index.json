{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"index","text":"<p>_abc_ dd</p> <p>abc abc dd</p>"},{"location":"english%20interview/","title":"english interview","text":"<p>Its my pleasure.</p> <p>Did u have any trouble finding the office?</p> <p>it does feel good to get the work done.</p> <p>I studied at xx university and graduated in twentyfifteen.. with a degree in English.</p> <p>Hi,</p> <p>First of all, you might notice that I'm not the typical candidate. I currently work as a full-stack engineer, but my journey started as a front-end developer. Over the years, I've worked and grown in this field at companies like Mogujie and Alibaba.</p> <p>However, I decided to pursue a career change because I believe that to be a well-rounded software developer, it's essential to understand more than just one aspect of development. Focusing solely on front-end or back-end development can limit your perspective, making it challenging to think outside the box. I dislike working with black-box systems, and I wanted to break free from those limitations.</p> <p>About three years ago, I felt that I had become skilled enough in front-end development and decided it was time to broaden my knowledge. I took the opportunity to transition into a full-stack role. It was more challenging than I expected, but I succeeded. I started learning and working with Java and Golang from scratch. There was even a time when I had to handle everything in my group, from back-end to front-end, mobile development, and managing Linux servers. I felt like a CTO, handling all aspects of the development process.</p> <p>This experience helped me connect the dots and reinforced my belief that a comprehensive understanding of both front-end and back-end development is crucial to being a decent software developer.</p> <p>So, that's my journey so far. While I may not be as confident discussing back-end technical details as I am with front-end ones, I will do my best to answer any questions you have.</p> <p>Thank you.</p> <p>I've been working as a front-end xx for xx years and  I have over xx years of experience in programming. I've been there for the past 2 years Its been a great experience Because of my time at.. i have a lot of experience in..(\u5168\u5c40\u89c6\u91ce) My greatest strenghth is flexibility, I find that this is very important when i'm working with different people and opinions. \uff08Around a minute\uff09</p> <p>supervisor \u9886\u5bfc In 5 years, i would like to be.. - take ownership..I was responsible for..take the work seriously - collaborate. In my last job i collaborate with xxx to accomplish xx - when xx happens, i resolves the situation by..</p> <p>That makes sense. I really appreciate that you're considering me for the position. i'd love to be in the company achieving its goals.</p> <p>Sounds good. i look forward to it. thanks again.</p> <p>\u867d\u7136\u80cc\u666f\u4e0d\u540c\uff0c\u4f46\u662f share the most common priciples of coding. Just like we are female and male, but we're all human, and we share common moral principles. (the book clean code)</p> <p>\u7279\u8d28\uff1acharacteristics, traits Humble Strong sense of responsibility</p> <p>I got to know the software development from the ground up. I consider myself a very fast-learner. (Ability to learn new technologies)</p> <p>take you to the next level. When we were implementing.. Alright, thanks for the opportunity..!</p> <p>\u95ee\u9898: training courses</p>"},{"location":"todo/","title":"todo","text":""},{"location":"todo/#front-end","title":"front end","text":"<ul> <li>\u5168\u5c40\u5171\u4eab\u72b6\u6001\u7ba1\u7406</li> </ul>"},{"location":"todo/#_1","title":"\u53c8\u5728\u6536\u4e66\u57cb\u5751\u4e86","text":"<p>A Programmer's Introduction to Mathematics: Second Edition (pdf)</p>"},{"location":"Backend/AWS-Cloud/aws-cloud%20practitioner/","title":"aws-cloud practitioner","text":"<p>Exam-prepare:</p> <p>https://zhuanlan.zhihu.com/p/295326042</p> <p>https://www.w3schools.com/aws/aws_cloudessentials_awscert.php</p> <p>practice tests from ExamTopics and Whizlabs</p> <p>\u5b98\u65b9\u8003\u7eb2\uff1a</p> <p>https://d1.awsstatic.com/training-and-certification/docs-cloud-practitioner/AWS-Certified-Cloud-Practitioner_Exam-Guide.pdf</p>"},{"location":"Backend/AWS-Cloud/aws-cloud%20practitioner/#introduction","title":"introduction","text":"<p>EC2: Elastic Compute Cloud</p> <p>Cloud computing: The on-demand delivery of IT resources over the internet with pay-as-you-go pricing.</p> <p>cloud computing deployment models:</p> <ul> <li>cloud-based</li> <li>on-premises, also known as a private cloud deployment</li> <li>hybrid</li> </ul> <p>For example, you can launch Amazon Elastic Compute Cloud (Amazon EC2) instances when needed and pay only for the compute time you use. Instead of paying for resources that are unused or dealing with limited capacity, you can access only the capacity that you need, and scale in or out in response to demand.</p> <p>I guess its different from \u963f\u91cc\u4e91\u548c\u817e\u8baf\u4e91\u7684\u670d\u52a1\u5668\uff1f</p>"},{"location":"Backend/AWS-Cloud/aws-cloud%20practitioner/#compute-in-the-cloud","title":"Compute in the cloud","text":""},{"location":"Backend/AWS-Cloud/aws-cloud%20practitioner/#instance-types","title":"instance types","text":"<ul> <li>General purpose instances</li> <li>Compute optimized instances</li> <li>Memory optimized instances</li> <li>Accelerated computing instances</li> <li>Storage optimized instances</li> </ul>"},{"location":"Backend/AWS-Cloud/aws-cloud%20practitioner/#pricing","title":"pricing","text":"<ul> <li> <p>On-Demand</p> </li> <li> <p>Amazon EC2 Savings Plans</p> </li> </ul> <p>committing to a consistent amount of compute usage for a 1-year or 3-year term.</p> <ul> <li> <p>Reserved Instances</p> </li> <li> <p>Spot Instances (computed can be interrupted)</p> </li> </ul> <p>Spot Instances use unused Amazon EC2 computing capacity. They are ideal for workloads with flexible start and end times, or that can withstand interruptions, like a data processing job.</p> <ul> <li>Dedicated Hosts</li> </ul> <p>To begin with, Reserved Instances are based on the commitment to use an instance at a particular price over a specific period, while Savings Plans are based on the commitment to spend a particular dollar amount per hour over a specific period.</p>"},{"location":"Backend/AWS-Cloud/aws-cloud%20practitioner/#messaging-and-queuing","title":"Messaging and queuing","text":"<p>\u5176\u5b9e\u5c31\u662f\u6d88\u606f\u5206\u53d1\u4e2d\u95f4\u670d\u52a1\u5566</p> <p>tightly coupled architecture[monolithic application] v.s. loosely coupled architecture [microservices approach]</p> <ul> <li>Amazon Simple Notification Service (Amazon SNS) is a publish/subscribe service. Using Amazon SNS topics, a publisher publishes messages to subscribers.</li> <li>Amazon Simple Queue Service (Amazon SQS) is a message queuing service. (\u996d\u5e97\u63d2\u5728\u9488\u4e0a\u7684\u5c0f\u7968\u8ba2\u5355\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u57fa\u7840\u7684 queue service)</li> </ul>"},{"location":"Backend/AWS-Cloud/aws-cloud%20practitioner/#global-infrastrure-and-reliability","title":"Global Infrastrure And Reliability","text":"<p>Regions: A physical location around the world where we cluster data centers.</p> <p>Availability Zones: An Availability Zone (AZ) is one or more discrete data centers with redundant power, networking, and connectivity in an AWS Region.</p>"},{"location":"Backend/AWS-Cloud/aws-cloud%20practitioner/#availability-zones","title":"Availability Zones","text":""},{"location":"Backend/AWS-Cloud/aws-cloud%20practitioner/#amazon-cloudfront","title":"amazon Cloudfront","text":"<p>edge locations: An edge location is a site that Amazon CloudFront uses to store cached copies of your content closer to your customers for faster delivery.</p> <p>AWS Outpost: a mini</p>"},{"location":"Backend/AWS-Cloud/aws-cloud%20practitioner/#networking","title":"Networking","text":""},{"location":"Backend/AWS-Cloud/aws-cloud%20practitioner/#vpc","title":"VPC","text":"<p>Virtual Private Cloud: Establish boundaries around your AWS resources.</p>"},{"location":"Backend/AWS-Cloud/aws-cloud%20practitioner/#subnets","title":"subnets","text":"<ul> <li>Virtual private gateway: Create a VPN(virtual private network) connection between the VPC and the internal corporate network</li> <li>AWS Direct Connect: Establish a dedicated connection between the on-premises data center and the VPC</li> <li>Private subnet</li> <li>Public subnet</li> <li>ACL(Network control list) v.s. Security groups: The former is a virtual firewall that controls inbound and outbound traffic at the subnet level with stateless performace, while the latter is  a virtual firewall that controls inbound and outbound traffic for an smaller Amazon EC2 instance with stateful performance.</li> </ul>"},{"location":"Backend/AWS-Cloud/aws-cloud%20practitioner/#global-networking","title":"global networking","text":"<p>Amazon Route 53: a DNS web service</p>"},{"location":"Backend/AWS-Cloud/aws-cloud%20practitioner/#storage","title":"Storage","text":"<p>An instance store provides temporary block-level storage for your instance. This storage is located on disks that are physically attached to the host computer. Instance store is ideal for temporary storage of information that changes frequently, such as buffers, caches, scratch data, and other temporary content, or for data that is replicated across a fleet of instances, such as a load-balanced pool of web servers.</p> <p>Intsance Store Volumes -&gt; attached to Hypevisor AWS host, which can change between stops and starts of an EC2 instance</p> <p>For long-lasting storage:</p> <ul> <li> <p>Amazon EBS (Elastic Block Store): A service that provides block-level storage volumes that you can use with Amazon EC2 instances.</p> </li> <li> <p>Amazon S3 (Simple Storage Service)</p> </li> </ul> <p>Web enabled; Regionally distributed; Offer cost savings; Serverless</p> <ul> <li>S3 standard</li> <li>S3 Standard-Infrequent Access (S3 Standard-IA)</li> <li>S3 One Zone-Infrequent Access (S3 One Zone-IA)</li> <li>S3 Intelligent-Tiering (automatically moves an object to its access tier based on access frequency)</li> <li>S3 glacier (for data archiving) \u51b0\u5ddd\u4e4b\u610f</li> <li>S3 glacier Deep Archive\uff08retrieve \u7684\u65f6\u95f4\u66f4\u957f\uff09</li> </ul> <p>Object Storage (save the file as a whole) v.s. Block Storage (break files into blocks, better for a bunch of micro edits)</p> <ul> <li> <p>Amazon EFS (Elastic File System)</p> </li> <li> <p>Multiple instances reading and writing simultaneously</p> </li> <li>Linux file system</li> <li>Regional resource</li> <li> <p>Automatically scales</p> </li> <li> <p>Amazon Aurora: An Amazon enterprise-class relational database.</p> </li> <li> <p>Amazon RDS (Relational Database Service)</p> </li> <li> <p>Amazon DynamoDB (A non-relational database)</p> </li> </ul>"},{"location":"Backend/AWS-Cloud/aws-cloud%20practitioner/#security","title":"Security","text":"<ul> <li>Shared responsibility model</li> <li>MFA(multi-factor authentication)</li> </ul> <p>Best practice:</p> <p>Do not use the root user for everyday tasks.</p> <p>Instead, use the root user to create your first IAM user and assign it permissions to create other users.</p> <ul> <li>IAM user / IAM group /IAM roles (access to services or resources needs to be granted temporarily, instead of long-term)</li> <li>Service control policies (SCPs)  - AWS Organizations - Account management</li> <li>DoS: Denial-of-service</li> <li>DDoS: Distributed denial-of-service (which means many Dos hh)</li> <li>UDP Flood:Low-level brutal force attack/ reflection attack -&gt; security groups, AWS network level</li> <li>HTTP Level Attacks:</li> <li>Slowloris Attack: Elastic load balancer</li> <li>Amazon GuardDuty: A service that provides intelligent threat detection for your AWS environment and resources</li> </ul>"},{"location":"Backend/AWS-Cloud/aws-cloud%20practitioner/#monitoring-and-analytics","title":"Monitoring and analytics","text":"<ul> <li>Amazon cloud watch (Monitor your resources\u2019 utilization and performance, performance metrics, logs)</li> <li>AWS CloudTrail: Track user/account activities, records API calls for your account</li> </ul>"},{"location":"Backend/AWS-Cloud/aws-cloud%20practitioner/#pricing_1","title":"Pricing","text":"<ul> <li>Some services offer tiered pricing / per-unit cost is incrementally lower with increased usage.</li> </ul>"},{"location":"Backend/AWS-Cloud/aws-cloud%20practitioner/#migration-and-innovation","title":"Migration and innovation","text":"<p>Snow Family: \u5c45\u7136\u8fd8\u6709\u5361\u8f66\u6765\u642c\u6570\u636e\uff01</p>"},{"location":"Backend/AWS-Cloud/aws-cloud%20practitioner/#the-cloud-journey","title":"The cloud journey","text":"<p>The AWS well-architected framework</p> <p>v.s. on-premises data center</p> <ul> <li>The five pillars of the AWS Well-Architected Framework:</li> <li>Operational excellence</li> <li>Security</li> <li>Reliability</li> <li>Performance efficiency</li> <li>Cost optimization</li> <li>Six advantages of cloud computing:</li> <li>Trade upfront expense for variable expense.</li> <li>Benefit from massive economies of scale.</li> <li>Stop guessing capacity.</li> <li>Increase speed and agility.</li> <li>Stop spending money running and maintaining data centers.</li> <li>Go global in minutes.</li> </ul>"},{"location":"Backend/AWS-Cloud/aws-cloud%20practitioner/#exam","title":"Exam","text":"<p>Exam-guide</p> <ul> <li>What kind of database is AWS DynamoDB? \u2705 NoSQL database \u274e Document database</li> <li>What is AWS EC2? \u2705 AWS EC2 is a virtual server in the AWS Cloud \u274e AWS EC2 is a serverless compute service</li> <li>Which perspective of the AWS Cloud Adoption Framework focuses on minimizing the business risks? \u2705 Governance Perspective</li> <li>Which pillar of the AWS Well-Architected Framework focuses on recovering from service or infrastructure disruptions?  \u2705 Reliability</li> <li>AWS Artifact is a service that provides access to AWS security and complicance reports. \u2705</li> <li>CloudWatch is a monitoring service that monitors your resources, and configures automatic alarms. \u2705</li> <li>Which AWS service do you need to use to get complete history of user activity? \u2705 AWS CloudTrail</li> <li>If an instance store reboots, does the data in the instance persist? \u2705</li> <li>What does AWS Marketplace allows you to do? AWS Marketplace lets you list and sell software</li> <li>With Dedicated Hosts, a physical server is dedicated for your use.  Reserved Instances are not physical instances. Reserved Instances are a billing discount applied to the use of On-Demand Instances in your account.</li> <li>spot plan: can be interrupted, price is uncertain</li> <li>AWS Pricing Calculator VS Cost Explorer: The latter can only forecast your costs based on your previous usage. While the former means a price menu.</li> <li>Network ACL vs Security Group: The former works at a subnet level, while the latter works at an EC2 instance level.</li> </ul> <p>Needs to refresh:</p> <ul> <li> <p>five pillars</p> </li> <li> <p>AWS CAF - Cloud Adoption Framework</p> </li> <li> <p>There are actually only a handful of services that are considered as global services such as IAM, STS, Route 53, CloudFront and WAF. For Zonal services, the examples are EC2 Instance and EBS Volumes where they are tied to the Availability Zone where they were launched. Take note that although EBS Volumes are considered as a zonal service, the EBS snapshots are considered as a regional since it is not tied to a specific Availability Zone. The rest of the services are regional in scope.</p> </li> </ul>"},{"location":"Backend/AWS-Cloud/aws-cloud/","title":"aws-cloud","text":""},{"location":"Backend/AWS-Cloud/aws-cloud/#sources","title":"sources","text":"<p>All the related materials: https://d1.awsstatic.com/training-and-certification/ramp-up_guides/Ramp-Up_Guide_CloudPractitioner.pdf</p> <p>Job Roles in the cloud</p> <p>[AWS Cloud Practitioner Essentials][https://explore.skillbuilder.aws/learn/course/134/play/31418/aws-cloud-practitioner-essentials-all-modules]</p>"},{"location":"Backend/Database/ElasticSearch/","title":"ElasticSearch","text":"<p>\u4f18\u70b9\uff1a - \u6bcf\u4e2a\u5b57\u6bb5\u90fd\u88ab\u7d22\u5f15\uff08ES\u4e2d\u4e00\u5207\u5b57\u6bb5\u7686\u4e3a\u7d22\u5f15\uff09\uff0c\u800c\u4e14\u91c7\u7528\u7684\u662f\u9ad8\u6548\u7684\u5012\u6392\u7d22\u5f15 - \u6709\u4e30\u5bcc\u7684\u5206\u8bcd\u63d2\u4ef6\uff0c\u652f\u6301\u81ea\u5b9a\u4e49\u6253\u5206\u548c\u6392\u5e8f\uff0c\u80fd\u591f\u5b9e\u73b0\u4efb\u610f\u590d\u6742\u6761\u4ef6\u7684\u5168\u6587\u68c0\u7d22 - \u652f\u6301\u5206\u5e03\u5f0f\u5b58\u50a8</p>"},{"location":"Backend/Database/ElasticSearch/#_1","title":"\u7ed3\u6784","text":"<ul> <li>Index: \u9876\u5c42\u5355\u4f4d</li> <li>Document: \u5355\u6761\u8bb0\u5f55\u3002\u8bb8\u591a Document \u6784\u6210\u4e00\u4e2a Index</li> <li>mapping<ul> <li>\u6ce8\u610f\uff1a\u4e0d\u80fd\u5220\u9664 mapping\uff0c\u9700\u8981\u91cd\u65b0\u751f\u6210 index</li> </ul> </li> <li>type:<ul> <li>Text vs. Keyword: \u524d\u8005\u5728 indexing \u7684\u65f6\u5019\u4f1a\u5148\u88ab\u5206\u6790\u62c6\u6563</li> <li>Boolean: \u4e5f\u53ef\u4ee5\u7528 byte \u5bf9\u5e94 1, 0</li> </ul> </li> </ul>"},{"location":"Backend/Database/ElasticSearch/#mysql-es","title":"MySql \u5230 ES \u7684\u6570\u636e\u540c\u6b65","text":"<ul> <li>\u540c\u6b65\u53cc\u5199<ul> <li>\u5173\u952e bug: \u6570\u636e\u4e00\u81f4\u6027\uff0c\u9700\u8981\u653e\u5230\u4e8b\u52a1\u4e2d\uff0c\u5f71\u54cd\u6548\u7387</li> </ul> </li> <li>\u5f02\u6b65\u53cc\u5199: \u901a\u8fc7 mq \u6765\u5199<ul> <li>\u5173\u952ebug: \u65f6\u6548\u6027</li> </ul> </li> <li>\u5b9a\u65f6\u4efb\u52a1\u8c03\u5ea6\uff1a\u5b9a\u65f6\u8f6e\u8be2 updated \u53d8\u5316\u7684\u6570\u636e<ul> <li>\u5173\u952ebug: \u65f6\u6548\u6027\u3001\u5bf9\u6570\u636e\u5e93\u7684\u8f6e\u8be2\u8981\u653e\u5728\u4ece\u5e93\u4e0a</li> <li>\u5de5\u5177\uff1alogstash</li> </ul> </li> <li>BinLog \u540c\u6b65<ul> <li>\u4f18\u70b9\uff1a\u65e0\u4ee3\u7801\u4fb5\u5165\u548c\u786c\u7f16\u7801</li> <li>\u5de5\u5177\uff1acannal(\u4f2a\u88c5\u81ea\u5df1\u662f slave)\u3001DTS</li> </ul> </li> </ul>"},{"location":"Backend/Database/ElasticSearch/#kibana","title":"kibana","text":""},{"location":"Backend/Database/ElasticSearch/#api","title":"api \u67e5\u8be2","text":"<pre><code># \u67e5\u770b\u7d22\u5f15\u4fe1\u606f\nGET _cat/indices?v\n\n# \u67e5\u8be2\u6620\u5c04\nGET /{index}/_mapping\n\n# \u641c\u7d22\nGET /{index}/_doc/_search\n\nGET /{index}/_doc/_search\n{\n  \"query\" : { \"match\" : { \"desc\" : \"\u8f6f\u4ef6\" }},\n  \"sort\": [\n    { \"account_number\": \"asc\" }\n    ],\n  \"from\": 1,\n  \"size\": 1\n}\n\n# \u8be6\u60c5\nGET /{index}/_doc/{id}\n</code></pre>"},{"location":"Backend/Database/ElasticSearch/#_2","title":"\u4e1a\u52a1\u4f7f\u7528","text":"<p>\u5b9e\u9645\u4e0a\u8fd8\u4f1a\u6709\u5f88\u591a\u7ec6\u8282\u95ee\u9898\uff0c\u53c2\u8003 \u7406\u89e3ElasticSearch\u5de5\u4f5c\u539f\u7406 - \u7b80\u4e66</p>"},{"location":"Backend/Database/misc/","title":"misc","text":"<ul> <li>\u7ed9 redis \u52a0\u4e0a\u4e00\u5c42\u9ad8\u7ea7\u7684\u5916\u8863\uff1a\u52a0\u5165\u4e2d\u5fc3\u5316\u7684\u8fdc\u7a0b\u7f13\u5b58\uff0c\u8ba9\u8fdc\u7a0b\u7f13\u5b58\u53ef\u4ee5\u4f5c\u7528\u5230\u6240\u6709\u5b9e\u4f8b\u4e0a\u9762</li> </ul>"},{"location":"Backend/Database/mongodb/","title":"mongodb","text":""},{"location":"Backend/Database/mongodb/#install","title":"install","text":""},{"location":"Backend/Database/mongodb/#centos","title":"centos","text":"<p>\u6362\u6210\u4e86\u83dc\u9e1f\u7684\u65b9\u6cd5 \u76f4\u63a5 wget \u62ff\u4e0b\u6765</p> <p>https://www.runoob.com/mongodb/mongodb-linux-install.html</p> <pre><code>vim /etc/yum.repos.d/mongodb-org-6.0.repo # \u6307\u5b9a mongo \u7684\u4e0b\u8f7d\u5730\u5740\nsudo yum install -y mongodb-org\n\nwhich mongod #/usr/bin/mongod\n\nmongod --dbpath /var/lib/mongo --logpath /var/log/mongodb/mongod.log --fork # \u542f\u52a8 mongodb \u670d\u52a1\nps -ef | grep mongo #this command shows you the mongodb process id\nkill 12345 #kill the process\n</code></pre> <p>....\u8fd8\u662f\u7528\u4e86\u5b98\u65b9\u6587\u6863 yum \u7684\u65b9\u5f0f\uff0c\u88c5\u5728\u4e86 /usr/local/bin \u4e0b</p> <p>\u5f88\u50bb\u903c</p> <ul> <li> <p>\u5bf9\u4e8e /etc/lib/mongdb \u548c /var/log/mongodb/\uff0cmongod \u4f1a\u4ee5 mongod:mongod \u7684\u7528\u6237\u8eab\u4efd\u6765\u8bbf\u95ee\uff0c\u4e8e\u662f\u4f60\u8981\u5148\u7ed9\u4eba\u5bb6\u9020\u4e00\u4e2a user</p> </li> <li> <p>\u6267\u884c\u65f6\u4e00\u5b9a\u8981 <code>./mongod --config=/etc/mongod.conf</code> \u95ee\u9898\u662f mongod.conf \u5c31\u662f\u9ed8\u8ba4\u751f\u6210\u51fa\u6765\u7684\u914d\u7f6e\u8def\u5f84\u5440\u2026 \u4e0d\u52a0 config \u7684\u8bdd\uff0c db \u8def\u5f84\u8fd8\u662f\u9ed8\u8ba4\u7684\u53e6\u4e00\u4e2a\u3002</p> </li> </ul>"},{"location":"Backend/Database/mongodb/#shell-mongosh","title":"shell: mongosh","text":"<p>https://www.mongodb.com/docs/mongodb-shell/install/#std-label-mdb-shell-install</p> <p>v6\u53ca\u4ee5\u540e\u5c31\u4e0d\u81ea\u5e26 mongo \u4e86\u3002\u7528\u7684\u6700\u539f\u59cb\u7684 wget \u62c9 gzip \u5305\u518d\u89e3\u538b\u7684\u65b9\u5f0f</p> <p>p.s. \u5173\u4e8e\u5b89\u88c5\u5305\u3002\u8981\u4e48 yum\uff0c\u8981\u4e48 wget\u3002yum \u5b8c\u6210\u540e\uff0c\u786e\u5b9a\u6e05\u695a\u5b89\u88c5\u8def\u5f84\u53ca\u914d\u7f6e\u8def\u5f84\uff0c\u4e00\u822c\u53ef\u4ee5\u76f4\u63a5\u542f\u52a8\u5176\u4e2d\u5e26\u7740\u7684\u547d\u4ee4\u884c\u5de5\u5177\u3002\u5982\u679c\u662f gzip \u89e3\u538b\uff0c\u628a\u5bf9\u5e94\u7684\u8fd0\u884c bin \u52a0\u5230 path \u91cc</p> <p>p.s.s. \u5173\u4e8e\u8fd0\u884c\u6307\u4ee4\u3002\u5206\u6e05\u4e00\u6b21\u6027\u8fd0\u884c\u8fd8\u662f\u8981\u7528\u5b88\u62a4\u8fdb\u7a0b\u8fd0\u884c\u3002\u8fd0\u884c\u5b8c\u540e\u7528 ps \u548c lsof \u770b\u4e0b\u542f\u52a8\u662f\u5426\u6709\u6210\u529f\u3002</p>"},{"location":"Backend/Database/mysql/","title":"mysql","text":""},{"location":"Backend/Database/mysql/#common-sense","title":"common sense","text":""},{"location":"Backend/Database/mysql/#_1","title":"\u4e3b\u4ece\u6570\u636e\u5e93","text":"<p>\u5c31\u662f\u4e3a\u4e86\u63d0\u9ad8\u6570\u636e\u5e93\u7684\u5e76\u53d1\u6027\u80fd\u3002\u4f60\u60f3\uff0c\u5047\u8bbe\u662f\u5355\u673a\uff0c\u8bfb\u5199\u90fd\u5728\u4e00\u53f0MySQL\u4e0a\u9762\u5b8c\u6210\uff0c\u6027\u80fd\u80af\u5b9a\u4e0d\u9ad8\u3002\u5982\u679c\u6709\u4e09\u53f0MySQL\uff0c\u4e00\u53f0mater\u53ea\u8d1f\u8d23\u5199\u64cd\u4f5c\uff0c\u4e24\u53f0salve\u53ea\u8d1f\u8d23\u8bfb\u64cd\u4f5c</p> <p>\u4e3a\u4e86\u4fdd\u6301\u6570\u636e\u4e00\u81f4\uff0c\u53ef\u4ee5\u5728\u540c\u4e00\u7ebf\u7a0b\u4e14\u540c\u4e00\u6570\u636e\u5e93\u8fde\u63a5\u5185\uff0c\u5982\u6709\u5199\u5165\u64cd\u4f5c\uff0c\u4ee5\u540e\u7684\u8bfb\u64cd\u4f5c\u5747\u4ece\u4e3b\u5e93\u8bfb\u53d6\uff0c\u7528\u4e8e\u4fdd\u8bc1\u6570\u636e\u4e00\u81f4\u6027\u3002</p> <p>\u4e3b\u8282\u70b9\uff1a</p> <p>1\u3001\u5f53\u4e3b\u8282\u70b9\u4e0a\u8fdb\u884c insert\u3001update\u3001delete \u64cd\u4f5c\u65f6\uff0c\u4f1a\u6309\u7167\u65f6\u95f4\u5148\u540e\u987a\u5e8f\u5199\u5165\u5230 binlog \u4e2d\uff1b 2\u3001\u5f53\u4ece\u8282\u70b9\u8fde\u63a5\u5230\u4e3b\u8282\u70b9\u65f6\uff0c\u4e3b\u8282\u70b9\u4f1a\u521b\u5efa\u4e00\u4e2a\u53eb\u505a binlog dump \u7684\u7ebf\u7a0b\uff1b</p> <p>3\u3001\u4e00\u4e2a\u4e3b\u8282\u70b9\u6709\u591a\u5c11\u4e2a\u4ece\u8282\u70b9\uff0c\u5c31\u4f1a\u521b\u5efa\u591a\u5c11\u4e2a binlog dump \u7ebf\u7a0b\uff1b</p> <p>4\u3001\u5f53\u4e3b\u8282\u70b9\u7684 binlog \u53d1\u751f\u53d8\u5316\u7684\u65f6\u5019\uff0c\u4e5f\u5c31\u662f\u8fdb\u884c\u4e86\u66f4\u6539\u64cd\u4f5c\uff0cbinlog dump \u7ebf\u7a0b\u5c31\u4f1a\u901a\u77e5\u4ece\u8282\u70b9 (Push\u6a21\u5f0f)\uff0c\u5e76\u5c06\u76f8\u5e94\u7684 binlog \u5185\u5bb9\u53d1\u9001\u7ed9\u4ece\u8282\u70b9\uff1b</p> <p>\u4ece\u8282\u70b9\uff1a</p> <p>\u5f53\u5f00\u542f\u4e3b\u4ece\u540c\u6b65\u7684\u65f6\u5019\uff0c\u4ece\u8282\u70b9\u4f1a\u521b\u5efa\u4e24\u4e2a\u7ebf\u7a0b\u7528\u6765\u5b8c\u6210\u6570\u636e\u540c\u6b65\u7684\u5de5\u4f5c\u3002</p> <p>I/O\u7ebf\u7a0b\uff1a \u6b64\u7ebf\u7a0b\u8fde\u63a5\u5230\u4e3b\u8282\u70b9\uff0c\u4e3b\u8282\u70b9\u4e0a\u7684 binlog dump \u7ebf\u7a0b\u4f1a\u5c06 binlog \u7684\u5185\u5bb9\u53d1\u9001\u7ed9\u6b64\u7ebf\u7a0b\u3002\u6b64\u7ebf\u7a0b\u63a5\u6536\u5230 binlog \u5185\u5bb9\u540e\uff0c\u518d\u5c06\u5185\u5bb9\u5199\u5165\u5230\u672c\u5730\u7684 relay log\u3002</p> <p>SQL\u7ebf\u7a0b\uff1a \u8be5\u7ebf\u7a0b\u8bfb\u53d6 I/O \u7ebf\u7a0b\u5199\u5165\u7684 relay log\uff0c\u5e76\u4e14\u6839\u636e relay log \u7684\u5185\u5bb9\u5bf9\u4ece\u6570\u636e\u5e93\u505a\u5bf9\u5e94\u7684\u64cd\u4f5c</p> <p>\u6211\u4eec\u7684\u573a\u666f\uff1a\u540e\u7aef\u670d\u52a1\u4f7f\u7528\u7684\u662f\u4e3b\u6570\u636e\u5e93\uff0cmetabase \u7684\u8bfb\u6570\u636e\u5e93\u4f7f\u7528\u7684\u662f slave \u6570\u636e\u5e93\u3002</p>"},{"location":"Backend/Database/mysql/#_2","title":"\u4f18\u5316","text":"<p>explain mysqlcommand: \u67e5\u770b\u6307\u4ee4\u6267\u884c\u6548\u7387\uff0c\u6ce8\u610f possible_keys \u4e0e key, \u8fa8\u522b\u7d22\u5f15\u672a\u751f\u6548\u60c5\u51b5\u3002</p>"},{"location":"Backend/Database/mysql/#_3","title":"\u7d22\u5f15","text":"<p>\u54c7\u7d22\u5f15\u771f\u7684\u597d\u6709\u7528\uff01\u7528 in \u67e5\u8be2\uff0c\u672c\u6765\u8981\u7ecf\u8fc7\u767e\u4e07\u7ea7\u522b\u7684 row\uff0c\u73b0\u5728\u53ea\u7528\u4e2a\u4f4d\u6570\u7ea7\u522b\u4e86\uff01\u5feb\u4e86\u597d\u591a\uff0c\u597d\u795e\u5947\uff01</p> <ul> <li>\u65b9\u6cd5\uff1abitree hash\uff08\u6bcf\u52a0\u4e00\u4e2a\u7d22\u5f15\u5c31\u4f1a\u521b\u5efa\u4e00\u9897B+\u6811\uff09</li> </ul> <p>\u8054\u8868\u67e5\u8be2\u65f6\uff0c\u6211\u51fa\u73b0\u4e86\u7d22\u5f15\u672a\u751f\u6548\u60c5\u51b5\uff08Explain \u663e\u793a\u4e3a Block nested-loop join \u800c\u975e Index Nested-Loop Join\uff09\uff0c\u5177\u4f53\u539f\u56e0\u672a\u77e5\uff0c\u53ef\u80fd\u662f\u67d0\u8868 index \u5b57\u6bb5\u7684 null \u503c\u8fc7\u591a\u7684\u7f18\u6545\u3002\u540e\u901a\u8fc7 <code>\"left join my_rooms FORCE INDEX FOR JOIN (idx_rel_room_id) on my_rooms.rel_room_id = rooms.id\"</code> \u5f3a\u5236\u4f7f\u7528 index \u6765\u89e3\u51b3</p>"},{"location":"Backend/Database/mysql/#_4","title":"\u6570\u636e\u7c7b\u578b","text":"<ul> <li>TEXT \u6700\u591a\u53ef\u4ee5\u5b58\u591a\u5c11\u5b57\uff1f</li> </ul> <pre><code>TINYBLOB, TINYTEXT       L + 1 bytes, where L &lt; 2^8    (255 Bytes)\nBLOB, TEXT               L + 2 bytes, where L &lt; 2^16   (64 Kilobytes)\nMEDIUMBLOB, MEDIUMTEXT   L + 3 bytes, where L &lt; 2^24   (16 Megabytes)\nLONGBLOB, LONGTEXT       L + 4 bytes, where L &lt; 2^32   (4 Gigabytes)\n</code></pre> <p>\u6240\u4ee5 TEXT \u53ef\u4ee5\u5b58\u50a8\u7684\u4f4d\u6570\u662f 2^16-1. \u50cf UTF8 1~4 bytes \u6bcf\u4e2a\u5b57\u7b26\uff0c\u5f80\u4e0a\u53d6 4 \u7684\u8bdd\u5927\u6982\u662f 2^14 - 1\u537316383\u4e2a\u5b57</p>"},{"location":"Backend/Database/mysql/#shell","title":"shell \u57fa\u64cd","text":"<pre><code>mysql -u &lt;username&gt; -h &lt;hostname&gt; -P &lt;port&gt; &lt;database&gt; -p\n\nSHOW CREATE TABLE `a`;\nRENAME TABLE `a` TO `b`;\nDELETE FROM `a`;\n\n## \u63d2\u5165\u503c\nINSERT INTO `areas` \n( pid, name, code  )\nVALUES\n(111, \"aaa\", \"330114\" );\n## batch update same value\nUPDATE dummy SET myfield=1 WHERE id&gt;1;\n## \u6279\u91cf\u53bb\u6389\u67d0\u4e00\u5217\u7684\u540e\u534a\u6bb5\nupdate areas set code = SUBSTR(code,1, 6);\n\n## \u65b0\u589e column\nalter table areas add `row` bigint(20) first;\n## \u590d\u5236\u53e6\u4e00 column \u7684\u503c\u5230\u8be5 column\nupdate areas set row = id;\n## \u66f4\u6539 column\nALTER TABLE `areas` change column `row` `row` bigint(20) unsigned NOT NULL AUTO_INCREMENT;\n## \u8bbe\u7f6e column \u81ea\u589e\nALTER TABLE areas MODIFY COLUMN row BIGINT auto_increment;\n## \u5220\u9664 column\nalter table `areas` drop column `sort`;\n\n## \u66f4\u6539 constraints\nALTER TABLE areas DROP CONSTRAINT primary key;\nALTER TABLE areas ADD CONSTRAINT primary key(row);\n\n</code></pre>"},{"location":"Backend/Database/mysql/#_5","title":"\u67e5\u770b\u5404\u8868\u5b58\u50a8","text":"<pre><code>SELECT table_name ,\n  round(((data_length + index_length) / 1024 / 1024), 2) as SIZE_MB,\n    round(((data_length) / 1024 / 1024), 2) as DATA_LENGTH_MB,\n    round(((index_length) / 1024 / 1024), 2) as INDEX_LENGTH_MB\nFROM information_schema.TABLES\nWHERE table_schema = DATABASE() ORDER BY SIZE_MB DESC;\n</code></pre> <p>\u771f\u7684\u5f88\u9ebb\u70e6\uff01\u8fd9\u91cc\u8981\u6ce8\u610f\u6709\u4e9b\u8868\u867d\u7136 data_length \u4e0d\u5927\uff0c\u4f46\u662f index_length \u6216\u8bb8\u4f1a\u6bd4 data \u8fd8\u5927\u3002 \u8be5\u503c\u6709\u7f13\u5b58\uff0c\u82e5\u6709\u5bf9\u8868\u521a\u8fdb\u884c\u4e86\u4fee\u6539\uff0c\u9700\u8981\u5f3a\u5236\u5237\u65b0\u4e0b\u6570\u636e <code>ANALYZE TABLE table_name;</code></p>"},{"location":"Backend/Database/mysql/#_6","title":"\u5220\u9664\u5927\u91cf\u6570\u636e","text":"<p>\u6700\u597d\u5148\u65b0\u5efa\u8868\uff0c\u518d\u5c06\u8868\u5185\u6570\u636e\u79fb\u56de\u6765\uff0c\u6548\u7387\u6700\u9ad8\u3002\u8fd9\u6837\u53ef\u4ee5\u907f\u514d row-by-row \u7684 logging \u8bb0\u5f55 ref</p> <pre><code>create table temp_t as\n    select *\n    from table\n    where date &gt;= '2018-01-01';\n\ntruncate table t;\n\ninsert into t\n     select *\n</code></pre>"},{"location":"Backend/Database/mysql/#_7","title":"\u5b58\u50a8\u8fc7\u7a0b\u4e0e\u53d8\u91cf\u4f7f\u7528\u4e0e\u4e34\u65f6\u8868","text":"<pre><code>DROP PROCEDURE IF EXISTS xxx; # \u79fb\u9664\u4e0a\u4e00\u6b21\u58f0\u660e\u7684\u8fc7\u7a0b\nDROP TEMPORARY TABLE IF EXISTS results; # \u79fb\u9664\u4e34\u65f6\u8868\u82e5\u6709\n\nDELIMITER $$ # \u5b58\u50a8\u8fc7\u7a0b\u91cc\u8d77\u6b62\u7b26\u4e00\u822c\u66f4\u6539\u6210 $$ \u6216 \\\\\nCREATE PROCEDURE xxx()\nBEGIN\n    DECLARE tableName CHAR(100); # \u53d8\u91cf\u9700\u8981\u5728\u5f00\u59cb\u58f0\u660e\n    DECLARE tableList CURSOR FOR SELECT table_name FROM information_schema.tables where TABLE_SCHEMA = 'byteox_users';\n\n    OPEN tableList;\n\n    tableListLoop: LOOP\n\n        FETCH tableList INTO tableName; # \u5faa\u73af\u7684\u4f7f\u7528\n\n        # \u5728 sql \u91cc\u4f7f\u7528\u53d8\u91cf\u7684\u65b9\u5f0f\n        SET @VarCount = 0;\n        SET @VarSQL = CONCAT('SET @VarCount = (SELECT COUNT(*) FROM ', tableName, ' WHERE tenant_id IS NULL OR tenant_id &lt;&gt; \"88888888\")');\n        PREPARE stmt FROM @VarSQL;\n        EXECUTE stmt;\n        DEALLOCATE PREPARE stmt;\n\n                IF @VarCount &gt; 0 THEN\n                    SET @AllCount = 0;\n                    SET @AllCountSQL = CONCAT('SET @AllCount = (SELECT COUNT(*) FROM ', tableName, ')');\n                    PREPARE stmt3 FROM @AllCountSQL;\n                    EXECUTE stmt3;\n                    DEALLOCATE PREPARE stmt3;\n\n                    SET @s = CONCAT('INSERT INTO results\n                    (table_name, count, all_count) VALUES (\"', tableName,'\", ', @VarCount ,',', @AllCount,');');\n                    PREPARE stmt2 FROM @s;\n                    EXECUTE stmt2;\n                    DEALLOCATE PREPARE stmt2;\n                END IF;\n\n    END LOOP;\n    CLOSE tableList;\n\nEND $$\nDELIMITER ; # \u5c06 delimiter \u91cd\u7f6e\u56de ;\n\n# \u521b\u5efa\u4e34\u65f6\u8868\nCREATE TEMPORARY TABLE IF NOT EXISTS results (\n  table_name VARCHAR(100), count INT, all_count INT);\n\n# \u6267\u884c\u8fc7\u7a0b\ncall xxx();\n\n# \u4ece\u4e34\u65f6\u8868\u8bfb\u53d6\u6570\u636e\nselect * from results;\n</code></pre>"},{"location":"Backend/Database/mysql/#csv","title":"\u5bfc\u5165 csv","text":"<pre><code>## \u8bbe\u7f6e\u7f16\u7801\u65b9\u5f0f\nALTER DATABASE databasename CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;\nALTER TABLE tablename CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;\n\n## infile \u4ee3\u8868\u672c\u5730\u6587\u4ef6\uff0c\u8981\u6ce8\u610f\u7f16\u7801\nload data infile '/Users/dearvikki/Downloads/AMap_adcode_citycode/AMap_adcode_citycode_20210406.csv' \ninto table `a` CHARACTER SET utf8 \nFIELDS TERMINATED BY ','   \nOPTIONALLY ENCLOSED BY ''\nLINES TERMINATED BY '\\r\\n'\nIGNORE 1 LINES\n(name,adcode,citycode);\n</code></pre> <p>\u5173\u4e8eutf8\u4e0eutf8mb4</p>"},{"location":"Backend/Database/mysql/#_8","title":"\u5bfc\u5165\u5bfc\u51fa","text":"<pre><code># \u5bfc\u5165 table\nmysql --user=root wholedatabase &lt; whole.database.sql\nmysql --user=root databasename &lt; single.table.sql\n\n## if alreay running mysql shell \u4f1a\u8986\u76d6\u6389\u4e4b\u524d\u7684\u6570\u636e\nuse databasename;\nsource data.sql;\n\n# \u5bfc\u51fa table\nmysqldump --column-statistics=0 ... databasename -p tablename &gt; xxx.sql # --column-statistics=0 \u5173\u95ed\u4e86\u989d\u5916\u5bfc\u51fa\u7684\u5206\u6790\u6570\u636e\n</code></pre>"},{"location":"Backend/Database/mysql/#_9","title":"\u4e00\u4e2a\u5faa\u73af\u63d2\u5165\u7684\u4f8b\u5b50","text":"<pre><code>DELIMITER $$\nCREATE PROCEDURE test()\nBEGIN\n  DECLARE counts INT DEFAULT 0;\n  DECLARE iteration INT DEFAULT 0;\n  DECLARE roleId varchar(32);\n\n    SELECT COUNT(*) INTO counts FROM basic_role where tenant_id = \"88888888\" AND is_delete = 0;\n\n    SET iteration = 0;\n\n    START TRANSACTION;\n\n      WHILE iteration &lt; counts DO\n       SELECT `id` INTO roleId FROM basic_role where tenant_id = \"88888888\" AND is_delete = 0 LIMIT 1 OFFSET iteration; // \u9700\u8981\u5faa\u73af\u53d6\u51fa\u5bf9\u5e94\u6761\u7684\u503c\n\n       INSERT INTO basic_role_resource_data \n       (id, tenant_id, role_id, resource_id, is_include_children, create_time, update_time ) \n       VALUES \n       (REPLACE(UUID(),\"-\",\"\"), \"88888888\", roleId, \"c43ea61c383f069bfcac0d20b1278c77\", 1, NOW(), NOW());\n\n              SET iteration = iteration + 1;\n       END WHILE;\n\n    COMMIT;\n\n\nEND\n$$\nDELIMITER ;\n\ncall test();\ndrop procedure test;\n</code></pre>"},{"location":"Backend/Database/mysql/#_10","title":"\u4e0e\u7edf\u8ba1\u6709\u5173","text":"<pre><code>baseQueryWrapper.select(\"DATE_FORMAT(gmt_created, '%Y-%m') AS date_desc\");  \nbaseQueryWrapper.groupBy(\"MONTH(gmt_created)\");\n\nbaseQueryWrapper.select(\"DATE_FORMAT(gmt_created, '%Y-%m-%d') AS date_desc\");  \nbaseQueryWrapper.groupBy(\"DATE(gmt_created)\");\n</code></pre> <p>\u9700\u8981\u6ce8\u610f\uff0c\u5982\u679c groupBy \u51fa\u6765\u7684\u67d0\u4e2a\u5b57\u6bb5\u5bf9\u5e94\u6ca1\u6709\u7edf\u8ba1\u503c\uff0c\u90a3\u4e48\u7ed3\u679c\u91cc\u662f\u6ca1\u6709\u8fd9\u4e2a\u5b57\u6bb5\u7684\u3002\u56e0\u6b64\u4e5f\u4f1a\u5b58\u5728\u5982\u4e0b\u95ee\u9898\uff1a - MySQL group by date and count including missing dates - Stack Overflow - sql - generate days from date range - Stack Overflow \u4e3a\u4e86\u8865\u8db3\u6ca1\u6709\u6570\u636e\u7684\u65e5\u671f\uff0c\u5728 mysql \u91cc\u505a\u9887\u4e3a\u9ebb\u70e6\uff0c\u8fd8\u662f\u53d6\u5b8c\u6570\u636e\u540e\u518d\u5728\u4ee3\u7801\u5c42\u9762\u5904\u7406\u4e3a\u597d\u3002</p>"},{"location":"Backend/Database/mysql/#_11","title":"\u903b\u8f91\u67e5\u8be2\u5b9a\u5f0f","text":""},{"location":"Backend/Database/mysql/#_12","title":"\u589e","text":"<ul> <li>\u5224\u65ad\u662f\u5426\u5df2\u6709\u540c\u540d\u5143\u7d20\uff1a</li> <li>firstOrCreate + RowsAffected</li> <li>firstrOrCreate + \u5b58\u50a8\u7684 car.ID \u548c \u6700\u540e\u5b58\u50a8\u5b8c\u6210\u8fd4\u56de\u56de\u6765\u7684 carID \u4e0d\u4e00\u81f4</li> </ul>"},{"location":"Backend/Database/mysql/#_13","title":"\u6539","text":"<ul> <li>\u8981\u6539\u7684 id \u662f\u5426\u5b58\u5728\uff1a\u53ef\u4ee5\u7528 Count</li> <li>\u524d\u7aef\u4f20\u7a7a\u503c\uff0c\u540e\u7aef\u5230\u5e95\u662f\u4fdd\u5b58\u8be5\u7a7a\u503c\uff0c\u8fd8\u662f\u7f6e\u4e4b\u4e0d\u7ba1\u7684\u95ee\u9898\u3002\u5bf9\u4e8e go \u800c\u8a00\uff0c\u7531\u4e8e\u6536\u5230\u7684\u6570\u636e\u88ab unmarshal \u540e\u6309\u7167\u7ed3\u6784\u4f53\u6bcf\u4e2a\u5b57\u6bb5\u90fd\u4e00\u5b9a\u4f1a\u6709\u4e2a\u9ed8\u8ba4\u503c\uff0c\u6240\u4ee5\u8981\u4f7f\u7528\u6307\u9488\u7c7b\u578b\uff0c\u5982\u679c\u662f nil \u578b\u8bc1\u660e\u524d\u7aef\u6ca1\u6709\u4f20\u6570\u636e\uff0c\u5982\u679c\u4e0d\u662f\u4e14\u53d6\u5230\u7684\u503c\u662f\u7a7a\u503c\uff0c\u5219\u4ee3\u8868\u8981\u4fdd\u5b58\u8be5\u7a7a\u503c\u3002\u7531\u4e8e gorm \u4e0d\u80fd\u901a\u8fc7update\u7684\u65b9\u5f0f\u4fdd\u5b58\u7a7a\u503c\uff0c\u6240\u4ee5\u6709\u4e2a\u53d6\u5de7\u7684\u529e\u6cd5\u5c31\u662f\u5c06\u5b57\u6bb5\u5b9a\u4e49\u6210\u6307\u9488\u7c7b\u578b\uff0c\u8fd9\u6837\u524d\u7aef\u6ca1\u4f20\u65f6\u5219\u4e3anil\u4e0d\u4f1a\u66f4\u65b0\uff0c\u524d\u7aef\u4f20\u7a7a\u65f6\u6307\u9488\u6709\u5185\u5bb9\uff0c\u5219\u4f1a\u66f4\u65b0\u3002</li> </ul>"},{"location":"Backend/Database/mysql/#upsert","title":"upsert","text":"<p>\u4e0d\u4f7f\u7528 upsert\uff0c\u4e0d\u597d\u6392\u67e5\u95ee\u9898\u3002\u4e00\u822c\u90fd\u662f\u5148 find \u518d cretae / update \u6253\u4e24\u6761\u65e5\u5fd7\u3002</p>"},{"location":"Backend/Database/mysql/#_14","title":"\u67e5\u8be2","text":"<ul> <li>\u8054\u8868\u67e5\u8be2</li> <li>\u8868\u5927\u7684\u60c5\u51b5\u4e0b\uff0c\u7528 subquery \u6bd4 join \u8981\u66f4\u597d\uff0c\u56e0\u4e3a join \u786e\u5b9e\u4f1a\u9020\u51fa\u4e00\u4e2a\u7b1b\u5361\u5c14\u79ef\uff0c\u4e00\u4e2a\u8d85\u5927\u8868\u3002</li> </ul>"},{"location":"Backend/Database/mysql/#1v1a-v-b","title":"1v1\u7ed1\u5b9a\uff08A v B\uff09","text":"<p>\u5b58\u5728\u4e00\u4e2a\u5bf9\u8c61\u7684\u8868\u4e0a\u5373\u53ef\u3002\u82e5\u5b58\u5728\u5173\u7cfb\u8868\u4e0a\uff0c\u6709\u53ef\u62d3\u5c55\u7684\u4f18\u70b9\u3002</p> <ul> <li> <p>\u4fee\u6539\u5173\u7cfb\uff08\u5305\u62ec\u65b0\u5efa\u5173\u7cfb\uff0c\u6216\u8005\u4fee\u6539\u5173\u7cfb\u4e0a\u9644\u52a0\u7684\u5185\u5bb9\uff09\uff1a</p> </li> <li> <p>\u5168\u9762\u505a\u6cd5\uff1a</p> <ul> <li> <p>B \u6709\u6ca1\u6709\u88ab\u5176\u4ed6 A \u7ed1\u5b9a\uff0c\u82e5\u6709\uff0c\u63d0\u793a\u5df2\u88ab\u7ed1\u5b9a</p> </li> <li> <p>A \u6709\u6ca1\u6709\u7ed1\u5b9a\u5176\u4ed6 B\uff0c\u82e5\u6709\uff0c\u89e3\u7ed1 A \u4e0e\u5176\u4ed6 B</p> </li> <li> <p>A \u6709\u6ca1\u6709\u5df2\u7ed1\u5b9a B\uff0c\u82e5\u6709\uff0c\u8d70 update\uff0c\u5426\u5219\u8d70 create</p> </li> </ul> </li> <li> <p>\u7b80\u5355\u505a\u6cd5\uff1a\u6307\u5b9a ownerId, []dataId\uff0c\u5148 close \u6389\u6240\u6709\u4e0d\u5728 []dataId \u91cc\u7684 ownerId-dataId \u5173\u7cfb\u5bf9\uff0c\u518d\u904d\u5386 []dataIds, \u65b0\u589e\u65b0\u7684\u5173\u7cfb\u3002// \u5373\u6bcf\u4e2a\u5173\u7cfb\u5bf9\u672c\u8eab\u4e0d\u4fee\u6539\uff0c\u57fa\u672c\u662f\u5220\u4e86\u518d\u65b0\u5efa</p> </li> </ul>"},{"location":"Backend/Database/mysql/#1va-v-bs","title":"1v\u591a\u7ed1\u5b9a\uff08A v Bs\uff09","text":"<ul> <li>\u4f7f\u7528\u4e2d\u95f4\u8868\uff1a\u4e0e1v1\u8868\u73b0\u5dee\u4e0d\u591a\u3002\u9664\u4e86\u540e\u7aef\u4e0d\u7528\u8d70\u7b2c2\u6b65\uff0cA \u53ef\u4ee5\u7ed1\u5b9a\u5176\u4ed6 B</li> <li>\u5728 B \u4e0a\u663e\u6027\u7684\u5b58\u4e00\u4e2a A \u5b57\u6bb5\uff1a\u65b9\u4fbf\u5f88\u591a\uff0c\u53ef\u4ee5\u76f4\u63a5\u6539 B \u4e0a\u7684 A \u503c\u3002\u4e0d\u7528\u53bb\u5173\u7cfb\u8868\u91cc delete\u3001create     \u6216\u8005 update\u3002\u4f46\u8981\u6ce8\u610f\uff0c\u5220\u9664\u67d0 A \u5b57\u6bb5\u65f6\uff0c\u8981\u53bb B \u91cc\u91cd\u7f6e\u5173\u8054\u4e0a A \u7684 B\u3002</li> </ul>"},{"location":"Backend/Database/mysql/#raw","title":"raw \u67e5\u8be2\u5b9a\u5f0f","text":""},{"location":"Backend/Database/mysql/#outer-join","title":"outer join","text":"<p>\u539f\u6765 mysql \u6ca1\u6709 outer join \u6216 full outer join, \u8981\u9760 left join union right join!!</p> <p>\u543c\u543c \u5199\u4e86\u4e00\u4e2a\u5f88\u5389\u5bb3\u7684\u67e5\u7ed3\u679c sql\uff01\u6c47\u96c6\u6211\u4e0d\u592a\u719f\u6089\u7684 distinct\u3001group by unix \u65f6\u95f4\u6233\u3001\u5c06\u6570\u636e\u6c47\u603b\uff01</p> <pre><code># \u65b0\u589e\u7528\u6237\u6570\n    select tableA.month as '\u6708\u4efd', new_user_count as '\u65b0\u589e\u7528\u6237\u6570', login_counts as '\u767b\u5f55\u6b21\u6570', login_counts_distinct as '\u767b\u5f55\u7528\u6237\u6570' from (\n                select id, count(id) as new_user_count, \n      -- \u6ce8\u610f FROM_UNIXTIME(\u65f6\u95f4\u6233\uff09 =&gt; \u65f6\u95f4\u683c\u5f0f\uff0c\u4ee5\u53ca\u7cbe\u786e\u5230\u6309\u65f6\u6309\u5206\u4e5f\u662f\u7528 DATE_FORMAT \u8fd9\u4e2a\u51fd\u6570\n      DATE_FORMAT(FROM_UNIXTIME(create_at), '%m-%Y') as month from users \n                where\n                id in (select user_id from room_members) and\n                create_at &gt;= 1640966400 \n                GROUP BY MONTH(FROM_UNIXTIME(create_at)), YEAR(FROM_UNIXTIME(create_at))\n        ) as tableA\n    left join\n    # \u767b\u5f55\u6b21\u6570\n        (\n            select count(operation_records.desc) as login_counts, DATE_FORMAT(FROM_UNIXTIME(create_at), '%m-%Y') as month from operation_records\n            where\n            operation_records.desc like \"%\u767b\u5f55\" and\n            create_at &gt;= 1640966400 \n            GROUP BY MONTH(FROM_UNIXTIME(create_at)), YEAR(FROM_UNIXTIME(create_at))\n        ) as tableB\n    on tableA.month = tableB.month\n    # \u767b\u5f55\u7528\u6237\u6570\uff08\u6b21\u6570\u53bb\u91cd\uff09\n    left join\n    (\n            select count(distinct operation_records.desc) as login_counts_distinct, DATE_FORMAT(FROM_UNIXTIME(create_at), '%m-%Y') as month from operation_records\n            where\n            operation_records.desc like \"%\u767b\u5f55\" and\n            create_at &gt;= 1640966400 \n            GROUP BY MONTH(FROM_UNIXTIME(create_at)), YEAR(FROM_UNIXTIME(create_at))\n        ) as tableC\n    on tableA.month = tableC.month\n    order by tableA.month desc\n</code></pre> <pre><code># \u67e5\u770b\u4e00\u5f20\u8868\u91cc\u6709\u800c\u53e6\u4e00\u5f20\u8868\u91cc\u65e0\u7684\u6570\u636e\uff0c\u5f80\u5f80\u90fd\u53ef\u4ee5\u7528 join \u6216\u8005 \u5b50\u67e5\u8be2\nselect xx from A left join B where A.a = B.b where A.a is not null\nselect xx from A wehre A.a not in (select B.b from B)\n\n# Group\u4e0ecount\nselect activity_date as day, count(distinct user_id) as active_users\nfrom activity\ngroup by activity_date\n\n# \u67e5\u770b\u6700\u5927\u503c/\u4e2a\u6570\u7684\u6570\u636e\n# \u53ef\u4ee5\u4e0d\u7528 max\uff0c\u800c\u7528 order by + limit 1\n</code></pre> <p>\u5199\u4e86\u4e00\u4e2a\u4fee\u6b63\u6570\u636e\u7684 mysql! \u5176\u4e2d\u6700\u5916\u5c42\u7684 join, \u662f update the values of one column based on the results of another query \u7684\u901a\u7528\u505a\u6cd5\u3002</p> <pre><code>update data_belong_relations as table0\njoin (\n    select data_belong_relations.owner_id, data_belong_relations.data_id, employee_task_points.id, employee_task_plans.name\n    from employee_task_plans \n    LEFT JOIN data_belong_relations on employee_task_plans.id = data_belong_relations.owner_id\n    left join employee_task_points on employee_task_plans.name = employee_task_points.name\n    WHERE\n    employee_task_plans.task_type = 2 and employee_task_plans.proj_id = \"524e66b6b2aa4d67b3513bb879e33e6d\"\n    and data_belong_relations.type = 3332\n    and employee_task_points.proj_id = \"524e66b6b2aa4d67b3513bb879e33e6d\" and employee_task_points.task_type = 2\n    ) as table1 \non table0.data_id = table1.data_id\nset table0.data_id = table1.id\n</code></pre>"},{"location":"Backend/Database/redis/","title":"redis","text":""},{"location":"Backend/Database/redis/#_1","title":"\u5b89\u88c5\u76f8\u5173","text":"<p>\u786e\u8ba4\u662f\u5426\u5b89\u88c5\uff1a</p> <ul> <li>which redis-cli </li> <li>which redis-server</li> </ul> <p>\u8fde\u63a5\uff1aredis-cli -p [port] -a [password]</p> <p>\u786e\u8ba4\u67d0\u4e2a key \u662f\u5426\u5b58\u5728: KEYS KEY_NAME_*</p> <p>\u5220\u9664 key: DEL key KEY_NAME</p>"},{"location":"Backend/Database/%E8%B5%84%E6%BA%90%E6%B1%87%E6%80%BB/","title":"\u8d44\u6e90\u6c47\u603b","text":"<p>CMU 15-445/645 https://15445.courses.cs.cmu.edu/fall2021/schedule.html</p> <p>CS 186 https://cs186berkeley.net/</p> <p>\u4e2d\u6587\uff1a</p> <p>https://pdai.tech/md/db/sql/sql-db.html</p> <p>https://www.notedeep.com/page/327</p> <p>\u6211\u73b0\u5728\u5927\u81f4\u77e5\u9053\u7684\u4ec0\u4e48\uff1a</p> <p>\u80cc\u540e\u662f b+ \u6811..\u7d22\u5f15\u548c b+ \u6811\u5bf9\u5e94\u7684 key \u6709\u5173\uff0c\u4e0e\u6548\u7387\u6709\u5173 =&gt; \u6211\u5bf9 b+ \u6811\u8fd8\u4e0d\u592a\u719f\u6089\uff0c\u53ef\u4ee5\u8865\u5145\u8fd9\u65b9\u9762\u7684\u7b97\u6cd5\u77e5\u8bc6\uff08all about trees</p> <p>mysql \u6709\u51e0\u5927\u6a21\u5757 \u4ec0\u4e48\u8fde\u63a5\u5668 \u5904\u7406\u5668\u4e4b\u7c7b\u7684</p> <p>\u4e8b\u7269\u9694\u79bb\u6709 \u4e0d\u53ef\u91cd\u590d\u5ea6\uff08\u8bfb\u63d0\u4ea4\uff09 rc \u53ef\u91cd\u590d\u8bfb rr..</p> <p>select, update..\u4f46\u662f\u4e00\u65e6\u6d89\u53ca\u8054\u8868\u64cd\u4f5c\u5c31\u5f88\u6655</p> <p>What I want to learn from them:</p> <ul> <li> <p>\u6570\u636e\u5e93\u539f\u7406\u4e0e\u6846\u67b6\u5b9e\u73b0\uff1amysql \u80cc\u540e\u505a\u4e86\u4ec0\u4e48 \u6bd4\u5982     join \u4e0e subquery \u7684\u6267\u884c\u6548\u7387</p> </li> <li> <p>\u5e94\u7528\u4e0e\u5b9e\u8df5\uff1a</p> </li> <li> <ul> <li>\u5982\u4f55\u8bbe\u8ba1\u5408\u7406\u7684\u8868\u903b\u8f91\u3001\u5982\u4f55\u5199\u9ad8\u6548\u7684\u5b58\u53d6\u4ee3\u7801</li> </ul> </li> <li>\u77e5\u9053\u4f7f\u7528 profiler      \u8c03\u8bd5\u548c\u67e5\u770b\u5f00\u53d1\u6548\u7387</li> </ul> <p>\u3010Readings\u3011</p> <p>\u5173\u4e8emysql limit offset\u7684\u4e00\u70b9\u4f18\u5316 - \u4e91+\u793e\u533a - \u817e\u8baf\u4e91: https://cloud.tencent.com/developer/article/1705974</p> <p>\u3010MySQL\u3011InnoDB\u884c\u683c\u5f0f\u3001\u6570\u636e\u9875\u7ed3\u6784\u4ee5\u53ca\u7d22\u5f15\u5e95\u5c42\u539f\u7406\u5206\u6790_\u725b\u5ba2\u535a\u5ba2: https://blog.nowcoder.net/n/15c92020835d4efcb4b18d61ddfd3399</p> <p>MySQL\u7cfb\u5217\u4e13\u680f - bojiangzhou\u7684\u4e13\u680f - \u6398\u91d1: https://juejin.cn/column/6960552483013787684</p>"},{"location":"Backend/DevOps/docker/","title":"docker","text":"<p>A container creation and management tool.</p> <ul> <li>Ensure the consistency of  production enviroment and development enviroment.</li> <li>Ensure the consistency of different development enviroments.</li> </ul> <p>Compare to Virtual OS: the latter consumes too much redundant resources.</p> <p>\u5bb9\u5668\u5316 vs \u865a\u62df\u5316\uff1a</p> <ul> <li> <p>(HyperKit\u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u865a\u62df\u5316\u65b9\u6cd5)</p> </li> <li> <p>Docker Engine</p> </li> <li>Docker Desktop(CLI)</li> <li>Docker Hub</li> </ul>"},{"location":"Backend/DevOps/docker/#_1","title":"\u914d\u7f6e","text":"<p>\u56fd\u5185\u7684 Docker Hub \u955c\u50cf\u52a0\u901f\u5668\uff0c\u7531\u56fd\u5185\u6559\u80b2\u673a\u6784\u4e0e\u5404\u5927\u4e91\u670d\u52a1\u5546\u63d0\u4f9b\u7684\u955c\u50cf\u52a0\u901f\u670d\u52a1 | Dockerized \u5b9e\u8df5 https://github.com/y0ngb1n/dockerized</p>"},{"location":"Backend/DevOps/docker/#images-containers","title":"Images &amp; Containers","text":"<p>Images: Templates/Blueprints for containers</p> <p>is automatically exposed to us by container..we're not expoing any port here</p> <p>docker run -it node</p> <ul> <li>Dockerfile</li> </ul> <pre><code>FROM node # base image\nWORKDIR /app\nCOPY . /app # orginal folder, dest folder; or \"./\" relative to WORKDIR\nRUN npm install\nEXPOSE 3000\nCMD [\"node\", \"server.js\"] # CMD executes after the container is created based on this image, always the last line\n</code></pre> <ul> <li>Layer based architecture: Dockerfile \u91cc\u7684every instruction \u90fd\u53ef\u4ee5\u89c6\u4e3a\u4e00\u4e2a read-only layer, \u6700\u540e\u8fd0\u884c\u7684\u65f6\u5019\uff0c\u4f1a\u518d\u52a0\u4e00\u5c42 Container Layer(read-write) \u6240\u4ee5\u4f1a\u6709\u591a\u4e2acontainer, \u4f46\u53ea\u6709\u4e00\u4e2aimage\u5185\u7684\u4ee3\u7801\uff0c\u4e0d\u4f1a\u590d\u5236\u591a\u6b21\u7684\u3002</li> </ul> <p>\u53e6\u5916\uff0c\u5236\u4f5cimage \u7684 layer \u53ef\u4ee5\u7f13\u5b58\uff0c\u6240\u4ee5\u8bb0\u4f4f\u5bb9\u6613\u53d1\u751f\u66f4\u6539\u7684\u6307\u4ee4\u8981\u653e\u540e\u9762\uff0c\u4e00\u4e2a\u5c0f\u5c0f\u7684\u4f18\u5316\u70b9\u3002</p> <ul> <li>docker build . (. \u6307\u76f8\u5bf9\u4e8e Dockerfile \u7684\u5b9a\u4f4d) -t vikki77/name:tag (\u6ce8\u610f\uff0c\u597d\u4e60\u60ef\u4e00\u5b9a\u8981\u6253\u6807)</li> <li>docker tag kub-first-app vikki77/kub-first-app // add tag afterwards</li> <li>docker push vikki77/kub-first-app</li> <li>docker run -p localPort:targetPort docker_id</li> <li>docker stop docker_name</li> </ul> <p>Docker Run</p> <ul> <li>docker run -p 3000:3000 -v \"$(pwd)/ss:/files/ss\" -d imageName // Detach mode</li> <li>docker attach container-id</li> <li>docker start -a container-id</li> <li>-i(interative) -t(pseudo-tty)</li> <li>--rm // \u9000\u51facontainer \u540e\u81ea\u52a8\u6e05\u7406\u6587\u4ef6\u7cfb\u7edf</li> <li>docker exec -it ... ... <code>&lt;container id&gt;</code> /bin/bash</li> <li>docker exec -it <code>&lt;container id&gt;</code> /bin/sh</li> <li>docker inspect <code>&lt;container id&gt;</code></li> </ul> <p>Docker ps</p> <ul> <li>--filter \"name=registry\" --filter \"ancestor=registry\" // from image \u662f\u4ec0\u4e48</li> </ul> <p>Docker rm</p> <ul> <li>docker rm container</li> <li>docker rmi image</li> <li>docker image prune // unused/tangling\u60ac\u7a7a images</li> </ul> <p>Pretty error-prone.</p> <p>Its not sth. we will use very often in ..., but still a sth. you should be aware of.</p> <p>docker cp: copy some logs to local host machine. <code>docker cp foo.txt container_id:/foo.txt</code></p> <p>Docker logs - docker logs -f --until=2s --tail=20 nginx (-f \u4ee3\u8868 --follow) - \u52a0\u4e0a grep:  docker logs -f --until=2s --tail=20 nginx 2&gt;&amp;1 | grep \"127.\"</p>"},{"location":"Backend/DevOps/docker/#data","title":"data","text":"<ul> <li> <p>Managed by Docker</p> </li> <li> <p>in dockerfile:\\anoymous Volumes, attached to one container, gone when one contained shut down -v thePathToBeMaintained</p> </li> <li> <p>Named Volumnes: data shared by containers, wont be deleted, -v name:thePathToBeMaintained</p> </li> <li> <p>Managed by host</p> </li> <li>bind mounts: editing &amp; persistent data, -v absolutePath:thePathToBeMaintained</li> </ul> <p>Eh..\u6709\u4e00\u4e2a\u5c31\u662f include + exclude \u7684\u60c5\u51b5 e.g -v \"$(pwd):/app\" -v /app/node_modules\uff0c\u8fd9\u6837\u540e\u8005\u91cc\u7684node_modules \u5c31\u4e0d\u4f1a\u88ab\u8986\u76d6\uff08\u4e0d\u8fc7\u76f4\u63a5\u5728 .dockerignore \u91cc\u5199\u5c31\u597d\u4e86\u5440</p> <p>p.s. \u6211\u7528 minikube \u505a docker-daemon, bind mount \u7684 volumn \u672a\u7ed1\u5b9a\u4e0a\uff0c\u662f\u4e2a bug, \u53c2\u8003 https://gist.github.com/gitjonez/eac3cf6d3a963e5077875dcf0e7e73ee</p>"},{"location":"Backend/DevOps/docker/#others","title":"others","text":"<ul> <li>ENV vairable: ENV PORT 80 \\n EXPOSE  $PORT \uff1b\u4f7f\u7528\uff1a-e PORT=3000 \u6216 --env-file env</li> <li>build-time arguments: ARG DEFAULT_PORT=80\uff1b\u4f7f\u7528 docker build xx --build-arg DEFAULT_PORT=8000</li> </ul>"},{"location":"Backend/DevOps/docker/#networks","title":"networks","text":"<ul> <li>container vs host machine: localhost:27017 =&gt; host.docker.internal:27017</li> </ul> <p>Docker \u5b9e\u9645\u4e0a\u5de5\u4f5c\u5728\u53e6\u4e00\u7f51\u6bb5\uff1f\u901a\u8fc7 docker inspect xxcontainer \u53ef\u4ee5\u770b\u5230 ip</p> <ul> <li>container vs container: docker network create netname; docker run ... --network netname; and use containername:port</li> </ul> <p>\u6ce8\u610f\u524d\u7aef\u8bf7\u6c42\u540e\u7aef\u53ea\u80fd\u7528 \u540e\u7aef\u670d\u52a1\u66b4\u9732\u51fa\u7aef\u53e3 \u7684\u6a21\u5f0f\u54e6\u3002</p>"},{"location":"Backend/DevOps/docker/#utility-containers","title":"utility containers","text":"<p>Running Commands in Containers</p> <ul> <li>docker run -it node</li> <li>docker run -it -d node; docker exec containerName npm init;</li> <li>docker run -it node npm init</li> </ul> <p>ENTRYPOINT [\"npm\"] will append after this entrypoint</p>"},{"location":"Backend/DevOps/docker/#docker-compose","title":"docker-compose","text":"<ul> <li>docker-compose up [-d] (--build) // detach, force build</li> <li>Docker-compose down [-v] // \u662f\u5426\u8981 remove volumes</li> </ul> <pre><code>version: \"3.8\"\nservices:\n  mongodb:\n    image: 'mongo'\n    volumes: \n      - data:/data/db\n    # environment: \n    #   MONGO_INITDB_ROOT_USERNAME: max\n    #   MONGO_INITDB_ROOT_PASSWORD: secret\n      # - MONGO_INITDB_ROOT_USERNAME=max\n    env_file: \n      - ./env/mongo.env\n    container_name: mongodb\n  backend:\n    build: ./backend\n    # build:\n    #   context: ./backend\n    #   dockerfile: Dockerfile\n    #   args:\n    #     some-arg: 1\n    ports:\n      - '80:80'\n    volumes: \n      - logs:/app/logs\n      - ./backend:/app\n      - /app/node_modules\n    env_file: \n      - ./env/backend.env\n    depends_on:\n      - mongodb\n  frontend:\n    build: ./frontend\n    ports: \n      - '3000:3000'\n    volumes: \n      - ./frontend/src:/app/src\n    stdin_open: true\n    tty: true\n    depends_on: \n      - backend\n\nvolumes: \n  data:\n  logs:\n</code></pre>"},{"location":"Backend/DevOps/docker/#_2","title":"\u5b89\u88c5\u76f8\u5173","text":"<p>On Mac, <code>brew install docker</code>: cannot-connect-to-the-docker-daemon-on-macos</p> <p>macOS the <code>docker</code> binary is only a client and you cannot use it to run the docker daemon, because Docker daemon uses Linux-specific kernel features, therefore you can\u2019t run Docker natively in OS X. So you have to install <code>docker-machine</code> in order to create VM and attach to it.</p>"},{"location":"Backend/DevOps/docker/#difference-between-docker-desktop-and-docker","title":"Difference between Docker Desktop and Docker","text":"<p>Docker Desktop = a virtual machine with a Docker CE (Docker Community Edition) daemon + gui + run a single-node kubernetes \"cluster\" easily</p> <p>Docker Engine is an open source containerization technology for building and containerizing your applications. Docker Engine acts as a client-server application with:</p> <ul> <li>A server with a long-running daemon process <code>dockerd</code> 23.</li> <li>APIs which specify interfaces that programs can use to talk to and instruct the Docker daemon.</li> <li>A command line interface (CLI) client <code>docker</code> 15.</li> </ul> <p>\u4f7f\u7528 brew \u5b89\u88c5\u65f6\u8981\u6ce8\u610f\uff0c<code>brew install docker</code>\u53ea\u5b89\u88c5\u4e86client\uff0c\u4f46\u662f<code>brew install --cask docker; open /Applications/Docker.app</code>\u4f1a\u5b89\u88c5\u6574\u4e2a desktop.</p>"},{"location":"Backend/DevOps/docker/#_3","title":"\u539f\u7406\u76f8\u5173","text":"<p>docker \u5982\u4f55\u5224\u65ad\u5bb9\u5668\u5185\u670d\u52a1\u6b63\u5e38\u8fd0\u884c\u4e2d\uff1f\u4e4b\u524d\u5c31\u770b\u5bb9\u5668\u5185\u4e3b\u8fdb\u7a0b\u662f\u5426\u5df2\u9000\u51fa\uff0c\u82e5\u51fa\u73b0\u4e3b\u8fdb\u7a0b\u5361\u4f4f\u7684\u60c5\u51b5\uff0c\u8fd8\u53ef\u6307\u5b9a HEALTHCHECK \u6307\u4ee4\u83b7\u53d6\u8fd4\u56de\u503c</p>"},{"location":"Backend/DevOps/docker/#_4","title":"\u5b9e\u8df5","text":"<ul> <li>node \u6700\u4f73\u5b9e\u8df5\uff1aBretFisher/node-docker-good-defaults: sample node app for Docker examples</li> </ul>"},{"location":"Backend/DevOps/docker/#registry","title":"registry","text":"<p>Docker Registry | Docker Documentation \u5df2 move \u5230\u8fd9\u91cc \u57fa\u4e8eDocker\u642d\u5efa\u79c1\u6709\u955c\u50cf\u4ed3\u5e93 - \u817e\u8baf\u4e91\u5f00\u53d1\u8005\u793e\u533a-\u817e\u8baf\u4e91 \u7528\u6237\u8d26\u5bc6\u3001\u4f7f\u7528 ip \u65f6\u7684 insecure-registries \u9700\u8981\u6ce8\u610f\u3002</p> <p>\u6240\u6709api: - \u955c\u50cf\u5217\u8868: https://hub.lmhdev.com/v2/_catalog - tagList:     - <code>curl 172.24.137.212:5000/v2/ztlydev/byteox-message/tags/list</code>     - curl http://10.0.1.48:5000/v2/ztlydev/byteox-house/tags/list</p>"},{"location":"Backend/DevOps/docker/#golang","title":"golang \u5b9e\u8df5","text":"<ul> <li>\u591a\u9636\u6bb5</li> <li>\u955c\u50cf\u57fa\u5e95\u6ce8\u610f\u9009\u62e9 alpine (scartch\u592a\u539f\u59cb\u4e86)\uff0c\u4f46\u662f\u4f7f\u7528 alphine, \u4e5f\u6709\u90e8\u5206\u9700\u8981\u989d\u5916\u8bbe\u7f6e\u7684\u5730\u65b9\uff0c\u6bd4\u5982\u65f6\u533a</li> </ul> <p>\u6784\u5efa Golang \u5e94\u7528\u6700\u5c0f Docker \u955c\u50cf - \u6398\u91d1</p> <p>\u5982\u4f55\u6784\u5efa Go \u5e94\u7528\u7684 Docker \u955c\u50cf - \u6398\u91d1</p> <p>\u4e0d\u8981\u8f7b\u6613\u4f7f\u7528 Alpine \u955c\u50cf\u6765\u6784\u5efa Docker \u955c\u50cf\uff0c\u6709\u5751\uff01 - \u817e\u8baf\u4e91\u5f00\u53d1\u8005\u793e\u533a-\u817e\u8baf\u4e91</p> <p>docker container stop registry &amp;&amp; docker container rm -v registry</p> <pre><code>docker run -d \\\n  -p 5000:5000 \\\n  --restart=always \\\n  --name registry \\\n  registry:2\n</code></pre> <p>logs: /logs/lmh_api_test</p> <p>\u6587\u4ef6: /opt/project/lmh_api_test</p> <p>\u8981\u5f80\u5916\u83b7\u53d6\u7684\u7f51\u7edc\uff1a</p> <ul> <li>port 8848 utils.InitNanos(conf.ConfigServer.IPAddr, uint64(conf.ConfigServer.Port)</li> <li>Mysql, redis 127.0.0.1 \u8981\u6539\u6210\u672c\u673a ip</li> </ul> <p>\u8981\u5f80\u5916\u66b4\u9732\u7684\u7f51\u7edc\uff1a</p> <ul> <li>8080 -&gt; \u5f00\u542f\u7684 port \u90fd\u7edf\u4e00\u6210 8080</li> </ul> <p>\u65e5\u5fd7\u521d\u59cb\u5316\u670d\u52a1\u9700\u8981\u91cd\u65b0\u914d\u7f6e</p> <p>docker build -t lmh_api_server .</p> <p>docker run -p 8090:8080 -v \"/logs/lmh_api_test:/logs\" -v \"/opt/project/lmh_api_test/cmd:/cmd\"  --add-host=host.docker.internal:host-gateway lmh_api_server:latest</p> <pre><code>docker run -d \\\n  -p 5000:5000 \\\n  --restart=always \\\n  --name registry \\\n  -v  /auth:/auth \\\n  -e \"REGISTRY_AUTH=htpasswd\" \\\n  -e \"REGISTRY_AUTH_HTPASSWD_REALM=Registry Realm\" \\\n  -e REGISTRY_AUTH_HTPASSWD_PATH=/auth/htpasswd \\\n  registry:2\n</code></pre> <p>docker login:</p> <pre><code>docker login --username=testuser --password=****** hub.lmhdev.com\n</code></pre> <p>push image:</p> <pre><code>docker tag 518a41981a6a hub.lmhdev.com/myPrivateImage &amp;&amp; docker push hub.lmhdev.com/myPrivateImage\n</code></pre> <p>\u6267\u884c test:</p> <pre><code>docker login --username=testuser --password=testpassword hub.lmhdev.com\ndocker pull hub.lmhdev.com/lmh_api_test:latest\ndocker stop lmh_api_test\ndocker rm lmh_api_test\ndocker run -d \\\n    -p 8090:8080 \\\n    -v \"/logs/lmh_api_test:/logs\" \\\n    -v \"/opt/project/lmh_api_test/cmd:/cmd\" \\\n    --add-host=host.docker.internal:host-gateway \\\n    --name lmh_api_test \\\n    hub.lmhdev.com/lmh_api_test:latest\n</code></pre>"},{"location":"Backend/DevOps/docker/#_5","title":"\u6e05\u7406","text":""},{"location":"Backend/DevOps/docker/#docker_1","title":"\u79fb\u9664\u65e0\u7528(\u60ac\u7a7a)\u7684 docker \u955c\u50cf","text":"<ul> <li><code>docker rmi $(docker images --filter \"dangling=true\" -q --no-trunc)</code></li> <li><code>docker image prune</code></li> </ul>"},{"location":"Backend/DevOps/docker/#registry-image-from-file-system","title":"\u79fb\u9664 registry image From file system","text":"<p>\u51fa\u73b0\u60c5\u51b5\uff1a\u5728 /lib/docker/volumes/registry\u7684volumes_id/data/blob \u4e0b\u5360\u7528 22G\uff0c\u4f46\u5b9e\u9645\u5b58\u6709\u7684 image list \u53ea\u6709 1G \u5de6\u53f3\u3002\u5197\u4f59\u7684\u5386\u53f2\u955c\u50cf\uff0c\u5305\u62ec\u6ca1\u6709 tag \u7684\u955c\u50cf\uff0c\u90fd\u9700\u8981\u624b\u52a8\u6e05\u9664\u3002</p> <p>A\u00a0tag\u00a0is composed of several\u00a0layers. The list of the layers for that particular digest is called a\u00a0manifest. There is a corresponding\u00a0blob\u00a0for each layer. There can also be layers which are not used by any of the tags \u2014 those are called\u00a0abandoned\u00a0or\u00a0unused\u00a0layers. Those corresponding blobs are also unused. We can delete them to gain some space on the disk.</p> <p></p> <p>\u53ef\u5728 registry \u5bb9\u5668\u5185 run the garbage collector: <code>$ docker exec registry bin/registry garbage-collect --delete-untagged /etc/docker/registry/config.yml</code> Ref: How to maintain a Private Docker Registry? | by Janeth Fernando | Medium</p>"},{"location":"Backend/DevOps/k8s-install/","title":"k8s-install","text":"<ul> <li>Kubectl: commndline tool</li> <li>kubelet</li> <li>Kubeam: help set up a cluster</li> </ul>"},{"location":"Backend/DevOps/k8s-install/#control-plane-components","title":"Control Plane Components","text":"<p>Master control-plane node: the machine where the control plane components run, including etcd (the cluster database) and the API Server (which the kubectl command line tool communicates with).</p> <ul> <li>Kube-apiserver: The API server is the front end for the Kubernetes control plane.</li> </ul> <p>The main implementation of a Kubernetes API server is kube-apiserver.</p> <ul> <li> <p>kube-scheduler</p> </li> <li> <p>kube-controller-manager</p> </li> <li> <p>etcd</p> </li> <li> <p>Coredns</p> </li> </ul> <p>Node components: Node components run on every node, maintaining running pods and providing the Kubernetes runtime environment.</p> <ul> <li>Kubelet: control containers in a pod.</li> <li>Kube-proxy: control service, network</li> <li>container runtime</li> </ul> <p>\u5b89\u88c5\u6b65\u9aa4\u53c2\u8003\uff1a</p> <p>https://www.hyhblog.cn/2021/02/17/deployment-manual-k8s-for-newbee/</p> <p>https://blog.csdn.net/ACE_GJH/article/details/116173822</p> <p>\u5355\u673a\u9700\u8981\u7279\u522b\u5141\u8bb8 master \u8282\u70b9\u4e5f\u53ef\u4ee5\u8c03\u5ea6 node</p> <pre><code>kubectl taint nodes --all node-role.kubernetes.io/master-\n</code></pre>"},{"location":"Backend/DevOps/k8s/","title":"k8s","text":"<p>Its like Docker-Compose for multiple machines.</p> <p>It's an open-source project. It's just a collection of concepts and a collection of software you could say, which together can be used with any cloud provider.</p> <ul> <li>Pod(Container+required resources like volumes) // \u6211\u6700\u559c\u6b22\u7684\u53ef\u4ee5\u81ea\u52a8\u91cd\u542f Container \u54e6\uff01</li> <li>Proxy / Config</li> <li>Master Node: Has a scheduler, which is responsible for distributing the Pods across worker Nodes</li> <li>Worker Node: runs the containers of your application. \"Node\" are your machines / virtual instances.</li> </ul> <p></p> <ul> <li>Cluster: A set of Node machines which are running of the Containerized Application(Worker Nodes) or control other Nodes(Master Node).</li> <li>Objects</li> <li>Service: Exposes Pods to the Cluster or Externally<ul> <li>Pod have an dynamic internal IP by default</li> <li>Services group Pods with a shared IP</li> <li>Services can allow external access to Pods</li> </ul> </li> </ul>"},{"location":"Backend/DevOps/k8s/#commands","title":"commands","text":"<ul> <li> <p>\u67e5\u770b node \u8282\u70b9\u60c5\u51b5\uff1akubectl describe node</p> </li> <li> <p>kubectl cluster-info</p> </li> <li> <p>\u67e5\u770b\u914d\u7f6e\u6587\u4ef6\uff1aKUBECONFIG</p> </li> <li>\u67e5\u770b config: <code>kubectl config view</code></li> <li>kubectl config get-contexts</li> <li>kubectl config current-context                       # display the current-context</li> <li>kubectl config use-context my-cluster-name</li> <li>\u67e5\u770b\u96c6\u7fa4\u4e2d\u7684\u8282\u70b9: <code>kubectl get nodes</code></li> <li>kubectl create deployment first-app --image=kub-first-app (command is running in a virtual machine)</li> <li>kubectl delete deployment first-app</li> <li>\u5217\u51fa\u4f60\u7684 Deployment: <code>kubectl get deployments</code></li> <li>\u67e5\u770b pod: <code>kubectl get pods</code></li> <li>\u67e5\u770b\u8be5 pod \u4e0b\u7684\u5185\u5bb9\uff1a<ul> <li><code>kubectl describe pods $podName</code></li> <li>\u8fd8\u53ef\u4ee5\u901a\u8fc7\u6807\u7b7e\uff1a<code>kubectl get pods -l app=byteox-message</code></li> </ul> </li> <li>\u67e5\u770b\u5bb9\u5668\u65e5\u5fd7\uff1a<code>kubectl logs $podName $containerName</code></li> <li>\u5728\u5bb9\u5668\u4e0a\u6267\u884c\u547d\u4ee4\uff1a<code>kubectl exec byteox-users-deployment-5b5fd44f4f-9k7xp --container byteox-users  -it -- /bin/bash</code></li> <li>\u67e5\u770b configMap: <ul> <li>\u5217\u8868\uff1a<code>kubectl get configmaps</code></li> <li><code>kubectl describe configmap/byteox-message-filebeat-config</code> == Imperative approach</li> </ul> </li> </ul> <p>=== service</p> <ul> <li>kubectl expose deployment first-app --type=LoadBalancer --port=8080</li> <li>ClusterIP(default): Only reachable internally</li> <li>NodePort</li> <li> <p>LoadBalancer: Note that needs platform support, like on AWS or Minikube</p> </li> <li> <p>kubectl get services</p> </li> <li>minikube service --url first-app</li> <li>kubectl delete service first-app // \u4e00\u822c\u5148 delete service, \u518d delete deployment</li> </ul> <p>=== scaling</p> <ul> <li>kubectl scale deployment/first-app --replicas=3</li> </ul> <p>=== updating</p> <ul> <li>docker build -t vikki77/kub-first-app:2 .</li> <li>docker push vikki77/kub-first-app:2</li> <li>kubectl set image deployment/first-app kub-first-app=vikki77/kub-first-app:2</li> <li>kubectl rollout status deployment/first-app // \u67e5\u770b\u521a\u521a\u7684\u7248\u672c\u66f4\u65b0\u6709\u65e0\u6210\u529f old pod will not be shut down until the new pod is ready</li> </ul> <p>=== undo</p> <ul> <li>kubectl rollout history deployment/first-app</li> <li>kubectl rollout history deployment/first-app --revision=2</li> <li>kubectl rollout undo deployment/first-app --to-revision=2</li> </ul>"},{"location":"Backend/DevOps/k8s/#declarative-resource-file","title":"Declarative resource file","text":"<p>kubectl apply -f config.yaml</p> <p>\u5982\u679c\u6709\u95ee\u9898\uff0c\u901a\u8fc7 kubectl decribe pod xx \u548c kubectl descirbe service xx \u8fdb\u884c\u6392\u67e5</p>"},{"location":"Backend/DevOps/k8s/#deployment","title":"deployment","text":"<p>https://kubernetes.io/docs/concepts/workloads/controllers/deployment/</p> <p>https://kubernetes.io/docs/reference/kubernetes-api/workload-resources/deployment-v1/</p> <pre><code>---\n# service.yaml better be created first\napiVersion: v1\nkind: Service\nmetadata:\n  name: backend\nspec:\n  selector: \n    app: myapp\n  ports:\n    - protocol: 'TCP'\n      port: 80 # outside\n      targetPort: 8080 # in the container\n  type: LoadBalancer # \u9ed8\u8ba4\u662f internal \u6240\u4ee5\u8981\u8bb0\u5f97\u5b9a\u4e49\u54e6\n---\n# deployment.yaml\napiVersion: apps/v1\nkind: Deployment # k8s object\nmetadata:\n  name: first-app\nspec: # sepcification of the deployment\n  replicas: 1\n  selector:\n    matchLabels:\n      app: myapp\n    # matchExpressions:\n    # - {key: app, operator: NotIn, values: [a, b]}\n  template: # object\n    metadata:\n      # kind: Pod # can be omitted\n      labels: # image\n        app: myapp # kv\n    spec: # sepecification of the pod\n      containers: \n        - name: second-container\n          image: vikki77/kub-first-app:2\n          # liveness Probes..\n          env: # process env\n            - name: STORY_FOLDER\n              value: story\n            - name: STORY_FOLDER1 # \u8fd9\u4e48\u5168\u9762\u53c8\u590d\u6742\u7684\u8bbe\u7f6e\u65b9\u5f0f \u6211\u8868\u793a\u6709\u70b9\u4f69\u670d\n              valueFrom:\n               configMapKeyRef: # \u89c1 configMap\n                name: data-store-env\n                key: story\n\n</code></pre> <p>kubectl delete -f=xxx.yaml -f=xxx.yaml</p> <p>kubectl delete deployments,services -l key=value // delete by label</p>"},{"location":"Backend/DevOps/k8s/#datastate","title":"data/state","text":""},{"location":"Backend/DevOps/k8s/#volume","title":"volume","text":"<ul> <li>emptyDir\uff1a pod specific.\u6bcf\u4e2a pod \u5185\u90e8\uff0c\u9002\u7528\u4e8e 1 replica \u7684\u60c5\u51b5</li> </ul> <p><code>yaml   ...      containers:           - name: story             image: vikki77/kub-data-demo:v2             volumeMounts:               - mountPath: /app/story                 name: story-volume         volumes:           - name: story-volume             emptyDir: {}</code></p> <ul> <li>hostPath</li> </ul> <p><code>yaml   - name: story-volume    hostPath:     path: /data     type: DirectoryOrCreate</code></p> <ul> <li>CSI: ContainerStorageInterface for different storage provider</li> </ul>"},{"location":"Backend/DevOps/k8s/#persistent-volume","title":"persistent volume","text":"<p>\u771f\u7684\u597d\u9ebb\u70e6\u54e6\uff01\uff01</p> <pre><code># deployment\nvolumes:\n        - name: story-volume\n          persistentVolumeClaim:\n            claimName: host-pvc\n</code></pre> <pre><code># pv\napiVersion: v1\nkind: PersistentVolume\nmetadata:\n  name: host-pv\nspec:\n  capacity: \n    storage: 1Gi\n  volumeMode: Filesystem\n  storageClassName: standard\n  accessModes:\n    - ReadWriteOnce # pods will run on a only node\n  hostPath: \n    path: /data\n    type: DirectoryOrCreate\n</code></pre> <pre><code># pvc\napiVersion: v1\nkind: PersistentVolumeClaim\nmetadata:\n  name: host-pvc\nspec:\n  volumeName: host-pv\n  accessModes:\n    - ReadWriteOnce\n  resources:\n    requests:\n      storage: 1Gi\n</code></pre>"},{"location":"Backend/DevOps/k8s/#configmap","title":"configMap","text":"<pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n name: data-store-env\ndata:\n folder: 'story'\n</code></pre>"},{"location":"Backend/DevOps/k8s/#network","title":"network","text":"<ul> <li>Pod-internal containers: localhost</li> <li>Pod-to-pod:</li> <li><code>process.env.SERVICE_NAME_HOST</code> (kubernetes automatically generates)</li> <li>builtin CoreDNS: \"serviceName.namespaceName\" - \"auth-service.default\"</li> </ul>"},{"location":"Backend/DevOps/k8s/#_1","title":"\u5176\u4f59\u80cc\u666f\u77e5\u8bc6","text":"<p>Flannel \u7f51\u7edc\uff1a\u8ba9\u96c6\u7fa4\u4e2d\u7684\u4e0d\u540c\u8282\u70b9\u4e3b\u673a\u521b\u5efa\u7684Docker\u5bb9\u5668\u90fd\u5177\u6709\u5168\u96c6\u7fa4\u552f\u4e00\u7684\u865a\u62dfIP\u5730\u5740</p> <p>Linux\u8d44\u6e90\u7ba1\u7406\u4e4bcgroups\u7b80\u4ecb - \u7f8e\u56e2\u6280\u672f\u56e2\u961f</p> <p>Containerd\u6df1\u5ea6\u5256\u6790-CRI\u7bc7-containerd cri</p>"},{"location":"Backend/DevOps/k8s/#develop","title":"\u672c\u673a develop","text":""},{"location":"Backend/DevOps/k8s/#minikube","title":"minikube","text":"<p>Install docker-cli&amp;k8s&amp;minikube</p> <p>minikube start --driver=hyperkit --container-runtime=docker --insecure-registry \"120.26.48.180:5000\" \"jenkins-dev.ztleyouhub.com:5000\" --extra-config=apiserver.service-node-port-range=1-65535</p> <ul> <li>eval $(minikube docker-env)</li> <li>$(minikube ip):5000</li> </ul>"},{"location":"Backend/DevOps/k8s/#intellij","title":"intellij \u8c03\u8bd5","text":"<ul> <li> <p>remote \u4e91\u7aef\uff1a</p> </li> <li> <p>\u4ee5 debug \u6a21\u5f0f\u8fd0\u884c java \u670d\u52a1\uff1a</p> <p><code>yaml [\"java\", \"-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005\",\"xxx.jar\"]</code></p> </li> <li> <p>\u8f6c\u53d1\u7aef\u53e3\u5230 k8s:</p> <p><code>shell kubectl port-forward --address 0.0.0.0 byteox-house-deployment-69b579d587-bwc5h 5005:5005</code></p> </li> <li> <p>\u9a8c\u8bc1\u670d\u52a1\u5668\u9632\u706b\u5899\u8bbe\u7f6e</p> </li> <li> <p>\u4e91\u670d\u52a1\u5668\u5f00\u653e 5005 \u7aef\u53e3</p> </li> <li> <p>Intellij config</p> </li> </ul>"},{"location":"Backend/DevOps/k8s/#cluster","title":"\u672c\u5730\u8fde\u63a5\u8fdc\u7a0b cluster","text":"<p>\u901a\u8fc7 echo $KUBECONFIG \u627e\u5230\u914d\u7f6e\u6587\u4ef6\u5730\u5740\uff0c\u5728\u672c\u5730\u65b0\u589e\u914d\u7f6e\u3002</p> <p>kubectl config get-contexts</p> <p>kubectl config use-context kubernetes-admin@kubernetes</p>"},{"location":"Backend/DevOps/k8s/#_2","title":"\u670d\u52a1\u5668\u521d\u4f53\u9a8c","text":""},{"location":"Backend/DevOps/k8s/#_3","title":"\u5b89\u88c5\u4e09\u4ef6\u5957","text":"<p>\u53c2\u8003 Kubernetes\u91ce\u5916\u751f\u5b58\u6307\u5357\u4e4b\u5b89\u88c5 - OrcHome</p> <p>Install and Set Up kubectl on Linux | Kubernetes</p> <p>kubelet kubeadm kubectl \u56fd\u5185\u955c\u50cf\u6e90</p> <pre><code>kubeadm init --cri-socket unix:///var/run/cri-dockerd.sock \\\n--apiserver-advertise-address=47.114.178.206 \\\n             --image-repository registry.aliyuncs.com/google_containers\n\nkubeadm init --cri-socket unix:///var/run/cri-dockerd.sock \\\n--apiserver-advertise-address=172.20.189.94 \\\n              --pod-network-cidr=10.244.0.0/16  \\\n              --service-cidr=10.96.0.0/12 \\\n              --image-repository registry.aliyuncs.com/google_containers\\\n              --ignore-preflight-errors=Port-2379 --ignore-preflight-errors=Port-2380\n</code></pre> <p>Container-runtime: docker + cri-docker \u6587\u6863 \u56fd\u5185</p> <pre><code>kubeadm init --config ./init-config.yaml --ignore-preflight-errors=Port-2379 --ignore-preflight-errors=Port-2380\n\n# reset\nkubeadm reset --cri-socket unix:///var/run/cri-dockerd.sock\n</code></pre> <p>\u6211\u7684\u62a5\u9519\u548c\u8fd9\u91cc\u4e00\u6837\uff1aCan't initialize Kubernetes-Cluster with cri-dockerd \u00b7 Issue #179 \u00b7 Mirantis/cri-dockerd</p> <p>journalctl -xefu kubelet</p> <pre><code> kubectl get pods --namespace dev-byteox\n ( kubectl config set-context --current --namespace=dev-byteox )\n\n</code></pre>"},{"location":"Backend/DevOps/qs/","title":"qs","text":""},{"location":"Backend/DevOps/qs/#_1","title":"\u770b\u4e0d\u61c2\u7684\u95ee\u9898\u96c6\u5408","text":"<p>\u6b63\u5f0f\u5e93\u7528 k8s \u505a\u6ce8\u518c\u4e2d\u5fc3\u65f6,\u672c\u5730\u5f00\u53d1\u8c03\u8bd5\u65f6\u8981\u7528\u4ec0\u4e48\u505a\u6ce8\u518c\u4e2d\u5fc3\u6765\u8c03\u8bd5\u5462</p> <ul> <li>Telepresence \u628a\u4f60\u672c\u5730\u7684\u670d\u52a1\u4ee3\u7406\u5e26 k8s \u7684\u96c6\u7fa4\u91cc\u9762</li> </ul>"},{"location":"Backend/DevOps/%E9%98%BF%E9%87%8C%E4%BA%91/","title":"\u963f\u91cc\u4e91","text":""},{"location":"Backend/DevOps/%E9%98%BF%E9%87%8C%E4%BA%91/#_2","title":"\u5c0f\u8ba1\u963f\u91cc\u4e91\u8fc1\u79fb\u8bb0\u5f55","text":"<ul> <li>\u4e0d\u540c\u533a\u57df\u4e4b\u95f4\u955c\u50cf\u4e0d\u4e92\u901a\uff0c\u9700\u8981\u5148\u8de8\u5730\u57df\u590d\u5236\u955c\u50cf\uff0c\u518d\u5171\u4eab\u3002</li> <li>\u62ff\u5230\u5171\u4eab\u955c\u50cf\u540e\uff0c\u7ed9\u76ee\u6807 ECS \u66f4\u6362\u7cfb\u7edf\uff1a\u505c\u6b62 &gt; \u66f4\u6362\u64cd\u4f5c\u7cfb\u7edf</li> <li>\u955c\u50cf\u542f\u52a8\u540e\uff0c\u57fa\u672c\u4e0e\u539f\u670d\u52a1\u5668\u4e00\u81f4\uff0c\u6709\u51e0\u4e2a\u70b9\u9700\u6ce8\u610f\uff1a</li> <li>\u670d\u52a1\u4e4b\u524d\u5bf9\u5185\u7f51\u8bf7\u6c42\u7684\u5730\u5740\u9700\u8f6c\u6362</li> <li>\u5728\u539f\u670d\u52a1\u5668\u5bfc\u51fa\u955c\u50cf\u65f6\uff0cqtunnel \u4e4b\u7c7b\u7684\u96a7\u9053\u4f1a\u65ad\u5f00\uff0c\u9700\u91cd\u65b0\u542f\u52a8</li> </ul>"},{"location":"Backend/Go%E7%B3%BB%E5%88%97/gorm/","title":"gorm","text":"<p>\u3010\u4e00\u4e9b discussions\u3011</p> <p>Preload runs multiple sql queries \u00b7 Issue #1436 \u00b7 go-gorm/gorm: https://github.com/go-gorm/gorm/issues/1436</p> <p>\u3010\u8054\u5408\u67e5\u627e\u3011</p> <p>A -&gt; B &lt;- C\uff1a\u8fd9\u6837\u5b50\u9700\u8981\u628a A \u548c C \u5173\u8054\u5230\u4e00\u8d77\u7684\uff0c\u9700\u8981\u4e2d\u95f4\u5546 B</p> <p>\u90a3\u4e48\u6cd5\u4e00\uff1a</p> <p>A \u7ed3\u6784\u4f53\u91cc\u6307\u5b9aB\uff0c B\u7ed3\u6784\u4f53\u91cc\u518d\u6307\u5b9aC\uff0cpreload B \u548c B.C\u3002</p> <p>\u8fd9\u6837\u83b7\u5f97\u7684 C \u7684\u6570\u636e\u5b9e\u9645\u5728 B \u7684\u7ed3\u6784\u4f53\u91cc</p> <p>\u6cd5\u4e8c\uff1a</p> <p>A\u7ed3\u6784\u4f53\u91cc\u6307\u5b9a -&gt; B \u548c C join \u540e\u7684\u4ea7\u7269</p> <pre><code>type DataBelongRelationWithParkPostion struct {\n model.DataBelongRelation\n ParkPosition *model.ParkPosition `gorm:\"ForeignKey:DataID; AssociationForeignKey:ID\" json:\"parkPosition\"`\n}\n\ntype Car struct {\n model.Car\n User     *model.User  `gorm:\"ForeignKey:UserID;AssociationForeignKey:ID\" json:\"user\"`\n DataRelation *model.DataBelongRelation \n}\n\npo.DBFilter(db)\n .Preload(\"DataRelation\", func(db *gorm.DB) *gorm.DB  {  \n    tableName :=  db.NewScope(model.DataBelongRelation{}).TableName()  \n    return db.Table(tableName).\n     Joins(\"left join park_positions on park_positions.id =  data_belong_relations.data_id\").\n     Where(\"data_belong_relations.closed &lt;&gt; 1 and  data_belong_relations.type in (?) and (expiration = 0 or expiration is null  or expiration &gt; ?)\", []int{  model.DataRelationTypeParkingLotCarParkPostionRent,  model.DataRelationTypeParkingLotCarParkPostionFixed,},\ntime.Now().Unix(),).Select(\"park_positions.*, data_belong_relations.owner_id as owner_id\")  }). // =&gt; {\"id\":\"1234567890123456789012345678901234567890\",\"code\":\"\",\"projId\":\"2785d34f49984d45926ee7d76d035ef9\",\"userId\":\"\", dataRelation\":null}\n</code></pre>"},{"location":"Backend/Go%E7%B3%BB%E5%88%97/pprof/","title":"pprof","text":""},{"location":"Backend/Go%E7%B3%BB%E5%88%97/pprof/#_1","title":"\u4f7f\u7528","text":"<pre><code>import (_ \"net/http/pprof\")\n\nfunc AddPprofEndpointsToGin(ginEngine *gin.Engine) {\n    prefixRouter := ginEngine.RouterGroup.Group(\"/debug/pprof\")\n    prefixRouter.GET(\"/\", gin.WrapF(pprof.Index))\n    prefixRouter.GET(\"/cmdline\", gin.WrapF(pprof.Cmdline))\n    prefixRouter.GET(\"/profile\", gin.WrapF(pprof.Profile))\n    prefixRouter.POST(\"/symbol\", gin.WrapF(pprof.Symbol))\n    prefixRouter.GET(\"/symbol\", gin.WrapF(pprof.Symbol))\n    prefixRouter.GET(\"/trace\", gin.WrapF(pprof.Trace))\n    prefixRouter.GET(\"/allocs\", gin.WrapH(pprof.Handler(\"allocs\")))\n    prefixRouter.GET(\"/block\", gin.WrapH(pprof.Handler(\"block\")))\n    prefixRouter.GET(\"/goroutine\", gin.WrapH(pprof.Handler(\"goroutine\")))\n    prefixRouter.GET(\"/heap\", gin.WrapH(pprof.Handler(\"heap\")))\n    prefixRouter.GET(\"/mutex\", gin.WrapH(pprof.Handler(\"mutex\")))\n    prefixRouter.GET(\"/threadcreate\", gin.WrapH(pprof.Handler(\"threadcreate\")))\n}\n</code></pre> <p>\u5bfc\u51fa</p> <pre><code>curl -o profile.out http://localhost:6060/debug/pprof/profile\ncurl -o heap.out http://localhost:13579/debug/pprof/heap\n</code></pre> <p>\u5206\u6790</p> <pre><code>go tool pprof xxx.out\n&gt; top xx\n&gt; list xx\n\ngo tool pprof -http=:8080 xxx.out\n</code></pre> <p>One is around looking at the current allocations (bytes or object count), called <code>inuse</code>. The other is looking at all the allocated bytes or object count throughout the run-time of the program, called <code>alloc</code></p>"},{"location":"Backend/Go%E7%B3%BB%E5%88%97/pprof/#refs","title":"refs","text":"<p>golang pprof \u5b9e\u6218 | Wolfogre's Blog</p> <p>\u5b9e\u7528go pprof\u4f7f\u7528\u6307\u5357 - \u77e5\u4e4e</p> <p>How we tracked down (what seemed like) a memory leak in one of our Go microservices - Detectify Blog</p>"},{"location":"Backend/Go%E7%B3%BB%E5%88%97/%E5%86%99%E6%B3%95%E7%AC%94%E8%AE%B0/","title":"\u5199\u6cd5\u7b14\u8bb0","text":"<p>=&gt; \u9650\u5236\u5165\u53c2\u4e2a\u6570</p> <pre><code>func A(addr ...string) {\n // \u901a\u8fc7 len(string) \u6765\u5224\u65ad \n}\n\n// \u8c03\u7528\uff1aA('a', 'b', 'c')\n</code></pre> <p>=&gt; \u540c\u6837 values... \u53ef\u4ee5\u628a\u6570\u7ec4\u6362\u6210\u5355\u72ec\u5165\u53c2</p> <pre><code>// =&gt; \u5e38\u7528\u4f20\u53c2\u6a21\u5f0f\uff1a\u4f20\u9012\u65f6\u7528\u5355\u72ec\u5165\u53c2\uff0c\u6d88\u8d39\u65f6\u5408\u6210\u6570\u7ec4\n\nfunc A(arr ...sth) {\n B(arr...)\n} \n</code></pre> <p>=&gt; \u7ed9\u51fd\u6570\u4f20\u914d\u7f6e\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u5f88\u591a\u5165\u53c2</p> <pre><code>func LoggerWithConfig(conf LoggerConfig) {\n formatter := conf.Formatter\n if formatter == nil {\n  formatter = defaultLogFormatter\n }\n}\n</code></pre> <p>=&gt; \u51fd\u6570\u4e5f\u53ef\u4ee5\u8bbe\u7f6e type:</p> <pre><code>type LogFormatter func(params LogFormatterParams) string\n</code></pre> <p>=&gt; \u901a\u8fc7 v.(string) \u53ef\u4ee5\u5c06 interface \u6362\u6210 string \u8fd4\u56de</p> <p>=&gt; .next() \u5c31\u662f\u5982\u6b64\u7b80\u5355\uff01</p> <pre><code>func (c *Context) Next() {\n  c.index++\n for c.index &lt; int8(len(c.handlers)) {\n  c.handlers[c.index](c)\n  c.index++\n }\n}\n</code></pre>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/AMQP/","title":"AMQP","text":"<p>Advanced Message Queuing Protocol.  \u5c45\u7136\u662f JP Morgan \u5f00\u53d1\u7684\uff0c\u4ece\u4ea4\u6613\u7cfb\u7edf\u7834\u58f3\u800c\u51fa\u3002</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/AMQP/#rabbitmq","title":"RabbitMQ","text":"<ul> <li>\u5b9a\u4e49\uff1aopen source message broker.</li> <li>\u8d77\u6e90\uff1a2007 Rabbit Technologies Ltd. (\u5154\u5b50\u79d1\u6280 \u597d\u53ef\u7231\u7684\u540d\u5b57\u54c8\u54c8)AMQP\u662f\u8de8\u8bed\u8a00\u7684\u4e00\u4e2a\u6807\u51c6\u6d88\u606f\u63a5\u53e3\uff0cRabbitMQ \u662f AMQP \u5b9e\u73b0\u4ea7\u54c1\u3002 p.s. Kafka \u4e5f\u662f\u6d88\u606f\u670d\u52a1\u5668\uff0c\u4f46\u662f\u5b83\u6709\u81ea\u5df1\u7684\u4e00\u5957</li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Dubbo/","title":"Dubbo","text":"<p>dubbo v.s. spring-cloud: \u9762\u8bd5Dubbo \uff0c\u5374\u95ee\u6211Dubbo\u548cSpringcloud\u6709\u4ec0\u4e48\u533a\u522b\uff1f-\u4e91\u793e\u533a-\u534e\u4e3a\u4e91 \u4e8c\u8005\u672c\u8d28\u4e0d\u4e00\u6837\u3002spring-cloud \u662f\u6846\u67b6\u96c6\u4e2d\u5668\uff0c\u800c dubbo \u4ece rpc \u6846\u67b6\u53d1\u5c55\u800c\u6765\u3002Dubbo\u81ea\u5e26\u7684\u670d\u52a1\u53d1\u73b0\u3001\u9650\u6d41\u964d\u7ea7\u7684\u80fd\u529b\u4e5f\u786e\u5b9e\u548cSpringCloud\u91cc\u7684\u5185\u5bb9\u6709\u6240\u91cd\u5408\uff0c\u4ece\u8fd9\u4e2a\u89d2\u5ea6\u6765\u8bf4\uff0c\u5b9e\u9645\u4e0aDubbo\u5df2\u7ecf\u540c\u65f6\u5b8c\u6210\u4e86SpringCloud\u5185\u591a\u4e2a\u7ec4\u4ef6\u7684\u529f\u80fd\u3002\u6240\u4ee5\uff0c\u73b0\u5728SpringCloud\u4e0b\u6709Spring Cloud Alibaba\u65b9\u6848\uff0c\u9002\u7528\u4e8e\u4e00\u7ad9\u5f0f\u7684\u5206\u5e03\u5f0f\u5f00\u53d1\uff0c\u5176\u4e2d\u5c31\u4f7f\u7528\u7684 dubbo \u6765\u4f5c\u4e3a\u6838\u5fc3\u7ec4\u4ef6\u3002</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Dubbo/#_1","title":"\u540d\u8bcd\u89e3\u91ca","text":"<p>\u670d\u52a1\u6cbb\u7406\uff1aSOA(Service-Oriented Architecture) governance\u3002\u6cbb\u7406\u4ec0\u4e48\uff1f\u670d\u52a1\u751f\u547d\u5468\u671f\u7684\u76f8\u5173\u8981\u7d20\uff0c\u5305\u62ec\u670d\u52a1\u7684\u67b6\u6784\u3001\u8bbe\u8ba1\u3001\u53d1\u5e03\u3001\u53d1\u73b0\u3001\u7248\u672c\u6cbb\u7406\u3001\u7ebf\u4e0a\u76d1\u63a7\u3001\u7ebf\u4e0a\u7ba1\u63a7\u3001\u6545\u969c\u5b9a\u754c\u5b9a\u4f4d\u3001\u5b89\u5168\u6027\u7b49\u3002 - \u670d\u52a1\u6ce8\u518c\u53d1\u73b0\uff1aEureke\uff0cNacos\uff0cConsul\uff0cZooKeeper - \u670d\u52a1\u914d\u7f6e\uff1aSpring Cloud Config\uff0cArchaius - \u670d\u52a1\u7194\u65ad\uff1aHystrix\uff0cresilience4j - \u7f51\u5173\uff1aZuul\uff0cSpring Cloud Gateway - \u8d1f\u8f7d\u5747\u8861\uff1aRibbon\uff0cFeign - \u65e5\u5fd7\u7c7b     - \u94fe\u8def\u8ffd\u8e2a\u5de5\u5177\uff1aSleuth\uff0cZipkin\uff0cHtrace     - \u65e5\u5fd7\u91c7\u96c6\uff1alogback\uff0cElasticSearch     - \u76d1\u63a7\u5e73\u53f0\uff1aPromethues\uff0cKibana\uff0cgrafana\uff0cSpring boot admin</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Dubbo/#zookeeper","title":"zookeeper","text":"<p>\u4e4b\u6240\u4ee5\u8981\u53eb\u8fd9\u4e2a\u540d\u5b57\uff0c\u662f\u56e0\u4e3a python \u7684\u87d2\u86c7\u5566\uff0cphp \u7684\u5927\u8c61\u5566\uff0cgolang \u7684\u9cb8\u9c7c\u5566 hhh [zookeeper] 00 - \u521d\u8bc6\uff1a\u7531\u6765\u3001\u7248\u672c\u3001\u67b6\u6784-CSDN\u535a\u5ba2</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Intellij/","title":"Intellij","text":""},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Intellij/#project-structure","title":"project structure","text":""},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Intellij/#facet","title":"Facet","text":"<p>This is not Java EE related. This is IDE related. The term is at its own not programming related.</p> <p>fac\u00b7et\u00a0(fst)\u00a0n.</p> <ol> <li>One of the flat polished surfaces cut on a gemstone or occurring naturally on a crystal.</li> <li>Anatomy\u00a0A small, smooth, flat surface, as on a bone or tooth.</li> <li>Biology\u00a0One of the lenslike visual units of a compound eye, as of an insect.</li> <li>One of numerous aspects, as of a subject. See Synonyms at\u00a0phase.</li> </ol> <p>It's 4.</p> <p>java - What is 'Facet' in JavaEE? - Stack Overflow</p> <p>facet \u58f0\u660e\u4e86\u6bcf\u4e2a\u6a21\u5757\u4f7f\u7528\u6280\u672f\u7684\u4e00\u4e9b\u914d\u7f6e\u3002\u4e00\u4e2a\u6a21\u5757\u53ef\u80fd\u6709\u591a\u4e2afacet\u3002Spring\u6a21\u5757\u7684\u914d\u7f6e\u5c31\u58f0\u660e\u5728Spring facet\u4e2d\u3002  </p> <p>Spring \u7684\u4e3b\u7c7b\u548c\u914d\u7f6e\u6587\u4ef6\u662fSpring\u7684\u4e00\u4e9b\u914d\u7f6e\uff0c\u4f46\u662f\u4e0d\u544a\u8bc9IDEA\u5728\u54ea\u4ed6\u81ea\u5df1\u662f\u4e0d\u77e5\u9053\u5728\u54ea\u7684\uff0c\u6240\u4ee5\u5728facet\u4e2d\u8981\u5199\u6e05\u695a\u5728\u4ec0\u4e48\u5730\u65b9\uff08\u9ed8\u8ba4\u4f1a\u914d\u597d\uff09\u3002  </p> <p>\u5728web\u6a21\u5757\u4e2d\uff0c\u9700\u8981\u914d\u7f6eweb.xml\u548cweb\u8d44\u6e90\u76ee\u5f55\u7684\u4f4d\u7f6e\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u7528\u9ed8\u8ba4\u7684\uff0c\u4e00\u822c\u6211\u4eec\u5efa\u7acb/src/main/webapp\u3002</p> <ul> <li>intelliJ\u00a0IDEA automatically detects Spring in your project based on the XML configuration or\u00a0<code>@Configuration</code>\u00a0annotations.</li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Maven/","title":"Maven","text":"<p>Manage additional JAR files and supporting dependencies and build paths issues.. pom.xml+src(main\u3001test)+target \u8fd9\u6837\u5b50\u7684\u6587\u4ef6\u7ed3\u6784\u662f maven \u7279\u6709\u7684</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Maven/#scope","title":"Scope","text":"<ul> <li>compile: \u7f16\u8bd1\u65f6\u9700\u8981\u7528\u5230\u8be5jar\u5305\uff08\u9ed8\u8ba4\uff09\u5982 commons-logging\u3002</li> <li>test: \u7f16\u8bd1 test \u65f6\u7528\u5230\uff0c\u5982 junit\u3002</li> <li>provided: \u7f16\u8bd1\u65f6\u9700\u8981\u7528\u5230\uff0c\u4f46\u8fd0\u884c\u65f6\u7531JDK\u6216\u67d0\u4e2a\u670d\u52a1\u5668\u63d0\u4f9b\u3002<ul> <li>\u5982 servelt-api.\uff08\u6bd4\u5982\u4e2d\u5929\u8001\u9879\u76ee\u91cc\uff0c\u5c31\u8981\u989d\u5916\u52a0\u8f7d\u4e0b tomcat \u7684 lib\uff09</li> </ul> </li> <li>runtime: \u7f16\u8bd1\u65f6\u4e0d\u9700\u8981\uff0c\u4f46\u8fd0\u884c\u65f6\u9700\u8981\u7528\u5230\uff0c\u5982 mysql<ul> <li>\u5178\u578b\u4f7f\u7528\u573a\u666f\uff1ajdbc-drivers. \u6700\u5927\u7684\u76ee\u7684\u662f\u4e3a\u4e86 dynamic-loading. the classes within the library are present to the JVM classpath (runtime environment), but not to the Java compiler classpath (compile-time), therefore when compiling your project these classes will not be visible to the compiler.. therefore you cannot use/import any of these classes at compile-time. refs: java - When would I need maven dependency with runtime scope - Stack Overflow (\u60f3\u5230\u524d\u7aef\u5176\u5b9e\u5c31\u4e00\u4e2a --save \u548c --save-dev\uff0c\u57fa\u672c\u4e0a dev \u90fd\u53ea\u4e0e\u672c\u5730\u5f00\u53d1\u76f8\u5173\uff0c\u56e0\u4e3a\u4e0d\u7528\u600e\u4e48\u4f9d\u8d56\u5bb9\u5668)</li> </ul> </li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Maven/#pom-file","title":"pom file","text":"<ul> <li>project meta data: groupId(reversed domain name) + artifactId(project name) + versionId = GAV</li> <li>dependencies</li> <li>Spring Boot Starters: A collection of Maven dependencies</li> <li>plug ins (additional tasks)</li> <li>Spring boot maven plugin</li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Maven/#_1","title":"\u6784\u5efa\u6d41\u7a0b","text":"<p>\u4f7f\u7528 Maven \u6784\u5efa\u9879\u76ee\u5c31\u662f\u6267\u884c lifecycle\uff0c\u6267\u884c\u5230\u6307\u5b9a\u7684 phase \u4e3a\u6b62\u3002\u6bcf\u4e2a phase \u4f1a\u6267\u884c\u81ea\u5df1\u9ed8\u8ba4\u7684\u4e00\u4e2a\u6216\u591a\u4e2a goal\u3002goal \u662f\u6700\u5c0f\u4efb\u52a1\u5355\u5143\u3002</p> <p>\u5982 <code>mvn compile</code> \uff0cMaven \u5c06\u6267\u884c\u5230<code>compile</code>\u8fd9\u4e2a phase\uff0c\u8fd9\u4e2a phase \u4f1a\u8c03\u7528 <code>compiler</code> \u63d2\u4ef6\u6267\u884c\u5173\u8054\u7684 <code>compiler:compile</code> \u8fd9\u4e2agoal\u3002\u8fd9\u4e9b\u90fd\u662f\u5185\u7f6e\u5728 maven \u91cc\u7684\u6807\u51c6\u63d2\u4ef6\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u6267\u884c\u6bcf\u4e2aphase\uff0c\u90fd\u662f\u901a\u8fc7\u67d0\u4e2a\u63d2\u4ef6\uff08plugin\uff09\u6765\u6267\u884c\u7684\uff0cMaven\u672c\u8eab\u5176\u5b9e\u5e76\u4e0d\u77e5\u9053\u5982\u4f55\u6267\u884c<code>compile</code>\uff0c\u5b83\u53ea\u662f\u8d1f\u8d23\u627e\u5230\u5bf9\u5e94\u7684<code>compiler</code>\u63d2\u4ef6\uff0c\u7136\u540e\u6267\u884c\u9ed8\u8ba4\u7684<code>compiler:compile</code>\u8fd9\u4e2agoal\u6765\u5b8c\u6210\u7f16\u8bd1</p> <p>\u5f15\u5165\u81ea\u5b9a\u4e49\u63d2\u4ef6\u5c31\u4e5f\u9700\u8981\u6307\u5b9a phase \u548c goal.</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Maven/#_2","title":"\u591a\u6a21\u5757","text":"<p><code>-pl + \u6a21\u5757\u540d</code> / <code>--projects</code> \uff1aThat's why you should always build a sub-module from its aggregator/parent and via the -pl and -am options, to make sure that:</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Maven/#maven-wrapper-files","title":"Maven wrapper files","text":"<ul> <li>\u76f8\u5f53\u4e8e\u5d4c\u5728\u9879\u76ee\u91cc\u7684 nvm \uff01\u7ed9\u4e00\u4e2a\u9879\u76ee\u63d0\u4f9b\u4e00\u4e2a\u72ec\u7acb\u7684\uff0c\u6307\u5b9a\u7248\u672c\u7684Maven\u7ed9\u5b83\u4f7f\u7528\u3002</li> <li>\u5728\u9879\u76ee\u4e0b\u6267\u884c <code>mvn wrapper:wrapper -Dmaven=3.9.0</code> \u53ef\u4ee5\u751f\u6210</li> <li>mvnw \u6ce8\u91ca</li> </ul> <pre><code>#!/bin/sh\n# ----------------------------------------------------------------------------\n\n# ----------------------------------------------------------------------------\n# Maven Start Up Batch script\n#\n# Required ENV vars:\n# ------------------\n#   JAVA_HOME - location of a JDK home dir\n#\n# Optional ENV vars\n# -----------------\n#   M2_HOME - location of maven2's installed home dir\n#   MAVEN_OPTS - parameters passed to the Java VM when running Maven\n#     e.g. to debug Maven itself, use\n#       set MAVEN_OPTS=-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000\n#   MAVEN_SKIP_RC - flag to disable loading of mavenrc files\n# ----------------------------------------------------------------------------\n\nif [ -z \"$MAVEN_SKIP_RC\" ] ; then\n\n  if [ -f /etc/mavenrc ] ; then\n    . /etc/mavenrc\n  fi\n\n  if [ -f \"$HOME/.mavenrc\" ] ; then\n    . \"$HOME/.mavenrc\"\n  fi\n\nfi\n\n# OS specific support.  $var _must_ be set to either true or false.\ncygwin=false;\ndarwin=false;\nmingw=false\ncase \"`uname`\" in\n  CYGWIN*) cygwin=true ;;\n  MINGW*) mingw=true;;\n  Darwin*) darwin=true\n    # Use /usr/libexec/java_home if available, otherwise fall back to /Library/Java/Home\n    # See https://developer.apple.com/library/mac/qa/qa1170/_index.html\n    if [ -z \"$JAVA_HOME\" ]; then #  is zero length\n      if [ -x \"/usr/libexec/java_home\" ]; then # -x filename \u5982\u679c filename\u53ef\u6267\u884c\uff0c\u5219\u4e3a\u771f\n        export JAVA_HOME=\"`/usr/libexec/java_home`\"\n      else\n        export JAVA_HOME=\"/Library/Java/Home\"\n      fi\n    fi\n    ;;\nesac\n\nif [ -z \"$JAVA_HOME\" ] ; then\n  if [ -r /etc/gentoo-release ] ; then\n    JAVA_HOME=`java-config --jre-home`\n  fi\nfi\n\nif [ -z \"$M2_HOME\" ] ; then\n            echo \"\u4e0d\u5b58\u5728 M2_HOME\"\n  ## resolve links - $0 may be a link to maven's home\n  PRG=\"$0\"\n   echo \"PRG=\\$0 $0\"\n\n  # need this for relative symlinks\n  while [ -h \"$PRG\" ] ; do # \u5982\u679cFILE \u5b58\u5728\u4e14\u662f\u4e00\u4e2a\u7b26\u53f7\u8fde\u63a5\u5219\u4e3a\u771f\n    echo \"-h $PRG\"\n    ls=`ls -ld \"$PRG\"`\n    link=`expr \"$ls\" : '.*-&gt; \\(.*\\)$'` # \u8fd9\u4e2a\u6ca1\u61c2\u8bf6\n    if expr \"$link\" : '/.*' &gt; /dev/null; then # /dev/null \u662f\u4e00\u4e2a\u7a7a\u8bbe\u5907\u6587\u4ef6\uff0c\u5b83\u5145\u5f53\u4e00\u4e2a\u9ed1\u6d1e\uff0c\u6240\u6709\u5199\u5165\u8be5\u8bbe\u5907\u7684\u6570\u636e\u90fd\u4f1a\u88ab\u4e22\u5f03\uff0c\u4e0d\u4f1a\u5728\u7cfb\u7edf\u4e2d\u4fdd\u7559\u6216\u4fdd\u5b58\u3002 \u5f53\u7a0b\u5e8f\u9700\u8981\u6267\u884c\u67d0\u4e2a\u64cd\u4f5c\u4f46\u4e0d\u5e0c\u671b\u4ea7\u751f\u4efb\u4f55\u8f93\u51fa\u65f6\uff0c\u53ef\u4ee5\u5c06\u8f93\u51fa\u91cd\u5b9a\u5411\u5230 /dev/null\n      PRG=\"$link\"\n    else\n      PRG=\"`dirname \"$PRG\"`/$link\"\n    fi\n  done\n\n   echo \"PRG2= $0\"\n\n  saveddir=`pwd`\n\n  M2_HOME=`dirname \"$PRG\"`/..\n\n  echo \"M2_HOME $M2_HOME\"\n\n  # make it fully qualified\n  M2_HOME=`cd \"$M2_HOME\" &amp;&amp; pwd`\n\n  echo \"M2_HOME $M2_HOME\"\n\n  cd \"$saveddir\"\n  # echo Using m2 at $M2_HOME\nfi\n\n# For Cygwin, ensure paths are in UNIX format before anything is touched\nif $cygwin ; then\n  [ -n \"$M2_HOME\" ] &amp;&amp;\n    M2_HOME=`cygpath --unix \"$M2_HOME\"`\n  [ -n \"$JAVA_HOME\" ] &amp;&amp;\n    JAVA_HOME=`cygpath --unix \"$JAVA_HOME\"`\n  [ -n \"$CLASSPATH\" ] &amp;&amp;\n    CLASSPATH=`cygpath --path --unix \"$CLASSPATH\"`\nfi\n\n# For Mingw, ensure paths are in UNIX format before anything is touched\nif $mingw ; then\n  [ -n \"$M2_HOME\" ] &amp;&amp;\n    M2_HOME=\"`(cd \"$M2_HOME\"; pwd)`\"\n  [ -n \"$JAVA_HOME\" ] &amp;&amp;\n    JAVA_HOME=\"`(cd \"$JAVA_HOME\"; pwd)`\"\nfi\n\nif [ -z \"$JAVA_HOME\" ]; then\n  javaExecutable=\"`which javac`\"\n  if [ -n \"$javaExecutable\" ] &amp;&amp; ! [ \"`expr \\\"$javaExecutable\\\" : '\\([^ ]*\\)'`\" = \"no\" ]; then\n    # readlink(1) is not available as standard on Solaris 10.\n    readLink=`which readlink`\n    if [ ! `expr \"$readLink\" : '\\([^ ]*\\)'` = \"no\" ]; then\n      if $darwin ; then\n        javaHome=\"`dirname \\\"$javaExecutable\\\"`\"\n        javaExecutable=\"`cd \\\"$javaHome\\\" &amp;&amp; pwd -P`/javac\"\n      else\n        javaExecutable=\"`readlink -f \\\"$javaExecutable\\\"`\"\n      fi\n      javaHome=\"`dirname \\\"$javaExecutable\\\"`\"\n      javaHome=`expr \"$javaHome\" : '\\(.*\\)/bin'`\n      JAVA_HOME=\"$javaHome\"\n      export JAVA_HOME\n    fi\n  fi\nfi\n\nif [ -z \"$JAVACMD\" ] ; then\n  if [ -n \"$JAVA_HOME\"  ] ; then\n    if [ -x \"$JAVA_HOME/jre/sh/java\" ] ; then\n      # IBM's JDK on AIX uses strange locations for the executables\n      JAVACMD=\"$JAVA_HOME/jre/sh/java\"\n    else\n      JAVACMD=\"$JAVA_HOME/bin/java\"\n    fi\n  else\n    JAVACMD=\"`which java`\"\n  fi\nfi\n\necho \"JAVACMD = $JAVACMD\"\n\nif [ ! -x \"$JAVACMD\" ] ; then\n  echo \"Error: JAVA_HOME is not defined correctly.\" &gt;&amp;2\n  echo \"  We cannot execute $JAVACMD\" &gt;&amp;2\n  exit 1\nfi\n\nif [ -z \"$JAVA_HOME\" ] ; then\n  echo \"Warning: JAVA_HOME environment variable is not set.\"\nfi\n\nCLASSWORLDS_LAUNCHER=org.codehaus.plexus.classworlds.launcher.Launcher\n\n# traverses directory structure from process work directory to filesystem root\n# first directory with .mvn subdirectory is considered project base directory\nfind_maven_basedir() {\n\n  if [ -z \"$1\" ]\n  then\n    echo \"Path not specified to find_maven_basedir\"\n    return 1\n  fi\n\n  basedir=\"$1\"\n  wdir=\"$1\"\n  while [ \"$wdir\" != '/' ] ; do\n    if [ -d \"$wdir\"/.mvn ] ; then\n      basedir=$wdir\n      break\n    fi\n    # workaround for JBEAP-8937 (on Solaris 10/Sparc)\n    if [ -d \"${wdir}\" ]; then\n      wdir=`cd \"$wdir/..\"; pwd`\n    fi\n    # end of workaround\n  done\n  echo \"${basedir}\"\n}\n\n# concatenates all lines of a file\nconcat_lines() {\n  if [ -f \"$1\" ]; then\n    echo \"$(tr -s '\\n' ' ' &lt; \"$1\")\"\n  fi\n}\n\nBASE_DIR=`find_maven_basedir \"$(pwd)\"`\necho \"BASE_DIR = $BASE_DIR\"\nif [ -z \"$BASE_DIR\" ]; then\n  exit 1;\nfi\n\n##########################################################################################\n# Extension to allow automatically downloading the maven-wrapper.jar from Maven-central\n# This allows using the maven wrapper in projects that prohibit checking in binary data.\n##########################################################################################\nif [ -r \"$BASE_DIR/.mvn/wrapper/maven-wrapper.jar\" ]; then # checks if the argument that follows it is a file, it exists, and it's readable\n    if [ \"$MVNW_VERBOSE\" = true ]; then\n      echo \"Found .mvn/wrapper/maven-wrapper.jar\"\n    fi\nelse\n    if [ \"$MVNW_VERBOSE\" = true ]; then\n      echo \"Couldn't find .mvn/wrapper/maven-wrapper.jar, downloading it ...\"\n    fi\n    if [ -n \"$MVNW_REPOURL\" ]; then\n      jarUrl=\"$MVNW_REPOURL/io/takari/maven-wrapper/0.5.6/maven-wrapper-0.5.6.jar\"\n    else\n      jarUrl=\"https://repo.maven.apache.org/maven2/io/takari/maven-wrapper/0.5.6/maven-wrapper-0.5.6.jar\"\n    fi\n    while IFS=\"=\" read key value; do\n      case \"$key\" in (wrapperUrl) jarUrl=\"$value\"; break ;;\n      esac\n    done &lt; \"$BASE_DIR/.mvn/wrapper/maven-wrapper.properties\"\n    if [ \"$MVNW_VERBOSE\" = true ]; then\n      echo \"Downloading from: $jarUrl\"\n    fi\n    wrapperJarPath=\"$BASE_DIR/.mvn/wrapper/maven-wrapper.jar\"\n    if $cygwin; then\n      wrapperJarPath=`cygpath --path --windows \"$wrapperJarPath\"`\n    fi\n\n    if command -v wget &gt; /dev/null; then\n        if [ \"$MVNW_VERBOSE\" = true ]; then\n          echo \"Found wget ... using wget\"\n        fi\n        if [ -z \"$MVNW_USERNAME\" ] || [ -z \"$MVNW_PASSWORD\" ]; then\n            wget \"$jarUrl\" -O \"$wrapperJarPath\"\n        else\n            wget --http-user=$MVNW_USERNAME --http-password=$MVNW_PASSWORD \"$jarUrl\" -O \"$wrapperJarPath\"\n        fi\n    elif command -v curl &gt; /dev/null; then\n        if [ \"$MVNW_VERBOSE\" = true ]; then\n          echo \"Found curl ... using curl\"\n        fi\n        if [ -z \"$MVNW_USERNAME\" ] || [ -z \"$MVNW_PASSWORD\" ]; then\n            curl -o \"$wrapperJarPath\" \"$jarUrl\" -f\n        else\n            curl --user $MVNW_USERNAME:$MVNW_PASSWORD -o \"$wrapperJarPath\" \"$jarUrl\" -f\n        fi\n\n    else\n        if [ \"$MVNW_VERBOSE\" = true ]; then\n          echo \"Falling back to using Java to download\"\n        fi\n        javaClass=\"$BASE_DIR/.mvn/wrapper/MavenWrapperDownloader.java\"\n        # For Cygwin, switch paths to Windows format before running javac\n        if $cygwin; then\n          javaClass=`cygpath --path --windows \"$javaClass\"`\n        fi\n        if [ -e \"$javaClass\" ]; then\n            if [ ! -e \"$BASE_DIR/.mvn/wrapper/MavenWrapperDownloader.class\" ]; then\n                if [ \"$MVNW_VERBOSE\" = true ]; then\n                  echo \" - Compiling MavenWrapperDownloader.java ...\"\n                fi\n                # Compiling the Java class\n                (\"$JAVA_HOME/bin/javac\" \"$javaClass\")\n            fi\n            if [ -e \"$BASE_DIR/.mvn/wrapper/MavenWrapperDownloader.class\" ]; then\n                # Running the downloader\n                if [ \"$MVNW_VERBOSE\" = true ]; then\n                  echo \" - Running MavenWrapperDownloader.java ...\"\n                fi\n                (\"$JAVA_HOME/bin/java\" -cp .mvn/wrapper MavenWrapperDownloader \"$MAVEN_PROJECTBASEDIR\")\n            fi\n        fi\n    fi\nfi\n##########################################################################################\n# End of extension\n##########################################################################################\n\nexport MAVEN_PROJECTBASEDIR=${MAVEN_BASEDIR:-\"$BASE_DIR\"}\nif [ \"$MVNW_VERBOSE\" = true ]; then\n  echo $MAVEN_PROJECTBASEDIR\nfi\nMAVEN_OPTS=\"$(concat_lines \"$MAVEN_PROJECTBASEDIR/.mvn/jvm.config\") $MAVEN_OPTS\"\n\necho \"MAVEN_OPTS = ${MAVEN_OPTS}\"\n\n# For Cygwin, switch paths to Windows format before running java\nif $cygwin; then\n  [ -n \"$M2_HOME\" ] &amp;&amp;\n    M2_HOME=`cygpath --path --windows \"$M2_HOME\"`\n  [ -n \"$JAVA_HOME\" ] &amp;&amp;\n    JAVA_HOME=`cygpath --path --windows \"$JAVA_HOME\"`\n  [ -n \"$CLASSPATH\" ] &amp;&amp;\n    CLASSPATH=`cygpath --path --windows \"$CLASSPATH\"`\n  [ -n \"$MAVEN_PROJECTBASEDIR\" ] &amp;&amp;\n    MAVEN_PROJECTBASEDIR=`cygpath --path --windows \"$MAVEN_PROJECTBASEDIR\"`\nfi\n\n# Provide a \"standardized\" way to retrieve the CLI args that will\n# work with both Windows and non-Windows executions.\nMAVEN_CMD_LINE_ARGS=\"$MAVEN_CONFIG $@\"\nexport MAVEN_CMD_LINE_ARGS\n\necho \"MAVEN_CMD_LINE_ARGS = ${MAVEN_CMD_LINE_ARGS}\"\n\nWRAPPER_LAUNCHER=org.apache.maven.wrapper.MavenWrapperMain\n\necho \"$JAVACMD\" \\\n       $MAVEN_OPTS \\\n       -classpath \"$MAVEN_PROJECTBASEDIR/.mvn/wrapper/maven-wrapper.jar\" \\\n       \"-Dmaven.home=${M2_HOME}\" \"-Dmaven.multiModuleProjectDirectory=${MAVEN_PROJECTBASEDIR}\" \\\n       ${WRAPPER_LAUNCHER} $MAVEN_CONFIG \"$@\"\n\nexec \"$JAVACMD\" \\\n  $MAVEN_OPTS \\\n  -classpath \"$MAVEN_PROJECTBASEDIR/.mvn/wrapper/maven-wrapper.jar\" \\\n  \"-Dmaven.home=${M2_HOME}\" \"-Dmaven.multiModuleProjectDirectory=${MAVEN_PROJECTBASEDIR}\" \\\n  ${WRAPPER_LAUNCHER} $MAVEN_CONFIG \"$@\"\n\n</code></pre>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Maven/#pass-jvm-arguments","title":"Pass JVM arguments","text":"<p>How to Pass JVM Arguments via Maven | Baeldung</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Maven/#artifact","title":"\u53d1\u5e03 Artifact","text":"<pre><code>&lt;distributionManagement&gt;  \n    &lt;repository&gt;  \n        &lt;!-- \u6ce8\u610f\u8fd9\u91cc\u7684 id \u8981\u4e0e ~/.m2/settings.xml \u91cc\u914d\u7f6e\u7684 id \u4e00\u81f4 --&gt;\n        &lt;id&gt;byteox-official&lt;/id&gt;\n        &lt;name&gt;User Porject Release&lt;/name&gt;  \n        &lt;url&gt;${distribution.repo.url}&lt;/url&gt;  \n    &lt;/repository&gt;  \n&lt;/distributionManagement&gt;\n</code></pre>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Maven/#pomxml-vs-settingxml","title":"pom.xml v.s. setting.xml","text":"<ul> <li><code>settings.xml</code>\u00a0is your user preferences. It lives in your main Maven directory (usually\u00a0<code>$HOME/.m2</code>) and holds your own settings, like listings for non-public repositories, usernames, and other personalized configuration.</li> <li><code>pom.xml</code>\u00a0is the control file for each Maven project or module.</li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring%20Boot/","title":"Spring Boot","text":""},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring%20Boot/#_1","title":"\u7279\u70b9","text":"<p>SpringBoot \u4f1a\u6839\u636e\u7c7b\u8def\u5f84\u4e2d\u7684 jar\u5305\u3001\u7c7b\uff0c\u4e3a jar \u5305\u91cc\u7684\u7c7b\u8fdb\u884c\u81ea\u52a8\u914d\u7f6e\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5927\u5927\u7684\u51cf\u5c11\u914d\u7f6e\u7684\u6570\u91cf\u3002</p> <p>\u7b80\u5355\u70b9\u8bf4\uff0c\u5c31\u662f SpringBoot \u4f1a\u6839\u636e\u5b9a\u4e49\u5728 classpath \u4e0b\u7684\u7c7b\uff0c\u81ea\u52a8\u7ed9\u4f60\u751f\u6210\u4e00\u4e9b Bean\uff0c\u5e76\u4e14\u52a0\u8f7d\u5230 Spring \u7684 Context \u4e2d\u3002</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring%20Boot/#_2","title":"\u539f\u7406","text":"<p>\u5728 SpringBoot \u5185\u90e8\uff0c\u4f1a\u8bfb\u53d6 classpath \u4e0b\u00a0META-INF/spring.factories\u00a0\u6587\u4ef6\u4e2d\u7684\u6240\u914d\u7f6e\u7684\u7c7b\u7684\u5168\u7c7b\u540d\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u627e\u5230 key\u4e3a org.springframework.boot.autoconfigure.EnableAutoConfiguration \u5bf9\u5e94\u7684\u503c\u3002</p> <p>\u53ef\u4ee5\u53d1\u73b0\u5c31\u662f\u4e00\u7cfb\u5217\u7684 xxxAutoConfiguration\uff0c\u968f\u4fbf\u627e\u4e24\u4e2a\u7c7b\u770b\u4e00\u4e0b\uff0c\u5c31\u662f\u6807\u8bb0\u4e86 @Configuration \u7684\u914d\u7f6e\u7c7b\uff0c\u5e76\u4e14\u901a\u8fc7\u4e00\u4e9b\u6761\u4ef6\u6ce8\u89e3\uff0c\u6765\u5224\u65ad\u3001\u51b3\u5b9a\u54ea\u4e9b Bean \u5e94\u8be5\u81ea\u52a8\u6ce8\u5165\u5230\u5bb9\u5668\u4e2d\u3002</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring%20Boot/#_3","title":"\u6838\u5fc3\u6ce8\u89e3","text":"<ul> <li>@SpringBootApplication\uff1a\u8fd9\u662f\u4e00\u4e2a\u7ec4\u5408\u6ce8\u89e3\uff0c\u76f8\u5f53\u4e8e\u540c\u65f6\u4f7f\u7528\u4e86\u00a0<code>@Configuration</code>\u3001<code>@EnableAutoConfiguration</code>\u00a0\u548c\u00a0<code>@ComponentScan</code>\u00a0\u6ce8\u89e3\u3002\u5b83\u6807\u8bb0\u4e86\u4e3b\u5e94\u7528\u7a0b\u5e8f\u7c7b\uff0c\u5e76\u544a\u8bc9 Spring Boot \u5f00\u59cb\u7ec4\u4ef6\u626b\u63cf\u3001\u81ea\u52a8\u914d\u7f6e\u548c\u88c5\u914d\u3002</li> <li>@EnableAutoConfiguration\uff1a\u8be5\u6ce8\u89e3\u7528\u4e8e\u542f\u7528 Spring Boot \u7684\u81ea\u52a8\u914d\u7f6e\u529f\u80fd\u3002\u5b83\u4f1a\u6839\u636e\u5e94\u7528\u7a0b\u5e8f\u7684\u4f9d\u8d56\u5173\u7cfb\u548c\u5f53\u524d\u73af\u5883\uff0c\u81ea\u52a8\u6ce8\u518c\u6240\u9700\u7684 bean\u3002</li> <li>@ComponentScan\uff1a\u8be5\u6ce8\u89e3\u7528\u4e8e\u542f\u7528\u7ec4\u4ef6\u626b\u63cf\uff0c\u4ee5\u4fbf Spring Boot \u53ef\u4ee5\u81ea\u52a8\u53d1\u73b0\u548c\u6ce8\u518c\u6807\u6709\u00a0<code>@Component</code>\u3001<code>@Service</code>\u3001<code>@Repository</code>\u00a0\u548c\u00a0<code>@Controller</code>\u00a0\u6ce8\u89e3\u7684\u7c7b\u3002</li> <li>@ConditionalOnClass\u00a0\u548c\u00a0@ConditionalOnMissingClass\uff1a\u8fd9\u4e24\u4e2a\u6761\u4ef6\u5316\u6ce8\u89e3\u7528\u4e8e\u6839\u636e\u7c7b\u8def\u5f84\u4e0a\u662f\u5426\u5b58\u5728\u7279\u5b9a\u7684\u7c7b\u6765\u51b3\u5b9a\u662f\u5426\u6ce8\u518c bean\u3002<code>@ConditionalOnClass</code>\u00a0\u5728\u7c7b\u8def\u5f84\u4e0a\u5b58\u5728\u6307\u5b9a\u7c7b\u65f6\u751f\u6548\uff0c\u800c\u00a0<code>@ConditionalOnMissingClass</code>\u00a0\u5728\u7c7b\u8def\u5f84\u4e0a\u4e0d\u5b58\u5728\u6307\u5b9a\u7c7b\u65f6\u751f\u6548\u3002</li> <li>@ConditionalOnBean\u00a0\u548c\u00a0@ConditionalOnMissingBean\uff1a\u8fd9\u4e24\u4e2a\u6761\u4ef6\u5316\u6ce8\u89e3\u7528\u4e8e\u6839\u636e\u662f\u5426\u5b58\u5728\u7279\u5b9a\u7684 bean \u6765\u51b3\u5b9a\u662f\u5426\u6ce8\u518c bean\u3002<code>@ConditionalOnBean</code>\u00a0\u5728\u5bb9\u5668\u4e2d\u5b58\u5728\u6307\u5b9a\u7684 bean \u65f6\u751f\u6548\uff0c\u800c\u00a0<code>@ConditionalOnMissingBean</code>\u00a0\u5728\u5bb9\u5668\u4e2d\u4e0d\u5b58\u5728\u6307\u5b9a\u7684 bean \u65f6\u751f\u6548\u3002</li> <li>@ConditionalOnProperty\uff1a\u8be5\u6761\u4ef6\u5316\u6ce8\u89e3\u7528\u4e8e\u6839\u636e\u914d\u7f6e\u5c5e\u6027\u7684\u503c\u6765\u51b3\u5b9a\u662f\u5426\u6ce8\u518c bean\u3002\u5b83\u53ef\u4ee5\u6839\u636e\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u5c5e\u6027\u503c\u6765\u51b3\u5b9a\u662f\u5426\u542f\u7528\u6216\u7981\u7528\u7279\u5b9a\u7684 bean\u3002</li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring%20Boot/#api","title":"api \u76f8\u5173","text":""},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring%20Boot/#filter-interceptor","title":"filter \u4e0e interceptor","text":"<p>Filter\u662f\u5728servlet\u5c42\u9762\u7684\uff0cInterceptor\u662f\u5728Controller\u5c42\u9762\u7684\u3002\u6548\u679c\u90fd\u662f\u5728\u81ea\u5df1\u5199\u7684\u4ee3\u7801\u4e0a\u9762Weaving\u4e00\u4e9b\u5176\u4ed6\u7684\u4e1c\u897f\u8fdb\u53bb\u3002</p> <p>\u7531\u4e8eSpringBoot\u5c31\u4e00\u4e2aservlet\uff0c\u6240\u4ee5Filter\u9002\u5408\u4e8e\u505a\u5168\u5c40\u7684\uff0c\u6bd4\u5982\u4ee3\u7801\u6539\u4e3aUTF-8\uff0c\u5224\u65adIP\u6765\u6e90\u6bd4\u5bf9\u9ed1\u540d\u5355\u7b49\u7b49\u3002Fiter\u4e3b\u8981\u662f\u8981\u5b9e\u73b0doFilter\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u4f20\u5165\u7684\u53c2\u6570\u6709request\u3001response\u3001chain\u3002\u52a1\u5fc5\u8bb0\u5f97\u6700\u540e\u8981chain.doFilter(request,response)\uff0c\u5426\u5219\u5c31\u662f\u628arequest\u5361\u65ad\u5728doFilter\u8fd9\u91cc\u4e86\u3002</p> <p>Interceptor\u5219\u9002\u5408\u66f4\u52a0\u7cbe\u7ec6\u7c92\u5ea6\u7684\u3002\u56e0\u4e3aSpring MVC\u3001Spring Boot\u662f\u4e00\u4e2aServlet\u591a\u4e2acontroller\u3002URL mapping\u4e00\u822c\u5728Controller\u5c42\u9762\u4e0a\u5b9e\u73b0\u3002\u6240\u4ee5Interceptor\u5b9e\u73b0\u4e86\u5728URL\u4e0a\u9762\u8fdb\u884c\u62e6\u622a\u3002</p> <p>Interceptor\u53ef\u4ee5\u9009\u62e9\u5b9e\u73b0preHandle()\u3001postHandle()\u548cafterCompletion()\u8fd9\u51e0\u4e2a\u65b9\u6cd5\u3002\u8fd9\u4e9b\u662f\u5728request\u88ab\u62e6\u622a\u4e4b\u540e\u4e0d\u540c\u9636\u6bb5\u3001\u6761\u4ef6\u6267\u884c\u7684\u3002pre\u8fd9\u4e2a\u80fd\u8bfb\u5230request\u3001response\u548chandler\u3002\u5176\u4e2dhandler\u5c31\u662f\u88ab\u62e6\u622a\u7684Controller\u91cc\u9762\u7684\u65b9\u6cd5\u3002Post\u8fd9\u4e2a\u65b9\u6cd5\u591a\u4e86\u4e00\u4e2acontroller\u8bfb\u5230\u7684modelandview\u53c2\u6570\uff0c\u5982\u679c\u4e0d\u662f\u7a7a\u7684\u8bdd\u53ef\u4ee5\u5728\u4e0a\u9762\u505a\u70b9\u5de5\u4f5c\uff0c\u6bd4\u5982\u52a0\u4e00\u4e2afooter\u4e4b\u7c7b\u3002Interceptor\u5f80\u5f80\u53ea\u7528request\u548cresponse\u4e24\u4e2a\u53c2\u6570\uff0c\u800c\u4e0d\u7ba1handler\u90a3\u4e2a\u53c2\u6570\u3002</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring%20Cloud%20Stream/","title":"Spring Cloud Stream","text":"<p>Middleware\uff1a\u4e2d\u95f4\u4ef6\uff0c\u76ee\u524d\u53ea\u652f\u6301RabbitMQ\u548cKafka</p> <p>Binder\uff1aBinder\u662f\u5e94\u7528\u4e0e\u6d88\u606f\u4e2d\u95f4\u4ef6\u4e4b\u95f4\u7684\u5c01\u88c5\uff0c\u76ee\u524d\u5b9e\u73b0\u4e86Kafka\u548cRabbitMQ\u7684Binder\uff0c\u901a\u8fc7Binder\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u4e0e\u4e2d\u95f4\u4ef6\u8fdb\u884c\u8fde\u63a5\u3002</p> <p>\u6587\u6863</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Web%E5%AE%B9%E5%99%A8/","title":"Web\u5bb9\u5668","text":"<ul> <li>Servlet: \u6309 Servlet \u89c4\u8303\u7f16\u5199\u7684\u4e00\u4e2a\u7c7b\uff0c\u8fd0\u884c\u5728 Servlet \u5bb9\u5668\u7aef\u3002Servlet\u6ca1\u6709main\u65b9\u6cd5\uff0c\u4e0d\u80fd\u72ec\u7acb\u8fd0\u884c\uff0c\u5b83\u5fc5\u987b\u88ab\u90e8\u7f72\u5230Servlet\u5bb9\u5668\u4e2d\uff0c\u7531\u5bb9\u5668\u6765\u5b9e\u4f8b\u5316\u548c\u8c03\u7528 Servlet\u7684\u65b9\u6cd5\uff08\u5982doGet()\u548cdoPost()\uff09\uff0cServlet\u5bb9\u5668\u5728Servlet\u7684\u751f\u547d\u5468\u671f\u5185\u5305\u5bb9\u548c\u7ba1\u7406Servlet</li> <li>Web \u5bb9\u5668\uff1a\u7ba1\u7406\u548c\u8fd0\u884cServlet/JSP\u7684\u5bb9\u5668</li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Web%E5%AE%B9%E5%99%A8/#tomcat","title":"TomCat","text":"<p>WhyName? It's reportedly called 'Tomcat' web server\u00a0because the founder saw it as an animal that could take care of and fend for itself</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/auth/","title":"auth","text":"<p>\u4f7f\u7528\u5305\uff1a</p> <p>spring-security</p> <p>Sa-token: \u6388\u6743\u7801\uff0c\u5b58\u5165 authentication \u5e76\u7eed\u7b7e\u3001\u5931\u6548\u3001\u7ba1\u7406 session etc</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/","title":"basic","text":""},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#core-concepts","title":"core concepts","text":"<ul> <li>Inversion of Control: The principle of object-oriented programming, in which objects of the program do not depend on concrete implementations of other objects, but may have knowledge about their abstractions (interfaces) for later interaction.</li> <li>Dependency injection: This is a situation where we introduce an element of one class into another. In practice, DI is implemented by passing parameters to the constructor or using setters. Libraries that implement this approach are also called IoC containers.</li> <li>Aspect Oriented programing: A programing paradigm that allows you to distinguish cross-through(functional) functionality in application. In OOP, the key unit is the class, while in AOP, the key element is the aspect. DI helps to separate application classes into separate modules, and AOP helps to separate cross-cutting concerns from the objects they affect.</li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#spring-boot-starters","title":"Spring Boot Starters","text":"<p>Spring-boot-starter-web</p> <pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;!--\u63d0\u4f9b\u4e86REST--&gt;\n&lt;/dependency&gt;\n</code></pre> <p>\u4e00\u822c\u4e00\u4e9b\u5de5\u5177\uff0c\u53ef\u4ee5\u65b0\u63d0\u4f9b\u63a5\u53e3\u4f5c\u4e3a\u5bf9\u5e94\u4fe1\u606f\u7684\u5c55\u793a\uff1a\u53eb\u4f5c provide endpoints\u3001exposing endpoints</p> <p>spring-boot-starter-data-rest</p> <p>spring-boot-starter-security</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#files","title":"files","text":"<ul> <li>src</li> <li>main<ul> <li>Java</li> <li>resources</li> <li>application.properties</li> <li>static</li> <li>templates</li> </ul> </li> <li>test</li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#run","title":"run","text":"<ul> <li>Run</li> <li>mvn package // target</li> <li> <p>java -jar xxx.jar(will start ebedded server)</p> </li> <li> <p>spring-boot-maven-pluginmvnw: maven wrapper</p> </li> <li>mvn xxx: run</li> <li>mvn clean xxx:run</li> <li>mvn package</li> <li>java -jar xxx.jar</li> <li>Central vs Local Maven Repo // \u672c\u673a\u4e5f\u662f\u4e2d\u592e\u5b58\u50a8\u7684\u5440</li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#ioc","title":"IoC","text":"<p>Inversion of Control: The approach of outsourcing the construction and management of objects.</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#component-scanning","title":"Component Scanning","text":"<p><code>@SpringBootApplication(scanBasePackages = {\"com.lianmeihu.platform\", \"com.lianmeihu.common\"})</code></p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#autowired","title":"Autowired","text":"<ul> <li>constructor injection</li> <li>field injection</li> </ul> <p>\u591a\u4e2a implementations \u65f6:</p> <ul> <li>\u4f7f\u7528 <code>@Qualifier()</code></li> <li>@Primary //only one</li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#bean","title":"Bean","text":""},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#initialization","title":"Initialization","text":"<p>@Lazy or global config // \u53ea\u662f\u542f\u52a8\u5feb\u4e00\u70b9\uff0c\u6ca1\u6709\u5fc5\u8981\uff0c\u6240\u4ee5\u9ed8\u8ba4 disabled \u7684</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#bean-scopes","title":"Bean Scopes","text":"<ul> <li>Deafult scope is signleton.</li> <li>prototype: create a new bean for each container request/injection.</li> <li>request</li> <li>session</li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#lifecycle-methods","title":"LifeCycle methods","text":"<ul> <li>@PostConstruct</li> <li>@PreDestroy</li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#java-config-bean","title":"Java Config Bean","text":"<p>@Configuration+@Bean: Make an existing third-party class available to Spring framework.\u65b9\u6cd5\u624b\u52a8\u8fd4\u56de new Class(). Method name \u5c31\u662f bean id.</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#model-view-controller","title":"Model View Controller","text":"<p>The MVC Design</p> <ul> <li>Model: Data needed by view</li> <li>Controller: Glues the Model and View together. Take the data and sends them to view. //Populates view with meaningful data.</li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#controller","title":"Controller","text":""},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#annotations","title":"Annotations","text":"<ul> <li> <p>@Component: \u57fa\u7840\u6ce8\u89e3\uff0c\u8868\u793a\u4e00\u4e2a JavaBean \u53ef\u4ee5\u88ab\u6ce8\u5165\u5230 Spring \u5bb9\u5668\u4e2d</p> </li> <li> <p>@Controller: Converts a class into a controller. Controller is the entry point of all web request.</p> </li> <li>@GetMapping: Converts a method into handler method</li> <li>@PostMapping</li> <li>@RequestParam</li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#model","title":"Model","text":"<ul> <li>POJO data: plain old Java Object</li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#three-layer","title":"Three layer","text":"<p>CRUD: Create Read Update Delete data</p> <p>Controller - Service - Repository(crud and data access OR DAO = Data Access Object = \u6570\u636e\u5b58\u53d6\u5bf9\u8c61)</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#beans-and-dependency-injection","title":"Beans and Dependency Injection","text":"<ul> <li>Bean: an object that lives inside the Spring container( A @Component class is automatically discovered by Spring). The Spring container manages the object for you.</li> <li>Tight Coupling: Creating an object(dependency) inside of a dependent class. Makes it impossible to unit testing.</li> <li>Dependency: An object that another class depends on.</li> <li>@Component @Service @Repository @Bean</li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#testing","title":"Testing","text":""},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#unit-test-no-spring-container","title":"unit test - no spring container","text":"<p>@Mock: creates a mock.</p> <p>@InjectMocks: creates an real instance of the class and injects the mocks that are created with the @Mock annotations into this instance.</p> <pre><code>Grade grade = new Grade(\"Harry\", \"Potions\", \"C-\");\nwhen(gradeRepository.getGrades()).thenReturn(Arrays.asList(grade));\nwhen(gradeRepository.getGrade(0)).thenReturn(grade);\n</code></pre> <p>\u6240\u4ee5 mockito \u8fd8\u662f junit \u4f1a\u8986\u76d6\u6389\u539f\u6765\u7684\u8fd9\u4e9b\u65b9\u6cd5\u54af~</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#integration-test","title":"integration test","text":""},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#databse","title":"Databse","text":"<p>ORM: Object Relational Mapping</p> <pre><code>public interface GradeRepository extends CrudRepository&lt;Grade, Long&gt; {\n     Optional&lt;Grade&gt; findByStudentIdAndCourseId(Long studentId, Long courseId);\n     List&lt;Grade&gt; findByStudentId(Long studentId);\n     List&lt;Grade&gt; findByCourseId(Long courseId);\n     @Transactional\n     void deleteByStudentIdAndCourseId(Long studentId, Long courseId);\n}\n</code></pre> <p>\u60f3\u60f3 go \u91cc\u9762\u9488\u5bf9\u8fd9\u79cd Crud \u7684\u5b9a\u5f0f\u662f\u600e\u4e48\u505a\u7684</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#authentication","title":"Authentication","text":"<p>Authentication v.s. Authorization</p> <ul> <li>Baisc auth: pass name+pw</li> <li>JWT(Token based auth): pass a token</li> <li>JSON Web Token: Header.Payload.Secret</li> <li>JWT Authorization</li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#exception","title":"Exception","text":"<p>@RestControllerAdvice \u7c7b: \u76f8\u5f53\u4e8e interceptor</p> <pre><code>@ControllerAdvice\npublic class XXHandler{\n  @ExceptionHandler(MsgWithoutRException.class)\n  @ResponseStatus(HttpStatus.OK)\n  public ResponseEntity&lt;XxxErrorResponse&gt; handleException(xxxException exc) {\n\n  }\n}\n</code></pre>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#aop","title":"AOP","text":"<p>\u5173\u4e8e AOP: Aspect(cross-cutting logic)-Oriented Programming  \u5728\u6211\u770b\u6765\u66f4\u50cf mixin \u8fd9\u4e2a\u6982\u5ff5, AOP \u91cc\u7684 Join Point \u5c31\u662f\u8981\u4f7f\u7528\u7684\u4f4d\u7f6e</p> <p>Two AOP Frameworks: </p> <ul> <li> <p>Spring AOP: Only supports method-level join points; run-time weaving;</p> </li> <li> <p>AspectJ: Support all; Compile-time weaving, requires extra compilation step.</p> </li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#in-practice","title":"In practice","text":""},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#_1","title":"\u914d\u7f6e","text":"<p>resource/xxx.properties, \u901a\u8fc7 @Configuration \u6ce8\u89e3\u6ce8\u5165</p> <p>mybatis v.s. hibernate: \u534a\u81ea\u52a8ORM vs \u5168\u81ea\u52a8ORM</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/basic/#jackson-data-binding","title":"Jackson data binding","text":"<p>Jackson \u4e5f\u662f\u81ea\u52a8\u7684 call setxxx methods.</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/mybatis-plus/","title":"mybatis-plus","text":"<ul> <li>mybatis \u2013 MyBatis 3 | XML \u6620\u5c04\u5668</li> <li>MyBatis-Plus\u4f7f\u7528\u8be6\u89e3-\u817e\u8baf\u4e91\u5f00\u53d1\u8005\u793e\u533a-\u817e\u8baf\u4e91</li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/mybatis-plus/#_1","title":"\u57fa\u7840","text":""},{"location":"Backend/Java%E7%B3%BB%E5%88%97/mybatis-plus/#andor","title":"and\u4e0eor","text":"<pre><code>@GetMapping(\"/AandB\")\npublic Object AandB(){\n    //SELECT id,name,age,sex FROM student WHERE (name = ? AND age = ?)\n    List&lt;Student&gt; list = studentService.lambdaQuery().eq(Student::getName, \"1\").eq(Student::getAge, 1).list();\n    return list;\n}\n\n@GetMapping(\"/AorB\")\npublic Object AorB(){\n    //SELECT id,name,age,sex FROM student WHERE (name = ? OR age = ?)\n    List&lt;Student&gt; list = studentService.lambdaQuery().eq(Student::getName, \"1\").or().eq(Student::getAge, 12).list();\n    return list;\n}\n\n@GetMapping(\"/A_or_CandD\")\npublic Object A_or_CandD() {\n    //SELECT id,name,age,sex FROM student WHERE (name = ? OR (name = ? AND age = ?)) \n  List&lt;Student&gt; list =\n      studentService\n          .lambdaQuery()\n          .eq(Student::getName, \"1\")\n          .or(wp -&gt; wp.eq(Student::getName, \"1\").eq(Student::getAge, 12))\n          .list();\n  return list;\n}\n\n@GetMapping(\"/AandB_or_CandD\")\npublic Object AandB_or_CandD() {\n// SELECT id,name,age,sex FROM student WHERE ((name = ? AND age = ?) OR (name = ? AND age = ?)) \nList&lt;Student&gt; list =\n    studentService\n        .lambdaQuery()\n        .and(wp -&gt; wp.eq(Student::getName, \"1\").eq(Student::getAge, 12))\n        .or(wp -&gt; wp.eq(Student::getName, \"1\").eq(Student::getAge, 12))\n        .list();\nreturn list;\n}\n\n@GetMapping(\"/complex\")\npublic Object complex() {\n// SELECT * FROM student WHERE ((name &lt;&gt; 1) OR (name = 1 AND (age IS NULL OR age &gt;= 11)))\nList&lt;Student&gt; list =\n    studentService\n        .lambdaQuery()\n        .and(wp -&gt; wp.ne(Student::getName, \"1\"))\n        .or(\n            wp -&gt;\n                wp.eq(Student::getName, \"1\")\n                    .and(wpp -&gt; wpp.isNull(Student::getAge).or().ge(Student::getAge, 11)))\n        .list();\nreturn list;\n}\n</code></pre>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/mybatis-plus/#misc","title":"misc","text":"<ul> <li>\u9ed8\u8ba4\u8bbe\u7f6e\u503c\u65f6 null \u90fd\u4e0d\u4f1a\u88ab\u8bbe\u7f6e</li> </ul> <p>https://blog.csdn.net/qq_39403545/article/details/85334250</p> <p>\u4f46\u662f\u5b9e\u4f53\u7c7b type \u4e3a int \u7684\u8981\u6539\u4e3a Integer, \u540e\u8005\u624d\u53ef\u4ee5\u4e3a null. \u5982\u679c type \u662f int \u4f9d\u7136\u4f1a\u88ab\u66f4\u65b0\u4e0a\u9ed8\u8ba4\u503c 0</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/mybatis-plus/#sql-join","title":"\u81ea\u5b9a\u4e49 sql join \u67e5\u8be2","text":"<p>BaseMapper</p> <p>1) \u53cc\u8868\u7528\u4e00\u6837\u7684\u4e3b\u952e id, \u5982\u4f55\u65b9\u4fbf\u7684\u83b7\u53d6\u6570\u636e\u5e76\u6574\u5408</p> <ul> <li>xml \u91cc\u5b9a\u4e49\u539f\u751f join</li> <li>\u5206\u5f00\u83b7\u53d6</li> <li>\u4e3b\u8868=&gt;detailList\uff0c\u526f\u8868=&gt; Map <li>\u6784\u9020 dto \u65f6\u4e00\u822c\u53c8\u6709\u5982\u4e0b\u505a\u6cd5\uff1a<ul> <li>\u4ee5\u4e3b\u8868\u67e5\u8be2\u7ed3\u679c\u4e3a\u4e3b\u4f53\uff1a\u904d\u5386 detailList, \u53ef\u4ee5\u901a\u8fc7 <code>BeanUtil.copyProperties</code> \u65b9\u4fbf\u7684\u6784\u9020 dto\uff0c\u518d\u6309 id \u5339\u914d\u5bf9\u5e94\u526f\u8868 detail \u4e0a\u7684\u4fe1\u606f\uff0c\u624b\u52a8\u8865\u5145\u503c\u3002</li> </ul> </li>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/mybatis-plus/#notes","title":"Notes","text":""},{"location":"Backend/Java%E7%B3%BB%E5%88%97/mybatis-plus/#_2","title":"\u6211\u5e38\u7528\u7684\u65b9\u6cd5","text":"<ul> <li>selectMap \u5f88\u65b9\u4fbf\uff01</li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/request/","title":"request","text":"<p>Servlet \u662f\u4e00\u7ec4\u5173\u4e8e\u8bf7\u6c42\u7684 API \u4e0e interfaces. springmvc(spring \u5904\u7406 web \u5c42\u8bf7\u6c42\u7684\u6a21\u5757) \u662f\u5bf9\u4e8e Servlet \u7684\u5b9e\u73b0.</p> <p>Tomcat\u670d\u52a1\u5668 = Web\u670d\u52a1\u5668\uff08\u9759\u6001\u8d44\u6e90\uff09 + Servlet/JSP\u5bb9\u5668\uff08Web\u5bb9\u5668\uff1a\u52a8\u6001\u8d44\u6e90\u8f6c\u6362\u4e3a\u9759\u6001\u8d44\u6e90\uff09SpringBoot \u5728\u542f\u52a8\u8fc7\u7a0b\u4e2d\uff0c\u4e5f\u5305\u62ec\u4e86 Tomcat \u7684\u542f\u52a8\uff08ref\uff09</p> <p>\u5173\u4e8e JavaContainer: a kind of component that holds and manages other components.</p> <ol> <li>Your code does not have any main() or \"wait here for a request logic\" - the container starts up and configures itself and then eventually initialises your code and delivers requests</li> <li>Your code may be one of many similar classes (servlets in a servlet container, EJBs in an EJB container) whose instances have life-cycles to be controlled by the container.</li> <li>Requests are delivered to your servlet or EJB via some protocol defined by the container, using resources (eg. HTTP ports) controlled by the container, and possibly with considerable infrastructure cleverness (look at the HTTP request queues, EJB load balancing etc.)</li> <li>There's considerable added value from functions such as transaction control and security management - as the container is calling your code it is well-placed to implement this unintrusively.</li> <li>The main container functionality is very much IOC, the container calls your code at appropriate times, however the container will also provide useful APIs that your code can call (eg. to get Servlet or EJB Contexts.</li> </ol> <p>(---&gt; \u8c46\u77e5\u8bc6\uff1aTomcat \u7684\u547d\u4ee4\u884c\u540d\u5b57\u53eb Catalina \u5b83\u5b9e\u9645\u4e0a\u662f\u52a0\u5dde\u7684 Santa Catalina Island \u5723\u5361\u5854\u5229\u5a1c\u5c9b\u3002\u4f5c\u8005\u8bf4\u4ed6\u5199\u4ee3\u7801\u7684\u65f6\u5019\u732b\u54aa\u603b\u662f\u56f4\u7740\u663e\u793a\u5668\u8f6c \u518d\u52a0\u4e0a\u4ed6\u4e00\u76f4\u5f88\u60f3\u53bb\u90a3\u4e2a\u5c9b\u5c7f\u65c5\u6e38haha)</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/request/#securityholder","title":"SecurityHolder","text":"<p>\u63d0\u4f9b\u5f53\u524d\u4f7f\u7528\u4eba\u7684\u5b89\u5168\u4e0a\u4e0b\u6587</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/request/#_1","title":"\u4fdd\u5b58\u8bbe\u7f6e","text":"<p>\u9ed8\u8ba4 ThreadLocal\uff08\u4e00\u4e2a\u8bf7\u6c42\u7ebf\u7a0b\uff09, \u5982\u679c\u6d89\u53ca\u5230\u5fae\u670d\u52a1\u548c\u670d\u52a1\u8f6c\u53d1\u7684\uff0c\u7528 MODE_INHERITABLETHREADLOCAL\uff08\u5b50\u7ebf\u7a0b\u4e5f\u53ef\uff09</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/resources/","title":"resources","text":"<p>https://juejin.cn/course/payment/6844733814560784397?scrollMenuIndex=2</p> <p>Oooops, this one is really good! https://pdai.tech/md/java/jvm/java-jvm-debug-idea.html</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/%E4%B8%87%E8%83%BD%20demo/","title":"\u4e07\u80fd demo","text":"<ul> <li>ResponseAdvice<ul> <li>spring\u5207\u9762\u63a5\u53e3ResponseBodyAdvice\u7684\u5206\u6790\u548c\u4f7f\u7528-CSDN\u535a\u5ba2</li> <li>spring\u6ce8\u89e3@ControllerAdvice\u7684\u539f\u7406\u5206\u6790\u548c\u4f7f\u7528_controlleradvice\u539f\u7406-CSDN\u535a\u5ba2</li> </ul> </li> <li>\u5bf9\u63a5\u4e0d\u540c\u7b2c\u4e09\u65b9</li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/","title":"\u5f02\u5e38\u5904\u7406","text":"<ul> <li>Spring \u63d0\u4f9b</li> <li>@RestControllerAdvice</li> <li>@ExceptionHandler</li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/%E6%8E%92%E9%94%99%E8%AE%B0%E5%BD%95/","title":"\u6392\u9519\u8bb0\u5f55","text":"<p>\u60c5\u51b5\uff1a\u4ee3\u7801\u90e8\u7f72\u4e86\u6ca1\u751f\u6548 1. \u68c0\u67e5 jenkins \u90e8\u7f72 2. \u68c0\u67e5 k8s \u65e5\u5fd7</p> <pre><code>kubectl get deployments # \u53d1\u73b0\u670d\u52a1\u6ca1\u542f\u52a8\u6210\u529f\nkubectl get pods \nkubectl logs byteox-basic-deployment-7d6fb7c9cf-f4qns -c byteox-basic # \u5230 mybatis-plus \u90a3\u4e00\u6b65\u5c31\u6253\u6b62\u4e86\uff0c\u4e5f\u6ca1\u6709\u540e\u7eed\u8f93\u51fa\n</code></pre> <ol> <li>\u67e5\u770b\u65e5\u5fd7     \u53d1\u73b0 service \u5c42\u6709\u4e00\u4e2a @PostConstruct \u6ce8\u91ca\u7684\u65b9\u6cd5\uff0c\u91cc\u9762\u6267\u884c myBatisPlus \u62a5\u9519\u5566\u3002@PostConstruct \u4f1a\u5728\u5b9e\u4f8b\u5316\u540e bean \u6267\u884c\uff0c\u63a5\u7740 controller \u5c42\u5c31\u4f1a\u62a5\u201cUnsatisfiedDependencyException &gt; caused by creating bean with name xxx \u4e86\u201d</li> <li>\u5fc3\u5f97\uff1a\u65e5\u5fd7\u5f88\u91cd\u8981\u3002\u5e76\u4e14\u6ce8\u610f\u533a\u5206\uff0c\u5bb9\u5668\u7684\u65e5\u5fd7\uff0c\u4ee5\u53ca\u670d\u52a1\u7684\u65e5\u5fd7\u3002\u4e24\u8005\u53ef\u80fd\u4e00\u90e8\u5206\u4f1a\u5410\u7ed9\u5bb9\u5668\uff0c\u53e6\u4e00\u90e8\u5206\u5219\u6253\u5165\u4e86\u670d\u52a1\u7684\u65e5\u5fd7\u6587\u4ef6\u3002\u4e24\u4e2a\u5730\u65b9\u90fd\u9700\u8981\u67e5\u770b\uff0c\u6bd4\u8f83\u5272\u88c2\u3002\uff08\u4ee5\u53ca\uff0c\u5bb9\u5668\u662f\u600e\u4e48\u77e5\u9053\u6211\u7684\u670d\u52a1 \u542f\u52a8 \u4e86\u8fd9\u4e00\u56de\u4e8b\u7684\uff1f\u5b83\u5e94\u8be5\u53ef\u4ee5\u77e5\u9053\u6211\u670d\u52a1\u6253\u5f00\u7684\u6240\u6709\u7aef\u53e3\u5427\uff09</li> </ol>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B7%A5%E5%85%B7/","title":"\u6570\u636e\u5e93\u5de5\u5177","text":"<p>ORM \u7684\u5b9a\u4e49\uff1a\u80fd\u5b9e\u73b0\u5bf9\u8c61\u5230\u6570\u636e\u7684\u6620\u5c04\u3002\u5c24\u5176\u80fd\u81ea\u52a8\u5904\u7406\u5efa\u8868\u548c\u65b0\u5b57\u6bb5\u7684\u52a0\u5165\u3002</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B7%A5%E5%85%B7/#jpa-hibernate","title":"JPA \u4e0e Hibernate","text":"<p>Object-centric. JPA is ORM Specification which is implemented by Hibernate, Toplink, Eclipselink. Focuses on entities.</p> <p>\u9762\u5411\u5bf9\u8c61\uff1a</p> <p>\u9762\u5411\u5bf9\u8c61\u8003\u8651\u7684\u662f\u5bf9\u8c61\u7684\u6574\u4e2a\u751f\u547d\u5468\u671f\u5305\u62ec\u5728\u5bf9\u8c61\u7684\u521b\u5efa\u3001\u6301\u4e45\u5316\u3001\u72b6\u6001\u7684\u6539\u53d8\u548c\u884c\u4e3a\u7b49\uff0c\u5bf9\u8c61\u7684\u6301\u4e45\u5316\u53ea\u662f\u5bf9\u8c61\u7684\u4e00\u79cd\u72b6\u6001\uff1b</p> <p>\u9762\u5411\u5bf9\u8c61\u66f4\u5f3a\u8c03\u5bf9\u8c61\u72b6\u6001\u7684\u5c01\u88c5\u6027\uff0c\u5bf9\u8c61\u5c01\u88c5\u81ea\u5df1\u7684\u72b6\u6001\uff08\u6216\u6570\u636e\uff09\u4e0d\u5141\u8bb8\u5916\u90e8\u5bf9\u8c61\u968f\u610f\u4fee\u6539\uff0c\u53ea\u66b4\u9732\u4e00\u4e9b\u5408\u6cd5\u7684\u884c\u4e3a\u65b9\u6cd5\u4f9b\u5916\u90e8\u5bf9\u8c61\u8c03\u7528\uff1b</p> <p>\u4f7f\u7528\u4e0a\uff1a\u9700\u8981\u9884\u5148\u5bf9\u4fdd\u5b58\u7684\u5b9e\u4f53\u6709\u8f83\u9ad8\u7684\u62bd\u8c61\uff0c\u66f4\u5173\u6ce8\u4e1a\u52a1\u6a21\u578b</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B7%A5%E5%85%B7/#mybatis","title":"Mybatis","text":"<p>Database-centric . Focus on SQL query.</p> <p>\u9762\u5411\u5173\u7cfb\uff1a</p> <p>\u9762\u5411\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7684\u6982\u5ff5\u5219\u66f4\u5173\u6ce8\u6570\u636e\u7684\u9ad8\u6548\u5b58\u50a8\u548c\u8bfb\u53d6\uff1b</p> <p>\u800c\u5173\u7cfb\u578b\u6570\u636e\u5e93\u5219\u662f\u5f00\u653e\u7684\uff0c\u53ef\u4ee5\u4f9b\u7528\u6237\u968f\u610f\u8bfb\u53d6\u548c\u4fee\u6539\u5173\u7cfb\uff0c\u5e76\u53ef\u4ee5\u548c\u5176\u4ed6\u8868\u4efb\u610f\u7684\u5173\u8054\uff08\u53ea\u8981sql\u6b63\u786e\u5141\u8bb8\u7684\u60c5\u51b5\u4e0b\uff09\uff1b</p> <p>\u4f7f\u7528\u4e0a\uff1a\u53ef\u80fd\u6bd4\u8f83\u597d\u5b9a\u4f4d sql \u4e4b\u7c7b\u7684</p> <p>\u5b9e\u9645\u60c5\u51b5\u4e0b\uff0c\u53d1\u73b0\u56fd\u5185\u8fd8\u662f mybatis \u53ca\u5176\u53d8\u79cd\u7528\u5f97\u66f4\u591a\uff0c\u4e5f\u5c31\u662f\u56de\u5230\u4e86 sqlHelper \u7684\u8def\u5f84\u3002</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B7%A5%E5%85%B7/#mybatis-plus","title":"mybatis-plus","text":"<p>\u6211\u548b\u611f\u89c9\u5b83\u662f\u7ed3\u5408\u4e86\u4e24\u8005\u7684\u4f18\u70b9\uff0c\u7b97\u662f\u5565\u90fd\u80fd\u6253\u7684\u5462 \ud83e\udd23</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/%E6%B5%8B%E8%AF%95%E4%B8%8Edebug/","title":"\u6d4b\u8bd5\u4e0edebug","text":""},{"location":"Backend/Java%E7%B3%BB%E5%88%97/%E6%B5%8B%E8%AF%95%E4%B8%8Edebug/#_1","title":"\u6d4b\u8bd5","text":"<pre><code>@SpringBootTest  \nclass DataScreenTaskTest {\n\n    // \u4f9d\u8d56\u6ce8\u5165\n    @Resource  \n    private DataScreenTask dataScreenTask;\n\n    @Test  \n    public void testListLmhCarParks() {\n        //...\n    }\n}\n</code></pre>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/%E6%B5%8B%E8%AF%95%E4%B8%8Edebug/#remote-debug","title":"remote debug","text":"<p>\u6ce8\u610f\u8fdc\u7a0b\u542f\u52a8\u65f6\u7684\u53c2\u6570\uff1a<code>-Xdebug -Xrunjdwp:transport=dt_socket,suspend=n,server=y,address=${debug_port}</code>  `</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/AOP/","title":"AOP","text":"<p>\u672c\u8d28\uff1a\u4ee3\u7406\u6a21\u5f0f \u5728Java\u5e73\u53f0\u4e0a\uff0c\u5bf9\u4e8eAOP\u7684\u7ec7\u5165\uff0c\u67093\u79cd\u65b9\u5f0f\uff1a 1. \u7f16\u8bd1\u671f\uff1a\u5728\u7f16\u8bd1\u65f6\uff0c\u7531\u7f16\u8bd1\u5668\u628a\u5207\u9762\u8c03\u7528\u7f16\u8bd1\u8fdb\u5b57\u8282\u7801\uff0c\u8fd9\u79cd\u65b9\u5f0f\u9700\u8981\u5b9a\u4e49\u65b0\u7684\u5173\u952e\u5b57\u5e76\u6269\u5c55\u7f16\u8bd1\u5668\uff0cAspectJ\u5c31\u6269\u5c55\u4e86Java\u7f16\u8bd1\u5668\uff0c\u4f7f\u7528\u5173\u952e\u5b57aspect\u6765\u5b9e\u73b0\u7ec7\u5165\uff1b 2. \u7c7b\u52a0\u8f7d\u5668\uff1a\u5728\u76ee\u6807\u7c7b\u88ab\u88c5\u8f7d\u5230JVM\u65f6\uff0c\u901a\u8fc7\u4e00\u4e2a\u7279\u6b8a\u7684\u7c7b\u52a0\u8f7d\u5668\uff0c\u5bf9\u76ee\u6807\u7c7b\u7684\u5b57\u8282\u7801\u91cd\u65b0\u201c\u589e\u5f3a\u201d\uff1b 3. \u8fd0\u884c\u671f\uff1a\u76ee\u6807\u5bf9\u8c61\u548c\u5207\u9762\u90fd\u662f\u666e\u901aJava\u7c7b\uff0c\u901a\u8fc7JVM\u7684\u52a8\u6001\u4ee3\u7406\u529f\u80fd\u6216\u8005\u7b2c\u4e09\u65b9\u5e93\u5b9e\u73b0\u8fd0\u884c\u671f\u52a8\u6001\u7ec7\u5165\u3002 \u6700\u7b80\u5355\u7684\u65b9\u5f0f\u662f\u7b2c\u4e09\u79cd\uff0cSpring\u7684AOP\u5b9e\u73b0\u5c31\u662f\u57fa\u4e8eJVM\u7684\u52a8\u6001\u4ee3\u7406\u3002\u7531\u4e8eJVM\u7684\u52a8\u6001\u4ee3\u7406\u8981\u6c42\u5fc5\u987b\u5b9e\u73b0\u63a5\u53e3\uff0c\u5982\u679c\u4e00\u4e2a\u666e\u901a\u7c7b\u6ca1\u6709\u4e1a\u52a1\u63a5\u53e3\uff0c\u5c31\u9700\u8981\u901a\u8fc7CGLIB\u6216\u8005Javassist\u8fd9\u4e9b\u7b2c\u4e09\u65b9\u5e93\u5b9e\u73b0\u3002</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/AOP/#_1","title":"\u5b9e\u73b0","text":"<p>\u7c7b\u4f3c\u4e8e\uff1a</p> <pre><code>public UserServiceAopProxy extends UserService {\n    private UserService target;\n    private LoggingAspect aspect;\n\n    public UserServiceAopProxy(UserService target, LoggingAspect aspect) {\n        this.target = target;\n        this.aspect = aspect;\n    }\n\n    public User login(String email, String password) {\n        // \u5148\u6267\u884cAspect\u7684\u4ee3\u7801:\n        aspect.doAccessCheck();\n        // \u518d\u6267\u884cUserService\u7684\u903b\u8f91:\n        return target.login(email, password);\n    }\n\n    public User register(String email, String password, String name) {\n        aspect.doAccessCheck();\n        return target.register(email, password, name);\n    }\n\n    ...\n}\n</code></pre> <p>\u8fd9\u4e9b\u662f Spring \u5bb9\u5668\u542f\u52a8\u65f6\u4e3a\u6211\u4eec\u81ea\u52a8\u521b\u5efa\u7684\u6ce8\u5165\u4e86Aspect\u7684\u5b50\u7c7b\uff0c\u5b83\u53d6\u4ee3\u4e86\u539f\u59cb\u7684<code>UserService</code>\uff08\u539f\u59cb\u7684<code>UserService</code>\u5b9e\u4f8b\u4f5c\u4e3a\u5185\u90e8\u53d8\u91cf\u9690\u85cf\u5728<code>UserServiceAopProxy</code>\u4e2d\uff09</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/AOP/#_2","title":"\u62e6\u622a\u5668","text":"<ul> <li>@Before\uff1a\u8fd9\u79cd\u62e6\u622a\u5668\u5148\u6267\u884c\u62e6\u622a\u4ee3\u7801\uff0c\u518d\u6267\u884c\u76ee\u6807\u4ee3\u7801\u3002\u5982\u679c\u62e6\u622a\u5668\u629b\u5f02\u5e38\uff0c\u90a3\u4e48\u76ee\u6807\u4ee3\u7801\u5c31\u4e0d\u6267\u884c\u4e86\uff1b</li> <li>@After\uff1a\u8fd9\u79cd\u62e6\u622a\u5668\u5148\u6267\u884c\u76ee\u6807\u4ee3\u7801\uff0c\u518d\u6267\u884c\u62e6\u622a\u5668\u4ee3\u7801\u3002\u65e0\u8bba\u76ee\u6807\u4ee3\u7801\u662f\u5426\u629b\u5f02\u5e38\uff0c\u62e6\u622a\u5668\u4ee3\u7801\u90fd\u4f1a\u6267\u884c\uff1b</li> <li>@AfterReturning\uff1a\u548c@After\u4e0d\u540c\u7684\u662f\uff0c\u53ea\u6709\u5f53\u76ee\u6807\u4ee3\u7801\u6b63\u5e38\u8fd4\u56de\u65f6\uff0c\u624d\u6267\u884c\u62e6\u622a\u5668\u4ee3\u7801\uff1b</li> <li>@AfterThrowing\uff1a\u548c@After\u4e0d\u540c\u7684\u662f\uff0c\u53ea\u6709\u5f53\u76ee\u6807\u4ee3\u7801\u629b\u51fa\u4e86\u5f02\u5e38\u65f6\uff0c\u624d\u6267\u884c\u62e6\u622a\u5668\u4ee3\u7801\uff1b</li> <li>@Around\uff1a\u80fd\u5b8c\u5168\u63a7\u5236\u76ee\u6807\u4ee3\u7801\u662f\u5426\u6267\u884c\uff0c\u5e76\u53ef\u4ee5\u5728\u6267\u884c\u524d\u540e\u3001\u629b\u5f02\u5e38\u540e\u6267\u884c\u4efb\u610f\u62e6\u622a\u4ee3\u7801\uff0c\u53ef\u4ee5\u8bf4\u662f\u5305\u542b\u4e86\u4e0a\u9762\u6240\u6709\u529f\u80fd\u3002</li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/AOP/#aop_1","title":"\u4f7f\u7528\u6ce8\u89e3\u88c5\u914d AOP","text":"<pre><code>@Aspect  \n@Component  \npublic class TenantIgnoreAspect {  \n\n    @Pointcut(value = \"@annotation(com.byteox.core.aop.IgnoreTenant)\")  \n    private void pointcut() {}  \n\n\n    @Around(value = \"pointcut() &amp;&amp; @annotation(ig)\")  \n    public Object around(ProceedingJoinPoint point, IgnoreTenant ig) throws Throwable {  \n        boolean already = TenantHolder.isIgnore();  \n        if (!already) {  \n            // \u8bbe\u7f6e\u4e3a\u5ffd\u7565TenantId  \n            TenantHolder.setIgnore();  \n        }\n    }\n}\n</code></pre>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/AOP/#_3","title":"\u7ecf\u5178\u95ee\u9898","text":"<ul> <li>\u5982\u679c\u539f class \u4e0a\u6709\u521d\u59cb\u5316\u7684\u6210\u5458\u53d8\u91cf\uff0c\u4f7f\u7528 AOP \u5e76\u4e14\u901a\u8fc7\u5b9e\u4f8b\u53bb\u8bbf\u95ee\u8be5\u6210\u5458\u53d8\u91cf\u65f6\uff0c\u5f88\u53ef\u80fd\u662f null. <ul> <li>\u539f\u56e0\u5927\u6982\u662f AOP \u7684\u5b9e\u73b0\u539f\u7406\u662f\u4f7f\u7528 CGLIB \u751f\u6210 Proxy\uff0c\u8fd9\u4e2a\u7c7b\u4e3a\u4e86\u8ba9\u8c03\u7528\u65b9\u83b7\u5f97<code>UserService</code>\u7684\u5f15\u7528\uff0c\u5b83\u5fc5\u987b\u7ee7\u627f\u81ea<code>UserService</code>\u3002\u7136\u540e\uff0c\u8be5\u4ee3\u7406\u7c7b\u4f1a\u8986\u5199\u6240\u6709<code>public</code>\u548c<code>protected</code>\u65b9\u6cd5\uff0c\u5e76\u5728\u5185\u90e8\u5c06\u8c03\u7528\u59d4\u6258\u7ed9\u539f\u59cb\u7684<code>UserService</code>\u5b9e\u4f8b\u3002\u4f46\u662f\uff0c\u5e76\u6ca1\u6709\u521d\u59cb\u5316proxy\u7684\u6210\u5458\u53d8\u91cf\uff0c\u56e0\u4e3aproxy\u7684\u76ee\u7684\u662f\u4ee3\u7406\u65b9\u6cd5\u3002</li> </ul> </li> </ul> <p>\u6240\u4ee5\uff1a 1. \u8bbf\u95ee\u88ab\u6ce8\u5165\u7684Bean\u65f6\uff0c\u603b\u662f\u8c03\u7528\u65b9\u6cd5\u800c\u975e\u76f4\u63a5\u8bbf\u95ee\u5b57\u6bb5\uff1b 2. \u7f16\u5199Bean\u65f6\uff0c\u5982\u679c\u53ef\u80fd\u4f1a\u88ab\u4ee3\u7406\uff0c\u5c31\u4e0d\u8981\u7f16\u5199<code>public final</code>\u65b9\u6cd5\u3002</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/Basic/","title":"Basic","text":"<p>JavaBean \u7684\u5386\u53f2\uff1a\u539f\u6765\u662f\u4ece Java GUI\u7684\u53ef\u89c6\u5316\u7f16\u7a0b\uff08\uff09\u800c\u6765\u3002 <code>&lt;jsp:useBean id='xxx' class='xxx.xxx.xxx.\u4f60\u7684java\u7c7b\u540d'&gt;&lt;/jsp:useBean&gt;</code> <code>&lt;jsp:getProperty propety='\u5c5e\u6027\u540d' name='\u4f60\u7684java\u7c7b\u540d'&gt;&lt;/jsp:getProperty&gt;</code></p> <p>he Spring framework(which is commonly known as Spring) has emerged as a solution to all these complications. </p> <p>@ControllerAdvice \u4e3b\u8981\u7528\u6765\u5904\u7406\u5168\u5c40\u6570\u636e\uff0c\u4e00\u822c\u642d\u914d@ExceptionHandler\u3001@ModelAttribute\u3001@InitBinder\u4f7f\u7528\uff0c\u5728\u4e09\u4e2a\u5e94\u7528\u573a\u666f\u4e2d\u4f7f\u7528\uff1a\u5168\u5c40\u5f02\u5e38\u5904\u7406\u3001\u5168\u5c40\u6570\u636e\u7ed1\u5b9a\u548c\u5168\u5c40\u6570\u636e\u9884\u5904\u7406\u3002</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/Factories/","title":"Factories","text":""},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/Factories/#meta-infspringfactories","title":"META-INF/spring.factories","text":"<p>Spring Factories\u662f\u4e00\u79cd\u7c7b\u4f3c\u4e8eJava SPI\u7684\u673a\u5236\uff0c\u5b83\u5728META-INF/spring.factories\u6587\u4ef6\u4e2d\u914d\u7f6e\u63a5\u53e3\u7684\u5b9e\u73b0\u7c7b\u540d\u79f0\uff0c\u7136\u540e\u5728\u7a0b\u5e8f\u4e2d\u8bfb\u53d6\u8fd9\u4e9b\u914d\u7f6e\u6587\u4ef6\u5e76\u5b9e\u4f8b\u5316\u3002</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/IoC%E5%AE%B9%E5%99%A8/","title":"IoC\u5bb9\u5668","text":"<p>Inversion of Control.</p> <p>Spring\u7684\u6838\u5fc3\u5c31\u662f\u63d0\u4f9b\u4e86\u4e00\u4e2aIoC\u5bb9\u5668\uff0c\u5b83\u53ef\u4ee5\u7ba1\u7406\u6240\u6709\u8f7b\u91cf\u7ea7\u7684JavaBean\u7ec4\u4ef6\uff0c\u63d0\u4f9b\u7684\u5e95\u5c42\u670d\u52a1\u5305\u62ec\u7ec4\u4ef6\u7684\u751f\u547d\u5468\u671f\u7ba1\u7406\u3001\u914d\u7f6e\u548c\u7ec4\u88c5\u670d\u52a1\u3001AOP\u652f\u6301\uff0c\u4ee5\u53ca\u5efa\u7acb\u5728AOP\u57fa\u7840\u4e0a\u7684\u58f0\u660e\u5f0f\u4e8b\u52a1\u670d\u52a1\u7b49\u3002 - \u5c06\u7ec4\u4ef6\u7684\u521b\u5efa+\u914d\u7f6e\u4e0e\u7ec4\u4ef6\u7684\u4f7f\u7528\u76f8\u5206\u79bb - \u5171\u4eab\u7ec4\u4ef6</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/IoC%E5%AE%B9%E5%99%A8/#_1","title":"\u57fa\u7840","text":"<ul> <li>BeanFactory: a basic IoC container interface which a parent interface of ApplicationContext.</li> </ul> <pre><code>@SpringBootApplication\n// Main class\npublic class DemoApplication \n{\n// Main driver method\n  public static void main(String[] args) \n  {\n    // Creating object in a spring container (Beans)\n    BeanFactory factory = new ClassPathXmlApplicationContext(\"bean-factory-demo.xml\");\n    Student student = (Student) factory.getBean(\"student\"); // \u6216\u8005\u662f context.getBean(\"name\", Class&lt;T&gt; requiredType)\n\n    System.out.println(student);\n  }\n}\n</code></pre> <ul> <li>ApplicationContext: is the sub-interface of BeanFactory. \u5b83 provides \u4e00\u4e9b enterprise-specific functionalities, \u6240\u4ee5\u5f00\u53d1\u8005\u4e00\u822c\u4f7f\u7528\u8fd9\u4e2a\u3002<ul> <li>\u5728\u52a0\u8f7d\u4e0a\uff0cBeanFactory\u5728\u521d\u59cb\u5316\u5bb9\u5668\u7684\u65f6\u5019\uff0c\u5e76\u672a\u5b9e\u4f8b\u5316Bean\uff0c\u76f4\u5230\u9700\u8981\u4f7f\u7528\u67d0\u4e2aBean\uff08\u8c03\u7528getBean()\u65b9\u6cd5\uff09 \u65f6\u624d\u5b9e\u4f8b\u76ee\u6807Bean\uff0c\u5bfc\u81f4\u4e0d\u80fd\u53ca\u65f6\u53d1\u73b0\u53ef\u80fd\u5b58\u5728\u7684\u4e00\u4e9b\u914d\u7f6e\u4e0a\u7684\u95ee\u9898\u3002ApplicationContext \u5219\u5728\u521d\u59cb\u5316\u5e94\u7528\u4e0a\u4e0b\u6587\u65f6\u5c31\u5b9e\u4f8b\u5316\u6240\u6709\u5355\u5b9e\u4f8b\u7684Bean\uff0c\u6709\u52a9\u4e8e\u53d1\u73b0\u914d\u7f6e\u95ee\u9898\u53ca\u63d0\u9ad8\u8fd0\u884c\u65f6\u901f\u5ea6\uff1b\u4f46\u5b83\u5360\u7528\u5185\u5b58\u7a7a\u95f4\uff0c\u914d\u7f6e\u7684Bean\u8f83\u591a\u65f6\uff0c\u542f\u52a8\u4f1a\u6bd4\u8f83\u6162\u3002</li> </ul> </li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/IoC%E5%AE%B9%E5%99%A8/#bean","title":"\u88c5\u914d Bean","text":"<pre><code>ApplicationContext context = new ClassPathXmlApplicationContext(\"application.xml\");\n</code></pre> <p>Spring\u5bb9\u5668\u5c31\u662f<code>ApplicationContext</code>\uff0c\u5b83\u662f\u4e00\u4e2a\u63a5\u53e3\uff0c\u6709\u5f88\u591a\u5b9e\u73b0\u7c7b\uff0c\u5982<code>ClassPathXmlApplicationContext</code>\uff0c\u8868\u793a\u5b83\u4f1a\u81ea\u52a8\u4ececlasspath\u4e2d\u67e5\u627e\u6307\u5b9a\u7684XML\u914d\u7f6e\u6587\u4ef6\u3002</p> <p>\u83b7\u5f97\u4e86<code>ApplicationContext</code>\u7684\u5b9e\u4f8b\uff0c\u5c31\u83b7\u5f97\u4e86IoC\u5bb9\u5668\u7684\u5f15\u7528\u3002\u4ece<code>ApplicationContext</code>\u4e2d\u53ef\u4ee5\u6839\u636eBean\u7684ID\u6216\u8005Bean\u7684\u7c7b\u578b\u83b7\u53d6Bean\u7684\u5f15\u7528\u3002</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/IoC%E5%AE%B9%E5%99%A8/#interface-enum","title":"\u53ef\u4ee5\u6ce8\u5165\u7ed9 interface \u6216\u8005 enum \u5417\uff1f","text":"<p>\u4e0d\u884c\uff0c\u56e0\u4e3a\u5b83\u4eec\u662f final. First of all,\u00a0<code>public static</code>\u00a0non-<code>final</code>\u00a0fields are\u00a0evil. Spring does not allow injecting to such fields for a reason.</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/IoC%E5%AE%B9%E5%99%A8/#annotation","title":"Annotation","text":"<p>\u7b80\u5316 xml \u7684\u914d\u7f6e</p> <pre><code>@Configuration\n@ComponentScan\npublic class AppConfig {\n    public static void main(String[] args) {\n        ApplicationContext context = new AnnotationConfigApplicationContext(AppConfig.class);\n        UserService userService = context.getBean(UserService.class);\n        User user = userService.login(\"bob@example.com\", \"password\");\n        System.out.println(user.getName());\n    }\n}\n</code></pre>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/IoC%E5%AE%B9%E5%99%A8/#bean_1","title":"\u5b9a\u5236 Bean","text":""},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/IoC%E5%AE%B9%E5%99%A8/#scope","title":"scope","text":"<ul> <li>\u9ed8\u8ba4\uff1a\u5355\u4f8b</li> <li>\u539f\u578b\uff1a\u6211\u4eec\u6bcf\u6b21\u8c03\u7528<code>getBean(Class)</code>\uff0c\u5bb9\u5668\u90fd\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u5b9e\u4f8b\uff0c\u8fd9\u79cdBean\u79f0\u4e3aPrototype\uff08\u539f\u578b\uff09\uff0c\u5b83\u7684\u751f\u547d\u5468\u671f\u663e\u7136\u548cSingleton\u4e0d\u540c\u3002\u58f0\u660e\u4e00\u4e2aPrototype\u7684Bean\u65f6\uff0c\u9700\u8981\u6dfb\u52a0\u4e00\u4e2a\u989d\u5916\u7684<code>@Scope</code>\u6ce8\u89e3</li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/IoC%E5%AE%B9%E5%99%A8/#_2","title":"\u53ef\u9009\u6ce8\u5165","text":"<p><code>@Autowird(required = false)</code></p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/IoC%E5%AE%B9%E5%99%A8/#bean_2","title":"\u7b2c\u4e09\u65b9Bean","text":"<pre><code>@Configuration\n@ComponentScan\npublic class AppConfig {\n    // \u521b\u5efa\u4e00\u4e2aBean:\n    @Bean\n    ZoneId createZoneId() {\n        return ZoneId.of(\"Z\");\n    }\n}\n</code></pre>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/IoC%E5%AE%B9%E5%99%A8/#_3","title":"\u521d\u59cb\u5316\u548c\u9500\u6bc1","text":"<p>\u5728Bean\u7684\u521d\u59cb\u5316\u548c\u6e05\u7406\u65b9\u6cd5\u4e0a\u6807\u8bb0<code>@PostConstruct</code>\u548c<code>@PreDestroy</code></p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/IoC%E5%AE%B9%E5%99%A8/#_4","title":"\u522b\u540d","text":"<p>\u53ef\u4ee5\u7528<code>@Bean(\"name\")</code>\u6307\u5b9a\u522b\u540d\uff0c\u4e5f\u53ef\u4ee5\u7528<code>@Bean</code>+<code>@Qualifier(\"name\")</code>\u6307\u5b9a\u522b\u540d\u3002</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/IoC%E5%AE%B9%E5%99%A8/#resource","title":"Resource\u4e0e\u6ce8\u5165\u914d\u7f6e","text":"<ul> <li>resource: <code>@Value(\"classpath:/logo.txt\")</code></li> <li>\u6ce8\u5165\u914d\u7f6e\uff1a\u5bb9\u5668\u52a0\u6ce8\u89e3 <code>@PropertySource(\"app.properties\")</code></li> </ul>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/IoC%E5%AE%B9%E5%99%A8/#_5","title":"\u6761\u4ef6\u88c5\u914d","text":"<p>\u5728\u8fd0\u884c\u7a0b\u5e8f\u65f6\uff0c\u52a0\u4e0aJVM\u53c2\u6570<code>-Dspring.profiles.active=test</code>\u5c31\u53ef\u4ee5\u6307\u5b9a\u4ee5<code>test</code>\u73af\u5883\u542f\u52a8\u3002 - \u5728 Bean \u4e0a\u6ce8\u89e3\uff1a<code>@Profile(\"test\")</code></p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/IoC%E5%AE%B9%E5%99%A8/#_6","title":"\u5b9e\u8df5","text":""},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/IoC%E5%AE%B9%E5%99%A8/#applicationcontext","title":"\u83b7\u53d6 ApplicationContext \u5b9e\u4f8b","text":"<p>\u5b9e\u73b0 ApplicationContextAware \u63a5\u53e3</p> <pre><code>public class SpringContextHolder implements ApplicationContextAware {\n     @Override\n    public void setApplicationContext(ApplicationContext appContext) {\n        applicationContext = appContext;\n    }\n}\n</code></pre>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/%E6%95%B0%E6%8D%AE%E5%BA%93/","title":"\u6570\u636e\u5e93","text":""},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/%E6%95%B0%E6%8D%AE%E5%BA%93/#_2","title":"\u58f0\u660e\u5f0f\u4e8b\u52a1","text":"<p>\u539f\u7406\uff0c\u4f9d\u7136\u662f\u81ea\u52a8\u521b\u5efa\u4e86 Bean \u7684 Proxy:</p> <pre><code>public class UserService$$EnhancerBySpringCGLIB extends UserService {\n    UserService target = ...\n    PlatformTransactionManager txManager = ...\n\n    public User register(String email, String password, String name) {\n        TransactionStatus tx = null;\n        try {\n            tx = txManager.getTransaction(new DefaultTransactionDefinition());\n            target.register(email, password, name);\n            txManager.commit(tx);\n        } catch (RuntimeException e) {\n            txManager.rollback(tx);\n            throw e;\n        }\n    }\n    ...\n}\n</code></pre> <p>\u4e8b\u52a1\u7684\u4f20\u64ad\u4e0e\u5408\u5e76\uff1a - \u5229\u7528\u4e86 ThreadLocal\uff0c\u6765\u5224\u65ad\u5f53\u524d\u7ebf\u7a0b\u662f\u5426\u5df2\u6709\u4e8b\u52a1\u3002 \u5e38\u89c1\u7684\u4e8b\u52a1\u4f20\u64ad\u7ea7\u522b\uff08propogation)\uff1a - \u9ed8\u8ba4 <code>REQUIRED</code> - <code>SUPPORTS</code>\uff1a\u8868\u793a\u5982\u679c\u6709\u4e8b\u52a1\uff0c\u5c31\u52a0\u5165\u5230\u5f53\u524d\u4e8b\u52a1\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u90a3\u4e5f\u4e0d\u5f00\u542f\u4e8b\u52a1\u6267\u884c\u3002\u8fd9\u79cd\u4f20\u64ad\u7ea7\u522b\u53ef\u7528\u4e8e\u67e5\u8be2\u65b9\u6cd5\uff0c\u56e0\u4e3aSELECT\u8bed\u53e5\u65e2\u53ef\u4ee5\u5728\u4e8b\u52a1\u5185\u6267\u884c\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u9700\u8981\u4e8b\u52a1\uff1b - <code>MANDATORY</code>\uff1a\u8868\u793a\u5fc5\u987b\u8981\u5b58\u5728\u5f53\u524d\u4e8b\u52a1\u5e76\u52a0\u5165\u6267\u884c\uff0c\u5426\u5219\u5c06\u629b\u51fa\u5f02\u5e38\u3002\u8fd9\u79cd\u4f20\u64ad\u7ea7\u522b\u53ef\u7528\u4e8e\u6838\u5fc3\u66f4\u65b0\u903b\u8f91\uff0c\u6bd4\u5982\u7528\u6237\u4f59\u989d\u53d8\u66f4\uff0c\u5b83\u603b\u662f\u88ab\u5176\u4ed6\u4e8b\u52a1\u65b9\u6cd5\u8c03\u7528\uff0c\u4e0d\u80fd\u76f4\u63a5\u7531\u975e\u4e8b\u52a1\u65b9\u6cd5\u8c03\u7528\uff1b</p>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/Spring/%E6%95%B0%E6%8D%AE%E5%BA%93/#dao","title":"\u4f7f\u7528 DAO","text":"<p>Data Access Object\uff0c\u5c31\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u6570\u636e\u8bbf\u95ee\u6a21\u5f0f\u3002</p> <pre><code>public abstract class AbstractDao&lt;T&gt; extends JdbcDaoSupport {\n    private String table;\n    private Class&lt;T&gt; entityClass;\n    private RowMapper&lt;T&gt; rowMapper;\n\n    public AbstractDao() {\n        // \u83b7\u53d6\u5f53\u524d\u7c7b\u578b\u7684\u6cdb\u578b\u7c7b\u578b:\n        this.entityClass = getParameterizedType();\n        this.table = this.entityClass.getSimpleName().toLowerCase() + \"s\";\n        this.rowMapper = new BeanPropertyRowMapper&lt;&gt;(entityClass);\n    }\n\n    public T getById(long id) {\n        return getJdbcTemplate().queryForObject(\"SELECT * FROM \" + table + \" WHERE id = ?\", this.rowMapper, id);\n    }\n\n    public List&lt;T&gt; getAll(int pageIndex) {\n        int limit = 100;\n        int offset = limit * (pageIndex - 1);\n        return getJdbcTemplate().query(\"SELECT * FROM \" + table + \" LIMIT ? OFFSET ?\",\n                new Object[] { limit, offset },\n                this.rowMapper);\n    }\n\n    public void deleteById(long id) {\n        getJdbcTemplate().update(\"DELETE FROM \" + table + \" WHERE id = ?\", id);\n    }\n    ...\n}\n</code></pre> <p>\u8fd9\u6837\uff0c\u6bcf\u4e2a\u5b50\u7c7b\u5c31\u81ea\u52a8\u83b7\u5f97\u4e86\u8fd9\u4e9b\u901a\u7528\u65b9\u6cd5\uff1a</p> <pre><code>@Component\n@Transactional\npublic class UserDao extends AbstractDao&lt;User&gt; {\n    // \u5df2\u7ecf\u6709\u4e86:\n    // User getById(long)\n    // List&lt;User&gt; getAll(int)\n    // void deleteById(long)\n}\n\n@Component\n@Transactional\npublic class BookDao extends AbstractDao&lt;Book&gt; {\n    // \u5df2\u7ecf\u6709\u4e86:\n    // Book getById(long)\n    // List&lt;Book&gt; getAll(int)\n    // void deleteById(long)\n}\n</code></pre>"},{"location":"Backend/Java%E7%B3%BB%E5%88%97/test/refs/","title":"refs","text":"<p>Springboot\u4e2dJUNIT5\u5355\u5143\u6d4b\u8bd5\uff0bMockito\u8be6\u89e3_springboot junit5 mock-CSDN\u535a\u5ba2 Spring Boot - \u7528JUnit 5\u6784\u5efa\u5b8c\u7f8e\u7684Spring Boot\u6d4b\u8bd5\u5957\u4ef6-\u817e\u8baf\u4e91\u5f00\u53d1\u8005\u793e\u533a-\u817e\u8baf\u4e91</p>"},{"location":"Backend/Node%E7%B3%BB%E5%88%97/eggjs/","title":"eggjs","text":"<p>\u4e0a\u624b\u5f88\u7b80\u5355 \u5f88\u53ef\u4ee5\u89c4\u8303\u6574\u4e2a\u9879\u76ee\u7684\u7ed3\u6784</p> <p>\u4f18\u52bf\uff1a - \u5c06service, controller\u90fd\u6ce8\u5165\u5230\u4e86this\u4e2d\uff0c\u907f\u514d\u4e86\u5f15\u6765\u5f15\u53bb - \u5bf9koa\u7684\u826f\u597d\u517c\u5bb9</p> <p>\u5bf9\u6211\u6765\u8bf4\u7684\u8d34\u5fc3\u7ec6\u8282\uff1a\u5bf9\u6bcf\u4e2a\u5f15\u7528\u7684\u5bf9\u8c61\u90fd\u81ea\u52a8\u751f\u6210\u4e86types \u5728vs code\u91cc\u53ef\u4ee5\u65b9\u4fbf\u7684\u8ffd\u6eaf\u56de\u53bb</p> <p>\u6211\u559c\u6b22\u7528\u7684\u63d2\u4ef6\uff1a - egg-validate\uff1a\u5f88\u65b9\u4fbf\u7684\u6821\u9a8c\u5165\u53c2 \u4e0d\u5bf9\u76f4\u63a5\u62a5\u9519 - egg-cors\uff1a\u5bf9\u4e8e\u81ea\u5df1\u7528\u7684\u9879\u76ee\u800c\u8a00\u6ca1\u5927\u5fc5\u8981\u7528\u3002\u5b83\u7684\u597d\u5904\u662f\u6709\u6307\u5b9a\u767d\u540d\u5355\uff0c\u4f46\u662f\u6709\u4e2a\u4e0d\u8db3\u662f\u6307\u5b9a\u7684''\u5c31\u662fAccess-control-allow-origin\u7684''\uff0c\u6ca1\u6cd5\u6839\u636e\u8bf7\u6c42\u6765\u6e90\u52a8\u6001set-origin\u3002\u6240\u4ee5\u540e\u6765\u8fd8\u662f\u81ea\u5df1\u5199\u7684\u3002</p>"},{"location":"Backend/Node%E7%B3%BB%E5%88%97/koa/","title":"koa","text":""},{"location":"Backend/Node%E7%B3%BB%E5%88%97/koa/#_1","title":"\u4e07\u80fd\u5f00\u5c40","text":"<pre><code>const fs = require('fs');\nconst Koa = require('koa');\nconst Router = require('@koa/router');\nconst cors = require('@koa/cors');\nconst { koaBody } = require('koa-body');\n\nconst app = new Koa();\nconst router = new Router();\n\napp\n  .use(koaBody())\n  .use(router.routes())\n  .use(router.allowedMethods())\n  .use(cors({\n    origin: '*'\n  }))\n  .use(require('koa-static')(__dirname + '/static'));\n\nrouter.post('/msg', async (ctx, next) =&gt; {\n    ctx.body = JSON.stringify({ data: 'hello' })\n    await next();\n  });\n\napp.listen(3000, ()=&gt;{\n  console.log('app listen')\n});\n</code></pre>"},{"location":"Backend/Node%E7%B3%BB%E5%88%97/koa/#source","title":"\u76f8\u5173 source","text":"<ul> <li>koa-compose https://github.com/koajs/compose middleware\u7684\u5de5\u4f5c\u539f\u7406.   \u4e00\u4e2a\u7b80\u5316\u7248\u7684 <code>koa-compose</code></li> </ul> <p>```javascript     function compose(middlewares){       return function(ctx) {         function dispatch(i) {           i+=1;           const fn = middlewares[i]           try {             return fn ? Promise.resolve(fn(ctx, dispatch.bind(null, i+ 1))) : Promise.resolve();           } catch (e) {             return Promise.reject(err)           }         }</p> <pre><code>    return dispatch(0);\n  }\n</code></pre> <p>}   ```</p> <ul> <li>node-delegates \u7528\u6765\u5c06context.request\u59d4\u6258\u5728context\u8eab\u4e0a etc</li> </ul> <p>https://juejin.im/post/5b9339136fb9a05d3634ba13</p> <p>\u4f5c\u7528\uff1a\u63a7\u5236\u5bf9\u8c61\u7684\u5c5e\u6027\u6743\u9650\uff0c\u6bd4\u5982\u4e0d\u80fd\u624b\u52a8\u8c03\u7528res.end()\u3002\u5176\u5b9e\u5c31\u662f\u505a\u5bf9\u8c61\u4ee3\u7406\uff0c\u5185\u5730\u91cc\u901a\u8fc7Object.prototype.defineGetter()\u548cObject.prototype.defineSetter()\u5de5\u4f5c\u3002\u4f7f\u7528\u573a\u666f\u5982\u4e0b\uff1a</p> <pre><code>delegate(proto, 'response')\n  .method('attachment')\n  .method('redirect')\n  .method('remove')\n  .method('vary')\n  .method('set')\n  .method('append')\n  .method('flushHeaders')\n  .access('status')\n  .access('message')\n  .access('body')\n  .access('length')\n  .access('type')\n  .access('lastModified')\n  .access('etag')\n  .getter('headerSent')\n  .getter('writable');\n</code></pre> <ul> <li>on-finished https://github.com/jshttp/on-finished</li> </ul>"},{"location":"Backend/Node%E7%B3%BB%E5%88%97/koa/#http-vs-express-vs-koa","title":"http vs express vs koa","text":"<ul> <li>\u8bf7\u6c42\u65f6</li> </ul> <p>h: res.write()\u53ef\u4ee5write\u597d\u591a\u6b21 \u5ba2\u6237\u7aef\u6536\u5230\u7684\u6570\u636e\u4f1a\u53e0\u52a0 \u6700\u540e\u7528res.end()\u7ed3\u5c3e</p> <p>e: res.send()\u3002\u4f46\u662fget\u91cc\u8981res.end() post\u91cc\u4e0d\u5fc5</p> <p>k: ctx.body='xxx'\u3002\u53ef\u4ee5\u4fee\u6539\uff01\u4ee5\u6700\u540e\u7684ctx.body\u4e3a\u51c6\uff01</p> <ul> <li>Koa \u7684\u4e2d\u95f4\u4ef6\u6d0b\u8471\u5708\uff1a\u6240\u6709\u7684\u8bf7\u6c42\u7ecf\u8fc7\u4e00\u4e2a\u4e2d\u95f4\u4ef6\u7684\u65f6\u5019\u90fd\u4f1a\u6267\u884c\u4e24\u6b21\uff0c\u65b9\u4fbf\u5b9e\u73b0\u540e\u7f6e\u5904\u7406\u903b\u8f91</li> </ul>"},{"location":"Backend/Node%E7%B3%BB%E5%88%97/pm2/","title":"pm2","text":"<p>Defnition: A process manager. With a built-in load balancer.  Keep applications alive forever(works as a daemon), reloads them without downtime, helps you to manage application logging, monitoring, and clustering.</p>"},{"location":"Backend/Node%E7%B3%BB%E5%88%97/pm2/#mode","title":"mode","text":"<p>fork mode: a basic process spawning.</p> <p>cluster mode: <code>pm2 start index.js -i max</code> use cluster api behind the scene. Only works with node application. \u6ce8\u610f\u8fd9\u65f6\u9700\u8981\u7528\u5206\u5e03\u5f0f\u7f13\u5b58\u54e6</p>"},{"location":"Backend/Node%E7%B3%BB%E5%88%97/pm2/#with-containers","title":"with containers","text":"<ul> <li>\u7f51\u4e0a\u4e5f\u6709\u8ba8\u8bba\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u4f7f\u7528 docker\uff0c\u6309\u9053\u7406\u662f\u65e0\u9700\u518d\u4f7f\u7528 pm2 \u7684</li> <li>\u5173\u4e8e\u5728 docker \u4e2d\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u53c2\u8003 BretFisher/node-docker-good-defaults: sample node app for Docker examples</li> </ul>"},{"location":"Backend/misc/Grafana/","title":"Grafana","text":"<p>configure-nginx</p>"},{"location":"Backend/misc/Prometheus/","title":"Prometheus","text":""},{"location":"Backend/misc/Prometheus/#_1","title":"\u57fa\u7840\u6982\u5ff5","text":"<ul> <li>\u6570\u636e\u6a21\u578b\uff1a</li> <li>\u65f6\u5e8f\u7d22\u5f15\uff1a\u540d\u5b57(Metric) \u4e00\u7ec4 key/value \u6807\u7b7e \u5982<code>http_requests_total{method=\"POST\"}</code></li> <li>\u65f6\u5e8f\u7c7b\u578b(Metric types): Counter Guage(\u77ac\u65f6\u503c) Histogram(\u4e00\u6bb5\u8303\u56f4\u5185\u91c7\u6837) Summary(\u540c\u91c7\u6837)</li> </ul>"},{"location":"Backend/misc/Prometheus/#config","title":"config","text":"<p>\u6587\u6863\u5730\u5740</p> <p>scrape_config:</p> <pre><code>job_name: &lt;job_name&gt;\nstatic_configs:\n  [ - &lt;static_config&gt; ... ]\n</code></pre> <p>static_configs:</p> <pre><code># The targets specified by the static config.\ntargets:\n  [ - '&lt;host&gt;' ]\n\n# Labels assigned to all metrics scraped from the targets.\nlabels:\n  [ &lt;labelname&gt;: &lt;labelvalue&gt; ... ]\n</code></pre> <p>\u6d4b\u8bd5 config:</p> <pre><code>promtool check config /etc/prometheus/prometheus.yml\n</code></pre>"},{"location":"Backend/misc/Prometheus/#promql","title":"PromQL","text":"<pre><code>http_requests_total{code=\"200\"}\nhttp_requests_total{code!=\"200\"}  // \u8868\u793a\u67e5\u8be2 code \u4e0d\u4e3a \"200\" \u7684\u6570\u636e\nhttp_requests_total{code=\uff5e\"2..\"} // \u8868\u793a\u67e5\u8be2 code \u4e3a \"2xx\" \u7684\u6570\u636e\nhttp_requests_total{code!\uff5e\"2..\"} // \u8868\u793a\u67e5\u8be2 code \u4e0d\u4e3a \"2xx\" \u7684\u6570\u636e\nfloor(avg(http_requests_total{code=\"200\"}))\nceil(avg(http_requests_total{code=\"200\"}))\n</code></pre>"},{"location":"Backend/misc/Protobuf/","title":"Protobuf","text":"<p>Google\u51fa\u54c1\u7684\u5e8f\u5217\u5316\u6846\u67b6\u3002\u5e8f\u5217\u5316\u7684\u7ed3\u679c\u4f53\u79ef\u8981\u6bd4XML\u3001JSON\u5c0f\u5f88\u591a\uff0cXML\u548cJSON\u7684\u63cf\u8ff0\u4fe1\u606f\u592a\u591a\u4e86\uff0c\u5bfc\u81f4\u6d88\u606f\u8981\u5927\uff1b\u6b64\u5916Portobuf\u8fd8\u4f7f\u7528\u4e86Varint \u7f16\u7801\uff0c\u51cf\u5c11\u6570\u636e\u5bf9\u7a7a\u95f4\u7684\u5360\u7528\u3002</p> <p>\u7ed3\u6784\u5316\u6570\u636e\u88ab\u79f0\u4e3a Message.</p> <p>\u901a\u8fc7 protobuf \u7f16\u7801\u7684\u4e8c\u8fdb\u5236\u6570\u636e\u4e0d\u76f4\u89c2\uff0c\u5bf9\u6bd4 text \u5f62\u5f0f\u7684 http rest api \u66f4\u662f\u3002</p>"},{"location":"Backend/misc/Protobuf/#grpc","title":"grpc","text":"<p>\u5168\u79f0 google rpc. \u636e\u8bf4\u66f4\u5feb\u901f\u3001\u7f16\u7801\u540e\u6570\u636e\u4f53\u79ef\u8d8a\u5c0f\u3002</p>"},{"location":"Backend/misc/Protobuf/#basic","title":"basic","text":"<p>Protocol Buffer Basics: Java | Protocol Buffers Documentation Java Generated Code Guide | Protocol Buffers Documentation <code>protoc --java_out=./src/main/java  ./src/main/resources/proto/demo.proto</code></p> <pre><code>&lt;!-- https://mvnrepository.com/artifact/com.google.protobuf/protobuf-java --&gt;  \n&lt;dependency&gt;  \n    &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;  \n    &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;  \n    &lt;version&gt;3.25.3&lt;/version&gt;  \n&lt;/dependency&gt;  \n\n&lt;!-- https://mvnrepository.com/artifact/com.google.protobuf/protobuf-java-util --&gt;  \n&lt;dependency&gt;  \n    &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;  \n    &lt;artifactId&gt;protobuf-java-util&lt;/artifactId&gt;  \n    &lt;version&gt;3.25.3&lt;/version&gt;  \n&lt;/dependency&gt;\n</code></pre>"},{"location":"Backend/misc/Short%20URL/","title":"Short URL","text":"<p>\u76ee\u7684\uff1a\u77ed\u4fe1\u6216\u5176\u4ed6\u573a\u666f\u4e2d url \u8fc7\u957f\u7684\u95ee\u9898</p> <p>\u5b9e\u8d28\uff1a\u538b\u7f29 url \uff08\u5e76\u4e0d\u7528 \u52a0\u5bc6/\u89e3\u5bc6/md5\uff0c\u8fd9\u6837\u592a\u91cd\u4e86\u3002\u6bd5\u7adf\u6839\u636e\u4efb\u610f hashmap\uff0c\u5373\u53ef\u77e5\u9053 short url \u4e0e\u539f\u59cb url \u7684\u5bf9\u5e94\u5173\u7cfb\uff09</p> <p>\u5b9e\u73b0\u65b9\u6848\uff1a - \u76f4\u63a5\u7528\u539f\u59cb url \u7684 hashid\u3002 - \u5148\u5c06\u539f\u59cb url \u5b58\u50a8\uff0c\u83b7\u53d6 url \u9012\u589e\u5e8f\u5217\u7684 id, \u518d hashid \u6b64 url id\uff0c\u6211\u66f4\u559c\u6b22\u8fd9\u4e00\u79cd\u3002</p> <p>\u538b\u7f29\u65b9\u6848\uff1a - Base62 \u7f16\u7801\uff1a\u79fb\u9664\u4e86\"-_\"\u7684 base64 - \u6210\u719f\u5de5\u5177\u5e93 speps/go-hashids: Go (golang) implementation of http://www.hashids.org     - \u652f\u6301\u6700\u77ed\u957f\u5ea6\uff08id \u5f88\u77ed\u65f6\uff0c\u53ef\u4ee5\u8865\u5145 hashid \u5230\u6307\u5b9a\u957f\u5ea6\uff09     - \u652f\u6301\u81ea\u5b9a\u4e49 hashid \u5b57\u7b26\u96c6\uff08\u5982\u679c\u5bf9 b6 i1 \u8fd9\u4e9b\u6613\u6df7\u6dc6\u5b57\u7b26\u654f\u611f\u7684\u8bdd\uff09 \u4e3a sqids \u7684\u5404\u8bed\u8a00\u5b9e\u73b0\uff1a</p> <p>Sqids\u00a0(pronounced \"squids\") is an open-source library that lets you generate YouTube-looking IDs from numbers. These IDs are short, can be generated from a custom alphabet and are guaranteed to be collision-free.</p>"},{"location":"Backend/misc/canal/","title":"canal","text":""},{"location":"Backend/misc/canal/#_1","title":"\u5404\u7ec4\u4ef6\u4ecb\u7ecd","text":"<ul> <li>canal-server(canal-deploy): \u76f4\u63a5\u76d1\u542cMySQL\u7684binlog\uff0c\u628a\u81ea\u5df1\u4f2a\u88c5\u6210MySQL\u7684\u4ece\u5e93\uff0c\u53ea\u8d1f\u8d23\u63a5\u6536\u6570\u636e\uff0c\u5e76\u4e0d\u505a\u5904\u7406</li> <li>canal-adapter\uff1a\u76f8\u5f53\u4e8ecanal\u7684\u5ba2\u6237\u7aef\uff0c\u4f1a\u4ececanal-server\u4e2d\u83b7\u53d6\u6570\u636e\uff0c\u7136\u540e\u5bf9\u6570\u636e\u8fdb\u884c\u540c\u6b65\uff0c\u5982\u540c\u6b65\u5230 Redis\u3001Elasticsearch\u3002</li> <li>canal-admin\uff1a\u4e3acanal\u63d0\u4f9b\u6574\u4f53\u914d\u7f6e\u7ba1\u7406\u3001\u8282\u70b9\u8fd0\u7ef4\u7b49\u9762\u5411\u8fd0\u7ef4\u7684\u529f\u80fd\uff0c\u63d0\u4f9b\u76f8\u5bf9\u53cb\u597d\u7684WebUI\u64cd\u4f5c\u754c\u9762\uff0c\u65b9\u4fbf\u66f4\u591a\u7528\u6237\u5feb\u901f\u548c\u5b89\u5168\u7684\u64cd\u4f5c\u3002</li> </ul>"},{"location":"Backend/misc/canal/#_2","title":"\u9002\u7528\u573a\u666f","text":"<ul> <li>\u4e0b\u53d1\u4efb\u52a1</li> <li>\u6570\u636e\u5f02\u6784/\u805a\u5408\u67e5\u8be2</li> </ul> <p>ref \u539f\u7406+\u914d\u7f6e+\u5b9e\u6218\uff0cCanal\u4e00\u5957\u5e26\u8d70_ITPUB\u535a\u5ba2</p>"},{"location":"Backend/misc/log/","title":"log","text":"<p>\u76ee\u524d\u9879\u76ee\u91cc\u7528\u7684\u4e09\u677f\u5927\u65a7\u5b50\uff1a</p> <ul> <li>promtail</li> <li>Prometheus</li> <li>Loki</li> </ul> <p>promtail \u662f\u4ee3\u7406\uff0c\u8d1f\u8d23\u6536\u96c6\u65e5\u5fd7\u5e76\u5c06\u5176\u53d1\u9001\u7ed9 loki \u3002</p> <p>Loki \u662f\u4e3b\u670d\u52a1\u5668\uff0c\u8d1f\u8d23\u5b58\u50a8\u65e5\u5fd7\u548c\u5904\u7406\u67e5\u8be2 \u3002</p> <p>Grafana \u7528\u4e8e UI \u5c55\u793a\u3002</p> <p>\u5404\u670d\u52a1\u5668\u901a\u8fc7 promtail\uff0c\u901a\u8fc7 tunnel \u628a log \u6570\u636e\u53d1\u7ed9 loki\u3002</p>"},{"location":"Backend/misc/log/#grafana","title":"\u5347\u7ea7 grafana","text":"<p>\u9047\u5230\u7684\u95ee\u9898\uff1a</p> <p>lsof -i:3000 -&gt; \u77e5\u9053grafana\u6b63\u5728\u5f00\u7740\uff0c\u5e76\u4e14\u5f00\u59cb command \u662f grafana-s</p> <p>ps -fe | grep grafana-s -&gt; \u77e5\u9053\u6709\u6267\u884c <code>./grafana-server</code>\u8fd9\u6761\u547d\u4ee4\uff0c\u4f46\u662f\u5177\u4f53\u662f\u54ea\u91cc\u6267\u884c\u7684\uff1f</p> <p>\u76f8\u5173\u8ba8\u8bba\uff1ahttps://github.com/grafana/grafana/issues/54535</p> <p>https://grafana.com/docs/grafana/latest/setup-grafana/installation/rpm/</p> <ul> <li>Promtail \u8bbe\u7f6e multiline: \u8fd9\u6837\u624d\u80fd\u8ba9\u65e5\u5fd7\u5e73\u53f0\u77e5\u9053\u300c\u6bcf\u4e00\u6761\u300d\u65e5\u5fd7\u7684\u5212\u5206</li> </ul>"},{"location":"Backend/misc/%E5%85%B3%E4%BA%8E%20gracefully%20shutdown/","title":"\u5173\u4e8e gracefully shutdown","text":"<p>A: \u662f\u4e0d\u662f\u4e00\u5b9a\u8981\u81f3\u5c11\u4e24\u4e2a\u670d\u52a1\u624d\u80fd\u5b9e\u73b0\uff1f</p> <p>Go: \u6ce8\u610f\u5185\u90e8\u7684\u4efb\u4f55 go routine, \u4e5f\u8981\u901a\u8fc7\u7c7b\u4f3c wg.Wait() \u7684\u65b9\u5f0f\u5835\u585e\u5728 server \u91cc\u7684\u534f\u7a0b\u624d\u884c</p>"},{"location":"Backend/misc/%E5%85%B3%E4%BA%8E%E6%A1%86%E6%9E%B6%E7%9A%84%20Common%20Sense/","title":"\u5173\u4e8e\u6846\u67b6\u7684 Common Sense","text":"<p>HTTP Web \u6846\u67b6: \u6700\u57fa\u7840\u7684\u4e00\u5c42\uff0c\u6bd4\u5982 koa\u3001gin\u3001spring-web.</p> <p>\u5fae\u670d\u52a1\u6846\u67b6/\u670d\u52a1\u6846\u67b6\uff1a\u5305\u62ec\u4e86mvc\u6216\u662f\u5176\u4ed6\u7ed3\u6784\u5212\u5206(layout), \u5f00\u7bb1\u5373\u7528\u3002\u6bd4\u5982 eggjs\u3001kratos, spring-web boot. \u5b83\u4eec\u5173\u4e8e web \u8bf7\u6c42\u7684\u6838\u5fc3\u4e5f\u662f\u524d\u8005\uff0c\u4f46\u8fd8\u5305\u62ec\u4e86\u5176\u4ed6\u4f17\u591a\u9644\u5c5e\u529f\u80fd\u3002</p> <p>\u50cf\u524d\u7aef\u6846\u67b6\uff0creact\u3001vue \u662f\u6838\u5fc3\uff0c\u800c umi\u3001antd-pro \u662f\u66f4\u4e0a\u5c42\u7684\u5efa\u7b51\u3002</p> <p>\u751f\u6d3b\u4e2d\u4e5f\u5e38\u5e38\u6709\u7c7b\u4f3c\u7684\u7c7b\u6bd4\u3002</p> <p>\u6bd4\u5982\u88c5\u4fee\u53ef\u4ee5\u81ea\u5df1\u4e70\u5b9c\u5bb6\u5bb6\u5177\u3001\u6c34\u69fd\u56de\u6765\u5b89\u88c5\u5e03\u7f6e\uff0c\u4ea6\u53ef\u4ee5\u76f4\u63a5\u8ba2\u8d2d\u5b9c\u5bb6\u5bb6\u5c45\u5957\u88c5/\u6574\u88c5\uff0c\u81ea\u5df1\u518d\u5728\u6574\u88c5\u57fa\u7840\u4e0a\u5fae\u8c03\u3002</p>"},{"location":"Backend/misc/%E5%85%B3%E4%BA%8E%E8%AF%B7%E6%B1%82%E7%9A%84%20Common%20Sense/","title":"\u5173\u4e8e\u8bf7\u6c42\u7684 Common Sense","text":"<p>\u6211\u4e00\u76f4\u5f88\u7ea0\u7ed3\u7528\u54ea\u79cd\u8bed\u8a00\u597d\uff0c\u5f88\u591a\u8bf7\u6c42\u8fdb\u6765\u65f6\uff0c\u7528\u54ea\u79cd\u8bed\u8a00\u54ea\u79cd\u6846\u67b6\u300c\u4e0d\u5835\u300d\u8fd9\u4e2a\u95ee\u9898\u3002\u5176\u5b9e\u53ea\u8981\u4ece\u6700\u4e0b\u5c42\u5f80\u4e0a\u601d\u8003\uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u300c\u5835\u4e0e\u4e0d\u5835\u300d\u4e0d\u5728\u4e8e\u8bed\u8a00\u548c\u6846\u67b6\u672c\u8eab\u3002</p>"},{"location":"Backend/misc/%E5%85%B3%E4%BA%8E%E8%AF%B7%E6%B1%82%E7%9A%84%20Common%20Sense/#_1","title":"\u7b2c\u4e00\u91cd\u8981\u7684","text":"<p>\u5404\u4e2a\u8bed\u8a00\u90fd\u662f\u4f7f\u7528\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684\u63a5\u53e3\uff0c\u6240\u4ee5\u5404\u4e2a\u8bed\u8a00\u7684\u64cd\u4f5c\u6548\u7387\u5dee\u522b\u4e0d\u5927\uff0c\u786c\u8981\u8bf4\u533a\u522b\u5c31\u5728\u4e8e\u5b83\u4eec\u548c\u64cd\u4f5c\u7cfb\u7edf\u80f6\u6c34\u5c42\u4e4b\u95f4\u7684\u5199\u6cd5\u3002\u90a3\u5199\u8d77\u6765\u8d8a\u987a\u624b\u7684\u8bed\u8a00\uff0c\u81ea\u7136\u80f6\u6c34\u4e5f\u9ecf\u5408\u5f97\u8d8a\u539a\u3002\u4f46\u5bf9\u4e8e\u4e1a\u52a1\u573a\u666f\u800c\u8a00\uff0c\u53ef\u4ee5\u4e0d\u8ba1\u3002</p>"},{"location":"Backend/misc/%E5%85%B3%E4%BA%8E%E8%AF%B7%E6%B1%82%E7%9A%84%20Common%20Sense/#_2","title":"\u5e76\u53d1\u548c\u5e76\u884c","text":"<p>\u8d85\u8ba8\u538c\u8fd9\u4e2a\u4e2d\u6587\u7ffb\u8bd1\u963f \u8ba9\u6211\u8131\u53e3\u800c\u51fa\u524d\u603b\u662f\u8981\u6123\u90a3\u4e48\u4e00\u79d2\u949f\u3002\u5982\u679c\u7528\u82f1\u6587 concurrency \u548c parallelism \u5c31\u6ca1\u90a3\u4e48\u5bb9\u6613\u6df7\u4e86\uff01</p> <p>\u603b\u4e4b  \u6709\u51e0\u6838cpu \u53ef\u4ee5\u540c\u65f6\u8dd1\u51e0\u4e2a\u8fdb\u7a0b \u8fd9\u53eb\u5e76\u884c\uff1b\u4e00\u6838cpu \u4ea4\u66ff\u8dd1\u51e0\u4e2a\u8fdb\u7a0b \u8fd9\u53eb\u5e76\u53d1\u3002</p> <p>\u53e6\u5916\uff0c\u8981\u8bb0\u5f97\uff0c\u5e76\u884c\u60c5\u51b5\u4e0b\uff0c\u5904\u7406\u80fd\u529b\u5e76\u6ca1\u6709\u5f97\u5230\u63d0\u5347\u3002\u800c\u5e76\u884c\u662f\u771f\u6b63\u7528\u5230\u591a\u4e2a\u5904\u7406\u5668\u540c\u65f6\u5904\u7406\uff0c\u63d0\u5347\u4e86\u603b\u4f53\u80fd\u529b\u3002\u796d\u51fa\u795e\u56fe\u3002</p> <p></p> <p></p>"},{"location":"Backend/misc/%E5%85%B3%E4%BA%8E%E8%AF%B7%E6%B1%82%E7%9A%84%20Common%20Sense/#_3","title":"\u8fdb\u7a0b\u548c\u7ebf\u7a0b","text":"<p>\u8fd9\u53c8\u662f\u4e00\u7ec4\u7ffb\u8bd1\u5f97\u81ea\u5e26\u96be\u5ea6\u7684\u8bcd\uff0cprocess \u548c thread\u3002\u8fdb\u7a0b\u662f\u64cd\u4f5c\u7cfb\u7edf\u8d44\u6e90\u5206\u914d\u7684\u6700\u5c0f\u5355\u5143\uff0c\u7ebf\u7a0b\u662f\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\u7684\u6700\u5c0f\u5355\u5143\u3002</p> <p>p.s. \u8fd9\u91cc\u63d2\u64ad\u4e00\u6761\u6211\u89c9\u5f97\u5f88\u53ef\u7231\u7684\u8fdb\u7a0b/\u7ebf\u7a0b\u89e3\u91ca\uff01\u4ee5\u540e\u5c31\u8981\u8fd9\u4e48\u6559\u522b\u4eba\uff01ref</p> <p>Here\u2019s an example: I\u2019m writing this article and feel thirsty, I\u2019ll stop typing and drink water. Then start typing again. Now, I\u2019m dealing with two jobs (typing and drinking water) by some time slice, which is said to be concurrent jobs. Point to be noted here is that these two tasks (writing and drinking) are not being done at the same time.</p> <p>When things are being done at the same time it\u2019s called parallelism (Think checking your mobile AND eating chips). So concurrency is dealing with multiple things at once(does not need to be done at the same time) with some time schedule and parallelism(doing multiple things at the same time) is a subset of this.</p> <p>\u7ebf\u7a0b\u662f\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7ed9\u5e94\u7528\u7a0b\u5e8f\u7684\u80fd\u529b\uff0c\u4e00\u822c\u800c\u8a00\uff0c\u7ebf\u7a0b\u5230\u4e86cpu\u5c42\u9762\u7684\u4e5f\u8fd8\u662f\u8fdb\u7a0b\uff08\u5e76\u4e14\u662f\u8f6f\u4e2d\u65ad \u4eceio\u8fdb\u7a0b\u5230\u5e94\u7528\u7a0b\u5e8f\u8fdb\u7a0b\u662f\u786c\u4e2d\u65ad\uff0c\u4f53\u73b0\u5728\u8981\u6267\u884c\u4e2d\u65ad\u7a0b\u5e8f\uff0c\u5207\u6362\u6210\u7528\u6237\u6743\u9650\u4e4b\u7c7b\u7684\u3002\uff09goroutine\u90e8\u5206\u662fgo\u5185\u90e8\u628a\u63a7\u7684\u81ea\u5236\u7ebf\u7a0b\u6982\u5ff5\u3002</p> <p>\u7262\u8bb0\u7ebf\u7a0b\u662f\u5171\u4eab\u53d8\u91cf\u7684\u3002</p> <p>\u53e6\u5916 linux \u901a\u8fc7 <code>ps -T -p [pid]</code>, mac \u901a\u8fc7 <code>ps -M [pid]</code> \u5217\u51fa\u67d0\u8fdb\u7a0b\u7684\u7ebf\u7a0b\u3002</p>"},{"location":"Backend/misc/%E5%85%B3%E4%BA%8E%E8%AF%B7%E6%B1%82%E7%9A%84%20Common%20Sense/#http-request","title":"\u5173\u4e8e\u540c\u65f6\u8fdb\u6765\u5f88\u591a http request","text":"<p>\u8bed\u8a00\u6846\u67b6\u7684\u5e95\u5c42\u90fd\u662f\u4f7f\u7528\u7684\u64cd\u4f5c\u7cfb\u7edf\u7684\u7f51\u7edc\u6a21\u578b socket\u3002\u8fd9\u662f os \u63d0\u4f9b\u7684\u80fd\u529b\uff0c\u5b83\u80fd\u505a\u5230\u5e73\u65f6\u4f11\u7720\u4f7f\u7528\u8005\uff0c\u5728 TCP/IP \u8bf7\u6c42\u8fc7\u6765\u4e14\u4e09\u6b21\u63e1\u624b\u540e\u518d\u548c\u4f7f\u7528\u8005\u8bf4\u6709\u8fde\u63a5\u6765\u4e86\u8bf7\u63a5\u53d7\u3002</p> <pre><code>while(1) {\n    if ( (connfd = accept(listenfd, (struct sockaddr*)NULL, NULL)) == -1) {\n       printf(\"accept socket error:%s(errno:%d)\\n\", strerror(errno), errno);\n       continue;\n    }\n\n    n = recv(connfd, buff, MAXLINE, 0);\n    buff[n] = '\\0';\n\n    ret = strcmp(buff, \"exit\\n\");\n    if (ret == 0)break;\n    printf(\"recv msg from client: %s\\n\", buff);\n    close(connfd);\n }\n</code></pre> <p>\u90a3\u8fd9\u79cd\u6a21\u578b\u6709\u4ec0\u4e48\u95ee\u9898\u5462\uff1f\u5982\u679c\u524d\u4e00\u4e2a\u8bf7\u6c42 recv \u4e86\u5f88\u4e45(\u6bd4\u5982 request body \u592a\u5927)\uff0c\u540e\u7eed\u8bf7\u6c42\u5c31\u5f97\u4e0d\u5230 accept\uff0c\u4e5f\u5c31\u662f\u88ab\u5835\u585e\u3002\u88ab IO \u64cd\u4f5c\u963b\u585e\uff0c\u8fd9\u624d\u662f\u963b\u585e\u6700\u672c\u8d28\u7684\u4f53\u73b0\u3002[ref]</p> <p>\u540e\u7eed\u7684 poll \u6a21\u578b\u548c epoll \u6a21\u578b\u5c31\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\uff0c\u53ef\u4ee5\u505a\u5230\u4fdd\u8bc1\u6bcf\u4e2a\u8bf7\u6c42\u90fd\u4f1a\u88ab\u53ca\u65f6 accept\u3002\u7136\u540e\u518d\u4f9d\u6b21\u6267\u884c\u4e1a\u52a1\u4ee3\u7801\u3002(ref)</p> <p>\u90a3\u6267\u884c\u4e1a\u52a1\u4ee3\u7801\u7684\u65b9\u6848\u53c8\u4e0d\u540c\u4e86\u3002\u591a\u4e2a\u8bf7\u6c42\u4e0b\uff0cjava \u53ef\u80fd\u662f\u5f00\u591a\u4e2a\u7ebf\u7a0b\u5e76\u53d1\u6267\u884c\u4e1a\u52a1\u4ee3\u7801\uff1b\u800c nodejs \u662f\u4f9d\u6b21\u6267\u884c\u4e1a\u52a1\u4ee3\u7801\uff0c\u7b2c\u4e8c\u4e2a request \u5f97\u7b49\u7b2c\u4e00\u4e2a\u4e1a\u52a1\u4ee3\u7801\u6267\u884c\u5b8c\u624d\u884c\uff08\u8fd9\u65f6\u5982\u679c\u4e1a\u52a1\u4ee3\u7801\u4e2d\u6709 10s \u7684 for \u5faa\u73af\uff0c\u90a3\u8fd9\u5e76\u4e0d\u53eb\u963b\u585e\uff0c\u53eb\u6b63\u5e38\u6267\u884c\uff09\u3002\u800c\u5728 Go \u4e0b\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7\u65b0\u5f00\u534f\u7a0b\u5e76\u53d1\u6267\u884c\u3002</p> <p>\u8981\u6ce8\u610f\u5e76\u4e0d\u662f\u591a\u4e2a\u7ebf\u7a0b\u5c31\u597d\u3002 \u7b2c\u4e00\uff0c\u8fd9\u662f\u4e2a\u96f6\u548c\u95ee\u9898\u3002\u540c\u65f6\u53d110\u4e2a\u8bf7\u6c42\uff0c\u6bcf\u4e2a\u8bf7\u6c42\u9700\u6267\u884c1s\uff0c\u4f60\u662f\u5e0c\u671b\u7b2c\u4e00\u4e2a\u8bf7\u6c42 1s \u540e\u8fd4\u56de..\u5230\u7b2c\u5341\u4e2a 10s \u540e\u8fd4\u56de\uff0c\u8fd8\u662f\u5927\u5bb6\u4e00\u8d77\u90fd\u8981\u5230 10s \u540e\u8fd4\u56de\uff1f \u7b2c\u4e8c\uff0c\u8003\u8651\u5230\u6838\u6570\uff0c\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u6838\uff0c\u5f00\u4e24\u4e2a\u7ebf\u7a0b\u4e5f\u6ca1\u6709\u5f88\u5927\u610f\u4e49\u3002 \u7b2c\u4e09\uff0c\u6709\u591a\u6838\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u591a\u7ebf\u7a0b\u5904\u7406\u3002</p>"},{"location":"Backend/misc/%E5%85%B3%E4%BA%8E%E8%AF%B7%E6%B1%82%E7%9A%84%20Common%20Sense/#nodejs","title":"\u5173\u4e8e nodejs \u4e0b\u6ca1\u6709\u591a\u7ebf\u7a0b","text":"<p>\u56e0\u4e3a js \u672c\u8eab\u6ca1\u6709\u8bbe\u8ba1\u5bf9\u5e94\u7684\u8bed\u6cd5\uff0c\u4e0d\u4ec5\u9700\u8981\u7ebf\u7a0b\uff0c\u8fd8\u9700\u8981 sync \u9501\u4e4b\u7c7b\u7684\u4e1c\u897f\u3002\u4e5f\u6ca1\u6709\u6682\u505c\u5904\u7406\u3002</p> <p>\u5982\u679c\u662f\u591a\u6838\u673a\u5668\uff0c\u53ef\u4ee5\u540c\u65f6\u8d77\u4e24\u4e2a node \u8fdb\u7a0b\u76d1\u542c\u540c\u4e00\u4e2a\u7aef\u53e3\uff0c\u6216\u8005\u901a\u8fc7 cluster \u590d\u5236\u4e00\u4e2a\u8fdb\u7a0b\u3002</p>"},{"location":"Backend/misc/%E5%85%B3%E4%BA%8E%E9%94%81%E7%9A%84%20Common%20Sense/","title":"\u5173\u4e8e\u9501\u7684 Common Sense","text":""},{"location":"Backend/misc/%E5%85%B3%E4%BA%8E%E9%94%81%E7%9A%84%20Common%20Sense/#_1","title":"\u591a\u5c42\u63a7\u5236","text":"<ul> <li>\u8bf7\u6c42\u63a7\u5236\u5c42\u9762<ul> <li>\u9891\u7387\u63a7\u5236</li> </ul> </li> <li>\u8bed\u8a00/\u5355\u670d\u52a1\u5c42\u9762<ul> <li>\u5355\u8fdb\u7a0b\u9501\u63a7\u5236\uff0c\u5982 mutex\u3001lock</li> </ul> </li> <li>MySQL \u5c42\u9762<ul> <li>\u5199\u5e93\uff1a\u4e50\u89c2\u9501\u3001\u60b2\u89c2\u9501</li> </ul> </li> <li>redis \u5206\u5e03\u5f0f\u5c42\u9762<ul> <li>\u5206\u5e03\u5f0f\u4e50\u89c2\u9501 \u7c7b\u4f3c\u4e8e\u591a\u91cd\u7f13\u5b58\uff0c\u53ef\u4ee5\u4f9d\u6b21\u51cf\u8f7b\u538b\u529b Ref: Golang \u4e50\u89c2\u9501\u5b9e\u6218\uff1aGorm \u4e50\u89c2\u9501\u7684\u4f18\u96c5\u4f7f\u7528 - \u6398\u91d1</li> </ul> </li> </ul>"},{"location":"Backend/misc/%E5%85%B3%E4%BA%8E%E9%94%81%E7%9A%84%20Common%20Sense/#_2","title":"\u5b9e\u8df5","text":""},{"location":"Backend/misc/%E5%85%B3%E4%BA%8E%E9%94%81%E7%9A%84%20Common%20Sense/#go","title":"go \u7684\u5206\u5e03\u5f0f\u9501\u6848\u4f8b","text":"<pre><code>// \u57fa\u4e8eredis\u7684\u5206\u5e03\u5f0f\u9501\npackage lock\n\nimport (\n    \"context\"\n    \"errors\"\n    \"github.com/google/uuid\"\n    \"github.com/redis/go-redis/v9\"\n    \"sync\"\n    \"time\"\n)\n\ntype (\n    RedisLock struct {\n        lockChan  chan struct{}\n        rwLock    sync.RWMutex\n        lockKey   string // \u9501\u7684key\n        lockValue string // \u9501\u7684value\n        client    *redis.Client\n    }\n    InvokeMethod func() error\n)\n\nfunc GetRedisLock(client *redis.Client, lockKey string) *RedisLock {\n    return &amp;RedisLock{\n        lockChan: make(chan struct{}, 1),\n        lockKey: lockKey,\n        client:  client,\n    }\n}\n\nfunc (lock *RedisLock) TryLock(ctx context.Context, method InvokeMethod, timeout time.Duration, interval time.Duration) error {\n    if interval == 0 {\n        interval = 100 * time.Millisecond\n    }\n\n    lock.rwLock.Lock()\n    defer lock.rwLock.Unlock()\n    var err error\n\n    go func() {\n        for {\n            // \u5982\u679c\u8fd9\u4e2alockValue\u6b64\u65f6\u6709\u503c\uff0c\u8bf4\u660e\u4e0a\u4e00\u4e2a\u4eba\u5728\u4f7f\u7528\u4e2d\uff0c\u90a3\u4e48\u5c31\u4e00\u76f4\u7b49\u5f85\uff0c\u7b49\u5f85\u7684\u95f4\u9694\u9ed8\u8ba4\u662f100 * time.Millisecond\uff08100\u6beb\u79d2\uff09\n            if lock.lockValue == \"\" {\n                // \u6b64\u65f6\u6ca1\u6709\u503c\uff0c\u8bf4\u660eredis\u5df2\u7ecf\u5c06\u8fd9\u4e2a\u503c\u91ca\u653e\u4e86\uff0c\u8fd9\u65f6\u521b\u5efa\u4e00\u4e2a\u9501\u7684value,\u653e\u5230redis\u91cc\n                lock.lockValue = uuid.New().String()\n                // \u8fd9\u91cc\u5229\u7528redis\u7684SetNX\u65b9\u6cd5\uff0c\u4e3alock\u8bbe\u7f6e\u4e00\u4e2a\u8d85\u65f6\u65f6\u95f4\uff0c\u4e00\u5b9a\u65f6\u95f4\u540e\uff0c\u9501\u4f1a\u81ea\u5df1\u6e05\u6389\u6570\u636e(NX \u8868\u793a\u5982\u679c\u4e0d\u5b58\u5728\u5219\u8bbe\u7f6e)\n                // \u8fd9\u6837\u505a\u7684\u76ee\u7684\u662f\uff0c\u6bd4\u5982\u8fdb\u7a0b\u6302\u4e86\uff0c\u6ca1\u6709\u6267\u884cUnLock\uff0c\u4f46\u5229\u7528redis\u53ef\u4ee5\u628a\u9501\u7ed9\u6e05\u6389\uff0c\u9632\u6b62\u6b7b\u9501\n                hasSet, setErr := lock.client.SetNX(ctx, lock.lockKey, lock.lockValue, timeout).Result()\n                // \u9501\u53d1\u751f\u9519\u8bef\uff0c\u4e5f\u8981\u9000\u51fa\n                if setErr != nil {\n                    err = setErr\n                    lock.lockChan &lt;- struct{}{}\n                    return\n                }\n                // \u5f53\u503c\u8bbe\u7f6e\u6210\u529f\u540e\uff0c\u901a\u77e5\u4e3b\u534f\u7a0b\uff0c\u6267\u884c\u76f8\u5e94\u65b9\u6cd5method\uff0c\u540c\u65f6\u6574\u4e2agoroutine\u9000\u51fa\uff0creturn\n                if hasSet {\n                    lock.lockChan &lt;- struct{}{}\n                    return\n                }\n            }\n            // \u6ce8\u610f \u6211\u4f1a\u5fd8\u8bb0 sleep!!!!\n            time.Sleep(interval)\n        }\n    }()\n\n    select {\n    case &lt;-lock.lockChan:\n        if err != nil {\n            return err\n        }\n        return method()\n    case &lt;-time.After(timeout):\n        return errors.New(\"lock timeout\")\n    }\n\n   // \u4e0a\u8ff0\u662f timeOut \u7684\u505a\u6cd5\uff0c\u8fd8\u6709\u4e00\u79cd\u4e0d\u65ad\u5faa\u73af/timeInterval \u7684\u505a\u6cd5\u3002\u76f8\u8f83\u6211\u8fd8\u662f\u559c\u6b22 timeOut\u7684\n\n  // \u52a0\u9501\u5931\u8d25\uff0c\u4e0d\u65ad\u5c1d\u8bd5 \n  // ticker := time.NewTicker(l.tryLockInterval) \n  // defer ticker.Stop() \n  // for { \n//    select { \n      // case &lt;-ctx.Done(): // \u8d85\u65f6 \n         // return ErrTimeout \n      // case &lt;-ticker.C: // \u91cd\u65b0\u5c1d\u8bd5\u52a0\u9501 \n         // err := l.TryLock(ctx) \n         // if err == nil { return nil } \n            //  if !errors.Is(err, ErrLockFailed) {\n            //     return err \n             //  } \n        // }\n    // }\n}\n\nfunc (lock *RedisLock) UnLock(ctx context.Context) (bool, error) {\n    if lock.lockValue == \"\" {\n        return false, errors.New(\"\u9501\u5df2\u7ecf\u88ab\u91ca\u653e\")\n    }\n\n    // \u7531\u4e8e\u6d89\u53ca\u5230\u4e24\u4e2a\u64cd\u4f5c\uff0c\u56e0\u6b64\u9700\u8981\u901a\u8fc7Lua\u811a\u672c\u4fdd\u8bc1\u64cd\u4f5c\u7684\u539f\u5b50\u6027\n    script := \"if redis.call('get', KEYS[1]) == ARGV[1] then return redis.call('del', KEYS[1]) else return 0 end\"\n    // EVAL\u662f\u6267\u884c\u4e0a\u9762\u7684script\u7684Lua\u8bed\u53e5\n    result, err := lock.client.Do(ctx, \"EVAL\", script, 1, lock.lockKey, lock.lockValue).Bool()\n    if err != nil {\n        return false, err\n    }\n\n    if !result {\n        return false, errors.New(\"\u51fa\u73b0\u5206\u5e03\u5f0f\u5e76\u53d1\u91ca\u653e\u9501\u9519\u8bef\")\n    }\n\n    lock.lockValue = \"\"\n    return true, nil\n}\n</code></pre> <p>Ref: Go+Redis\u5b9e\u73b0\u5206\u5e03\u5f0f\u4e92\u65a5\u9501\u548c\u7ea2\u9501 - \u6398\u91d1</p>"},{"location":"Backend/misc/%E5%85%B3%E4%BA%8E%E9%A2%91%E7%8E%87%E6%8E%A7%E5%88%B6%E4%B8%8E%E5%90%84%E7%A7%8D%20throttle/","title":"\u5173\u4e8e\u9891\u7387\u63a7\u5236\u4e0e\u5404\u79cd throttle","text":""},{"location":"Backend/misc/%E5%85%B3%E4%BA%8E%E9%A2%91%E7%8E%87%E6%8E%A7%E5%88%B6%E4%B8%8E%E5%90%84%E7%A7%8D%20throttle/#_1","title":"\u9650\u9891\u7684\u79cd\u7c7b","text":"<p>\u5176\u5b9e\u9650\u9891\u4e5f\u6709\u5f88\u591a\u79cd\uff0c\u6211\u5927\u81f4\u5206\u4e3a\u5982\u4e0b\u51e0\u7c7b\uff1a 1. \u56fa\u5b9a\u65f6\u95f4\u6bb5\u5185\u53ef\u6267\u884c\u56fa\u5b9a\u7684\u64cd\u4f5c\u6570     - \u63a5\u53e3\u9891\u7387\u63a7\u5236 2. \u6267\u884c\u3010\u5b8c\u6210\u3011\u4e00\u4e2a\u64cd\u4f5c\u540e\uff0c\u624d\u53ef\u4ee5\u6267\u884c\u4e0b\u4e00\u4e2a\uff08\u987a\u5e8f\u4f9d\u6b21\u6267\u884c\uff09 3. \u4e24\u6b21\u6267\u884c\u5185\u5fc5\u987b\u7b49\u5f85\u56fa\u5b9a\u95f4\u9694     - \u9002\u7528\u4e8e\u5355\u72ec\u4e2a\u4f53\u5c42\u9762\uff0c\u5982\u540e\u7aef\u4e2a\u4eba\u62bd\u5956\u63a7\u5236\u3001\u524d\u7aef\u70b9\u51fb\u63a7\u5236</p> <p>\u5bf9\u4e8e\u88ab\u9650\u9891\u64cd\u4f5c\u7684\u5904\u7406\uff0c\u53ef\u4ee5\u7ed9\u4e00\u4e2a\u7b49\u5f85\u65f6\u95f4\u770b\u662f\u5426\u6709\u673a\u4f1a\u8f6e\u5230\uff0c\u4e5f\u53ef\u4ee5\u5373\u65f6\u4e22\u5f03\u3002</p>"},{"location":"Backend/misc/%E5%85%B3%E4%BA%8E%E9%A2%91%E7%8E%87%E6%8E%A7%E5%88%B6%E4%B8%8E%E5%90%84%E7%A7%8D%20throttle/#_2","title":"\u56fa\u5b9a\u65f6\u6bb5\u56fa\u5b9a\u64cd\u4f5c\u6570","text":""},{"location":"Backend/misc/%E5%85%B3%E4%BA%8E%E9%A2%91%E7%8E%87%E6%8E%A7%E5%88%B6%E4%B8%8E%E5%90%84%E7%A7%8D%20throttle/#_3","title":"\u4ee4\u724c\u6876","text":"<p>\u4ee4\u724c\u8fd9\u4e2a\u6982\u5ff5\u6211\u8fd8\u86ee\u559c\u6b22\u7684\uff0c\u76f8\u5f53\u4e8e\u628a\u201d\u662f\u5426\u6709\u6743\u9650\u201c\u4e0e\u4e8b\u60c5\u672c\u8eab\u62c6\u5f00\u4e86\uff0c\u201d\u6743\u9650\u201c\u8fd8\u53ef\u4ee5\u9884\u751f\u6210\u3002\u6bd4\u5982\u5728\u4ece\u5956\u6c60\u751f\u6210\u5956\u52b1\u7684\u573a\u666f\u4e2d\uff0c\u53ef\u4ee5\u6bcf\u5f53\u6709\u4eba\u62bd\u5956\uff0c\u90fd\u5148\u770b\u770b\u5956\u6c60\u8fd8\u5269\u591a\u5c11\u94b1\uff0c\u518d\u751f\u6210\u5956\u52b1\uff1b\u800c\u7528\u4ee4\u724c\u7684\u505a\u6cd5\u662f\uff0c\u5148\u63d0\u524d\u751f\u6210\u597d\u5956\u52b1\uff0c\u6709\u4eba\u62bd\u5956\u65f6\u5373\u968f\u673a\u5206\u914d\u4e00\u4e2a\u5956\u52b1\u4ee4\u724c\u5373\u53ef\u3002 \u8bf4\u56de\u9891\u7387\u63a7\u5236\u7684\u4ee4\u724c\u6876\uff0cgo \u6709\u5929\u7136\u7684\u4f7f\u7528\u673a\u5236\uff0c\u5c31\u662f select channel\u3002\u4e0d\u8fc7\u4e00\u822c\u53ef\u4ee5\u7528 <code>#time/rate</code> \u5e93\u3002</p>"},{"location":"Backend/misc/%E5%85%B3%E4%BA%8E%E9%A2%91%E7%8E%87%E6%8E%A7%E5%88%B6%E4%B8%8E%E5%90%84%E7%A7%8D%20throttle/#_4","title":"\u65f6\u95f4\u7a97\u53e3","text":"<p>\u56fa\u5b9a\u65f6\u95f4\u7a97\u53e3\u8ba1\u6570\u3002</p>"},{"location":"Backend/misc/%E5%85%B3%E4%BA%8E%E9%A2%91%E7%8E%87%E6%8E%A7%E5%88%B6%E4%B8%8E%E5%90%84%E7%A7%8D%20throttle/#_5","title":"\u987a\u5e8f\u6267\u884c","text":"<p>\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4ee4\u724c/channel \u7684\u65b9\u5f0f\u6765\u505a\u3002\u4e00\u6b21\u53ea\u6709\u4e00\u4e2a\u4ee4\u724c\uff0c\u91ca\u653e\u4ee4\u724c\u7684\u65f6\u673a\u5728\u51fd\u6570\u6267\u884c\u5b8c\u7684\u65f6\u523b\u3002</p>"},{"location":"Backend/misc/%E5%85%B3%E4%BA%8E%E9%A2%91%E7%8E%87%E6%8E%A7%E5%88%B6%E4%B8%8E%E5%90%84%E7%A7%8D%20throttle/#_6","title":"\u56fa\u5b9a\u65f6\u95f4\u95f4\u9694","text":"<p>\u4e00\u6b21\u53ea\u6709\u4e00\u4e2a\u4ee4\u724c\uff0c\u91ca\u653e\u4ee4\u724c\u7684\u65f6\u673a\u5728\u5f53\u524d\u51fd\u6570\u6267\u884c\u7684\u56fa\u5b9a\u65f6\u95f4\u95f4\u9694\u540e\u3002</p>"},{"location":"Backend/misc/%E5%85%B3%E4%BA%8E%E9%A2%91%E7%8E%87%E6%8E%A7%E5%88%B6%E4%B8%8E%E5%90%84%E7%A7%8D%20throttle/#_7","title":"\u5176\u4f59","text":"<p>\u5b58\u50a8\u591a\u4e2a\u9650\u9891\u64cd\u4f5c\u7684\u4ee4\u724c\u53ef\u4ee5\u4f7f\u7528 Map, \u4f46\u662f\u8981\u5c24\u5176\u6ce8\u610f Map \u7684\u5e76\u53d1\u8bfb\u5199\u63a7\u5236\u3002\u5982 go \u7684 sync.Map \u6216\u8005 sync.RWMutex\uff0cjava \u7684 synchronizedMap \u548c ConcurrentHashMap\u3002"},{"location":"Backend/misc/%E5%85%B3%E4%BA%8E%E9%AB%98%E6%80%A7%E8%83%BD%E7%9A%84%20Common%20Sense/","title":"\u5173\u4e8e\u9ad8\u6027\u80fd\u7684 Common Sense","text":"<p>\u4ece\u5e94\u7528\u7a0b\u5e8f\u7ea7\u522b\u6765\u8bf4\uff0c\u53ef\u81f3\u4e0a\u800c\u4e0b\u5212\u5206\u4e3a\uff1a</p> <ul> <li>\u4e1a\u52a1\u5e94\u7528</li> <li>\u5fae\u670d\u52a1\u7ea7\u522b<ul> <li>\u670d\u52a1\u62c6\u5206\u4e0e\u6269\u5c55</li> <li>\u670d\u52a1\u4ea4\u4e92\u4e0e\u94fe\u63a5</li> <li>\u670d\u52a1\u8c03\u7528\uff1a\u5173\u7cfb\u4ee5\u53ca\u8c03\u7528\u9891\u7387</li> </ul> </li> <li>\u5355\u670d\u52a1\u7ea7\u522b<ul> <li>\u529f\u80fd\u62c6\u5206\u4e0e\u6d41\u7a0b\u62bd\u8c61</li> <li>\u4ee3\u7801\u7ec4\u7ec7\u4e0e\u6a21\u5757\u8fb9\u754c</li> <li>\u6280\u672f\u6846\u67b6\u4e0e\u5e76\u53d1\u6a21\u578b</li> <li>\u5f00\u53d1\u6d41\u7a0b\u4e0e\u89c4\u8303</li> <li>\u6307\u6807\u4f53\u7cfb\u4e0e\u76d1\u63a7</li> </ul> </li> <li>\u4ee3\u7801\u5b9e\u65bd\u7ea7\u522b<ul> <li>\u5408\u7406</li> <li>\u4ee3\u7801\u89c4\u8303</li> <li>\u6570\u636e\u7ed3\u6784</li> <li>\u7b97\u6cd5</li> <li>\u523b\u610f\u7684\u4f18\u5316</li> <li>\u53ef\u89c2\u6d4b\u6027\u5b9a\u4f4d\u74f6\u9888\u95ee\u9898\uff0c\u5bf9\u75c7\u4e0b\u836f</li> <li>\u5408\u7406\u4f7f\u7528\u8fd0\u884c\u65f6\u4e0e\u7f16\u8bd1\u65f6api</li> <li>\u5371\u9669\u7684\u5c1d\u8bd5</li> <li>\u6c47\u7f16 \u7b49\u7b49</li> </ul> </li> </ul> <p>\u4e00\u822c\u800c\u8a00\uff0c\u53ea\u8981\u80fd\u4fdd\u8bc1\u5408\u7406\u7684\u5f00\u53d1\uff0c\u57fa\u672c\u95ee\u9898\u5c31\u4e0d\u5927\u5566\uff01</p> <p>\u53e6\u5916\uff0c\u6211\u89c9\u5f97\u5f88\u6709\u9053\u7406\u7684\u4e00\u70b9\u662f\uff1a\u597d\u7684\u5f00\u53d1\u5f80\u5f80\u662f\u4e0d\u9732\u75d5\u8ff9\u7684\u3002\u6bd4\u65b9\u8bf4\u8eab\u4f53\u5065\u5eb7\u6ca1\u6709\u75be\u75c5\uff0c\u90a3\u4e5f\u7528\u4e0d\u7740\u6cbb\u75c5\u4e86\u3002\u4fee\u4e86\u4e2a\u5927 bug \u7684\u524d\u63d0\u5e94\u8be5\u53cd\u601d\uff0c\u4e3a\u5565\u4f1a\u6709\u8fd9\u4e2a\u5927bug \u561e\u3002</p> <p>\u53e6\u5916\u7cfb\u7edf\u5c42\u9762\uff0c\u53ef\u5206\u4e3a\uff1a</p> <ul> <li>\u64cd\u4f5c\u7cfb\u7edf\u7ea7\u522b</li> <li>\u5305\u62ec\u5bb9\u5668\u5316</li> <li>\u786c\u4ef6\u7ea7\u522b</li> <li>\u5c31\u5f88\u5f88\u5f88\u5e95\u5c42\u4e86</li> </ul>"},{"location":"Backend/misc/%E5%9C%B0%E7%90%86%E4%BD%8D%E7%BD%AE/","title":"\u5730\u7406\u4f4d\u7f6e","text":"<p>\u54c7\u8e29\u5230\u5751\u4e86\uff0c\u4e0b\u8f7d\u4e09\u7ea7\u7701\u5e02\u533a\u8868\u65f6\uff0c\u8981\u6ce8\u610f\u6570\u636e\u5f97\u662f\u6700\u65b0\u7684\u624d\u884c\u3002\u6bd4\u5982\u676d\u5dde\u7684\u94b1\u5858\u533a\u3001\u4e34\u5e73\u533a\uff0c\u90fd\u662f21\u5e74\u4ee5\u540e\u5212\u5206\u7684\u5462\uff01</p> <p>https://www.mca.gov.cn/article/sj/xzqh/1980/</p> <p>\u7b5b\u9009\u6700\u8fd1\u8ddd\u79bb\u65f6\uff0c\u6839\u636e\u8ddd\u79bb\u8ba1\u7b97\u516c\u5f0f\u8ba1\u7b97\u5373\u53ef\u3002\u4f46\u662f\uff0c\u6ca1\u5fc5\u8981\u53bb\u5faa\u73af\u8ba1\u7b97\u6240\u6709\u7684\u70b9\uff0c\u56e0\u4e3a\u53ef\u4ee5\u5c06\u5750\u6807\u7f16\u7801\u6210\u6613\u4e8e\u6309\u677f\u5757\u5206\u6bb5\u7684\u65b9\u5f0f\uff1a\u53c2\u8003 https://www.cnblogs.com/Finley/p/14435424.html</p>"},{"location":"Backend/misc/%E5%BE%AE%E6%9C%8D%E5%8A%A1/","title":"\u5fae\u670d\u52a1","text":""},{"location":"Backend/misc/%E5%BE%AE%E6%9C%8D%E5%8A%A1/#_2","title":"\u5173\u6ce8\u70b9","text":"<ul> <li>\u4e0d\u540c\u670d\u52a1\u7684\u8fb9\u754c\u5212\u5206</li> <li>\u901a\u4fe1</li> <li>\u540c\u6b65<ul> <li>http</li> </ul> </li> <li>\u5f02\u6b65<ul> <li>\u4e8b\u4ef6\u9a71\u52a8\uff1a\u6d88\u606f\u961f\u5217</li> <li>\u6570\u636e\u5171\u4eab\u3001\u6587\u4ef6\u5171\u4eab</li> </ul> </li> <li>\u670d\u52a1\u53d1\u73b0\u4e0e\u8d1f\u8f7d\u5747\u8861</li> <li>\u670d\u52a1\u6ce8\u518c\uff1a\u6ce8\u518c\u53ca\u7ef4\u6301\u5fc3\u8df3\u8fde\u63a5</li> <li>\u670d\u52a1\u53d1\u73b0\uff1a<ul> <li>\u670d\u52a1\u7aef\u53d1\u73b0\uff1a\u4ee3\u7406\u7f51\u5173\u5c42\u4e0e\u670d\u52a1\u6ce8\u518c\u4e2d\u5fc3\u7684\u5408\u4f5c</li> <li>\u5ba2\u6237\u7aef\u53d1\u73b0</li> </ul> </li> <li>\u5206\u5e03\u5f0f\u65e5\u5fd7\u4e0e\u76d1\u63a7</li> <li>\u6536\u96c6<ul> <li>Agent \u670d\u52a1\u6536\u96c6\u65e5\u5fd7</li> <li>\u5206\u5e03\u5f0f metric \u4e0e\u76d1\u63a7</li> </ul> </li> <li>\u8ffd\u8e2a<ul> <li>\u7eb5\u5411\u7684 traceID \u4e0e\u6a2a\u5411\u7684 span(\u7528\u4e8e\u533a\u5206\u5728\u54ea\u4e2a\u670d\u52a1\u5185)</li> </ul> </li> <li>\u5fae\u670d\u52a1\u5f02\u5e38\u5e94\u5bf9</li> <li>\u964d\u7ea7\uff1a\u5bf9\u67d0\u4e9b\u529f\u80fd\u4e0d\u5904\u7406</li> <li>\u9650\u6d41</li> <li>\u7194\u65ad\uff1a\u7981\u6b62\u8bbf\u95ee\u6709\u95ee\u9898\u7684\u4f9d\u8d56\u670d\u52a1</li> <li>\u5207\u6d41</li> <li>\u5e95\u5c42\u95ee\u9898</li> <li>\u6570\u636e\u4e00\u81f4\u6027<ul> <li>\u501f\u52a9\u5206\u5e03\u5f0f\u534f\u8c03\u670d\u52a1\uff0c\u6784\u5efa\u5206\u5e03\u5f0f\u9501</li> </ul> </li> </ul>"},{"location":"Backend/misc/%E5%BE%AE%E6%9C%8D%E5%8A%A1/#_3","title":"\u5e38\u7528\u5de5\u5177","text":"<ul> <li>Spring-cloud-gateway + spring-cloud-kubernetes + ribbon</li> </ul>"},{"location":"Backend/misc/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93/","title":"\u6570\u636e\u4ed3\u5e93","text":"<p>Hive:</p> <p></p>"},{"location":"Backend/misc/%E6%9C%AF%E8%AF%AD/","title":"\u672f\u8bed","text":"<p>PO: Persistant Object \u5bf9\u5e94\u6570\u636e\u5e93</p> <p>DAO: Data Access Object // service \u5c42</p> <p>BO: Business Object</p> <p>DTO: Data Transfer Object</p> <p>VO: Value Object \u4e00\u822c\u7528\u6765\u5b9a\u4e49\u901a\u7528\u5bf9\u8c61</p> <p>POJO: Plain Ordinary Java Object</p>"},{"location":"Backend/misc/%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6/","title":"\u6d88\u606f\u4e2d\u95f4\u4ef6","text":"<p>Message broker \u5173\u952e\u8bcd\uff1a - Asynchronous communication. - Data \u6301\u4e45\u5316 - \u57fa\u4e8e AMQP \u534f\u8bae</p>"},{"location":"Backend/misc/%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6/#_2","title":"\u57fa\u7840","text":"<ul> <li>channel: \u5c5e\u4e8e TCP/Connection \u7684\u865a\u62df\u8fde\u63a5</li> <li>producer: A program that sends messages </li> <li>queue:  The name for the post box in RabbitMQ. Although messages flow through RabbitMQ and your applications, they can only be stored inside a queue. A queue is only bound by the host's memory &amp; disk limits, it's essentially a large buffer that stores messages.</li> <li>consumer</li> <li>exchange: On one side it receives messages from producers and the other side it pushes them to queues. The exchange must know exactly what to do with a message it receives.<ul> <li>direct</li> <li>topic</li> <li>headers</li> <li>fanout</li> </ul> </li> <li>binding: The relationship between exchange and a queue.s \u6587\u6863</li> </ul>"},{"location":"Backend/misc/%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6/#_3","title":"\u8c46\u77e5\u8bc6","text":"<ul> <li>rabbitmq \u662f\u7528 Erlang \u5199\u7684\uff0c\u6240\u4ee5\u67e5\u770b\u8fde\u63a5\u65f6\u7684\u7a0b\u5e8f\u540d\u663e\u793a\u4e3a beam.smp</li> <li>idempotent \u5e42\u7b49\u3002\u6570\u5b66\u6982\u5ff5\u91cc\uff0c\u5e42\u7b49\u662f\u6307\u4e00\u6b21\u53d8\u6362\u548cN\u6b21\u53d8\u6362\u7684\u7ed3\u679c\u90fd\u76f8\u540c\u3002\u800c\u5728\u8ba1\u7b97\u673a\u6982\u5ff5\u4e2d\uff0c\u5e42\u7b49\u662f\u6307\u67d0\u4e00\u64cd\u4f5c\u6267\u884cn\u6b21\u548c\u6267\u884c\u4e00\u6b21\u6240\u4ea7\u751f\u7684\u5f71\u54cd\u662f\u4e00\u6837\u7684\u3002</li> </ul>"},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/","title":"index","text":""},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/#_1","title":"\u603b\u4f53\u6d41\u7a0b","text":"<ol> <li>\u8f6f\u4ef6\u5b89\u88c5\u53ca\u521d\u59cb\u5316\uff1a\u5927\u4f53\u5b8c\u6210<ol> <li>mysql \u521d\u59cb\u5316 </li> </ol> </li> <li>\u5b89\u88c5 k8s<ol> <li>\u79c1\u6709\u5316 docker hub </li> </ol> </li> <li>nginx \u914d\u7f6e<ol> <li>\u5185\u90e8\u670d\u52a1\u5e94\u7528\u914d\u7f6e\uff1a\u6682\u65f6\u901a\u8fc7 ip \u8f6c\u53d1</li> <li>\u5bd3\u76df\u670d\u52a1\u914d\u7f6e\uff1a\u662f\u5426\u4e00\u5b9a\u9700\u8981\u57df\u540d\uff08\u6bd4\u5982\u8de8\u57df\u9650\u5236\u4e4b\u7c7b\uff09\u8fd8\u5f85\u786e\u5b9a</li> </ol> </li> <li>\u4ee3\u7801\u8fc1\u79fb</li> <li>\u4ee3\u7801\u914d\u7f6e\u8c03\u6574<ol> <li>\u79c1\u6709 maven \u6e90\u76f8\u5173\u7684\u914d\u7f6e\u8c03\u6574</li> <li>\u5404\u670d\u52a1\u65b0\u589e\u4e00\u5957\u6570\u79d1\u6d4b\u8bd5\u73af\u5883\u914d\u7f6e</li> </ol> </li> <li>jenkins \u6d41\u6c34\u7ebf\u914d\u7f6e<ol> <li>\u79fb\u690d\u4e4b\u524d\u7684 jenkins \u914d\u7f6e</li> <li>\u6309\u7167\u65b0\u73af\u5883\uff0c\u8c03\u6574\u76ee\u524d\u7684 jenkins \u914d\u7f6e<ol> <li>repo \u5305\u90e8\u5206\u53d1\u5e03\u5b8c\u6bd5</li> <li>\u7b2c7\u6b65\u6d4b\u8bd5\u5b8c\u6210\u540e\uff0c\u4f9d\u6b21\u8c03\u6574\u53d1\u5e03\u6240\u6709\u670d\u52a1</li> </ol> </li> </ol> </li> <li>\u542f\u52a8\u670d\u52a1\uff1a<ol> <li>\u6d4b\u8bd5\u4e00\u4e2a\u6216\u591a\u4e2a\u540e\u7aef\u670d\u52a1\u7684 k8s \u542f\u52a8\u811a\u672c</li> </ol> </li> </ol>"},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/Canal/","title":"Canal","text":"<p>\u9700\u6570\u636e\u5e93\u521d\u59cb\u5316\u5b8c\u6210\u540e\u542f\u52a8</p> <p>\u6587\u6863\u5730\u5740\uff1ahttps://github.com/alibaba/canal/wiki/QuickStart \u4e0b\u8f7d\u5730\u5740\uff1ahttps://github.com/alibaba/canal/releases?page=1 \u5b89\u88c5\u65b9\u5f0f\uff1a\u538b\u7f29\u5305\u6e90\u7801 \u5b89\u88c5\u7248\u672c\uff1a1.1.5\uff08\u5b89\u88c51.1.7\u7684\u65f6\u5019\u4f1a\u6709\u95ee\u9898\uff09 \u5b89\u88c5\u5730\u5740\uff1a/app/canal</p>"},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/Canal/#canal-deployer","title":"canal-deployer","text":"<ul> <li>/app/canal/canal.deployer-1.1.5</li> <li>\u914d\u7f6e\u6587\u4ef6\uff1a./conf/byteox/</li> </ul> <pre><code># Canal\n# username/password\ncanal.instance.master.address=127.0.0.1:3306\ncanal.instance.dbUsername=canal\ncanal.instance.dbPassword=canal\n</code></pre> <ul> <li>\u542f\u52a8\uff1a./bin/startup.sh</li> </ul>"},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/Canal/#canaladapter","title":"canal.adapter","text":"<ul> <li>/app/canal/canal.adapter-1.1.5</li> <li>\u914d\u7f6e\u76ee\u5f55: ./conf</li> <li>./es7: \u5185\u542b\u4e00\u7cfb\u5217\u4ece mysql select \u5b57\u6bb5\u7684 yml \u914d\u7f6e</li> <li>./byetox-index: \u5185\u542b\u4e00\u7cfb\u5217\u8f6c\u6362\u5230 es mapping \u7684 shell \u811a\u672c</li> <li>\u9b54\u6539</li> <li>bin/startup \u6709\u4e00\u4e9b\u73b0\u5728 jvm \u4e0d\u652f\u6301\u7684\u53c2\u6570\u4e5f\u8981\u53bb\u9664</li> <li>./plugin \u66ff\u6362\u539f\u6765\u7684 client-adapter.es7x-1.1.5-jar-with-dependencies-with-etl-buff.jar </li> <li>\u542f\u52a8\uff1a./bin/startup.sh</li> </ul>"},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/Docker/","title":"Docker","text":"<p>Setp 1: <code>sudo yum install -y yum-utils device-mapper-persistent-data lvm2</code></p> <p>Step 2: \u6dfb\u52a0\u8f6f\u4ef6\u6e90\u4fe1\u606f <code>sudo yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</code></p> <p>Step 3: \u66f4\u65b0\u5e76\u5b89\u88c5Docker-CE <code>sudo yum makecache fast</code> <code>sudo yum -y install docker-ce</code></p> <p>Step 4: \u5f00\u542fDocker\u670d\u52a1 sudo systemctl start docker &amp;&amp; systemctl enable docker</p> <pre><code>#\u914d\u7f6e\u963f\u91cc\u4e91\u955c\u50cf\u4ed3\u5e93\nsudo mkdir -p /etc/docker\nsudo tee /etc/docker/daemon.json &lt;&lt;-'EOF'\n{\n  \"registry-mirrors\": [\"https://vgsvqvyd.mirror.aliyuncs.com\"],\n  \"log-driver\": \"json-file\",  \n  \"log-opts\": {  \n    \"max-size\": \"100m\",  \n    \"max-file\": \"3\"  \n  }\n}\nEOF\n\nsudo systemctl daemon-reload\nsudo systemctl restart docker\n</code></pre>"},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/ElasticSearch/","title":"ElasticSearch","text":"<p>\u6587\u6863\u5730\u5740\uff1ahttps://www.elastic.co/guide/index.html \u5b89\u88c5\u6587\u6863\uff1ahttps://www.elastic.co/guide/en/elasticsearch/reference/7.17/rpm.html#rpm-repo \u7248\u672c\uff1a7.17</p> <p>\u6b65\u9aa4\uff1a - yum \u5b89\u88c5\uff0c\u53c2\u8003\u5b89\u88c5\u6587\u6863    - \u4e3b\u76ee\u5f55: /usr/share/elasticsearch/    - \u914d\u7f6e\u6587\u4ef6: /etc/elasticsearch/ - \u4fee\u6539\u914d\u7f6e    - \u914d\u7f6e\u6587\u4ef6\uff1a/etc/elasticsearch/elasticsearch.yml    - \u4fee\u6539 elasticsearch.yml, \u6dfb\u52a0 <code>discovery.type: single-node</code> - \u539f\u7248\u6709\uff0c\u6682\u65f6\u672a\u505a\uff1a    - security-setting: https://www.elastic.co/guide/en/elasticsearch/reference/7.15/security-minimal-setup.html - \u542f\u52a8</p> <pre><code># ElasticSearch\nsystemctl start elasticsearch\n\n# \u67e5\u770bes\u72b6\u6001\nsystemctl status elasticsearch\n\n# \u8bbe\u7f6e\u5f00\u673a\u81ea\u542f\u52a8\nsystemctl enable elasticsearch\n</code></pre> <ul> <li>\u68c0\u67e5 es \u6b63\u5e38\u8fd0\u884c\uff08\u9ed8\u8ba49200\u7aef\u53e3\uff09</li> </ul> <pre><code>curl -X GET \"localhost:9200/?pretty\"\n{\n  \"name\" : \"iZbp1ffa3kioqfs1mtjoqqZ\",\n  \"cluster_name\" : \"elasticsearch\",\n  \"cluster_uuid\" : \"nw9NmTOiSryTmUoQDSoPXA\",\n  \"version\" : {\n    \"number\" : \"7.17.17\",\n    \"build_flavor\" : \"default\",\n    \"build_type\" : \"rpm\",\n    \"build_hash\" : \"aba4da413a368e296dfc64fb20897334d0340aa1\",\n    \"build_date\" : \"2024-01-18T10:05:03.821431920Z\",\n    \"build_snapshot\" : false,\n    \"lucene_version\" : \"8.11.1\",\n    \"minimum_wire_compatibility_version\" : \"6.8.0\",\n    \"minimum_index_compatibility_version\" : \"6.0.0-beta1\"\n  },\n  \"tagline\" : \"You Know, for Search\"\n}\n</code></pre>"},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/Jenkins/","title":"Jenkins","text":""},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/Jenkins/#_1","title":"\u6d4b\u8bd5\u73af\u5883","text":"<p>\u8bbf\u95ee\u5730\u5740\uff1ahttp://47.96.187.116/jenkins/ \u7528\u6237\u540d\uff1aadmin \u5bc6\u7801\uff1aLeyou1105.Jenkins \u7aef\u53e3\uff1a49000</p>"},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/Jenkins/#_2","title":"\u5b89\u88c5","text":"<p>\u6587\u6863\u5730\u5740\uff1ahttps://www.jenkins.io/zh/doc/book/installing/ \u5b89\u88c5\u65b9\u5f0f\uff1adocker\uff08jenkins/jenkins:lts-jdk11\uff09 \u7248\u672c\uff1aJenkins 2.361.3 data\u8def\u5f84\uff1a/app/jenkins</p> <ul> <li>jenkins_home: jenkins \u7684 data \u5185\u5bb9\uff08\u590d\u5236\u81ea\u539f\u670d\u52a1\u5668\u7684 jenkins_home \u6587\u4ef6\u5939\uff0c\u5927\u5934 workspace \u4e0d\u7528\u590d\u5236\uff0cjobs \u5305\u542b\u4efb\u52a1\u914d\u7f6e\uff0c\u4efb\u52a1\u5386\u53f2\u6587\u4ef6\u5939\u53ef\u4ee5\u820d\u5f03\uff09</li> <li>start.sh: \u542f\u52a8\u547d\u4ee4</li> </ul> <pre><code>docker run --name jenkins -u root -d -p 49000:8080  -p 50000:50000  -v /app/jenkins/jenkins_home:/var/jenkins_home  -v /var/run/docker.sock:/var/run/docker.sock --env JENKINS_OPTS=\"--prefix=/jenkins\" jenkins/jenkins:lts-jdk11\n</code></pre> <p>\u6ce8\u610f\uff1a~~docker \u5b89\u88c5\u7684 jenkins \u7248\u672c\u8fc7\u4f4e\uff0c\u9700\u8981\u9875\u9762\u5185\u5347\u7ea7~~\uff08\u4e0d\u80fd\u968f\u4fbf\u5347\u7ea7\uff01\u53ea\u80fd\u7528\u539f\u6765\u7684\u6b7b\u7248\u672c\uff09</p> <ul> <li>\u4e0b\u8f7d\u539f\u59cb\u7248\u672c\uff0c\u590d\u5236\u5230\u5bb9\u5668\u5185\u7684 /usr/share/jenkins\uff0c\u9875\u9762\u91cd\u542f\uff08/restart\uff09</li> </ul> <p>nginx \u914d\u7f6e\uff1ahttps://www.jenkins.io/doc/book/system-administration/reverse-proxy-configuration-with-jenkins/reverse-proxy-configuration-nginx/</p> <ul> <li>enable cnpm: \u5bb9\u5668\u5185 <code>export PATH=$PATH:/var/jenkins_home/tools/jenkins.plugins.nodejs.tools.NodeJSInstallation/NodeJS_16.18/bin</code></li> </ul>"},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/Jenkins/#_3","title":"\u4f7f\u7528","text":"<p>\u6bcf\u4e2a\u9879\u76ee\u7684\u6253\u5305\u914d\u7f6e\uff0c\u4ece Configure \u70b9\u51fb\u67e5\u770b\uff1a </p>"},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/Jenkins/#_4","title":"\u6253\u5305\u6d41\u7a0b","text":""},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/Jenkins/#maven","title":"maven \u5305","text":"<pre><code>git pull\ngit checkout dev\n\n/var/jenkins_home/apache-maven-3.8.6/bin/mvn clean deploy -s /var/jenkins_home/apache-maven-3.8.6/conf/settings-ztlydev-shuke.xml -P dist-ztlydev-shuke -U -DskipTests\n</code></pre> <p>\u6ce8\u610f\uff1a\u65b0\u589e\u4e86\u4e00\u4efd settings-ztlydev-shuke.xml\uff0c\u540c\u65f6\u4e0a\u4f20\u5e73\u53f0\u4e3a dist-ztlydev-shuke</p>"},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/Jenkins/#_5","title":"\u6253\u5305\u987a\u5e8f","text":"<ul> <li>byteox-parent</li> <li>byteox-base-pojo</li> <li>byteox-public-pojo</li> <li>byteox-uaa-jwt-client</li> <li>byteox-hystrix-config</li> <li>byteox-core</li> </ul> <p>\u7136\u540e\u662f\u5404\u670d\u52a1\u7684 api \u5305\uff1a</p> <ul> <li>byteox-oss\u3001byteox-bizconfig\u3001byteox-users\u3001byteox-basic\u3001byteox-message\u3001byteox-workflow\u3001byteox-wallet\u3001byteox-house\u3001byteox-promotion\u3001byteox-econtract...</li> </ul>"},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/Jenkins/#_6","title":"\u670d\u52a1\u6253\u5305\u4e0e\u542f\u52a8","text":"<p>\u4ee5 byteox-app2b \u4e3a\u4f8b\uff1a</p> <ol> <li>\u6267\u884c\u4e0b\u8ff0\u547d\u4ee4\uff1a</li> </ol> <pre><code>#!/bin/sh\n\ncd ${WORKSPACE}\n\nif [ ! -d \"byteox-app2b\" ];then\ngit clone \"git@codeup.aliyun.com:byteox/ka/ztly/backend-ztly/byteox-app2b.git\"\nelse\necho \"\u6587\u4ef6\u5939\u5df2\u7ecf\u5b58\u5728\"\nfi\n\ncd \"byteox-app2b\"\n\n\ngit reset --hard\ngit clean -xdf\ngit checkout -f master-ym\ngit pull -f\n\n# Jenkins\n\n#\u914d\u7f6e\u53c2\u6570 e.g. dev\u3001prod\nBUILD_ENV=dev\n# \u5ba2\u6237\u516c\u53f8\u540d\u79f0 e.g. bjsg\nCORPORATE_NAME=ztly\n# e.g. bjsgdev, \u7528\u4e8e application-ydyjdev.properties\n# \u3010\u9700\u66f4\u6362\u3011\nCONFIG_ENV=ztlydev \n# e.g. byteox-app2b\nSERVICE_NAME=byteox-app2b\n\n\nif [ ! -d \"byteox-app2b\" ];then\n    # \u4e0d\u542bapi\u76ee\u5f55\n    MVN_BUILD_TARGET_DIR=target\n    POM_FILE=\"pom.xml\"\nelse\n    MVN_BUILD_TARGET_DIR=byteox-app2b/target\n    POM_FILE=byteox-app2b/pom.xml\nfi\n\n# \u4fee\u6539pom.xml\uff0c\u66ff\u6362 &lt;build&gt;...&lt;/build&gt;\n# \u6ce8\u91ca\uff1a\u5e76\u653e\u5165\u5230\u9879\u76ee\u6587\u4ef6\u4e2d\n#```\nMAIN_CLASS=$(cat $POM_FILE | grep -P '&lt;mainClass&gt;' | sed 's/\\///' | sed 's/&lt;//g;s/&gt;//g;s/mainClass//g' | sed 's/[ \\t]*//g')\nSEGMENT_BUILD=$(cat ${JENKINS_HOME}/byteox/templates/pom_build.xml | sed \"s#{{MAIN_CLASS}}#${MAIN_CLASS}#\")\n\nsed -i \"/^[ \\t]*&lt;build&gt;/,/build&gt;$/s/.*//g\" $POM_FILE\nsed -i \"s#&lt;/project&gt;##\" $POM_FILE\n\ncat &lt;&lt;EOF &gt;&gt; $POM_FILE\n$SEGMENT_BUILD\nEOF\n#```\n\n\n\nMVN_HOME=${JENKINS_HOME}/apache-maven-3.8.6\n# \u6ce8\u91ca\uff1a\u4f7f\u7528\u7279\u5b9a\u7684 maven settings.xml \u3010\u9700\u66f4\u6362CONFIG_ENV\u3011\u6253\u5305\n$MVN_HOME/bin/mvn clean package  -s $MVN_HOME/conf/settings-$CONFIG_ENV.xml -DskipTests\n\n\nif [ ! -f \"$MVN_BUILD_TARGET_DIR/${SERVICE_NAME}-thin.jar\" ];then\necho \"Maven\u6784\u5efa\u5931\u8d25 $MVN_BUILD_TARGET_DIR/${SERVICE_NAME}-thin.jar \u4e0d\u5b58\u5728\u3002\"\nexit 1\nfi\n\n\n#\u9879\u76ee\u4e34\u65f6\u76ee\u5f55\n# \u6ce8\u91ca\uff1a\u5bd3\u76df\u670d\u52a1\u5668\uff1a/var/jenkins_home/byteox/_docker_build/dev/byteox-app2b\nPROJ_BYTEOX_BUILD_DIR=${JENKINS_HOME}/byteox/_docker_build/${BUILD_ENV}/$SERVICE_NAME\n# \u6ce8\u91ca\uff1a\u5bd3\u76df\u670d\u52a1\u5668\uff1a/var/jenkins_home/byteox/_docker_build/dev/byteox-app2b_docker_build.sh\nDOCKER_BYTEOX_BUILD_SH=${JENKINS_HOME}/byteox/_docker_build/${BUILD_ENV}/${SERVICE_NAME}_docker_build.sh\necho `pwd`\n\nmkdir -p $PROJ_BYTEOX_BUILD_DIR\n#\u5220\u9664\u6253\u5305\u76ee\u5f55\u6587\u4ef6\n#rm -rf $PROJ_BYTEOX_BUILD_DIR/*.jar $PROJ_BYTEOX_BUILD_DIR/*.properties $PROJ_BYTEOX_BUILD_DIR/lib $PROJ_BYTEOX_BUILD_DIR/byteox-lib\n# \u6ce8\u91ca\uff1a\u6e05\u9664\u4e0a\u4e00\u6b21\u7684\u6587\u4ef6\u53ca\u6253\u5305\u4ea7\u7269\nrm -rf $PROJ_BYTEOX_BUILD_DIR/*\n\necho \"\u521b\u5efaDockerfile\u6587\u4ef6 ${PROJ_BYTEOX_BUILD_DIR}/Dockerfile\"\ncat &lt;&lt;EOF &gt; ${PROJ_BYTEOX_BUILD_DIR}/Dockerfile\nfrom 172.24.137.212:5000/eclipse-temurin:11.0.16.1_1-jre\nWORKDIR /app/byteox-app2b\n# \u8bbe\u5b9a\u65f6\u533a\nRUN cp -f /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\nCOPY lib/ ./lib/\nCOPY byteox-lib/ ./lib/\nCOPY byteox-app2b.jar *.properties ./\nEOF\n\n# docker\u6784\u5efa\u76ee\u5f55\n# \u6ce8\u91ca\uff1a\u5bd3\u76df\u670d\u52a1\u5668\uff1a\u5c06\u6784\u5efa\u76ee\u5f55\u4e0b\u7684 target/byteox-app2b-thin.jar \u79fb\u5230 /var/jenkins_home/byteox/_docker_build/dev/byteox-app2b/byteox-app2b.jar\nmv $MVN_BUILD_TARGET_DIR/${SERVICE_NAME}-thin.jar $PROJ_BYTEOX_BUILD_DIR/${SERVICE_NAME}.jar\nmv $MVN_BUILD_TARGET_DIR/lib $PROJ_BYTEOX_BUILD_DIR/\nmv $MVN_BUILD_TARGET_DIR/classes/application.properties $PROJ_BYTEOX_BUILD_DIR\n# \u6ce8\u91ca\uff1a\u79fb\u52a8 application-ztlydev.properties\nmv $MVN_BUILD_TARGET_DIR/classes/application-$CONFIG_ENV.properties $PROJ_BYTEOX_BUILD_DIR\nperl -pi -e \"s/spring\\.profiles\\.active=.*/spring.profiles.active=$CONFIG_ENV/g\" $PROJ_BYTEOX_BUILD_DIR/application.properties\n# \u6ce8\u91ca\uff1a\u5bd3\u76df\u670d\u52a1\u5668\uff1a\u8fdb\u5165 /var/jenkins_home/byteox/_docker_build/dev/byteox-app2b \u4e0b\ncd $PROJ_BYTEOX_BUILD_DIR\n\n# \u5206\u79bbbyteox-*.jar\uff0c\u538b\u7f29lib.zip\nmkdir byteox-lib\nmv lib/byteox-*.jar byteox-lib\n\nls -l $PROJ_BYTEOX_BUILD_DIR\n\n\n\n\n######## \u751f\u6210\u300cdocker_build.sh\u300d\u811a\u672c\u6587\u4ef6\u51c6\u5907\u53d8\u91cf #######\n#\u6e90yaml\u6587\u4ef6\u5b58\u653e\u8def\u5f84\n# \u6ce8\u91ca\uff1a\u5bd3\u76df\u670d\u52a1\u5668YAML_BASE_DIR\uff1a/var/jenkins_home/byteox/yaml/ztlydev\nYAML_BASE_DIR=${JENKINS_HOME}/byteox/yaml/$CONFIG_ENV\n\n########\n#\u76ee\u6807yaml\u6587\u4ef6\u540d\nTARGET_YAML_NAME=$SERVICE_NAME.yaml\n#\u90e8\u7f72yaml\u8def\u5f84 kubectl apply -f [yaml file]\n# \u6ce8\u91ca\uff1a\u5bd3\u76df\u670d\u52a1\u5668YAML_DIST_DIR\uff1a/var/jenkins_home/byteox/_yamldist/ztly/dev\nYAML_DIST_DIR=${JENKINS_HOME}/byteox/_yamldist/$CORPORATE_NAME/$BUILD_ENV\n\n#\u56fa\u5b9a\u53c2\u6570\nIMAGE_VERSION=latest\nCURRENT_VERSION=v`date '+%Y%m%d%H%M%S'`\n\n\n################\u751f\u6210\u300cdocker_build.sh\u300d#################################\ncat &lt;&lt;EOF &gt; $DOCKER_BYTEOX_BUILD_SH\n#!/bin/sh\n\n\n# \u9879\u76ee docker build \u76ee\u5f55\ncd $PROJ_BYTEOX_BUILD_DIR\n\n\n\n#\u6784\u5efa\u955c\u50cf\ndocker build -t $SERVICE_NAME .\n\n#\u63a8\u9001\u5230\u4ed3\u5e93\n# \u3010\u9700\u66f4\u6362\u3011jenkins\u914d\u7f6e\u7684\u5168\u5c40\u53d8\u91cf REGISTRY_HOST\ndocker tag $SERVICE_NAME:$IMAGE_VERSION $REGISTRY_HOST/$CONFIG_ENV/$SERVICE_NAME:$IMAGE_VERSION\ndocker tag $SERVICE_NAME:$IMAGE_VERSION $REGISTRY_HOST/$CONFIG_ENV/$SERVICE_NAME:$CURRENT_VERSION\ndocker push $REGISTRY_HOST/$CONFIG_ENV/$SERVICE_NAME:$IMAGE_VERSION\ndocker push $REGISTRY_HOST/$CONFIG_ENV/$SERVICE_NAME:$CURRENT_VERSION\n\n#push\u5230\u79c1\u6709\u4ed3\u5e93\u540e\u5220\u9664tag\n#docker rmi $REGISTRY_HOST/$BUILD_ENV/$SERVICE_NAME:$IMAGE_VERSION\n\n#\u66ff\u6362\u7248\u672c\u53f7\n# \u6ce8\u91ca\uff1a\u5c06\u5bd3\u76df\u670d\u52a1\u5668YAML_BASE_DIR\uff1a/var/jenkins_home/byteox/yaml/ztlydev/byteox_app2b\n# \u590d\u5236\u5230 /var/jenkins_home/workspace/ztly_dev_byteox-app2b/ \u4e0b\ncp $YAML_BASE_DIR/$TARGET_YAML_NAME $WORKSPACE\n# \u6ce8\u91ca\uff1a\u8fdb\u5165 /var/jenkins_home/workspace/ztly_dev_byteox/\ncd $WORKSPACE\n# \u6ce8\u91ca\uff1a\u5c06 byteox-app2b.yaml(k8s\u914d\u7f6e) \u91cc\u7684 latest \u66ff\u6362\u4e3a\u5f53\u524d\u7248\u672c\nperl -pi -e \"s/latest/$CURRENT_VERSION/g\" $TARGET_YAML_NAME\n\nchown elastic:elastic $TARGET_YAML_NAME\n\n# \u6ce8\u91ca\uff1a\u4ee5\u4e0b\u8fd9\u4e00\u5927\u6bb5\u90fd\u6ca1\u7528\uff0c\u56e0\u4e3a\u6700\u7ec8 xx.yaml \u4f1a\u653e\u5230 /app/yaml/dist \u4e0b\n# \u590d\u5236\u5e76\u53d1\u5e03\n# \u6ce8\u91ca\uff1a\u5bd3\u76df\u670d\u52a1\u5668YAML_DIST_DIR\uff1a/var/jenkins_home/byteox/_yamldist/ztly/dev\nmkdir -p $YAML_DIST_DIR\n# \u6ce8\u91ca\uff1a\u5c06\u5f53\u524d byteox-app2b.yaml \u590d\u5236\u5230  /var/jenkins_home/byteox/_yamldist/ztly/dev\n# \u6240\u4ee5\u6700\u540e\u7684 /var/jenkins_home/byteox/_yamldist/ztly/dev/byteox-app2b.yaml \u4e3a\u6700\u7ec8\u751f\u6210\u914d\u7f6e\u6587\u4ef6\ncp $TARGET_YAML_NAME $YAML_DIST_DIR\n# kubectl apply -f $YAML_DIST_DIR/${SERVICE_NAME}.yaml --record=true\n\nEOF\n</code></pre> <ol> <li>Post-build Actions\uff1a\u8fdc\u7a0b\u670d\u52a1\u5668\u884c\u4e3a</li> <li>\u6267\u884c\u547d\u4ee4 <code>sh /var/jenkins_home/byteox/_docker_build/dev/byteox-app2b_docker_build.sh</code>\u63a8\u9001\u81f3 docker \u4ed3\u5e93</li> <li>transfer file: \u5c06 jenkins \u5de5\u4f5c\u76ee\u5f55\u7684 byteox-app2b.yaml  \u590d\u5236\u5230 /app/yaml/dist</li> <li>\u901a\u8fc7 k8s \u542f\u52a8\uff1a <code>kubectl apply -f /app/yaml/dist/byteox-app2b.yaml</code></li> </ol>"},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/Jenkins/#k8s-yaml","title":"\u9644\uff1ak8s yaml \u793a\u4f8b","text":"<pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: byteox-app2b\n  namespace: dev-byteox\n  labels:\n    app: byteox-app2b\n\nspec:\n  ports:\n  - port: 61003\n    targetPort: 61003\n    nodePort: 61003\n  selector:\n    app: byteox-app2b\n  type: NodePort\n\n---\n\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: byteox-app2b-deployment\n  namespace: dev-byteox\n  labels:\n    app: byteox-app2b\nspec:\n  replicas: 1\n  minReadySeconds: 30\n  strategy:\n    type: RollingUpdate\n    rollingUpdate:\n      maxSurge: 2\n      maxUnavailable: 0\n  selector:\n    matchLabels:\n      app: byteox-app2b\n  template:\n    metadata:\n      labels:\n        app: byteox-app2b\n    spec:\n      containers:\n      - image: elastic/filebeat:7.17.6\n        name: filebeat\n        args: [\n          \"-c\", \"/etc/filebeat/filebeat.yml\",\n          \"-e\",\n        ]\n        volumeMounts:\n        - name: byteox-app2b-logs\n          mountPath: /log\n        - name: byteox-app2b-filebeat-config\n          mountPath: /etc/filebeat/\n      - name: byteox-app2b\n        # \u3010\u9700\u66f4\u6362\u3011\n        image: 172.24.137.212:5000/ztlydev/byteox-app2b:latest\n        ports:\n        - containerPort: 61003\n        imagePullPolicy: Always\n        lifecycle:\n          preStop:\n            httpGet:\n              port: 61003\n              path: isc/shutdown\n        livenessProbe:\n          initialDelaySeconds: 70\n          failureThreshold: 5\n          periodSeconds: 15\n          timeoutSeconds: 3\n          httpGet:\n            port: 61003\n            path: isc/readiness\n        readinessProbe:\n          initialDelaySeconds: 10\n          periodSeconds: 5\n          timeoutSeconds: 2\n          failureThreshold: 1\n          successThreshold: 1\n          httpGet:\n            port: 61003\n            path: isc/readiness\n        command: [\"java\",\"-Duser.timezone=Asia/Shanghai\",\"-Xms512m\",\"-Xmx512m\",\"-jar\",\"-Dloader.path=./lib\",\"/app/byteox-app2b/byteox-app2b.jar\"]\n        volumeMounts:\n        - name: byteox-app2b-logs\n          mountPath: /app/byteox-app2b/log\n      volumes:\n      #- name: app2b-log-vol\n      #  hostPath:\n      #    path: /opt/byteox-volume/byteox-app2b/log\n      - name: byteox-app2b-logs\n        emptyDir: {}\n      - name: byteox-app2b-filebeat-config\n        configMap:\n          name: byteox-app2b-filebeat-config\n---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: byteox-app2b-filebeat-config\n  namespace: dev-byteox\ndata:\n  filebeat.yml: |\n    filebeat.inputs:\n    - type: filestream\n      id: byteox-app2b-total\n      paths:\n        - /log/log_total.log\n      fields_under_root: true\n      fields:\n        svc_name: 'byteox-app2b'\n      keep_null: true\n      parsers:\n      - multiline:\n          type: pattern\n          pattern: '^20'\n          negate: true\n          match: after\n    processors:\n      - include_fields:\n          fields: [\"message\", \"svc_name\"]\n      - dissect:\n          tokenizer: '%{} %{} %{level}[%{}'\n          field: \"message\"\n          target_prefix: \"\"\n          overwrite_keys: true\n          ignore_failure: true\n          trim_values: right\n    setup.ilm:\n      rollover_alias: pms-dev\n      pattern: \"{now/d}-000001\"\n      overwrite: true\n      policy_name: 90-days-default\n    output.elasticsearch:\n      hosts: [\"http://172.24.137.212:9200\"]\n      username: \"elastic\"\n      password: \"Um6bUP5uzHx2VQJJ3Key\"\n    setup.kibana:\n      host: \"http://172.24.137.212:5601\"\n      username: \"elastic\"\n      password: \"Um6bUP5uzHx2VQJJ3Key\"\n</code></pre>"},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/Jenkins/#ip","title":"\u4e0eip\u5730\u5740\u7b49\u76f8\u5173\u7684\u914d\u7f6e\u8c03\u6574","text":"<ul> <li>jenkins \u914d\u7f6e\uff1a CONFIG_ENV=ztlyde \u5168\u5c40\u66ff\u6362\u4e3a CONFIG_ENV=ztlyde-shuke</li> <li>maven \u6253\u5305\u914d\u7f6e\uff1a\u590d\u5236 settings-ztlydev.xml \u5230 settings-ztlydev-shuke.xml \u5e76\u8c03\u6574\u5185\u5bb9 (/app/jenkins/jenkins_home/apache-maven-3.8.6/conf )</li> <li>k8s\u539f\u59cb\u914d\u7f6e\uff1a\u590d\u5236 yaml/ztlydev \u5230 yaml/ztlydev-shuke, \u5e76\u8c03\u6574\u5185\u5bb9\u00a0\uff08/app/jenkins/jenkins_home/byteox/yaml/ztlydev-shuke\uff09</li> <li>\u4ee3\u7801\u7684 properties \u8bbe\u7f6e\uff1a \u65b0\u589e application-ztlydev-shuke.properties \u914d\u7f6e\u5e76\u4f5c\u5bf9\u5e94\u8c03\u6574</li> </ul>"},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/Kibana/","title":"Kibana","text":""},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/Kibana/#_1","title":"\u6d4b\u8bd5\u73af\u5883","text":"<p>\u8bbf\u95ee\u5730\u5740\uff1ahttp://47.96.187.116/kibana/ \u7aef\u53e3\uff1a5601</p>"},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/Kibana/#_2","title":"\u5b89\u88c5","text":"<p>\u6587\u6863\u5730\u5740\uff1ahttps://www.elastic.co/guide/index.html \u5b89\u88c5\u6587\u6863\uff1ahttps://www.elastic.co/guide/en/kibana/7.17/rpm.html#rpm-repo \u7248\u672c\uff1a7.17</p> <p>\u6b65\u9aa4\uff1a</p> <ul> <li>yum\u5b89\u88c5\uff0c\u53c2\u8003\u6587\u6863\u5730\u5740</li> <li>\u4e3b\u76ee\u5f55: /usr/share/kibana</li> <li>\u914d\u7f6e\u6587\u4ef6: /etc/kibana/kibana.yml</li> <li>\u65e5\u5fd7\u6587\u4ef6: /var/log/kibana</li> <li>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6</li> </ul> <pre><code># Kibana\ni18n.locale: \"zh-CN\"\n# \u5176\u4ed6\u6587\u6863\u6709\u8bbe\u7f6e\u670d\u52a1\u5668\u5730\u5740\u4e3a 0.0.0.0 \u4e0d\u77e5\u9053\u4e3a\u5565 \u6240\u4ee5\u6211\u8fd8\u6682\u672a\u8bbe\u7f6e\n# server.host: \"0.0.0.0\"\n\n# \u56e0\u4e3a\u4ece\u4e8c\u7ea7\u8def\u7531\u5f00\u59cb\u8bbf\u95ee\uff0c\u6240\u4ee5\u8fd8\u9700\u914d\u7f6e\uff1a\nserver.basePath: \"/kibana\"\nserver.publicBaseUrl: \"http://47.96.187.116/kibana\"\n</code></pre> <ul> <li>\u542f\u52a8</li> </ul> <pre><code># \u542f\u52a8kibana\nsystemctl start kibana\n\n# \u67e5\u770bkibana\u72b6\u6001\nsystemctl status kibana\n\n# \u8bbe\u7f6e\u5f00\u673a\u81ea\u542f\u52a8\nsystemctl enable kibana\n\n# \u67e5\u770bsystem\u65e5\u5fd7\njournalctl -xefu kibana\n</code></pre> <ul> <li>\u68c0\u67e5 kibana \u6b63\u5e38\u8fd0\u884c\uff08\u9ed8\u8ba45601\u7aef\u53e3\uff09</li> </ul> <p>\u9700\u8bbf\u95ee :5601 \u7684\u7f51\u9875\uff0ccurl \u4f1a\u91cd\u5b9a\u5411\u5230\u5176\u4ed6\u754c\u9762\uff0c\u6ca1\u6709\u8fd4\u56de</p>"},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/Maven%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/","title":"Maven\u5b89\u88c5\u8bb0\u5f55","text":"<p>\u6587\u6863\u5730\u5740\uff1a \u4e0b\u8f7d\u5730\u5740\uff1a https://archive.apache.org/dist/maven/maven-3/3.8.6/binaries/apache-maven-3.8.6-bin.tar.gz \u5b89\u88c5\u65b9\u5f0f\uff1a 1. \u4e0b\u8f7d\u5b89\u88c5\u5305    wget https://archive.apache.org/dist/maven/maven-3/3.8.6/binaries/apache-maven-3.8.6-bin.tar.gz 2. \u89e3\u538b\u5b89\u88c5\u5305\u5230\u6307\u5b9a\u76ee\u5f55   tar zxvf apache-maven-3.8.6-bin.tar.gz 3. \u914d\u7f6e\u73af\u5883\u53d8\u91cf   $ vim /etc/profile \u6dfb\u52a0path <code>export PATH=/app/apache-maven-3.8.6/bin:$PATH</code> <code>source /etc/profile</code> <code>mvn --version</code></p>"},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/MySql8%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/","title":"MySql8\u5b89\u88c5\u8bb0\u5f55","text":"<p>\u8d26\u53f7\u5bc6\u7801\uff1a<code>root</code>/<code>zt/pWDleyou!11052022</code> \u7aef\u53e3\uff1a3306 \u6587\u6863\u5730\u5740\uff1a \u4e0b\u8f7d\u5730\u5740\uff1ahttps://dev.mysql.com/downloads/mysql/ \u5b89\u88c5\u65b9\u5f0f\uff1a</p> <ol> <li>\u89e3\u538b\u4e0b\u8f7d\u6587\u4ef6 <code>tar xvf mysql-8.0.36-1.el8.x86_64.rpm-bundle.tar</code></li> <li>\u5b89\u88c5\u6587\u4ef6\uff0c\u6ce8\u610f\u9700\u8981\u6309\u7167\u987a\u5e8f\u8fdb\u884c\u5b89\u88c5 <code>rpm -ivh mysql-community-common-8.0.36-1.el8.x86_64.rpm</code> <code>rpm -ivh mysql-community-client-plugins-8.0.36-1.el8.x86_64.rpm</code> <code>rpm -ivh mysql-community-libs-8.0.36-1.el8.x86_64.rpm</code> <code>rpm -ivh mysql-community-client-8.0.36-1.el8.x86_64.rpm</code> <code>rpm -ivh mysql-community-icu-data-files-8.0.36-1.el8.x86_64.rpm</code> <code>rpm -ivh mysql-community-server-8.0.36-1.el8.x86_64.rpm</code></li> <li>\u66ff\u6362\u914d\u7f6e\u6587\u4ef6<code>/etc/my.cnf</code></li> <li>\u521d\u59cb\u5316\u6570\u636e\u5e93 <code>mysqld --initialize --user=mysql</code></li> <li>\u542f\u52a8 <code>systemctl status mysqld</code></li> <li>\u4fee\u6539root\u7528\u6237\u5bc6\u7801</li> <li>\u67e5\u770bmysql\u521d\u59cb\u5316\u5bc6\u7801\u6765\u767b\u5f55<code>cat /var/log/mysqld.log</code>\u53ef\u4ee5\u770b\u5230\u5982\u4e0b\u65e5\u5fd7<code>2024-01-25T07:13:44.266344Z 6 [Note] [MY-010454] [Server] A temporary password is generated for root@localhost: ofWaaT6#lV_i</code>\uff0c<code>ofWaaT6#lV_i</code>\u5c31\u662f\u4e34\u65f6\u5bc6\u7801\u3002</li> <li>\u767b\u5f55mysql <code>mysql -uroot -p</code></li> <li>\u4fee\u6539\u547d\u4ee4 <code>ALTER USER'root'@'localhost'IDENTIFIED BY 'your_password';</code></li> </ol> <p>\u5b89\u88c5\u5730\u5740\uff1a \u914d\u7f6e\u6587\u4ef6\uff1a</p> <pre><code>[mysql]\n# Mysql8\u5b89\u88c5\u8bb0\u5f55\ndefault-character-set=utf8\n[client]\n# \u8bbe\u7f6emysql\u5ba2\u6237\u7aef\u8fde\u63a5\u670d\u52a1\u7aef\u65f6\u9ed8\u8ba4\u4f7f\u7528\u7684\u7aef\u53e3\nport=3306\n\n[mysqld]\nskip_name_resolve=ON\n# mysql8\u4e0d\u5141\u8bb8root\u542f\u52a8\nuser=mysql\nserver-id=1\n# \u8bbe\u7f6e3306\u7aef\u53e3\nport=3306\n# \u8bbe\u7f6emysql\u7684\u5b89\u88c5\u76ee\u5f55\n#basedir=/var/lib/mysql\n# \u8bbe\u7f6emysql\u6570\u636e\u5e93\u7684\u6570\u636e\u7684\u5b58\u653e\u76ee\u5f55\ndatadir=/var/lib/mysql\nsocket=/var/lib/mysql/mysql.sock\n\n# \u5141\u8bb8\u6700\u5927\u8fde\u63a5\u6570\nmax_connections=10000\n# \u5141\u8bb8\u8fde\u63a5\u5931\u8d25\u7684\u6b21\u6570\u3002\u8fd9\u662f\u4e3a\u4e86\u9632\u6b62\u6709\u4eba\u4ece\u8be5\u4e3b\u673a\u8bd5\u56fe\u653b\u51fb\u6570\u636e\u5e93\u7cfb\u7edf\nmax_connect_errors=10\n# \u670d\u52a1\u7aef\u4f7f\u7528\u7684\u5b57\u7b26\u96c6\u9ed8\u8ba4\u4e3aUTF8\ncharacter_set_server = utf8mb4\n# \u521b\u5efa\u65b0\u8868\u65f6\u5c06\u4f7f\u7528\u7684\u9ed8\u8ba4\u5b58\u50a8\u5f15\u64ce\ndefault-storage-engine=INNODB\n# \u9ed8\u8ba4\u4f7f\u7528\u201cmysql_native_password\u201d\u63d2\u4ef6\u8ba4\u8bc1\ndefault_authentication_plugin=mysql_native_password\n\nlog-error=/var/log/mysqld.log\npid-file=/var/run/mysqld/mysqld.pid\nsql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION\nmax_allowed_packet=64M\n\n#\u5f00\u542f\u6162\u67e5\u8be2\u65e5\u5fd7\nslow_query_log = ON\n##\u6162\u67e5\u8be2\u65e5\u5fd7\u5b58\u653e\u4f4d\u7f6e\nslow_query_log_file = /var/lib/mysql/mysql-slow.log\n##\u8d85\u8fc7\u591a\u5c11\u79d2\u7684\u67e5\u8be2\uff0c\u88ab\u89c6\u4e3a\u6162\u67e5\u8be2\nlong_query_time = 3\n##\u672a\u4f7f\u7528\u7d22\u5f15\u76d1\u63a7\nlog_queries_not_using_indexes = 1\n#\u6570\u636e\u5e93\u8868\u4e0d\u5206\u533a\u5927\u5c0f\u5199\nlower_case_table_names=1\n\n#binlog\u65e5\u5fd7\u8bbe\u7f6e\nrelay-log = /var/lib/mysql/relay-bin\nlog-slave-updates = ON\nslave-parallel-type=LOGICAL_CLOCK\nrelay_log_recovery=ON\n\n#\u8d85\u65f6\nslave_net_timeout = 30\n\n#\u590d\u5236\u5e76\u53d1\u6570\u8bbe\u7f6e\nslave_parallel_workers = 8\n\n#\u4ece\u5e93\u590d\u5236\u8df3\u8fc7\u9519\u8bef\n#mysql5.7\u591a\u6e90\u590d\u5236\u5fc5\u987b\u6dfb\u52a0\u7684\u53c2\u6570(\u4e0d\u52a0\u62a5\u9519)\uff0c5.7\u7248\u672c\u4e4b\u524d\u4e0d\u7528\u52a0\nslave-skip-errors = 1062,1053,1146,1213,1264,1205,1396\n\nmaster_info_repository=TABLE\nrelay_log_info_repository=TABLE\n\n#GTID\u6a21\u5f0f(\u4f7f\u7528GTID\u5c31\u53ef\u4ee5\u4e0d\u7528\u8bb0\u5f55\u5907\u4efd\u4f4d\u7f6e\u70b9)\ngtid-mode=on\nenforce-gtid-consistency\n\n#\u4f5c\u4e3aMaster\u8981\u5f00\u542fbinlog\nlog-bin=mysql-bin\n#binlog format\u6709\u4e09\u79cd\u5f62\u5f0f\uff1aStatement\u3001Mixed\u3001Row\uff0c\u9ed8\u8ba4\u8bbe\u7f6e\u4e3amixed\nbinlog-format=row\nexpire_logs_days = 7\n#\u9700\u8981\u540c\u6b65\u7684\u5e93\uff0c\u4e0d\u6307\u5b9a\u9ed8\nsync_binlog=1\nauto_increment_increment=2\nauto_increment_offset=1\n\n\n#######innodb\u8bbe\u7f6e########\n#\u9501\u7b49\u5f85\u65f6\u95f4\nlock_wait_timeout = 3600\n# \u670d\u52a1\u5668\u7ebf\u7a0b\u7f13\u5b58\u8fd9\u4e2a\u503c\u8868\u793a\u53ef\u4ee5\u91cd\u65b0\u5229\u7528\u4fdd\u5b58\u5728\u7f13\u5b58\u4e2d\u7ebf\u7a0b\u7684\u6570\u91cf\nthread_cache_size = 64\n#\u5e76\u53d1\u8fd0\u884c\u7684\u7ebf\u7a0b\u6570\uff0c\u8bbe\u7f6e\u4e3a0\u8868\u793a\u4e0d\u9650\u5236\ninnodb_thread_concurrency = 0\n\n#\u5c06\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u8bbe\u7f6e\u4e3aREAD-COMMITTED\ntransaction_isolation = READ-COMMITTED\n#InnoDB\u7f13\u5b58\u6c60\u5927\u5c0f\ninnodb_buffer_pool_size = 4096M\n#InnoDB\u7f13\u5b58\u6c60\u5b9e\u4f8b\u6570\ninnodb_buffer_pool_instances = 8\n#\u5728\u542f\u52a8\u65f6\u628a\u70ed\u6570\u636e\u52a0\u8f7d\u5230\u5185\u5b58\ninnodb_buffer_pool_load_at_startup = 1\n#\u5feb\u901f\u52a0\u8f7d\u5230\u7f13\u51b2\u6c60\ninnodb_buffer_pool_dump_pct = 100\n#\u6570\u636e\u5e93\u5173\u95ed\u65f6\u81ea\u52a8dump\u6570\u636e\ninnodb_buffer_pool_dump_at_shutdown = 1\n#\n#\u8bbe\u7f6e\u4e3a2\u8868\u793a\u4e8b\u52a1\u65e5\u5fd7\u5c06\u5728\u63d0\u4ea4\u65f6\u5199\u5165\u65e5\u5fd7\uff0c\u4f46\u65e5\u5fd7\u6587\u4ef6\u6bcf\u6b21\u5237\u65b0\u5230\u78c1\u76d8\u4e00\u6b21\ninnodb_flush_log_at_trx_commit = 2\n#\u5c1a\u672a\u6267\u884c\u7684\u4e8b\u52a1\u5206\u914d\u7684\u7f13\u5b58\uff0c\u5982\u679c\u4e8b\u52a1\u6bd4\u8f83\u5927\uff0c\u9002\u5f53\u8c03\u6574\u8be5\u503c\ninnodb_log_buffer_size = 32M\n#redo\u65e5\u5fd7\u7684\u5927\u5c0f\ninnodb_log_file_size = 2G\n#\u5f53\u8d85\u8fc7\u8fd9\u4e2a\u9600\u503c\uff08\u9ed8\u8ba4\u662f1G\uff09\uff0c\u4f1a\u89e6\u53d1truncate\u56de\u6536\uff08\u6536\u7f29\uff09\u52a8\u4f5c\uff0ctruncate\u540e\u7a7a\u95f4\u7f29\u5c0f\u523010M\ninnodb_max_undo_log_size = 4G\n# \u6839\u636e\u60a8\u7684\u670d\u52a1\u5668IOPS\u80fd\u529b\u9002\u5f53\u8c03\u6574\n# \u4e00\u822c\u914d\u666e\u901aSSD\u76d8\u7684\u8bdd\uff0c\u53ef\u4ee5\u8c03\u6574\u5230 10000 - 20000\n# \u914d\u7f6e\u9ad8\u7aefPCIe SSD\u5361\u7684\u8bdd\uff0c\u5219\u53ef\u4ee5\u8c03\u6574\u7684\u66f4\u9ad8\uff0c\u6bd4\u5982 50000 - 80000\n#innodb_io_capacity = 10000\n#innodb_io_capacity_max = 20000\n\n#\u5c06\u4fdd\u5b58\u5728permanforce_schema\u4e2d\u7684SQL\u8bed\u53e5\u957f\u5ea6\u8bbe\u7f6e\u7684\u8db3\u591f\u957f\uff0c\u4fbf\u4e8e\u67e5\u770b\nperformance_schema_max_sql_text_length = 4048\n</code></pre> <p>\u542f\u52a8\u547d\u4ee4\uff1a</p> <pre><code># \u542f\u52a8\nsystemctl start mysqld\n# \u67e5\u770b\u72b6\u6001\nsystemctl status mysqld\n# \u505c\u6b62\nsystemctl stop mysqld\n</code></pre> <p>\u5176\u4ed6\u6ce8\u610f\u4e8b\u9879\uff1a</p>"},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/Nexus%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/","title":"Nexus\u5b89\u88c5\u8bb0\u5f55","text":""},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/Nexus%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/#_1","title":"\u5b89\u88c5","text":"<p>\u6587\u6863\u5730\u5740\uff1a https://blog.csdn.net/weixin_44960500/article/details/123305893 \u4e0b\u8f7d\u5730\u5740\uff1a \u5b89\u88c5\u65b9\u5f0f\uff1a https://blog.csdn.net/weixin_44960500/article/details/123305893 \u5b89\u88c5\u5730\u5740\uff1a \u914d\u7f6e\u6587\u4ef6\uff1a \u542f\u52a8\u547d\u4ee4\uff1a \u5176\u4ed6\u6ce8\u610f\u4e8b\u9879 maven \u79c1\u670d http://47.96.187.116/nexus  \u8d26\u53f7 admin  \u5bc6\u7801 zh123456</p>"},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/Nexus%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/#_2","title":"\u914d\u7f6e","text":""},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/OpenJDK%20%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/","title":"OpenJDK \u5b89\u88c5\u8bb0\u5f55","text":"<p>\u6587\u6863\u5730\u5740\uff1a \u4e0b\u8f7d\u5730\u5740\uff1a \u5b89\u88c5\u65b9\u5f0f\uff1a<code>yum install -y java-11-openjdk</code> \u5b89\u88c5\u5730\u5740\uff1a \u914d\u7f6e\u6587\u4ef6\uff1a \u8bbe\u7f6eJAVA_HOME</p> <pre><code># OpenJDK\u5b89\u88c5\u8bb0\u5f55\nexport JAVA_HOME=/usr/lib/jvm/java-11-openjdk-11.0.21.0.9-2.0.3.al8.x86_64\nexport JRE_HOME=$JAVA_HOME/jre\nexport CLASSPATH=$JAVA_HOME/lib:$JRE_HOME/lib:$CLASSPATH\nexport PATH=$JAVA_HOME/bin:$JRE_HOME/bin:$PATH\n</code></pre> <p>\u542f\u52a8\u547d\u4ee4\uff1a \u5176\u4ed6\u6ce8\u610f\u4e8b\u9879\uff1a</p>"},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/RabbitMQ%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/","title":"RabbitMQ\u5b89\u88c5\u8bb0\u5f55","text":"<p>\u6587\u6863\u5730\u5740\uff1a https://packagecloud.io/rabbitmq \u4e0b\u8f7d\u5730\u5740\uff1a rabbitmq-server:https://packagecloud.io/app/rabbitmq/rabbitmq-server/search?q=3.11.2-1&amp;filter=rpms&amp;filter=rpms&amp;dist= erlang:https://packagecloud.io/app/rabbitmq/erlang/search?q=25.1&amp;filter=all&amp;filter=all&amp;dist= rabbitmq-server_delayed_message_exchange https://github.com/rabbitmq/rabbitmq-delayed-message-exchange/releases/tag/3.11.1</p> <ol> <li>\u5b89\u88c5\u4f9d\u8d56\uff1a\u00a0yum install socat logrotate -y</li> <li>\u5c06 rabbitmq-server erlang rpm\u5305 \u653e\u5230/app/rabbitmq\u8def\u5f84\u4e0b</li> <li>\u5b89\u88c5 erlang rpm\u5305\uff1arpm -ivh erlang-25.1.2-1.el8.x86_64.rpm </li> <li>\u5b89\u88c5 rabbitmq-server  rpm\u5305\uff1a rpm -ivh rabbitmq-server-3.11.2-1.suse.noarch.rpm</li> <li>\u63d2\u4ef6\u4e0b\u8f7d\uff1arabbitmq-server_delayed_message_exchange </li> <li>\u5c06\u4e0b\u8f7d\u7684\u63d2\u4ef6\u653e\u5230 /usr/lib/rabbitmq/lib/rabbitmq_server-3.11.2/plugins/ \u8def\u5f84\u4e0b</li> <li>\u542f\u7528web\u63d2\u4ef6\uff1arabbitmq-plugins enable rabbitmq_web_mqtt  </li> <li>\u542f\u7528web\u7ba1\u7406\u9875\u9762\u63d2\u4ef6\uff1aabbitmq-plugins enable rabbitmq_management</li> <li>\u542f\u7528\u5ef6\u65f6\u6d88\u606f\u63d2\u4ef6\uff1arabbitmq-plugins enable rabbitmq_delayed_message_exchange</li> <li>\u8bbe\u7f6e\u7528\u6237\u5bc6\u7801\uff1arabbitmqctl add_user admin Leyou1105.s3crEe</li> <li>\u8bbe\u7f6e\u7528\u6237\u89d2\u8272\uff1arabbitmqctl set_user_tags admin administrator</li> <li>\u8bbe\u7f6e\u7528\u6237\u6743\u9650\uff1arabbitmqctl set_permissions -p \"/\" \"admin\" \".\" \".\" \".*\"</li> <li>\u8bbe\u7f6e\u5f00\u673a\u81ea\u542f\uff1asystemctl enable rabbitmq-server</li> <li>\u542f\u52a8RabbitMQ\u670d\u52a1\uff1a systemctl start rabbitmq-server</li> <li>\u5173\u95edRabbitMQ\u670d\u52a1\uff1a systemctl stop rabbitmq-server</li> <li>\u91cd\u542fRabbitMQ\u670d\u52a1\uff1asystemctl restart rabbitmq-server</li> <li>\u67e5\u770bRabbitMQ\u670d\u52a1\u8fd0\u884c\uff1asystemctl status rabbitmq-server</li> <li>\u4fee\u6539\u5bc6\u7801\uff1arabbitmqctl change_ password \u7528\u6237\u540d \u65b0\u5bc6\u7801</li> <li>\u5220\u9664\u7528\u6237\uff1arabbitmqctl delete_user \u7528\u6237\u540d</li> <li>\u67e5\u770b\u7528\u6237\u6e05\u5355\uff1arabbitmqctl list_users</li> </ol> <p>\u5b89\u88c5\u5730\u5740\uff1a \u914d\u7f6e\u6587\u4ef6\uff1a \u542f\u52a8\u547d\u4ee4\uff1a \u5176\u4ed6\u6ce8\u610f\u4e8b\u9879 1\uff1a\u7ba1\u7406\u7aef\u7aef\u53e3 15672 2\uff1a\u670d\u52a1\u7aef\u7aef\u53e3 5672s</p>"},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/Redis%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/","title":"Redis\u5b89\u88c5\u8bb0\u5f55","text":"<p>\u7aef\u53e3\uff1a3379 \u6587\u6863\u5730\u5740\uff1a \u4e0b\u8f7d\u5730\u5740\uff1a \u5b89\u88c5\u65b9\u5f0f\uff1a<code>yum install redis</code> \u5b89\u88c5\u5730\u5740\uff1a \u914d\u7f6e\u6587\u4ef6\uff1a \u542f\u52a8\u547d\u4ee4\uff1a \u5176\u4ed6\u6ce8\u610f\u4e8b\u9879\uff1a</p>"},{"location":"Backend/misc/%E4%B8%80%E6%AC%A1%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/k8s%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95/","title":"k8s\u5b89\u88c5\u8bb0\u5f55","text":"<p>\u7aef\u53e3\uff1a \u6587\u6863\u5730\u5740\uff1a \u4e0b\u8f7d\u5730\u5740\uff1a \u5b89\u88c5\u65b9\u5f0f\uff1a</p> <ol> <li>\u4fee\u6539hostname</li> </ol> <p>hostnamectl set-hostname leyou-dev</p> <p>(hostnamectl status =&gt; static hostname)</p> <ol> <li>\u4fee\u6539hosts\u6620\u5c04 vi /etc/hosts</li> </ol> <p>10.0.1.48 leyou-dev</p> <ol> <li>\u7981\u7528 swap (\u7981\u6b62\u5c06\u8bbe\u5907\u548c\u6587\u4ef6\u7528\u4e8e\u5206\u9875\u548c\u4ea4\u6362)</li> </ol> <p>swapoff -a</p> <ol> <li>\u5173\u95edselinux</li> </ol> <p>sed -i 's/enforcing/disabled/' /etc/selinux/config</p> <ol> <li>\u5199\u5165yum\u6e90 vi/etc/yum.repos.d/kubernetes.repo</li> </ol> <p>[kubernetes]</p> <p>name=Kubernetes</p> <p>baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/</p> <p>enabled=1</p> <p>gpgcheck=1</p> <p>repo_gpgcheck=1</p> <p>gpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg</p> <ol> <li>\u9009\u62e9\u7248\u672c</li> </ol> <p>docker \u548c k8s \u7248\u672c\u6bd4\u5bf9\uff1ahttps://github.com/kubernetes/kubernetes/blob/release-1.19/build/dependencies.yaml \u672c\u673a\u7684docker\u7248\u672c\u662f25\u6240\u4ee5\u9009\u62e9\u7684k8s\u7248\u672c\u662f 1.227. \u5b89\u88c5kubeadm,kubelet,kubectl</p> <p>yum install -y kubelet-1.22.0 kubeadm-1.22.0 kubectl-1.22.0</p> <ol> <li>\u67e5\u770b\u662f\u5426\u5b89\u88c5\u6210\u529f</li> </ol> <p>kubelet --version</p> <p>kubeadm --version</p> <p>kubectl --version</p> <p>\u6267\u884c\u4e0a\u8ff0\u547d\u4ee4\u663e\u793a\u7248\u672c\u53f7\u5373\u4e3a\u5b89\u88c5\u6210\u529f</p> <ol> <li>\u542f\u52a8 docker.service \u548c kubelet.service</li> </ol> <p>systemctl enable docker.service</p> <p>systemctl start docker.service</p> <p>systemctl enable kubelet.service</p> <p>systemctl start kubelet.service</p> <ol> <li>\u542f\u52a8 kubelet</li> </ol> <p>systemctl enable kubelet</p> <p>systemctl start kubelet</p> <ol> <li>\u521d\u59cb\u5316 init-config.yaml \u6587\u4ef6</li> </ol> <p>\u5728 app \u76ee\u5f55\u4e0b\u521b\u5efa kubernetes \u6587\u4ef6\u5939 \u8fdb\u5165\u6587\u4ef6</p> <p>\u6267\u884c\u547d\u4ee4\u751f\u6210init-config.yaml\u6587\u4ef6\uff1akubeadm config print init-defaults &gt; init-config.yaml</p> <ol> <li>\u4fee\u6539init-config.yaml\u6587\u4ef6\uff1avi init-config.yaml</li> </ol> <p>advertiseAddress: 10.0.1.48</p> <p>imageRepository: registry.aliyuncs.com/google_containers</p> <p>\u4fee\u6539\u4ee5\u4e0a\u4e24\u5904\u503c</p> <ol> <li>\u5e94\u7528init-config.yaml\u6587\u4ef6</li> </ol> <p>kubeadm config images pull --config=init-config.yaml</p> <ol> <li>\u5b89\u88c5 master \u8282\u70b9</li> </ol> <p>kubeadm init --apiserver-advertise-address=10.0.1.48 --pod-network-cidr=10.244.0.0/16 -- service-cidr=10.96.0.0/12 --image-repository registry.aliyuncs.com/google_containers</p> <p>\u6709 Your Kubernetes control-plane has initialized successfully! \u8f93\u51fa\u5373\u4e3a\u6210\u529f</p> <ol> <li>\u521b\u5efahome\u76ee\u5f55\u4e0b\u521b\u5efa .kube \u6587\u4ef6\u5939</li> </ol> <p>mkdir -p $HOME/.kube</p> <ol> <li>.kube \u6587\u4ef6\u5939\u521b\u5efa config \u6587\u4ef6 \u5199\u5165\u5185\u5bb9</li> </ol> <p>sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config</p> <ol> <li>config \u6587\u4ef6 \u8bbe\u7f6e\u6743\u9650</li> </ol> <p>sudo chown $(id -u):$(id -g) $HOME/.kube/config</p> <ol> <li>\u914d\u7f6e\u73af\u5883\u53d8\u91cf etc/profile</li> </ol> <p>export KUBECONFIG=/etc/kubernetes/admin.conf</p> <p>(kubeadm join 10.0.16.16:6443 --token 0qgerd.knoyhrst3o2sj8ex \\</p> <p>--discovery-token-ca-cert-hash sha256:144dd50b5931b8588a2342d86d6aac35696c2302656cb75ab1f704ca0fc87c2e)</p> <ol> <li>\u5b89\u88c5flannel\u63d2\u4ef6</li> </ol> <p>\u4e0b\u8f7d kube-flannel.yaml \u6587\u4ef6\u5230 app/kubernetes \u76ee\u5f55\u4e0b</p> <p>\u6267\u884c\u5b89\u88c5\u547d\u4ee4 kubectl apply -f kube-flannel.yml</p> <ol> <li>\u8ba9 \u4e3b\u8282\u70b9\u4e5f\u80fd\u90e8\u7f72app</li> </ol> <p>kubectl taint nodes --all</p> <ol> <li>\u4fee\u6539\u7aef\u53e3\u53f7\u8303\u56f4 vim /etc/kubernetes/manifests/kube-apiserver.yaml</li> </ol> <p>\u627e\u5230 --service-cluster-ip-range \u8fd9\u4e00\u884c\uff0c\u5728\u8fd9\u4e00\u884c\u7684\u4e0b\u4e00\u884c\u589e\u52a0 \u5982\u4e0b\u5185\u5bb9 - --service-node-port- range=1-65535</p> <ol> <li>\u521b\u5efa\u547d\u540d\u7a7a\u95f4 dev-pms-namespace.yml</li> </ol> <p>apiVersion: v1</p> <p>kind: Namespace</p> <p>metadata:</p> <p>labels:</p> <p>app: dev-byteox</p> <p>name: dev-byteox</p> <p>\u6267\u884c\u547d\u4ee4 kubectl create -f dev-pms-namespace.yml</p> <ol> <li>\u521b\u5efa\u89d2\u8272\u6743\u9650 dev-endpoints-cluster-role.yaml</li> </ol> <p>apiVersion: rbac.authorization.k8s.io/v1</p> <p>kind: ClusterRole</p> <p>metadata:</p> <p>namespace: dev-byteox</p> <p>name: endpoints-reader</p> <p>rules:</p> <ul> <li>apiGroups: [\"\"]</li> </ul> <p>resources: [\"pods\",\"configmaps\",\"endpoints\",\"services\"]</p> <p>verbs: [\"get\", \"watch\", \"list\"]</p> <p>\u6267\u884c\u547d\u4ee4 kubectl create -f dev-endpoints-cluster-role.yaml</p> <ol> <li>\u4e3a\u8d26\u53f7 dev-byteox \u5206\u914d\u8bbf\u95ee\u6743\u9650</li> </ol> <p>kubectl create clusterrolebinding endpoints-reader-mydefault --clusterrole=endpoints-reader --serviceaccount=dev-byteox:default</p> <ol> <li>\u5b89\u88c5 kuboard k8s\u7ba1\u7406\u9762\u677f</li> </ol> <p>\u521b\u5efa start-kuboard.sh \u811a\u672c \u5185\u5bb9\u5982\u4e0b</p> <p>sudo docker run -d \\</p> <p>--restart=unless-stopped \\</p> <p>--name=kuboard \\</p> <p>-p 10090:80/tcp \\</p> <p>-p 10081:10081/tcp \\</p> <p>-e KUBOARD_ENDPOINT=\"http://47.96.187.116:10090\" \\</p> <p>-e KUBOARD_AGENT_SERVER_TCP_PORT=\"10081\" \\</p> <p>-e KUBOARD_ADMIN_DERAULT_PASSWORD=\"Admin.leyou!1105\" \\</p> <p>-v /app/docker/kuboard/data:/data \\</p> <p>swr.cn-east-2.myhuaweicloud.com/kuboard/kuboard:v3</p> <p>\u6267\u884c\u811a\u672c ./start-kuboard.sh</p> <p>\u6253\u5f00\u7f51\u9875 k8s\u7ba1\u7406\u7aef\u9875\u9762 http://47.96.187.116:10090/ \u8d26\u53f7 admin \u5bc6\u7801 Admin.leyou!1105</p> <p>\u70b9\u51fb\u6dfb\u52a0\u96c6\u7fa4 \u9009\u62e9 kubeconfig \u9009\u9879 \u5c06 home\u76ee\u5f55\u4e0b.kube\u76ee\u5f55\u4e2dconfig\u6587\u4ef6\u7684\u5185\u5bb9\u590d\u5236\u8fdb\u53bb \u70b9\u51fb\u786e\u5b9a</p> <p>\u5b89\u88c5\u5730\u5740\uff1a</p> <p>\u914d\u7f6e\u6587\u4ef6\uff1a</p> <p>\u542f\u52a8\u547d\u4ee4\uff1a</p> <p>\u5176\u4ed6\u6ce8\u610f\u4e8b\u9879\uff1a</p> <p>\u5b89\u88c5K8s\u65f6\uff0c\u5728\u8282\u70b9\u521d\u59cb\u5316\u8fc7\u7a0b\u4e2d\u51fa\u73b0[kubelet-check] The HTTP call equal to \u2018curl -sSL http://localhost:10248/healthz\u2019 failed with error: Get \u201chttp://localhost:10248/healthz\u201d: dial tcp 127.0.0.1:10248: connect: connection refused.\u62a5\u9519\u3002</p> <p>\u89e3\u51b3\u529e\u6cd5 \u53c2\u8003\u94fe\u63a5\uff1ahttps://blog.csdn.net/weixin_51589360/article/details/128290237</p>"},{"location":"Backend/%E4%B8%9A%E5%8A%A1%E6%A8%A1%E5%BC%8F/%E8%B4%A6%E5%8D%95/","title":"\u8d26\u5355","text":"<p>// fin_bill \u5b50\u8d26\u5355or\u5173\u8054\u8d26\u5355\uff0c\u652f\u51fa\u7ed9\u94b1\u5305\uff0c\u652f\u51fa\u7ed9\u7cfb\u7edf\u5e73\u53f0\u8d26\u6237\uff08\u5206\u8d26\u3001\u5e73\u53f0\u624b\u7eed\u8d39\uff09</p> <p>// \u5206\u8d26\u7ed9\u5e73\u53f0\u94b1\u5305\u3001\u676d\u5dde\u5929\u70c1\u94b1\u5305A2 \u662f\u600e\u4e48\u4e00\u56de\u4e8b\u5462\uff1f E.g. \u6731\u96c5\u5b50</p>"},{"location":"Backend/%E4%B8%9A%E5%8A%A1%E6%A8%A1%E5%BC%8F/%E8%B4%A6%E5%8D%95/#_2","title":"\u6700\u57fa\u7840\u7684","text":""},{"location":"Backend/%E4%B8%9A%E5%8A%A1%E6%A8%A1%E5%BC%8F/%E8%B4%A6%E5%8D%95/#bill","title":"bill \u8d26\u5355\u8868","text":"<p>\u6bd4\u8f83\u91cd\u8981\u7684\u5b57\u6bb5\uff1a</p> <pre><code>CREATE TABLE `fin_bill` (\n`id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT '\u4e3b\u952e',\n  `pid` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT '' COMMENT '\u8d26\u5355\u7236ID\uff08\u5206\u8d26\u7b49\u573a\u666f\u4e0b \u4ea7\u751f\u7684 \u5206\u8d26\u8d26\u5355\u4ee5\u53ca\u624b\u7eed\u8d39 \u6b64\u5b57\u6bb5\u4f1a\u76f4\u63a5\u6307\u5411 \u539f\u59cb\u8d26\u5355\uff09',\n  `is_main_bill` tinyint DEFAULT '1' COMMENT '\u662f\u5426\u662f\u4e3b\u5f20\u5355\uff081\uff1a\u662f\uff1b0\uff1a\u5426\uff09',\n  `biz_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT '' COMMENT '\u4e1a\u52a1ID\u3010\u5408\u540cid\u3001\u8ba2\u5355\u53f7\u3001...\u3011',\n  `bill_type` tinyint DEFAULT NULL COMMENT '\u8d26\u5355\u7c7b\u578b\u30101\u79df\u7ea62\u5b9a\u91d13\u9000\u6b3e4\u9000\u8ba25\u62bc\u91d16\u4eea\u88687\u8bb0\u8d268\u5176\u4ed6\u8d39\u752810\u5206\u8d2611\u624b\u7eed\u8d39\u3011',\n  `bill_status` tinyint(1) DEFAULT '1' COMMENT '\u8d26\u5355\u72b6\u6001\u30101\u672a\u5b8c\u62102\u5df2\u5b8c\u6210\u3011',\n  `total_money` bigint DEFAULT '0' COMMENT '\u5df2\u53d1\u751f\u91d1\u989d\u3010\u5355\u4f4d\u5206\u3011',\n  `occurred_money` bigint DEFAULT '0' COMMENT '\u5df2\u53d1\u751f\u91d1\u989d\u3010\u5355\u4f4d\u5206\u3011',\n  `not_occurred_money` bigint DEFAULT '0' COMMENT '\u672a\u53d1\u751f\u91d1\u989d\u3010\u5355\u4f4d\u5206\uff0c\u9ed8\u8ba4\u7b49\u4e8e\u539f\u59cb\u91d1\u989d\u3011',\n  `exempt_money` bigint DEFAULT '0' COMMENT '\u514d\u6536\u4ed8\u91d1\u989d\u3010\u5355\u4f4d\u5206\u3011',\n  `coupon_money` bigint DEFAULT '0' COMMENT '\u4f18\u60e0\u5238\u62b5\u6263\u91d1\u989d\u3010\u5355\u4f4d\u5206\u3011',\n  -- \u6536\u4ed8\u6b3e\u4eba\u3001\u4ea4\u6613\u8d26\u53f7\u3001\u5e73\u53f0\u4fe1\u606f...\n  ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci COMMENT='\u8d26\u5355\u8868';\n</code></pre> <p>\u5206\u8d26\uff1a\u4f1a\u62c6\u5206bill, \u88ab\u62c6\u5206\u540e\u751f\u6210\u591a\u4e00\u4e2a\u88ab\u62c6\u5206\u7684 bill</p>"},{"location":"Backend/%E4%B8%9A%E5%8A%A1%E6%A8%A1%E5%BC%8F/%E8%B4%A6%E5%8D%95/#bill_detail","title":"bill_detail \u6536\u652f\u8868","text":"<p>\u4e00\u4efd\u8d26\u5355\u5bf9\u5e94\u591a\u4e2a\u6536\u652f\uff0c\u6bd4\u65b9\u8bf4\u4e0d\u540c\u7684\u8d39\u7528\u79d1\u76ee\u5c5e\u4e8e\u4e0d\u540c\u7684\u6536\u652f\uff1b\u5982\u679c\u5148\u652f\u4ed8\u4e86\u8d26\u5355\u7684\u90e8\u5206\u91d1\u989d\uff0c\u8fd9\u90e8\u5206\u91d1\u989d\u4e5f\u4f1a\u5f62\u6210\u5355\u7b14\u6536\u652f\u3002 \u6bd4\u8f83\u91cd\u8981\u7684\u5b57\u6bb5\uff1a</p> <pre><code>CREATE TABLE `fin_bill_detail` (\n`bill_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT '' COMMENT '\u8d26\u5355ID',\n`biz_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT '' COMMENT '\u4e1a\u52a1ID\u3010\u5408\u540cid\u3001\u8ba2\u5355\u53f7\u3001...\u3011',\n`bill_detail_number` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT '' COMMENT '\u660e\u7ec6\u7f16\u53f7',\n `fee_subject_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT '' COMMENT '\u8d39\u7528\u79d1\u76eeid\u3010\u5b57\u5178\u3011',\n  `begin_time` datetime DEFAULT NULL COMMENT '\u8d39\u7528\u5f00\u59cb\u65f6\u95f4',\n  `end_time` datetime DEFAULT NULL COMMENT '\u8d39\u7528\u7ed3\u675f\u65f6\u95f4',\n  `description` varchar(500) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci DEFAULT '' COMMENT '\u8d39\u7528\u6458\u8981\u3010\u9ed8\u8ba4\u7cfb\u7edf\u81ea\u52a8\u751f\u6210\u3011',\n  `fee_direction` tinyint(1) DEFAULT '1' COMMENT '\u8d39\u7528\u65b9\u5411\u30101\u6536\u51652\u652f\u51fa\u3011',\n  `is_occur` tinyint(1) DEFAULT '0' COMMENT '\u662f\u5426\u5df2\u53d1\u751f\u30100\u9884\u8ba1\u53d1\u751f1\u5b9e\u9645\u53d1\u751f\u3011',\n  `original_money` bigint DEFAULT '0' COMMENT '\u539f\u59cb\u91d1\u989d\u3010\u9884\u8ba1\u8d39\u7528\u91d1\u989d\u3011\u3010\u5355\u4f4d\u5206\u3011',\n  `occurred_money` bigint DEFAULT '0' COMMENT '\u5df2\u53d1\u751f\u91d1\u989d\u3010\u5355\u4f4d\u5206\uff0c\u9ed8\u8ba4\u7b49\u4e8e0\u3011',\n  `not_occurred_money` bigint DEFAULT '0' COMMENT '\u672a\u53d1\u751f\u91d1\u989d\u3010\u5355\u4f4d\u5206\uff0c\u9ed8\u8ba4\u7b49\u4e8e\u539f\u59cb\u91d1\u989d\u3011',\n  `exempt_money` bigint DEFAULT '0' COMMENT '\u514d\u6536\u4ed8\u91d1\u989d\u3010\u5355\u4f4d\u5206\u3011',\n  `original_price` bigint DEFAULT NULL COMMENT '\u539f\u79df\u91d1\u3010\u5355\u4f4d\u5206\u3011',\n  `coupon_money` bigint DEFAULT '0' COMMENT '\u4f18\u60e0\u5238\u62b5\u6263\u91d1\u989d\u3010\u5355\u4f4d\u5206\u3011',\n  `belong_type` tinyint DEFAULT '0' COMMENT '\u5f52\u5c5e\u7c7b\u578b\u30100\uff1a\u9ed8\u8ba4\u5206\u7c7b\uff1b1\uff1a\u514d\u6536\u3011',\n  `fee_status` tinyint(1) DEFAULT '1' COMMENT '\u8d39\u7528\u7ed3\u6e05\u72b6\u6001\u30101\u672a\u7ed3\u6e052\u90e8\u5206\u7ed3\u6e053\u7ed3\u6e05\u3011',\n  `predict_time` datetime DEFAULT NULL COMMENT '\u9884\u6536\u4ed8\u65f6\u95f4',\n  `practical_time` datetime DEFAULT NULL COMMENT '\u5b9e\u6536\u4ed8\u65f6\u95f4',\n  -- \u6536\u4ed8\u6b3e\u4eba\u3001\u4ea4\u6613\u8d26\u53f7\u3001\u5e73\u53f0\u4fe1\u606f...\n)\n</code></pre>"},{"location":"Basic-is-everything/Algorithm/Algorithms/part1-week3/","title":"part1-week3","text":""},{"location":"Basic-is-everything/Algorithm/Algorithms/part1-week3/#insertion-sort","title":"Insertion sort","text":"<pre><code>public class Insertion {\n    public static void sort(Comparable[] a) {\n        int N = a.length;\n        for (int = 0; i&lt; N; i++) {\n            for (int j = i; j &gt; 0 &amp;&amp; less(a[j], a[j-1]); j--) {\n                exch(a, j, j-1);\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"Basic-is-everything/Algorithm/Algorithms/part1-week3/#selection-sort","title":"Selection sort","text":"<pre><code>public class Selection {\n  public static void sort(Comparable[] a) {\n    int N = a.length;\n    for (in i = 0; i &lt; N; i++) {\n      int min = i;\n      for (int j = i+1; j &lt; N; j++) {\n        if(less(a[j], a[min])) { \n          min = j;\n        }\n      }\n      exch(a, i, min); // long-distance exchange might move an item past some equal item.\n    }\n  }\n}\n</code></pre>"},{"location":"Basic-is-everything/Algorithm/Algorithms/part1-week3/#shellsort","title":"Shellsort","text":"<pre><code>public class Shell {\n  public static void sort(Comparable[] a) {\n    int N = a.length;\n    int h = 1;\n    while (h &lt; N/3) h = 3*h + 1;\n    while (h &gt;= 1) {\n      for (int i = h; i &lt; N; i++) {\n        for (int j = i; j &gt; h &amp;&amp; less(a[j], a[j-h]); j -= h) {\n          exch(a, j, j-h);\n        }\n      }\n      h = h/3;\n    }\n  }\n}\n</code></pre>"},{"location":"Basic-is-everything/Algorithm/Algorithms/part1-week3/#mergesort","title":"MergeSort","text":"<p>link</p> <p>auxiliary array: \u5907\u7528\u6570\u7ec4 (to hold the data)</p> <p>(maintain) indices: \u7d22\u5f15 - the current entry in the reslut</p> <p>Increment that pointer j.</p> <p>quite straightforward in the demo.</p> <p>a[], aux[]</p> <p>Overview: Divide array into two halves. Recursively sort each half. Merge two halves.</p> <pre><code>public class Merge {\n  private static void merge(Comparable[] a, Comparable[] aux, int lo, int mid, int hi) {\n    assert isSorted(a, lo, mid);\n    assert isSorted(a, mid+1, hi); // precondition\n\n    for(int k = lo; k &lt;= hi; k++)\n      aux[k] = a[k];\n\n    int i = lo, j = mid + 1;\n    for (int k = lo; k &lt;= hi; k++) {\n      if (i &gt; mid) a[k] = aux[j++];\n      else if (j &gt; hi) a[k] = aux[i++];\n      else if (less(aux[j], aux[i])) a[k] = aux[j++];\n      else a[k] = aux[i++];\n    }\n\n    assert isSorted(a, lo, hi);\n  }\n\n  private static void sort(Comparable[] a,){\n\n  }\n}\n</code></pre> <p>Notes:</p> <ul> <li> <p>divide and conquer</p> </li> <li> <p>not create aux in recursive // create arrays is costly</p> </li> </ul> <p>Complexity:</p> <ul> <li>NlogN compares, 6NlgN array access.</li> </ul> <p></p> <p></p> <ul> <li>Memory: (proportional to) N</li> </ul> <p>Improvement:</p> <ul> <li>use insertion sort for small subarrays</li> <li>when the biggest element in one half is smaller than the smallest element in the other half, the order is done, no need for further recursive merge. This would decrease the complexity for sorting an sorted array to linearity.</li> <li>Instead of copying over to an auxiliary array, you can switch the role of input and the auxiliary array everytime you make a recursive call.</li> </ul> <p>More:</p> <pre><code>- inplace merge (much more complex)\n</code></pre> <p>Qs:</p> <ul> <li>How many compares does mergesort\u2014the pure version without any optimizations\u2014make to sort an input array that is already sorted?</li> </ul> <p>A. Constant  B. logarithmic C. linear  D. linearthmic</p> <p>It makes ~ 1/2N log2 N compares, which is the best case for mergesort. We note that the optimized version that checks whether a[mid] \\le a[mid+1]a[mid]\u2264a[mid+1] requires only n - 1n\u22121 compares.</p> <p>[\u51fa\u9898\uff1a\u67e5\u770b\u52a8\u753b visualization\uff0c\u9009\u62e9\u662f\u54ea\u79cd merge \u5f62\u5f0f]</p>"},{"location":"Basic-is-everything/Algorithm/Algorithms/part1-week3/#sorting-complexity","title":"Sorting Complexity","text":"<ul> <li>Cost model: Operation counts ~ #the number compares</li> <li>\uff08\u67d0\u4e2a\u95ee\u9898\u7684\uff09Upper bound: ..by some algorithm ~ NlgN from mergesort \uff08Some algorithm can do this \u4e00\u822c\u6307\u76ee\u524d\u6700\u597d\u7684\u7b97\u6cd5\uff09</li> <li>\uff08\u67d0\u4e2a\u95ee\u9898\u7684\uff09Lower bound: ..all algorthms (\u4efb\u610f\u7b97\u6cd5\u7684\u590d\u6742\u5ea6\u90fd\u5728 lower bound \u4e4b\u4e0a\uff0c No algorithm can do better. \u6240\u4ee5\u53ea\u8981\u77e5\u9053\u8fd9\u4e2a\u6570\u503c\uff0c\u5c31\u53ef\u4ee5\u4e00\u773c\u770b\u51fa\u6765\u7b97\u6cd5\u7684\u53ef\u4f18\u5316\u4e0a\u9650\u4e86\uff0c\u6211\u89c9\u5f97\u5f88\u6709\u9053\u7406\u54c7\uff01) \u4f46\u662f\u524d\u63d0\u662f\u6570\u636e\u6ca1\u6709 partially-ordered, \u4e5f\u6ca1\u6709 dupilcate keys \u4e4b\u7c7b\u7684</li> <li>\uff08\u67d0\u4e2a\u95ee\u9898\u7684\uff09Optimal algorithm\uff08whose Upper bound == Lower bound, so has the best possible cost guarantee\uff09</li> </ul> <p>\u5bf9\u4e8e\u627e\u89e3\u51b3\u67d0\u4e00\u95ee\u9898\u7684\u90a3\u4e00\u7c7b\u7b97\u6cd5\u7684lower bound\uff0c\u6211\u4eec\u901a\u5e38\u6709\u4e24\u79cd\u529e\u6cd5\uff0c</p> <p>1\uff09decision tree \u6211\u4eec\u901a\u8fc7\u5206\u6790\u51b3\u7b56\u6811\u7684\u65b9\u6cd5\u6765\u5f97\u5230 lower bound\uff08\u8fd9\u4e5f\u662f\u7b97\u6cd5\u5bfc\u8bba\u91cc\u9762\u63d0\u5230\u7684\u65b9\u6cd5\uff09</p> <p>2\uff09adversary strategy \u8fd9\u4e2a\u786e\u5b9e\u4e0d\u597d\u7ffb\u8bd1\uff0c\u7ade\u4e89\u8005\u7b56\u7565\uff1f\uff01 \u5f53\u7136\u8fd9\u4e2a\u65b9\u6cd5\u8981\u6bd4\u4e0a\u9762\u7684decision tree\u5f97\u5230\u7684lower bound\u66f4tight\u4e00\u4e9b\u3002\uff08\u5f53\u7136\u8fd9\u4e2a\u4e5f\u4e0d\u7edd\u5bf9\uff0c\u8fd8\u8981\u770b\u4f60\u7684strategy\uff09 ######</p> <ul> <li>Big O: O(g(n)) = {f(n) : \u5b58\u5728\u4e00\u4e2a\u6b63\u5e38\u6570c\uff0c\u548c\u4e00\u4e2a N0\uff0c \u5bf9\u4e8e\u6240\u6709\u7684N&gt;N0\uff0c 0&lt;= f(n) &lt;= c*g(n)} \u6240\u4ee5\u76f8\u5f53\u4e8e f(n) \u7684\u4e00\u4e2a  upper bound</li> </ul> <p></p> <ul> <li>Omega: Omega(g(n)) = {f(n): \u5b58\u5728\u4e00\u4e2a\u6b63\u5e38\u6570c\uff0c\u548c\u4e00\u4e2a N0\uff0c \u5bf9\u4e8e\u6240\u6709\u7684N&gt;N0\uff0c 0&lt;= c*g(n) &lt;= f(n) } \u6240\u4ee5\u76f8\u5f53\u4e8e f(n) \u7684\u4e00\u4e2a lower bound</li> </ul> <p></p> <p>more ref</p>"},{"location":"Basic-is-everything/Algorithm/Algorithms/part1-week3/#decision-tree","title":"Decision Tree","text":"<p>![image-20220920105822033](https://blog-1300101893.cos.ap-nanjing.myqcloud.com/picGo/image-20220920105822033.png</p> <p></p> <p>Preopsition: Any compare-based sorting algorithm must use at least lg(N!)~NlgN compares in the worst case.</p> <p>Pf.</p> <ul> <li>Assume array consists of N distinct values a~1~ through a~N~.</li> <li>Worst case dictated by height h of decision tree.</li> <li>Binary tree of height h has at most 2^h^ leaves.(complete tree)</li> <li>N! Different orderings =&gt; at least N! leaves. </li> <li>2^h^ &gt;= #leaves &gt;=N!</li> <li>h &gt;= lgN! ~ (is proportional to) NlgN (by Stirling's formula)</li> <li>Lower bound ~ NlgN<ul> <li>Mergesort is optimal with respect to #compares</li> <li>So, dont try to desgin sorting algorithm that guarantees 1/2NlgN compares.</li> </ul> </li> </ul>"},{"location":"Basic-is-everything/Algorithm/Algorithms/part1-week3/#stability","title":"Stability","text":"<p>Q: Which sorts are stable?</p> <p>A: Insertion sort and merge sort (but no selection sort or shell sort). Always use less than vs less than or equal to.</p>"},{"location":"Basic-is-everything/Algorithm/Algorithms/part1-week3/#quicksort","title":"QuickSort","text":"<p>// https://github.com/ShafayetB/Coursera/tree/master/Algorithms-Part%20I/Assignments</p>"},{"location":"Basic-is-everything/Algorithm/Algorithms/shuffle/","title":"shuffle","text":""},{"location":"Basic-is-everything/Algorithm/Algorithms/shuffle/#fisher-yates-shuffle","title":"Fisher-Yates shuffle","text":"<pre><code>function shuffle(arr) {\n  for (let i = arr.length - 1; i &gt; 0; i--) {\n    const randIdx = Math.floor(Math.random() * (i+1));\n    const storedItem = arr[i];\n    arr[i] = arr[randIdx];\n    arr[randIdx] = storedItem;\n  }\n\n  return arr;\n}\n</code></pre> <p>\u539f\u7406\uff1a\u6d17\u724c\uff0c\u524d\u534a\u90e8\u5206\u662f\u539f\u724c\uff0c\u540e\u534a\u90e8\u5206\u662f\u5df2\u7ecf\u88ab shuffle \u8fc7\u7684\u724c\u3002\u8fd9\u79cd\u6a21\u62df\u7269\u7406\u624b\u6cd5\u662f\u57fa\u672c\u6ca1\u95ee\u9898\u7684\u3002</p> <p>\u4e3a\u4ec0\u4e48 <code>Array.sort(Math.random()-0.5)</code>\u4e0d\u662f unbias \u7684\uff1f</p> <ul> <li>\u6570\u5b66\u4e0a\u800c\u8a00\uff1a\u957f\u5ea6\u4e3a n \u7684\u6570\u7ec4\u4f1a\u6709 n! \u79cd\u6392\u5217\u3002\u800c\u5047\u8bbe\u662f\u5192\u6ce1\u5373\u6bd4\u8f83 <code>c = n(n-1)/2</code>\u6b21\uff0c\u6bcf\u6b21\u6bd4\u8f83\u6709 2 \u79cd\u7ed3\u679c\uff0c\u4e00\u5171\u5219\u6709 <code>2^c</code>\u79cd\u6392\u5217\uff0c\u548c\u7406\u8bba\u4e0a\u7684 <code>n!</code>\u79cd\u6392\u5217\u5f88\u96be\u5e73\u5747\u5bf9\u5e94\uff0c\u6240\u4ee5\u5b83\u4e00\u5b9a\u662f\u4e0d\u5747\u5300\u7684\u3002</li> <li>\u4ece <code>Math.random()</code>\u4e0a\u7684\u539f\u7406\u800c\u8a00\uff0cjs \u4f7f\u7528\u53cc\u7cbe\u5ea6\u6d6e\u70b9\uff0c\u6240\u4ee5\u5bf9\u4e8e <code>2^c</code> \u79cd random\uff0cx \u81f3\u5c11\u5728 63 \u4e0b\u624d\u80fd\u4fdd\u8bc1\u51c6\u786e\u7684 random()\u3002\u6240\u4ee5\u8981\u6392\u5e8f\u7684\u6570\u7ec4\u8d8a\u5927\uff0c\u4e0d\u51c6\u786e\u6027\u8d8a\u9ad8\u3002</li> </ul> <p>ref:</p> <p>random - Is it correct to use JavaScript Array.sort() method for shuffling? - Stack Overflow</p> <p>Will It Shuffle?</p> <p>Fisher\u2013Yates Shuffle</p>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/","title":"\u6570\u636e\u7ed3\u6784&amp;\u7b97\u6cd5\u4e4b\u7f8e","text":""},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_2","title":"\u57fa\u7840","text":"<p>Remember: \u6240\u6709\u6570\u636e\u7684\u5b58\u53d6\u53ea\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a\u7ebf\u6027\u548c\u975e\u7ebf\u6027\u3002\u4e5f\u5c31\u662f\u6570\u7ec4\u548c\u94fe\u8868\u3002\u6240\u4ee5\u4e0d\u53ef\u80fd\u6709\u5176\u4ed6\u6570\u636e\u7ed3\u6784\u7684\u3002\u9ad8\u7ea7\u7684\u6570\u636e\u7ed3\u6784\u90fd\u662f\u8fd9\u4e8c\u8005\u7684\u7b97\u6cd5\u7ec4\u5408\u3002</p>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#hashtable","title":"\u6563\u5217\u8868HashTable","text":"<p>\u5c31\u662f JS \u7684 Map! \u6216\u662f Java \u7684 HashMap!</p>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_3","title":"\u5b9e\u8d28","text":"<p>\u5c06key\u503c\u901a\u8fc7\u6563\u5217\u51fd\u6570\u6620\u5c04\u8fdb\u5bf9\u5e94\u7684\u6570\u7ec4 index\uff0c\u5b58\u5165\u6570\u7ec4\u4e2d\u3002</p>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_4","title":"\u91cd\u96be\u70b9","text":"<ul> <li>\u88c5\u8f7d\u56e0\u5b50     $\u6563\u5217\u8868\u91cc\u7684\u6570\u636e\u4e2a\u6570 \\over \u6563\u5217\u8868\u957f\u5ea6$</li> <li>\u6563\u5217\u51b2\u7a81     \u901a\u8fc7\u6563\u5217\u51fd\u6570\u5230\u6570\u7ec4 index \u7684\u6620\u5c04\u5904\u7406\u7ed3\u679c\u53ef\u80fd\u78b0\u649e\uff0c\u5c24\u5176\u662f\u6570\u7ec4\u957f\u5ea6\u8d8a\u5c0f\uff0c\u78b0\u649e\u53ef\u80fd\u6027\u8d8a\u5927\u3002  </li> <li>\u6570\u7ec4\u5b58\u50a8 &gt; \u5f00\u53d1\u5bfb\u5740\u6cd5: \u6570\u636e\u8f83\u5c0f       \u5bf9\u5e94\u5b9e\u9645\u60c5\u51b5\uff0c\u63d2\u5165\u65f6\uff0c\u627e\u5230\u8ba1\u7b97\u8fc7\u540e\u7684\u6570\u7ec4\u5bf9\u5e94\u4f4d\u7f6e\u3002\u82e5\u8be5\u4f4d\u5df2\u88ab\u5360\u6709\uff0c\u5219\u4f1a\u5f80\u540e\u987a\u5e8f\u67e5\u770b\uff0c\u5c06\u6570\u636e\u653e\u5230\u7b2c\u4e00\u987a\u4f4d\u7a7a\u4f4d\u4e2d\u3002       \u53d6\u503c\u65f6\uff0c\u627e\u5230\u6570\u7ec4\u5bf9\u5e94\u4f4d\u7f6e\uff0c\u82e5\u8bfb\u51fa\u6765 key \u4e0d\u662f\u5f53\u524d\u53d6\u503c key\uff0c\u5219\u4f1a\u5f80\u540e\u7ee7\u7eed\u5bfb\u627e\uff0c\u82e5\u9047\u5230\u7b2c\u4e00\u4e2a\u7a7a\u4f4d\uff08p.s. \u6570\u636e\u88ab\u5220\u9664\u540e\u7559\u4e0b\u7684\u7a7a\u4f4d\u4f1a\u6709\u7279\u6b8a\u6807\u8bb0 \u4e0d\u7b97\uff09\u8fd8\u6ca1\u6709\u627e\u5230\uff0c\u5219\u8bf4\u660e\u5f53\u524d\u6570\u7ec4\u6ca1\u6709\u6b64 key\u3002</li> <li>\u94fe\u8868\u5b58\u50a8 &gt; \u94fe\u8868\u6cd5: \u6570\u636e\u8f83\u591a       \u6570\u7ec4\u7684\u6bcf\u4e00\u4f4d/\u69fd (slot) \u91cc\u4ee5\u94fe\u8868\u7684\u5f62\u5f0f\u5b58\u50a8\u6240\u6709\u503c\u3002       \u5728\u94fe\u8868\u5230\u8fbe\u4e00\u5b9a\u957f\u5ea6\u65f6\uff0c\u53ef\u5347\u7ea7\u4e3a\u7ea2\u9ed1\u6811~</li> <li>\u52a8\u6001\u6269\u5bb9     \u6709\u4e2a\u5c0f\u4f18\u5316\u7684\u70b9\u3002\u53ef\u4ee5\u4e0d\u4e00\u6b21\u6027\u642c\u79fb\u6570\u636e\u5230\u65b0\u6570\u7ec4\uff0c\u800c\u662f\u5c06\u9608\u503c\u8bbe\u4e3a\u591a\u4e2a\uff0c\u6162\u6162\u7684\u642c\u6570\u636e\u3002\u56e0\u6b64\u5728\u67d0\u4e2a\u65f6\u95f4\u6bb5\u4e0a\u53ef\u80fd\u7ef4\u62a4\u4e24\u4e2a\u6570\u7ec4\u3002</li> </ul>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_5","title":"\u590d\u6742\u5ea6","text":"<p>\u6240\u4ee5\u4e25\u683c\u610f\u4e49\u4e0a\u5e76\u4e0d\u662fO(1)\uff0c\u6309\u5b58\u50a8\u65b9\u5f0f\uff0c\u5747\u9700\u8981\u52a0\u4e0a\u6563\u5217\u51b2\u7a81\u5e26\u6765\u7684\u591a\u6b21\u5bfb\u5740\u6d88\u8017\u3002</p>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_6","title":"\u5b9e\u9645\u5e94\u7528","text":""},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#lru-linkedhashmap","title":"LRU\u7f13\u5b58\u6dd8\u6c70\u7b97\u6cd5 / LinkedHashMap","text":"<p>\u4e24\u8005\u90fd\u5728 hashmap \u7684\u57fa\u7840\u4e0a\u642d\u914d\u4e86\u94fe\u8868:</p> <p></p> <p>\u5176\u5b9e\u53ef\u4ee5\u60f3\u6210\u662f\u5bf9\u4e8e\u94fe\u8868\u7684\u6269\u5145\u3002\u6b63\u56e0\u4e3a\u94fe\u8868\u4e0d\u597d\u4ee5 O(1) \u67e5\u627e\u5143\u7d20\uff0c\u6240\u4ee5\u624d\u60f3\u529e\u6cd5\u901a\u8fc7\u56fa\u5b9a\u6765\u7b97\u6cd5\u6765\u51b3\u5b9a\u94fe\u8868\u5143\u7d20\u7684\u5b58\u50a8\u4f4d\u7f6e\uff0c\u5b9e\u73b0\u4ee5\u6570\u7ec4\u7684\u65b9\u5f0f\u6765\u5b9a\u4f4d\u94fe\u8868\u3002\u5f53\u7136\u53cd\u5411\u6765\u8bf4\uff0c\u53cc\u5411\u94fe\u8868\u80fd\u4ee5 O(1) \u589e\u5220\u6539\u5143\u7d20\uff0c\u8fd9\u4e5f\u662f\u5bf9 hashmap \u7684\u53cd\u5411\u52a0\u5f3a\u3002</p>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#redis","title":"Redis \u6709\u5e8f\u96c6\u5408","text":"<p>\u4e00\u4e2a\u6570\u636e\u53ef\u80fd\u7531\u591a\u79cd\u6570\u636e\u7ed3\u6784\u540c\u65f6\u7ef4\u62a4\uff0c\u6bd4\u5982 redis \u7684\u8df3\u8868\u548c hashmap\u3002\u524d\u8005\u9002\u5408\u4ee5\u503c\u533a\u95f4\u67e5\u627e\uff0c\u540e\u8005\u9002\u5408\u4ee5\u952e\u7cbe\u786e\u67e5\u627e\u3002</p>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_7","title":"\u54c8\u5e0c\u7b97\u6cd5","text":""},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_8","title":"\u539f\u5219","text":"<p>\u5c06\u4efb\u610f\u957f\u5ea6\u7684\u4e8c\u8fdb\u5236\u503c\u4e32\u6620\u5c04\u4e3a\u56fa\u5b9a\u957f\u5ea6\u7684\u4e8c\u8fdb\u5236\u503c\u4e32\uff0c\u8fd9\u4e2a\u6620\u5c04\u7684\u89c4\u5219\u5c31\u662f\u54c8\u5e0c\u7b97\u6cd5\uff0c\u800c\u901a\u8fc7\u539f\u59cb\u6570\u636e\u6620\u5c04\u4e4b\u540e\u5f97\u5230\u7684\u4e8c\u8fdb\u5236\u503c\u4e32\u5c31\u662f\u54c8\u5e0c\u503c\u3002 \u6839\u636e\u9e3d\u5de2\u7406\u8bba\uff0c\u5373\u65e0\u9650\u7684\u4e1c\u897f\u4e0d\u80fd\u653e\u8fdb\u6709\u9650\u7684\u5751\u91cc\uff0c\u6240\u4ee5\u4e00\u5b9a\u4f1a\u6709\u78b0\u649e\u3002</p>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_9","title":"\u7528\u5904","text":"<ul> <li>\u52a0\u5bc6 //md5\u6458\u8981</li> <li>\u552f\u4e00\u6807\u5fd7   \u6bd4\u5982\u641c\u56fe\u7247\uff0c\u4e0d\u80fd\u62ff\u56fe\u7247\u540d\uff0c\u62ff\u56fe\u7247\u4e8c\u8fdb\u5236\u53c8\u6bd4\u8f83\u8017\u65f6\u3002\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u7ed9\u6bcf\u4e00\u4e2a\u56fe\u7247\u53d6\u4e00\u4e2a\u552f\u4e00\u6807\u8bc6\uff0c\u6216\u8005\u8bf4\u4fe1\u606f\u6458\u8981\u3002\u53ef\u4ee5\u4ece\u56fe\u7247\u7684\u4e8c\u8fdb\u5236\u7801\u4e32\u5f00\u5934\u53d6 100 \u4e2a\u5b57\u8282\uff0c\u4ece\u4e2d\u95f4\u53d6 100 \u4e2a\u5b57\u8282\uff0c\u4ece\u6700\u540e\u518d\u53d6 100 \u4e2a\u5b57\u8282\uff0c\u7136\u540e\u5c06\u8fd9 300 \u4e2a\u5b57\u8282\u653e\u5230\u4e00\u5757\uff0c\u901a\u8fc7\u54c8\u5e0c\u7b97\u6cd5\u5f97\u5230\u4e00\u4e2a\u54c8\u5e0c\u5b57\u7b26\u4e32\uff0c\u7528\u5b83\u4f5c\u4e3a\u56fe\u7247\u7684\u552f\u4e00\u6807\u8bc6\u3002</li> <li>\u6570\u636e\u6821\u9a8c</li> <li>\u6563\u5217\u51fd\u6570</li> <li>\u5206\u5e03\u5f0f\u7cfb\u7edf\uff1a\u6bd4\u5982\u8d1f\u8f7d\u5747\u8861\u3001\u6570\u636e\u5206\u7247\u3001\u5206\u5e03\u5f0f\u5b58\u50a8   \u5173\u952e\u5728\u4e8e\u9700\u8981\u5c06\u5185\u5bb9\u5b58\u50a8\u5728\u4e0d\u540c\u7684\u673a\u5668\u4e0a\uff0c\u90a3\u4e48\u4e3a\u4e86\u4fdd\u6301\u5185\u5bb9\u5728\u673a\u5668\u4e0a\u7684\u5b58\u50a8\u4e00\u81f4\u6027\uff0c\u9700\u8981\u786e\u5b9a\u54ea\u5757\u5185\u5bb9\u9700\u8981\u653e\u5230\u54ea\u4e2a\u673a\u5668\u4e0a\u3002\u901a\u5e38\u4f1a\u5c06\u5185\u5bb9\u54c8\u5e0c\u540e\u5bf9\u673a\u5668\u4e2a\u6570\u53d6\u6a21\uff0c\u7ed3\u679c\u5373\u662f\u3002\u8fd9\u6837\u6bcf\u6b21\u67e5\u627e\u65f6\u90fd\u53ef\u4ee5\u660e\u786e\u77e5\u9053\u8981\u53bb\u54ea\u4e2a\u673a\u5668\u4e0a\u67e5\u627e\u4e86\uff0c\u907f\u514d\u904d\u5386\u6240\u6709\u673a\u5668\u3002   \u4f46\u6709\u4e2a\u7f3a\u9677\u662f\u6240\u8c13\u300c\u96ea\u5d29\u6548\u5e94\u300d\uff0c\u5373\u5982\u679c\u6269/\u7f29\u5bb9\u540e\uff0c\u5185\u5bb9\u7684\u5b58\u50a8\u673a\u5668\u53ef\u80fd\u4f1a\u53d1\u751f\u5f88\u5927\u7684\u4e0d\u4e00\u81f4\u3002\u4e3a\u4e86\u907f\u514d\u6bcf\u5757\u5185\u5bb9\u7684\u5b58\u50a8\u4f4d\u7f6e\u90fd\u53d1\u751f\u53d8\u5316\uff0c\u9700\u8981\u300c\u4e00\u81f4\u6027\u54c8\u5e0c\u7b97\u6cd5\u300d\uff0c\u771f\u5b9e\u505a\u6cd5\u662f\u60f3\u6210\u4e00\u4e2a\u5706\u73af\uff0c\u6570\u636e\u5b58\u50a8\u4e8e\u987a\u65f6\u9488\u9047\u5230\u7684\u7b2c\u4e00\u4e2a\u673a\u5668\u4e0a\u3002\u540c\u65f6\u4e3a\u4e86\u907f\u514d\u673a\u5668\u5728\u5706\u73af\u4e0a\u5206\u5e03\u504f\u5411\u4e00\u89d2\uff0c\u53ef\u542f\u7528\u865a\u62df\u8282\u70b9\uff0c\u5373\u5b50\u8282\u70b9\u7684n\u4e2acopy\u3002ref</li> </ul>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_10","title":"\uff08\u4e8c\u53c9\uff09\u6811","text":""},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_11","title":"\u57fa\u7840","text":""},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_12","title":"\u672f\u8bed","text":"<p>(\u8282\u70b9\u7684)\u9ad8\u5ea6\u3001\u6df1\u5ea6\u3001\u5c42\u6570(\u4ece1\u5f00\u59cb)</p>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_13","title":"\u5206\u7c7b","text":"<ul> <li>\u6ee1\u4e8c\u53c9\u6811</li> <li>\u5b8c\u5168\u4e8c\u53c9\u6811\u3002\u9664\u4e86\u6700\u540e\u4e00\u5c42\u7684\u53f3\u4fa7\u53ef\u4ee5\u6709\u7a7a\u4f4d\uff0c\u5176\u4f59\u4f4d\u7f6e\u90fd\u4e0d\u884c\u3002   \u56e0\u4e3a\u6309\u6570\u7ec4\u5b58\u7684\u65f6\u5019\u4e0d\u4f1a\u6709\u7a7a\u4f4d\u3002p.s. \u5bf9\u4e8e\u5b8c\u5168\u4e8c\u53c9\u6811\u6765\u8bf4\uff0c\u4e0b\u6807\u4ece 2n+1 \u5230 n \u7684\u90fd\u662f\u53f6\u5b50\u8282\u70b9\u3002</li> </ul>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_14","title":"\u5b58\u50a8","text":"<ul> <li>\u94fe\u5f0f</li> <li>\u6570\u7ec4</li> </ul>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_15","title":"\u904d\u5386","text":"<ul> <li>\u524d\u5e8f\u3001\u4e2d\u5e8f\u3001\u540e\u5e8f   \u5176\u4e2d\u4e2d\u5e8f\u904d\u5386\u53ef\u4ee5\u5b9e\u73b0\u4ee5 O(n) \u7684\u5f62\u5f0f\u8f93\u51fa\u6709\u5e8f\u6570\u636e\u5e8f\u5217</li> <li>\u5c42\u7ea7</li> </ul>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_16","title":"\u4e8c\u53c9\u67e5\u627e\u6811","text":"<p>\u5b9a\u4e49\uff1a\u5de6\u4fa7 &lt; \u4e2d\u4fa7 &lt; \u53f3\u4fa7\uff0c\u82e5\u6709\u91cd\u590d\u6570\u636e\uff0c\u53ef\u4ee5\u9009\u62e9\u8282\u70b9\u94fe\u8868\u5f0f\u5b58\u50a8\uff0c\u4ea6\u53ef\u4ee5\u5f53\u505a\u6bd4\u5f53\u524d\u8282\u70b9\u5c0f\u4e8e\u7b49\u4e8e\u7684\u65b9\u5f0f\u5f80\u53f3\u8282\u70b9\u5b58\u3002</p>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_17","title":"\u64cd\u4f5c","text":"<ul> <li>\u67e5\u627e\u3001\u65b0\u589e\u90fd\u7b80\u5355</li> <li>\u5220\u9664: </li> <li>\u5982\u679c\u76ee\u6807\u8282\u70b9\u662f\u53f6\u5b50\u8282\u70b9\u76f4\u63a5\u5220\uff1b</li> <li>\u5982\u679c\u76ee\u6807\u8282\u70b9\u4e0b\u53ea\u6709\u4e00\u4e2a\u8282\u70b9\uff0c\u76f4\u63a5\u66f4\u65b0\u7236\u8282\u70b9\u7684\u6307\u9488\u6307\u5411\u5b50\u8282\u70b9\uff1b</li> <li>\u5982\u679c\u76ee\u6807\u8282\u70b9\u4e0b\u6709\u4e24\u4e2a\u8282\u70b9\uff0c\u627e\u5230\u53f3\u4fa7\u8282\u70b9\u94fe\u91cc\u6700\u5c0f\u7684\u8282\u70b9A\uff0c\u66ff\u6362\u5230\u76ee\u6807\u8282\u70b9\u3002A\u5fc5\u5b9a\u6ca1\u6709\u5de6\u5b50\u8282\u70b9\uff0c\u6240\u4ee5\u518d\u6309\u4e0a\u8ff0\u89c4\u5219\u5220\u9664A\uff1b</li> <li>\u65f6\u95f4\u590d\u6742\u5ea6   \u5373 O(height)\u3002\u6700\u574f\u60c5\u51b5(\u53ea\u6709\u5355\u8fb9\u94fe)\u4e0b\u9000\u5316\u6210\u94fe\u8868 O(N)\uff0c\u6700\u597d\u60c5\u51b5(\u5b8c\u5168\u4e8c\u53c9\u6811)\u4e0b\u662f O($log_2n$)\uff0c\u770b\u56fe\u5373\u77e5\u548c\u4e8c\u5206\u6cd5\u67e5\u627e\u5f88\u7c7b\u4f3c\u3002</li> </ul>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#vs-on","title":"v.s. O(N)\u7684\u6563\u5217\u8868","text":"<ul> <li>\u6392\u5e8f\u65b9\u4fbf\uff1a\u4e2d\u5e8f\u904d\u5386 O(N) \u5373\u53ef\u6709\u5e8f\u8f93\u51fa\uff1b\u6563\u5217\u8868\u6392\u5e8f\u96be</li> <li>\u6563\u5217\u8868\u66f4\u590d\u6742\uff0c\u6bd4\u5982\u6269\u7f29\u5bb9\u6563\u5217\u51b2\u7a81</li> </ul>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_18","title":"\u7ea2\u9ed1\u6811","text":"<p>\u8fd1\u4f3c\u4e8e\u5e73\u8861\u4e8c\u53c9\u6811(\u6811\u7684\u9ad8\u5ea6\u7ea6\u4e3a $log_2n$)\uff0c\u907f\u514d\u666e\u901a\u4e8c\u53c9\u6811\u5728\u9891\u7e41\u66f4\u65b0\u4e0b\uff0c\u590d\u6742\u5ea6\u9000\u5316\u7684\u73b0\u8c61\u3002</p>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_19","title":"\u5b9a\u4e49","text":"<ul> <li>\u6839\u8282\u70b9\u662f\u9ed1\u8272\u8282\u70b9\u3001\u53f6\u5b50\u8282\u70b9\u4e3a\u7a7a\u4e14\u4e5f\u662f\u9ed1\u8272\u8282\u70b9</li> <li>\u6bcf\u6761\u8def\u7684\u9ed1\u8272\u8282\u70b9\u6570\u4e00\u81f4</li> <li>\u4e00\u6761\u8def\u4e0a\u7684\u7ea2\u8272\u8282\u70b9\u9700\u88ab\u9ed1\u8272\u8282\u70b9\u9694\u5f00</li> </ul> <p>\u5982\u4f55\u53bb\u601d\u8003\uff1f\u5982\u679c\u628a\u7ea2\u8272\u8282\u70b9\u90fd\u79fb\u9664\u6389\u5c31\u76f8\u5f53\u4e8e\u56db\u53c9\u6811\uff0c\u9ad8\u5ea6\u80af\u5b9a &lt;  $log_2n$\uff0c\u90a3\u7ea2\u8272\u8282\u70b9\u7684\u9ad8\u5ea6\u6ca1\u6709\u9ed1\u8272\u9ad8\uff0c\u6240\u4ee5\u52a0\u8d77\u6765\u4e5f\u80af\u5b9a &lt;  $2log_2n$ \u5373\u7b26\u5408\u8981\u6c42\u3002</p>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_20","title":"\u5b9e\u73b0","text":"<p>\u5206\u4e3a\u63d2\u5165\u548c\u5220\u9664\uff0c\u524d\u8005\u76f8\u5bf9\u7b80\u7565\u4e00\u4e9b\u3002\u548c\u9b54\u65b9\u516c\u5f0f\u5f88\u50cf\uff0ccase by case\u6765\uff0c\u5c31\u4e0d\u80cc\u5566\uff01</p>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_21","title":"\u4f7f\u7528\u4e8c\u53c9\u6811\u76f4\u89c2\u5316\u590d\u6742\u5ea6","text":"<p>\u5982\u679c\u6bcf\u5c42\u7684\u8ba1\u7b97\u590d\u6742\u5ea6\u4e00\u81f4\uff0c\u5219\u662f \u6bcf\u5c42\u590d\u6742\u5ea6*height\uff1b\u5982\u679c\u6bcf\u5c42\u4e0d\u4e00\u81f4\uff0c\u5219\u6bcf\u5c42\u590d\u6742\u5ea6+ ... +\u6bcf\u5c42\u590d\u6742\u5ea6(\u4e00\u5171height\u4e2a)\u3002 \u4e3e\u4e2a\u5feb\u6392\u7684\u4f8b\u5b50\uff0c\u5982\u679c\u6bcf\u6b21\u6570\u636e\u5206\u4e3a $1/ 9$\u548c$8/9$\u65f6\uff0c\u6700\u77ed\u7684\u4e00\u8fb9\u662f\u6bcf\u6b21\u90fd$1/ 9$\u7684\u90a3\u8fb9\uff0c\u4e00\u5171 $nlog_9n$\uff1b\u6700\u957f\u7684\u90a3\u8fb9\u5219\u662f $nlog_{9/8}n$\u3002</p>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_22","title":"\u5806","text":"<p>\u6bcf\u4e2a\u8282\u70b9\u90fd\u6bd4\u5b50\u8282\u70b9\u5927/\u5c0f\u7684\u5b8c\u5168\u4e8c\u53c9\u6811</p>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_23","title":"\u64cd\u4f5c","text":"<ul> <li>\u63d2\u5165\uff1a\u63d2\u5165\u5230\u6700\u540e\uff0c\u4ece\u4e0b\u5230\u4e0a\u5806\u5316 \u590d\u6742\u5ea6logn</li> <li>\u5220\u9664\uff1a\u5c06\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u79fb\u81f3\u8be5\u4f4d\uff0c\u4ece\u4e0a\u5230\u4e0b\u5806\u5316 \u590d\u6742\u5ea6logn</li> </ul>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_24","title":"\u57fa\u4e8e\u5806\u7684\u6392\u5e8f","text":"<p>\u53ef\u4ee5\u5148\u5c06\u6570\u7ec4\u539f\u5730\u5806\u5316\u2026\u518d\u6392\u5e8f \u75af\u72c2\u4ea4\u6362\u3002\u6574\u4e2a\u590d\u6742\u5ea6\u4e5f\u662f$nlogn$\u3002</p>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_25","title":"\u5b9e\u8df5","text":"<p>\u5728\u6211\u5fc3\u4e2d\uff0c\u8fd9\u4e9b\u5b9e\u8df5=\u65b9\u6848+\u5b58\u50a8\u65b9\u5f0f\u3002\u65b9\u6848\u662f\u6700\u91cd\u8981\u7684\uff0c\u5b58\u50a8\u65b9\u5f0f\u4e0a\u5806\u53ef\u4ee5\u88ab\u6570\u7ec4\u66ff\u4ee3\uff0c\u53ea\u662f\u6548\u7387\u8981\u4ece logn \u964d\u5230 n\u3002\uff08\u603b\u4e4b\u2026\u6211\u4e0d\u662f\u5f88\u559c\u6b22\u5806\u2026\u53ef\u80fd\u6682\u65f6\u8fd8\u4e0d\u7406\u89e3\u771f\u5b9e\u4f7f\u7528\u573a\u666f\u3002\uff09</p> <p>\u6bd4\u5982\u5408\u5e76\u6709\u5e8f\u5c0f\u6587\u4ef6\uff0c\u52a8\u6001\u6c42Top k\u6570\u636e\uff0c\u52a8\u6001\u6c42\u4e2d\u4f4d\u6570\u300190\u767e\u5206\u4f4d\u6570\u7b49\u3002\u539f\u7406\u90fd\u662f\u4e00\u6837\u7684\u3002\u5229\u7528\u4e24\u4e2a\u5806\uff0c\u4e00\u4e2a\u5927\u9876\u5806\uff0c\u4e00\u4e2a\u5c0f\u9876\u5806\uff0c\u968f\u7740\u6570\u636e\u7684\u52a8\u6001\u6dfb\u52a0\uff0c\u52a8\u6001\u8c03\u6574\u4e24\u4e2a\u5806\u4e2d\u7684\u6570\u636e\uff0c\u6700\u540e\u5927\u9876\u5806\u7684\u5806\u9876\u5143\u7d20\u5c31\u662f\u8981\u6c42\u7684\u6570\u636e\u3002</p>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_26","title":"\u56fe","text":""},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_27","title":"\u672f\u8bed","text":"<p>\u5165\u5ea6\u3001\u51fa\u5ea6\u3001\u6709\u5411\u56fe\u3001\u65e0\u5411\u56fe\u3001\u5e26\u6743\u56fe</p>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_28","title":"\u5b58\u50a8\u65b9\u5f0f","text":"<ul> <li>\u4e8c\u7ef4\u6570\u7ec4\uff1a\u90bb\u63a5\u77e9\u9635\uff08Adjacency Matrix\uff09\u4e24\u4e2a\u6709\u8054\u7cfb\u7684\u70b9\u5206\u522b\u4f5c\u4e3a\u6570\u7ec4\u7684index\u503c\u3002\u6bd4\u8f83\u76f4\u63a5\uff0c\u4f46\u8017\u7a7a\u95f4\u3002</li> <li>\u6563\u5217\u8868\uff1a\u90bb\u63a5\u8868 \u6bcf\u4e2aindex\u9879\u90fd\u4f1a\u4ee5\u94fe\u8868/\u4e8c\u53c9\u6811\u7684\u5f62\u5f0f\u5b58\u50a8\u4e0e\u8fd9\u4e2a\u70b9\u6709\u5173\u7684\u5176\u4ed6\u70b9</li> </ul>"},{"location":"Basic-is-everything/Algorithm/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%26%E7%AE%97%E6%B3%95%E4%B9%8B%E7%BE%8E/#_29","title":"\u5b9e\u8df5","text":"<p>\u597d\u53cb\u5173\u7cfb\u3001\u4ea4\u901a\u56fe\u3001\u601d\u7ef4\u5bfc\u56fe</p>"},{"location":"Basic-is-everything/COA/resources/","title":"resources","text":"<ul> <li>\u738b\u723d\u7684\u300a\u6c47\u7f16\u8bed\u8a00\u300b</li> <li>\u8ba1\u7b97\u673a\u4f53\u7cfb\u7ed3\u6784 \u91cf\u5316\u7814\u7a76\u65b9\u6cd5 h&amp;p</li> <li>H&amp;P5 = Computer Architecture: A Quantitative Approach (5th Edition), 2011 \u8ba1\u7b97\u673a\u7ec4\u6210\u4e0e\u8bbe\u8ba1\uff08\u539f\u4e66\u7b2c5\u7248\uff09 - \u6234\u7ef4A patterson</li> <li>S&amp;L = Modern Processor Design: Fundamentals of Superscalar Processors (1st Edition), 2005</li> <li>\u4ece\u96f6\u5f00\u59cb\u6253\u9020\u4e00\u53f0\u7b80\u6613\u8ba1\u7b97\u673a \u00b7 \u4ece\u96f6\u5f00\u59cb\u6253\u9020\u4e00\u53f0\u7b80\u6613\u8ba1\u7b97\u673a \u8001\u54e5\u5199\u5f97\u8fd8\u633a\u6709\u95f2\u60c5\u9038\u81f4\u7684</li> </ul>"},{"location":"Basic-is-everything/COA/CAAA/","title":"index","text":""},{"location":"Basic-is-everything/COA/CAAA/#fundamentals-of-quantitative-design-and-analysis","title":"Fundamentals of Quantitative Design and Analysis","text":""},{"location":"Basic-is-everything/COA/CAAA/#classes-of-computers","title":"Classes of Computers","text":""},{"location":"Basic-is-everything/COA/CAAA/#classes-of-parallelism-and-parallel-architectures","title":"Classes of Parallelism and Parallel Architectures","text":"<ul> <li>DLP Data-level parallelism</li> <li>TLP</li> </ul> <p>Computer hardware exploitation:</p> <ul> <li>Instruction-level parallelism</li> <li>Vector Architectures and Graphic Processor Units</li> <li>Thread-Level P (allows for interaction)</li> <li>Request-level p (\u8bf7\u6c42\u7ea7)</li> </ul>"},{"location":"Basic-is-everything/COA/CAAA/#cpu","title":"cpu \u8bbe\u8ba1\u601d\u60f3\u4e4b\u4e00","text":"<p>\u5b83\u4e0d\u77e5\u9053\u7ec6\u8282\uff0c\u53ea\u662f commander. \u6bd4\u5982\u8bfb\u6570\u636e\uff0c\u8bfb\u5b8c\u6570\u636e\u540e\u6570\u636e\u4f9d\u7136\u8981\u5b58\u50a8\u5230\u6570\u636e\u5bc4\u5b58\u5668\u53bb\uff0c\u8c01\u8981\u518d\u53d1\u7ed9\u8c01\u3002</p> <p>\u865a\u62df\u5b58\u50a8\u5668\uff1a\u865a\u62df\u5730\u5740 \u53ef\u7c7b\u6bd4\u62ff\u5feb\u9012\u7684\u53d6\u4ef6\u7801\u3002</p>"},{"location":"Basic-is-everything/Coding/design-pattern/","title":"design-pattern","text":""},{"location":"Basic-is-everything/Coding/design-pattern/#factory","title":"Factory","text":"<p>get: \u627e\u5230\u7c7b\u7684\u7279\u6027\uff0c\u6784\u9020\u4e0d\u540c\u5b50\u7c7b\u3002\u540c\u65f6\u7528\u53e6\u4e00\u4e2a\u7ba1\u7406\u7c7b\u53bb\u9009\u62e9\u548c\u5b9e\u4f8b\u5316\u5bf9\u5e94\u7684\u5b50\u7c7b\u3002</p> <p>\u7c7b\u7684\u62c6\u5206\u548c\u7ba1\u7406\u4e5f\u5f88\u91cd\u8981\uff1a\u6bd4\u5982\u7c7b\u91cc\u6240\u62e5\u6709\u7684 item \u53ef\u4ee5\u662f\u53e6\u4e00\u4e2a\u7c7b</p>"},{"location":"Basic-is-everything/Coding/design-pattern/#_1","title":"\u7b80\u5355\u9759\u6001\u5de5\u5382","text":"<p>\u901a\u8fc7\u9759\u6001\u65b9\u6cd5\u76f4\u63a5\u8fd4\u56de\u4ea7\u54c1\uff0c\u5f62\u5982 Integer.valueOf(), List.of()...</p>"},{"location":"Basic-is-everything/Coding/design-pattern/#_2","title":"\u5355\u4f8b","text":"<p>\u6ce8\u610f\u5355\u4f8b\u7684\u5ef6\u8fdf\u52a0\u8f7d\uff0c\u5373\u5728\u8c03\u7528\u65b9\u7b2c\u4e00\u6b21\u8c03\u7528<code>getInstance()</code>\u65f6\u624d\u521d\u59cb\u5316\u5168\u5c40\u552f\u4e00\u5b9e\u4f8b\uff08\u548c\u8bed\u8a00\u7279\u6027\u6709\u5173\uff0c\u5982\u679c\u662f java \u591a\u7ebf\u7a0b\u7684\u8bdd\u6bd4\u8f83\u6709\u5751\uff0c\u4e00\u822c\u662f\u901a\u8fc7\u7ea6\u5b9a\u8ba9\u6846\u67b6\uff08\u4f8b\u5982Spring\uff09\u6765\u5b9e\u4f8b\u5316\u8fd9\u4e9b\u7c7b\uff0c\u4fdd\u8bc1\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\uff09</p>"},{"location":"Basic-is-everything/Coding/design-pattern/#strategy","title":"Strategy","text":"<p>\u62bd\u8c61\u7b56\u7565\u4e0e\u5177\u4f53\u7b56\u7565\uff1b\u4f7f\u7528\u7ba1\u7406\u7c7b\u65f6\uff0c\u9700\u8981\u5728\u4e0a\u4e0b\u6587\u6307\u5b9a\u5f53\u524d\u4f7f\u7528\u7684\u5177\u4f53\u7b56\u7565\u662f\u54ea\u4e00\u4e2a</p> <p>\u7b80\u5355\u5de5\u5382\u6784\u9020\u51fa\u7684\u5de5\u4f5c\u7c7b\u548c\u7ba1\u7406\u7c7b\u4e00\u5171\u4e24\u4e2a\u7c7b\uff1b\u800c\u5982\u679c\u7ba1\u7406\u7c7b\u81ea\u5df1\u53bb\u7ef4\u62a4\u5de5\u4f5c\u7c7b\uff0c\u8c03\u7528\u65b9\u5c31\u5b8c\u5168\u4e0d\u9700\u8981\u4e86\u89e3\u5de5\u4f5c\u7c7b\u4e86\u3002</p>"},{"location":"Basic-is-everything/Coding/design-pattern/#decorator","title":"Decorator","text":"<p>\u80cc\u666f\uff1a\u6ee1\u8db3\u4e00\u4e9b\u53ea\u5728\u67d0\u79cd\u7279\u5b9a\u60c5\u51b5\u4e0b\u624d\u4f1a\u6267\u884c\u7684\u7279\u6b8a\u884c\u4e3a\u7684\u9700\u8981</p> <p>\u5b9e\u73b0\uff1a\u5b83\u628a\u6bcf\u4e2a\u8981\u88c5\u9970\u7684\u529f\u80fd\u653e\u5728\u5355\u72ec\u7684\u7c7b\u4e2d\uff0c\u5e76\u8ba9\u8fd9\u4e2a\u7c7b\u5305\u88c5\u5b83\u6240\u8981\u88c5\u9970\u7684\u5bf9\u8c61</p>"},{"location":"Basic-is-everything/Coding/design-pattern/#clone","title":"clone \u6a21\u5f0f","text":""},{"location":"Basic-is-everything/Coding/design-pattern/#_3","title":"\u6a21\u677f\u65b9\u6cd5","text":"<p>\u7236\u7c7b(abstract class)\u5b9a\u4e49\u7b97\u6cd5\u9aa8\u67b6\u4e0e\u6b65\u9aa4\uff0c\u5b50\u7c7b\u53bb\u586b\u5145\u7b97\u6cd5\u7ec6\u8282\u3002\u8fd9\u6837\u4ee5\u5b9e\u73b0\u7236\u7c7b\u5bf9\u6d41\u7a0b\u7684\u63a7\u5236\u3002</p>"},{"location":"Basic-is-everything/Coding/design-pattern/#facade","title":"Facade","text":"<p>\u5916\u89c2\u6a21\u5f0f \u5c31\u662f\u6700\u666e\u901a\u7684\u4e00\u4e2a\u7ba1\u7406\u7c7b\u53bb\u7edf\u4e00\u8c03\u7528\u522b\u7684\u7c7b\u5566</p>"},{"location":"Basic-is-everything/Coding/design-pattern/#builder","title":"Builder","text":"<p>\u901a\u8fc7 abstract class \u53bb\u89c4\u8303\u5316\u5b50\u7c7b\u6b65\u9aa4</p>"},{"location":"Basic-is-everything/Coding/design-pattern/#observer","title":"Observer","text":"<p>\u56e0\u4e3a js \u662f\u504f\u51fd\u6570\u5f0f\u8bed\u8a00\uff0c c++/java \u662f\u9762\u5411\u5bf9\u8c61\u8bed\u8a00\uff0c\u6240\u4ee5\u5b9e\u73b0\u8d77\u6765\u7684\u533a\u522b\u4e5f\u53ef\u4ee5\u4f53\u4f1a\u4e00\u4e0b\uff1a</p> <p>js \u7684\u8bdd\uff0cobserver \u63a5\u6536\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u5373\u53ef\uff0csubject \u53d6\u6d88\u76d1\u542c\u51fd\u6570\u4e5f\u53ef\u4ee5\u7531 observer.addListener() \u8fd4\u56de\u3002 </p> <p>java \u7684\u8bdd\uff0cobserver \u548c subject \u90fd\u5f97\u662f\u4e00\u4e2a\u7c7b\uff0c\u5e76\u4e14\u4e24\u4e2a\u7c7b\u4e0d\u8981\u8026\u5408\uff0c\u901a\u8fc7 observer \u7684\u62bd\u8c61\u7c7b\u4e0e  subject \u7684 interface \u5efa\u7acb\u8fde\u63a5\u3002</p>"},{"location":"Basic-is-everything/Coding/design-pattern/#_4","title":"\u72b6\u6001\u6a21\u5f0f","text":"<p>I like it.</p>"},{"location":"Basic-is-everything/Coding/design-pattern/#composite","title":"Composite","text":"<p>I also like it. \u5bf9\u4e8e\u5206\u516c\u53f8\u6216\u8005 tree \u7684\u7ba1\u7406\u5f88\u6709\u7528</p>"},{"location":"Basic-is-everything/Coding/%E5%87%BD%E6%95%B0%E5%BC%8F%E8%AF%AD%E8%A8%80-%E9%80%9A%E7%94%A8%E6%A8%A1%E5%BC%8F/","title":"\u51fd\u6570\u5f0f\u8bed\u8a00-\u901a\u7528\u6a21\u5f0f","text":""},{"location":"Basic-is-everything/Coding/%E5%87%BD%E6%95%B0%E5%BC%8F%E8%AF%AD%E8%A8%80-%E9%80%9A%E7%94%A8%E6%A8%A1%E5%BC%8F/#option","title":"\u521d\u59cb\u5316\u7684 option","text":"<ul> <li>\u539f: \u9700\u8981\u6807\u6ce8\u6bcf\u4e2a\u5b57\u6bb5\u7684\u503c</li> </ul> <pre><code>func main() {\n  svr := server.New(server.Config{\"localhost\", 1234, 30*time.Second, 10})\n  if err := svr.Start(); err != nil {\n    log.Fatal(err)\n  }\n}\n</code></pre> <ul> <li>\u6539\u7528 with \u6a21\u5f0f</li> </ul> <pre><code>type Server {\n  host string\n  port int\n  timeout time.Duration\n  maxConn int\n}\n\nfunc New(options ...func(*Server)) *Server {\n  svr := &amp;Server{}\n  for _, o := range options {\n    o(svr)\n  }\n  return svr\n}\n\nfunc (s *Server) Start() error {\n  // todo\n}\n\nfunc WithHost(host string) func(*Server) {\n  return func(s *Server) {\n    s.host = host\n  }\n}\n\nfunc WithPort(port int) func(*Server) {\n  return func(s *Server) {\n    s.port = port\n  }\n}\n\n// \u4f7f\u7528\nfunc main() {\n  svr := server.New(\n    server.WithHost(\"localhost\"),\n    server.WithPort(8080),\n    server.WithTimeout(time.Minute),\n    server.WithMaxConn(120),\n  )\n  if err := svr.Start(); err != nil {\n    log.Fatal(err)\n  }\n</code></pre> <p>Key: \u62c6\u5206\u3002\u5c06\u9700\u8981\u4e00\u80a1\u8111\u5e73\u94fa\u4f20\u5165\u7684\u5165\u53c2\u62c6\u5f00\u6210\u7ed9 obj \u4f9d\u6b21\u8d4b\u5b57\u6bb5\u503c\u7684\u51fd\u6570\u3002</p> <p>ref: Golang Functional Options Pattern | Golang Cafe</p>"},{"location":"Basic-is-everything/Coding/%E6%95%B0%E6%8D%AE%E5%BA%93/","title":"\u6570\u636e\u5e93","text":"<p>\u6570\u636e\u5e93\u7684\u53d1\u5c55</p> <p>\u770b\u5230\u8fd9\u91cc\u65f6\uff0c\u6211\u7a81\u7136\u53d1\u73b0\u6211\u7684\u7b14\u8bb0\u5176\u5b9e\u5c31\u975e\u5e38\u5951\u5408\u6570\u636e\u5e93\u7684\u53d1\u5c55\u3002\u6bd4\u5982\u4ece\u4e00\u5f00\u59cb\u7684\u7b14\u8bb0\u672c\uff08\u4eba\u5de5\u7ba1\u7406\u9636\u6bb5\uff09\uff0c\u5230\u6563\u88c5md\uff08\u6587\u4ef6\u9636\u6bb5\uff09\uff0c\u5230\u73b0\u5728\u6d41\u884c\u7684notion\u3001flomo\u9636\u6bb5\uff08\u6570\u636e\u5e93\u7ba1\u7406\u9636\u6bb5 \u5173\u952e\u7279\u70b9\u662f\u652f\u6301 tag \u5f15\u7528\uff09\u3002\u867d\u7136\u6211\u6700\u559c\u6b22\u7684\u8fd8\u662f\u6563\u88c5 md \u5f62\u5f0f hhh\u3002</p> <p>\u6982\u5ff5\u6a21\u578b</p> <p>E-R\u56fe \u5373\u6570\u636e\u95f4\u7684n\u5bf9n\u5173\u7cfb\uff08\u662f\u4e00\u79cd\u903b\u8f91\u4e0a\u7684\u8bed\u4e49\u6a21\u578b\uff09</p>"},{"location":"Basic-is-everything/Coding/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/","title":"\u7f16\u8bd1\u539f\u7406","text":"<ul> <li>\u7f16\u8bd1\u5668\uff1a\u524d\u7aef\u4e0e\u540e\u7aef\u7684\u5212\u5206\u3002\u4e00\u7aef\u5bf9\u4e0a\u6e38\uff08\u8bed\u6cd5\u3001\u8bed\u4e49\u6821\u9a8c\uff09\uff0c\u4e00\u7aef\u5bf9\u4e0b\u6e38\uff08\u751f\u6210\u7ed3\u679c\u3001\u4f18\u5316\u7ed3\u679c\uff09\u3002\u8fd9\u4e5f\u662f\u4e00\u79cd\u901a\u7528\u7684\u6a21\u5f0f\uff0c\u6bd4\u5982-\u5de5\u5382\u7684\u63a5\u5355\u5230\u5236\u5355\uff1b -\u524d\u7aef\u7ec4\u4ef6\u7684\u4e00\u65b9\u9762\u8981\u8003\u8651\u88ab\u4f20\u53c2\u7684\u60c5\u51b5\u662f\u5426\u6b63\u786e\uff0c\u53e6\u4e00\u65b9\u9762\u4e5f\u8981\u8003\u8651\u5728\u6d4f\u89c8\u5668\u4e0a\u7684\u6e32\u67d3\u3002</li> </ul>"},{"location":"Basic-is-everything/Coding/%E9%94%81/","title":"\u9501","text":"<p>A lock in simple terms is a mechanism used to ensure that a particular resource is not concurrently accessed (data structures,hardware peripherals,buffers\u2026.anything which needs protection from concurrent access by different threads).</p> <ul> <li>\u5b8f\u89c2\u5206\u7c7b<ul> <li>\u4e50\u89c2\u9501 OptimisticLock<ul> <li>CAS\uff08Compare And Swap \u6bd4\u8f83\u5e76\u4e14\u66ff\u6362\uff09\uff1a\u7ebf\u7a0b\u5728\u8bfb\u53d6\u6570\u636e\u65f6\u4e0d\u8fdb\u884c\u52a0\u9501\uff0c\u5728\u51c6\u5907\u5199\u56de\u6570\u636e\u65f6\uff0c\u5148\u53bb\u67e5\u8be2\u539f\u503c\uff0c\u64cd\u4f5c\u7684\u65f6\u5019\u6bd4\u8f83\u539f\u503c\u662f\u5426\u4fee\u6539\uff0c\u82e5\u672a\u88ab\u5176\u4ed6\u7ebf\u7a0b\u4fee\u6539\u5219\u5199\u56de\uff0c\u82e5\u5df2\u88ab\u4fee\u6539\uff0c\u5219\u91cd\u65b0\u6267\u884c\u8bfb\u53d6\u6d41\u7a0b</li> <li>E.g. git\u3001\u5728\u7ebf\u6587\u6863\u7f16\u8f91</li> </ul> </li> <li>\u60b2\u89c2\u9501 Pessimistic Lock<ul> <li>\u6bcf\u6b21\u62ff\u6570\u636e\u90fd\u5148\u4e0a\u9501</li> </ul> </li> </ul> </li> <li>\u60b2\u89c2\u9501\u7684\u5b9e\u73b0\u5206\u7c7b<ul> <li>\u300c\u5fd9\u7b49\u5f85\u300d\uff1a\u81ea\u65cb\u9501 spinlock<ul> <li>\u8fd9\u91cc spin == wait in a loop, \u6240\u4ee5\u5e94\u8be5\u53eb \u5faa\u73af\u9501 \u624d\u5bf9\u561b</li> <li>\u5f00\u9500\u5c0f\uff0c\u9002\u5408\u5f02\u6b65\u3001\u534f\u7a0b\u7b49\u5728\u7528\u6237\u6001\u5207\u6362\u8bf7\u6c42\u7684\u7f16\u7a0b\u65b9\u5f0f</li> </ul> </li> <li>\u300c\u7ebf\u7a0b\u5207\u6362\u300d\uff1a\u4e92\u65a5\u9501 mutex<ul> <li>\u53e6\u4e00\u4e2a\u8bd5\u56fe\u62a2\u593a\u7684\u7ebf\u7a0b\u76f4\u63a5\u5835\u585e\u3002</li> <li>\u4e92\u65a5\u9501\u52a0\u9501\u5931\u8d25\u65f6\uff0c\u4f1a\u4ece\u7528\u6237\u6001\u9677\u5165\u5230\u5185\u6838\u6001\uff0c\u8ba9\u5185\u6838\u5e2e\u6211\u4eec\u5207\u6362\u7ebf\u7a0b\uff0c\u867d\u7136\u7b80\u5316\u4e86\u4f7f\u7528\u9501\u7684\u96be\u5ea6\uff0c\u4f46\u662f\u5b58\u5728\u4e00\u5b9a\u7684\u6027\u80fd\u5f00\u9500\u6210\u672c</li> </ul> </li> </ul> </li> <li>\u5176\u4ed6\u5206\u7c7b<ul> <li>\u53ef\u91cd\u5165\u9501/\u9012\u5f52\u9501<ul> <li>\u662f\u5426\u5141\u8bb8\u591a\u4e2a\u7ebf\u7a0b\u591a\u6b21\u83b7\u5f97\u540c\u4e00\u628a\u9501</li> </ul> </li> </ul> </li> <li>\u5de5\u7a0b\u5316<ul> <li>\u5206\u5e03\u5f0f\u9501<ul> <li>Redis</li> <li>Zookeeper</li> </ul> </li> </ul> </li> </ul> <p>Refs: \u4e00\u6587\u641e\u61c2\u5404\u79cd\u9501-\u4e92\u65a5\u9501-\u81ea\u65cb\u9501-\u53ef\u91cd\u5165\u9501-\u8bfb\u5199\u9501-\u60b2\u89c2\u9501-\u4e50\u89c2\u9501-\u5206\u5e03\u5f0f\u9501 - \u77e5\u4e4e \u901a\u4fd7\u6613\u61c2 \u60b2\u89c2\u9501\u3001\u4e50\u89c2\u9501\u3001\u53ef\u91cd\u5165\u9501\u3001\u81ea\u65cb\u9501\u3001\u504f\u5411\u9501\u3001\u8f7b\u91cf/\u91cd\u91cf\u7ea7\u9501\u3001\u8bfb\u5199\u9501\u3001\u5404\u79cd\u9501\u53ca\u5176Java\u5b9e\u73b0\uff01 - \u77e5\u4e4e</p>"},{"location":"Basic-is-everything/Coding/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/","title":"\u9762\u5411\u5bf9\u8c61","text":"<p>\u4e09\u5251\u5ba2\uff1a\u5c01\u88c5\u3001\u7ee7\u627f\u3001\u591a\u6001</p> <p>\u591a\u6001 Polymorphism \u6700\u65e9\u6765\u6e90\uff1a\u751f\u7269\u5b66\uff0c\u8868\u793a\u540c\u4e00\u7269\u79cd\u5b58\u5728\u591a\u79cd\u4e0d\u540c\u7684\u8868\u578b\uff0c\u6bd4\u5982\u4e24\u79cd\u989c\u8272\u7684\u8c79\u5b50\u3002\u4f46\u5728\u7a0b\u5e8f\u91cc\uff0c\u6307\u4ee3\u300c\u53ef\u4ee5\u7528\u591a\u79cd\u65b9\u5f0f\u6267\u884c\u4e00\u4e2a\u65b9\u6cd5\u300d\u3002</p> <p>\u6211\u7684\u7406\u89e3\uff1a\u7ee7\u627f\u8ba9\u4e00\u4e2a\u7269\u79cd/\u4e16\u754c\u5ef6\u7eed\uff0c\u4f46\u662f\u591a\u6001\u8ba9\u7269\u79cd\u6709\u4e86\u591a\u6837\u6027\u3002\u7ee7\u627f\u662f\u7ad9\u5728\u4e0b\u4e00\u4ee3\u7684\u89c6\u89d2\uff0c\u7528\u4e8e\u521b\u9020\u4e0b\u4e00\u4ee3\uff1b\u800c\u591a\u6001\u662f\u7ad9\u5728\u4e0a\u4e00\u4ee3\u7684\u89c6\u89d2\uff0c\u770b\u7740\u4e0b\u5c5e\u5206\u5316\u3002\u5b9e\u9645\u751f\u6d3b\u4e2d\uff0c\u5b89\u6392\u5b8f\u89c2\u5de5\u4f5c\u4e5f\u662f\u591a\u6001\u7684\u4e00\u79cd\u3002\u4e0d\u7528\u5206\u522b\u8bf4\u300cA\u53bb\u79cd\u82b1B\u53bb\u79cd\u83dc\u300d\uff0c\u800c\u662f\u53ef\u4ee5\u8bf4\u300c\u5458\u5de5\u505a\u597d\u624b\u5934\u4e0a\u7684\u5de5\u4f5c\u300d\uff0cA\u81ea\u5df1\u77e5\u9053\u53bb\u79cd\u82b1\uff0cB\u81ea\u5df1\u77e5\u9053\u53bb\u79cd\u83dc\u3002</p>"},{"location":"Basic-is-everything/Coding/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/#c","title":"C++","text":""},{"location":"Basic-is-everything/Coding/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/#reference-vs-pointer","title":"reference v.s. pointer","text":"<pre><code>int * pNumber1 = &amp;number1;  // Explicit referencing\n*pNumber1 = 99;             // Explicit dereferencing\n// member-access with pointers uses -&gt;\n// \u8bed\u4e49\u4e0a\uff1a\u4e00\u4e2a\u53d8\u91cf\uff0c\u6307\u5411\u5730\u5740\n\n // Create a reference (alias) to number1\nint &amp; refNumber1 = number1;  // Implicit referencing (NOT &amp;number1)\nrefNumber1 = 11;             // Implicit dereferencing (NOT *refNumber1)\n// member-access with references uses .\n// \u8bed\u4e49\u4e0a\uff1a\u4e00\u4e2a\u53d8\u91cf\u7684\u522b\u540d\uff0c\u6240\u4ee5\u4e0d\u80fd\u6307\u5411 null\uff0c\u4e5f\u4e0d\u80fd\u66f4\u6539\n</code></pre>"},{"location":"Basic-is-everything/Coding/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/#_2","title":"\u7c7b\u4e2d\u6210\u5458\u7684\u8bbf\u95ee\u6743\u9650","text":"<p>\u516c\u6709\uff1a\u6b63\u5e38\u5bb6\u5ead\u6210\u5458 \u79c1\u6709\uff1a\u79d8\u5bc6 like\u79c1\u751f\u5b50 \u4fdd\u62a4\uff1a\u4e0d\u60f3\u88ab\u66b4\u9732\u7684\u5b69\u5b50</p> <p>C++ \u9664\u4e86\u6784\u9020\u51fd\u6570\uff0c\u8fd8\u6709 onDestroy \u7684\u6790\u6784\u51fd\u6570\uff01</p>"},{"location":"Basic-is-everything/Linux/Files/","title":"Files","text":"<p>Open file: The value returned by an open call is termed a file descriptor and is essentially an index into an array of open files kept by the kernel per process.</p> <p>\u9ed8\u8ba4\u7684\u4e09\u4e2a file descriptor:</p> <pre><code>Standard In stdin   0   Input from the keyboard\nStandard Out    stdout  1   Output to the console\nStandard Error  stderr  2   Error output to the console\n</code></pre> <p>\u5982\u4f55 list \u5f53\u524d\u7684 file descriptors:</p> <pre><code>ls -l /proc/$$/fd\n# \u5176\u4e2d $$ will give the process ID of the currently running shell. \u540c ps\n</code></pre> <p>BTW, You can not delete /proc since they are not files. /proc is mounted using the procFS, which is not a real filesystem. Instead the contents are generated the moment you try to read from them. This also means it is not using any disk space at all. (So there is no reason in trying to delete it).</p> <p>\u6ce8\u610f \u7279\u522b\u7684\u8def\u5f84\u6bd4\u5982 /dev/ \u7cfb\u5217 To provide the abstraction to user-space, the kernel provides a file-interface via what is generically termed a device layer.  Physical devices on the host are represented by a file in a special file system such as /dev. Device files are abstractions of standard devices that applications interact with via I/O system calls. In UNIX-like systems, so-called device-nodes have what are termed a major and a minor number, which allow the kernel to associate particular nodes with their underlying driver. The major number tells you which driver is used to access the hardware. The minor number is used by the driver to distinguish between the various hardware it controls. </p> <p>The pipe is an in-memory buffer that connects two processes together. file descriptors point to the pipe object, which buffers data sent to it (via a write) to be drained (via a read).</p>"},{"location":"Basic-is-everything/Linux/Linux%20process%20state/","title":"Linux process state","text":"<p> PROCESS STATE CODES    R  running or runnable (on run queue)    D  uninterruptible sleep (usually IO)    S  interruptible sleep (waiting for an event to complete)    Z  defunct/zombie, terminated but not reaped by its parent    T  stopped, either by a job control signal or because it is being traced</p> <p>A zombie process is a process that exited successfully, but its state change wasn't yet acknowledged by the parent. That is, the parent didn't call wait() / waitpid() functions.</p>"},{"location":"Basic-is-everything/Linux/Linux%20process%20state/#signal","title":"signal","text":"<p>Signal Dispositions Each signal has a current disposition, which determines how the process behaves when it is delivered the signal.</p> <p>Stop   Default action is to stop the process.   Cont   Default action is to continue the process          if it is currently stopped.</p> <pre><code>   Signal     Value     Action   Comment\n   \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n   SIGCONT      18       Cont    Continue if stopped\n   SIGSTOP      19       Stop    Stop process\n</code></pre> <p>\u901a\u5e38\u60c5\u51b5\u4e0b\uff0cpid \u4e0d\u662f parent id \u800c\u662f process ID\uff01</p> <pre><code>import os\nimport signal\n\npid = os.fork()\n\n# fork() itself is interesting. If a fork() returns zero, it means you're in the \u201cchild process\u201d. If fork() returns a positive value - it's documented to return the PID of the child - you're in the parent and a child process has successfully \u201cspawned\u201d\n\nif pid:\n    print(\"In parent process\")\n    os.kill(pid, signal.SIGSTOP)\n    print(\"Signal sent, child stopped.\")\n    info = os.waitpid(pid, os.WSTOPPED)\n\n    stopSignal = os.WSTOPSIG(info[1])\n    print(\"Child stopped due to signal no:\", stopSignal)\n    print(\"Signal name:\", signal.Signals(stopSignal).name)\n\n    # send signal 'SIGCONT'\n    os.kill(pid, signal.SIGCONT)\n    print(\"\\nSignal sent, child continued.\")\n\nelse:\n    print(\"\\nIn child process\")\n    print(\"Process ID:\", os.getpid())\n    print(\"Hello ! Geeks\")\n    print(\"Exiting\")\n</code></pre> <p>\u963f \u6240\u4ee5\u4e25\u683c\u610f\u4e49\u4e0a\u8bb2\uff0c kill \u662f send signal \u7684\uff0c\u800c\u4e0d\u662f\u6740\u6b7b\u3002\u597d\u7cdf\u7cd5\u7684\u65b9\u6cd5\u540d\uff01</p>"},{"location":"Basic-is-everything/Linux/UnixLinux%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/","title":"Unix/Linux \u7f51\u7edc\u7f16\u7a0b","text":""},{"location":"Basic-is-everything/Linux/UnixLinux%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/#_1","title":"\u5386\u53f2","text":"<ul> <li>1983: select() was introduced in 4.2BSD Unix, released in August 1983.</li> <li>1997: poll() was introduced in SVR3 Unix, released 1987. In Linux, the poll() system call was introduced in 2.1.23 (January 1997) while the poll() library call was introduced in libc 5.4.28 (May 1997)</li> <li> <p>2002: epoll(): only for linux kernel 2.5.44, 2002 (and therefore, not portable)</p> </li> <li> <p>Using an event library like libevent, libev, or libuv will provide an abstraction layer and try to use the most performant method on your system, so you shouldn't have to worry about choosing between select, poll, epoll, or kqueue (for MacOS and the BSD's).</p> </li> </ul> <p>\u65e9\u671f\uff1apipe \u7684\u65b9\u5f0f The only way to read and write at the same time was to use two processes.</p> <p>1983: This all changed in 1983 with the release of 4.2BSD. This revision introduced an early implementation of a TCP/IP stack and most importantly - the BSD Sockets API.</p> <p>\u968f\u7740\u591a\u7528\u6237\u5206\u65f6\u7684\u53d1\u5c55\uff0c\u666e\u901a\u7684 Accept-and-fork \u6a21\u5f0f\u4e5f is not enough \u4e86</p> <p>Accept-and-fork, as you call it, makes it impossible for multiple clients to share state on the server. It's not just about networking either; one influence was the work with the Blit.</p> <p>\u63d2\u64ad\u4e00\u6761\u5389\u5bb3\u7684\u5927\u4f6c\u604b\u60c5\u6545\u4e8b\uff1aMarshall Kirk McKusick - Wikipedia and Eric Allman - Wikipedia</p>"},{"location":"Basic-is-everything/Linux/UnixLinux%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/#io","title":"\u7f16\u7a0b\u8bed\u8a00\u7684io","text":"<p>\u5b9e\u9645\u4e0a\u5404\u79cd\u8bed\u8a00\u5e95\u5c42\u8fd8\u662f\u9700\u8981\u4f7f\u7528\u64cd\u4f5c\u7cfb\u7edf\u7684 io api, \u4f46\u6839\u636e\u5e73\u53f0\u4e0d\u540c\u4f1a\u8fdb\u884c\u4e0d\u540c api \u7684\u9009\u62e9\u3002 They are all ultimately just wrappers over operating system facilities. Node.js \u7684 io \u64cd\u4f5c\u7531 libuv \u8fdb\u884c\uff1b JAVA NIO is Java's abstraction of non-blocking io. There will be different underlying implementations on different platforms. On Linux, it is implemented using epool. On other platforms, other technologies such as kqueue are used.</p>"},{"location":"Basic-is-everything/Linux/UnixLinux%20%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/#_2","title":"\u4e00\u4e9b\u95ee\u9898","text":"<p>linux - select vs poll vs epoll - Stack Overflow I am designing a new server which needs to support thousands of UDP connections (somewhere around 100,000 sessions). Can someone explain select vs poll vs epoll? It will help me know which one to use. A: Linux: epoll FreeBSD: kqueue Windows: IO Completion Port</p> <p>c - Why use select(), when we have poll() and epoll() - Stack Overflow I looked at the differences between poll, epoll and select. What I don't understand is when should I use select. I don't see any advantage, given that poll and epoll have everything that select has, and more.</p> <p>asynchronous - non-blocking IO vs async IO and implementation in Java - Stack Overflow</p> <p>linux - What does the number in parentheses shown after Unix command names in manpages mean? - Stack Overflow It's the section that the man page for the command is assigned to. These are split as: 1.General commands 2.System calls 3.C library functions 4.Special files (usually devices, those found in /dev) and drivers 5.File formats and conventions 6.Games and screensavers 7.Miscellanea 8.System administration commands and daemons</p>"},{"location":"Basic-is-everything/Linux/shell%20%E5%B0%8F%E5%8A%9F%E8%83%BD/","title":"shell \u5c0f\u529f\u80fd","text":""},{"location":"Basic-is-everything/Linux/shell%20%E5%B0%8F%E5%8A%9F%E8%83%BD/#_1","title":"\u540c\u65f6\u6267\u884c\u591a\u4e2a\u6587\u4ef6","text":"<pre><code>for file in name_*; do\n    echo $file;\ndone\n\nfor file in $(ls | egrep -i 'MYFILE[0-9][0-9]([0][1-9]|1[0-2])([0][1-9]|[12][0-9]|[3][01]).dat' ); do             \n echo item: $file;         \ndone\n\nfind . -name \"filename*\" -exec perl myscript.pl '{}' \\; \n\nfind . -maxdepth 1 -print0 | xargs -0 perl myscript.pl\n</code></pre>"},{"location":"Basic-is-everything/Linux/shell%20%E5%B0%8F%E5%8A%9F%E8%83%BD/#_2","title":"\u590d\u5236","text":"<p>\u8f93\u51fa\u590d\u5236\u5230 clipboard - \u5df2\u5b89\u88c5 xclip - \u4f46\u662f\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a\u6ca1\u6709 $DISPALY\uff0c\u6309\u7167\u5df2\u6709\u6559\u7a0b\u8bbe\u7f6e X11Fowarding \u90a3\u4e9b\u4e5f\u4e0d\u6210\u529f</p> <p><code>systemctl start sshd</code> =&gt; <code>Unit ssh.service not found</code> \u8fd9\u6837\u5927\u6982\u7387\u662f\u56e0\u4e3a service \u4e0d\u53eb\u8fd9\u4e2a\u540d\u5b57\uff0c\u53ef\u4ee5\u8fd9\u6837\u6765\u786e\u5b9a\uff1a<code>systemctl -l --type service --all|grep ssh</code></p>"},{"location":"Basic-is-everything/Linux/shells-macos/","title":"shells-macos","text":"<p>\u5bf9\u6807 linux \u7684 systemctl. \u901a\u8fc7 plist \u7ef4\u62a4. \u4e09\u65b9\u5b88\u62a4\u8fdb\u7a0b\u4e00\u822c\u653e\u5728 Library/LaunchDaemons \u91cc.</p> <p><code>/Library/LaunchDaemons/jenkins.plist</code> \u914d\u7f6e\u793a\u4f8b</p> <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE plist PUBLIC \"-//Apple Computer//DTD PLIST 1.0//EN\"\n       \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"&gt;\n &lt;plist version=\"1.0\"&gt;\n &lt;dict&gt;\n    &lt;key&gt;Label&lt;/key&gt;\n     &lt;string&gt;jenkins&lt;/string&gt;\n     &lt;key&gt;ServiceDescription&lt;/key&gt;\n     &lt;string&gt;jenkins&lt;/string&gt;\n     &lt;key&gt;ProgramArguments&lt;/key&gt;\n     &lt;array&gt;\n          &lt;string&gt;/opt/homebrew/bin/jenkins&lt;/string&gt;\n          &lt;string&gt;--webroot=/Users/lmh/.jenkins/war&lt;/string&gt;\n      &lt;/array&gt;\n      &lt;key&gt;RunAtLoad&lt;/key&gt;\n      &lt;false/&gt;\n  &lt;/dict&gt;\n &lt;/plist&gt;\n</code></pre>"},{"location":"Basic-is-everything/Linux/shells-macos/#brew","title":"brew \u5206\u6790","text":"<p>brew \u901a\u5e38\u4f1a\u7ef4\u62a4\u81ea\u5df1\u7684 .plist \u6587\u4ef6\uff0c\u4f4d\u4e8e \u00b7<code>brew info pkgName</code> \u4e0b\u3002</p> <p>\u542f\u52a8\u65f6\uff0cbrew \u4f1a\u5c06\u6b64 plist \u590d\u5236\u5230\u7c7b\u4f3c\u4e8e <code>/Library/LaunchDaemons/</code> \u4e0b\u53bb\uff0c\u8fd8\u662f\u7531 launchctl \u63a5\u7ba1.</p>"},{"location":"Basic-is-everything/Linux/shells-macos/#sevicesystemctllaunchctlmac","title":"sevice\u3001systemctl\u3001launchctl\uff08mac\uff09\u5f00\u673a\u81ea\u542f\u52a8\u6307\u4ee4\u8bbe\u7f6e","text":"\u6307\u4ee4 service systemctl Launchctl \u7f16\u5199\u542f\u52a8\u811a\u672c\u76ee\u5f55 vi /etc/init.d/httpd vi /usr/lib/systemd/system/httpd.servicevi /etc/systemd/system/httpd.service /Library/LaunchDaemons \u811a\u672c\u8d4b\u6743 chmod +x /etc/init.d/httpd chmod +x /usr/lib/systemd/system/httpd.service \u4f7f\u67d0\u670d\u52a1\u81ea\u52a8\u542f\u52a8 chkconfig -\u2013level 3 httpd onchkconfig --add httpd systemctl enable httpd.service launchctl load -w com.httpd.plist \u4f7f\u67d0\u670d\u52a1\u4e0d\u81ea\u52a8\u542f\u52a8 chkconfig \u2013-level 3 httpd offchkconfig \u2014del httpd systemctl disable httpd.service launchctl unload -w com.httpd.plist \u663e\u793a\u6240\u6709\u5df2\u542f\u52a8\u7684\u670d\u52a1 chkconfig \u2013-list systemctl list-units --type service launchctl list \u542f\u52a8\u67d0\u670d\u52a1 service httpd start systemctl start httpd.service launchctl start com.httpd.plist \u505c\u6b62\u67d0\u670d\u52a1 service httpd stop systemctl stop httpd.service launchctl stop  com.httpd.plist \u91cd\u542f\u67d0\u670d\u52a1 service httpd restart systemctl restart httpd.service launchctl restart  com.httpd.plist \u91cd\u8f7d\u67d0\u670d\u52a1 systemctl reload httpd.service"},{"location":"Basic-is-everything/Linux/shells/","title":"shells","text":""},{"location":"Basic-is-everything/Linux/shells/#theory","title":"theory","text":"<p>Shell (works on) Kernal: Interface between hardware and software. </p> <p><code>echo $0</code>: determine current shell</p> <p><code>cat /etc/shells</code>: display all installed shells</p> <p>shell scripting</p> <p>Types of Linux shells - just stick to Bash: born again shell \ud83e\udd23</p> <ul> <li>naming convention: scripts directory</li> <li>Chmod a(all)+x script-name</li> <li>format</li> <li>Define Shell(#! /bin/bash)</li> </ul> <p>\u5982\u679c\u662f\u901a\u8fc7 (sh) ./xxx.sh \u6267\u884c\u7684\u811a\u672c\uff0c\u5b83\u4f1a\u5f00\u542f\u4e00\u4e2a subshell\uff0c\u56e0\u6b64\u811a\u672c\u91cc\u7684 cd \u7b49\u4e0d\u4f1a\u5f71\u54cd\u5230\u5916\u754c\uff1b\u4f46\u662f\u5982\u679c\u901a\u8fc7 alias, \u6216\u8005\u901a\u8fc7 dot <code>. xx.sh</code> \u6267\u884c\uff0c\u5c31\u53ef\u4ee5\u5728\u5f53\u524d shell process \u91cc\u6267\u884c\u3002</p>"},{"location":"Basic-is-everything/Linux/shells/#_1","title":"\u5b50\u8fdb\u7a0b","text":"<p>\u672c\u5730\u53d8\u91cf\u4e0e\u73af\u5883\u53d8\u91cf</p> \u672c\u5730\u53d8\u91cf=\u5c40\u90e8\u53d8\u91cf \u73af\u5883\u53d8\u91cf \u521b\u5efa\u65b9\u6cd5 a=123 export a=123 \u67e5\u770b\u65b9\u5f0f set export/env \u662f\u5426\u53ef\u4ee5\u7531\u5b50\u8fdb\u7a0b\u7ee7\u627f \u4e0d\u53ef\u4ee5 \u53ef\u4ee5 export: It is used to mark variables and functions to be passed to child processes. Basically, a variable will be included in child process environments without affecting other environments. <p>source v.s. sh: call <code>sh</code> \u4f1a initiate a fork(subshell) that runs a new session of <code>bash</code> or <code>shell</code>. \u800c <code>source</code> \u00a0(\u53c8\u79f0\u4e3a <code>.</code>) load and execute a shell script\u00a0into the\u00a0current\u00a0shell process\uff0c\u6240\u4ee5\u5982\u679c\u60f3\u5728 shell \u91cc\u5404\u79cd cd \u7684\uff0c\u8981\u7528 source.</p>"},{"location":"Basic-is-everything/Linux/shells/#_2","title":"\u5e38\u7528\u547d\u4ee4","text":""},{"location":"Basic-is-everything/Linux/shells/#_3","title":"\u7cfb\u7edf","text":"<p>https://blog.csdn.net/weixin_41010198/article/details/109166131</p> <p>detect os: <code>echo $OSTYPE</code></p> <p>Detect centos or redhat or ubuntu: <code>cat /etc/os-release</code></p> <p><code>lscpu</code></p>"},{"location":"Basic-is-everything/Linux/shells/#_4","title":"\u6587\u4ef6","text":"<ul> <li># \u53f7\u4ee3\u8868\u6211\u662f root \u7528\u6237\uff0c\u624d\u80fd\u67e5\u770b root \u5bb6\u76ee\u5f55</li> </ul> <pre><code>cp # -r\u80fd\u590d\u5236\u76ee\u5f55 -p\u4fdd\u7559\u539f\u6587\u4ef6\u7684\u64cd\u4f5c\u65f6\u95f4 -a\u4fdd\u7559\u6743\u9650\u548c\u5c5e\u4e3b\n\nls -lh # \u6587\u4ef6 size\n\ntail -f ./nohup.out | grep -C 10 xxx # or -A \u4e0e -B\n# \u901a\u8fc7 head \u548c tail \u53ef\u4ee5\u770b\u5230\u65e5\u5fd7\u7684\u8d77\u59cb\u533a\u95f4\n\nwc -l # \u6587\u4ef6\u6709\u591a\u5c11\u884c \u7edf\u8ba1\u6587\u4ef6\u5185\u5bb9\u4fe1\u606f\ndocker logs 09a1f7650ba6 2&gt;&amp;1 |grep 'GET / HTTP' | grep 'Mozilla' |g rep -v ' 304 '|grep -v 'bot'|wc -l # \u7f51\u9875\u6709\u6548\u8bbf\u95ee\u6b21\u6570 \u53bb\u9664\u591a\u6b21\u8bbf\u95ee\u548c bot\n\n# \u5728 linux \u4e0a \u6253\u5305\u548c\u538b\u7f29\u662f\u5206\u5f00\u7684\n# \u6253\u5305\ntar cf /target\u6587\u4ef6\u540d\u5b57.tar /\u8981\u88ab\u6253\u5305\u7684\u76ee\u5f55\n# \u538b\u7f29\ngzip\n# \u6253\u5305\u4e14\u538b\u7f29\ntar czf xxx.tar.gz /\u8981\u88ab\u6253\u5305\u7684\u76ee\u5f55\n# -x \u89e3\u538b -f file -C \u8981\u89e3\u538b\u5230\u7684\u6587\u4ef6\u5939\u8def\u5f84\ntar -xf filename.tar.gz -C /home/user/files\n\ncat /proc/cpuinfo\n# \u8fd4\u56de\uff1aProcessor       : ARMv7 Processor rev 10 (v7l)\n\n# \u8f93\u5165\u5185\u5bb9\ncat &gt;file1.txt &lt;&lt;EOF # &lt;&lt;EOF \u548c &gt;file1.txt \u987a\u5e8f\u4e0d\u9650\n&gt; aaa\n&gt; bbb\n&gt; ccc\n&gt; EOF\n\n# \u8ffd\u52a0\u5185\u5bb9\ncat &gt;&gt;file1.txt &lt;&lt;EOF\n&gt; 111\n&gt; 222\n&gt; 333\n&gt; EOF\n</code></pre>"},{"location":"Basic-is-everything/Linux/shells/#_5","title":"\u6743\u9650","text":"<ul> <li> <p>The Permission Groups used are:</p> </li> <li> <p>u \u2013 Owner</p> </li> <li> <p>g \u2013 Group</p> </li> <li> <p>o \u2013 Others</p> </li> <li> <p>a \u2013 All users</p> </li> </ul> <p>The Permission Types that are used are:</p> <ul> <li>r \u2013 Read</li> <li>w \u2013 Write</li> <li>x \u2013 Execute</li> </ul> <p>e.g. chmod a-rw file1** chmod a+rw file1**</p> <p>number mode:</p> <ul> <li>r = 4</li> <li>w = 2</li> <li>x = 1</li> </ul> <p>How clever!! 1(x) 2(w) 3(w+x) 4(r) 5(r+x) 6(r+w) 7(r+w+x) so..eg. chmod 740 file1</p> <ul> <li> <p>Chown  user[:group] : change owner</p> </li> <li> <p>Chmod: change modes</p> </li> </ul>"},{"location":"Basic-is-everything/Linux/shells/#pipe","title":"pipe","text":"<p>\u6ce8\u610f echo prints all of its arguments, it does not read from <code>stdin</code> . So pipe \u8981\u63a5\u4e0a cat \u4e4b\u7c7b\u7684\u3002</p>"},{"location":"Basic-is-everything/Linux/shells/#_6","title":"\u67e5\u627e","text":"<pre><code> find ./home -name \"*.ini\"\n find ./ -type f -name \u201c*.log\u201d | xargs grep \u2013i \u201c\u88ab\u67e5\u627e\u7684\u5b57\u7b26\u4e32\u201d \u6587\u4ef6\u540d\n</code></pre>"},{"location":"Basic-is-everything/Linux/shells/#_7","title":"\u4e0a\u4f20","text":"<p>scp v.s. sftp: \u5b89\u5168\u6027\u90fd\u57fa\u4e8e ssh\uff0c\u4f46\u524d\u8005\u66f4\u5feb\u4e00\u70b9\uff0c\u56e0\u4e3a\u63a5\u6536\u5305\u7684\u6821\u9a8c\u66f4\u5bbd\u677e</p> <pre><code>scp -r dist/* root@xxx.xxx.xx.xx:/dist/\n</code></pre>"},{"location":"Basic-is-everything/Linux/shells/#_8","title":"\u5176\u4ed6","text":"<p>\u6587\u4ef6\u5728\u4fee\u6539\u65f6\uff0c\u4f1a\u751f\u6210 swp file, \u5982\u679c\u6b64\u65f6\u53e6\u4e00\u7528\u6237\u4e5f\u540c\u65f6\u7f16\u8f91\uff0c\u4f1a\u6536\u5230\u63d0\u793a\u3002\u5220\u9664 swp file \u540e\u63a5\u89e6\u63a7\u5236\u3002</p>"},{"location":"Basic-is-everything/Linux/shells/#process","title":"process","text":"<ul> <li><code>init</code> \u662f\u6700\u521d\u7684\u8fdb\u7a0b\u7ba1\u7406\u65b9\u5f0f e.g. <code>sudo /etc/init.d/nginx start</code></li> <li><code>service</code> \u662f<code>init</code> \u7684\u53e6\u4e00\u79cd\u5b9e\u73b0 e.g. <code>service nginx start</code></li> <li><code>systemd</code> \u5219\u662f\u4e00\u79cd\u53d6\u4ee3 <code>initd</code> \u7684\u89e3\u51b3\u65b9\u6848 \u5b57\u6bcdd\u662f\u5b88\u62a4\u8fdb\u7a0b\uff08daemon\uff09\u7684\u7f29\u5199\u3002\u5176\u4e2d <code>systemctl</code> \u662f <code>systemd</code> \u7684\u4e3b\u547d\u4ee4\uff0c\u7528\u4e8e\u7ba1\u7406\u7cfb\u7edf\u4ee5\u53ca\u670d\u52a1 e.g. <code>sudo systemctl start nginx.service</code></li> </ul> <p>\u4f55\u8c13 unit\uff1fSystemd \u53ef\u4ee5\u7ba1\u7406\u6240\u6709\u7cfb\u7edf\u8d44\u6e90\u3002\u4e0d\u540c\u7684\u8d44\u6e90\u7edf\u79f0\u4e3a Unit\uff08\u5355\u4f4d\uff09</p> <pre><code>systemctl daemon-reload\nsystemctl enable cri-docker.service\nsystemctl enable --now cri-docker.socket\n\nsystemctl status nginx.service\n\nsystemctl stop [servicename]\nsystemctl disable [servicename]\nrm /etc/systemd/system/[servicename]\nrm /etc/systemd/system/[servicename] # and symlinks that might be related\nrm /usr/lib/systemd/system/[servicename] \nrm /usr/lib/systemd/system/[servicename] # and symlinks that might be related\nsystemctl daemon-reload\nsystemctl reset-failed\n</code></pre> <p>\u914d\u7f6e <code>/ect/systemd/system/xxx.service</code></p> <pre><code>[Unit]\nDescription=Aliyun Assist\nConditionFileIsExecutable=/usr/local/share/aliyun-assist/2.2.3.421/aliyun-service\n\nAfter=network-online.target\nWants=network-online.target\n\n[Service]\nStandardOutput=journal+console\nStandardError=journal+console\nStartLimitInterval=3600\nStartLimitBurst=10\nExecStart=/usr/local/share/aliyun-assist/2.2.3.421/aliyun-service\n\n[install]\n...\n</code></pre> <p>\u67e5\u770b\u65e5\u5fd7\uff1a<code>journalctl -xe</code> <code>journalctl -xeu xxservice</code></p> <ul> <li> <p>\u786e\u5b9a\u8fdb\u7a0b\u4e0e\u6740\u8fdb\u7a0b</p> </li> <li> <p><code>netstat -an | grep 3307</code> </p> <p><code>netstat -anp |grep 22</code> // \u8fc1\u79fb\u670d\u52a1\u5668\u65f6\uff0cssh connection refused, \u5c31\u9700\u8981\u786e\u5b9a\u539f\u6709\u7684 ssh \u662f\u4e0d\u662f\u5f00\u5728 22.\u4e00\u822c\u7ebf\u4e0a\u670d\u52a1\u5668\u90fd\u4e0d\u4f1a\u5f00\u5728 22</p> </li> <li> <p><code>sudo lsof -i :5955</code></p> </li> <li> <p><code>sudo kill -9 PID</code></p> <p>catchup: \u4e00\u5b9a\u8981 sudo! \u4e0d sudo \u7684\u8bdd\uff0c\u6709\u4e9b\u7528 sudo \u6253\u5f00\u7684\u8fdb\u7a0b\u5c31\u770b\u4e0d\u89c1\u4e86\uff0c\u6bd4\u5982 nginx!</p> <p>\u5e76\u4e14\u8fd9\u4e9b closed \u6216 established \u7684\u90fd\u4e0d\u7528\u7ba1\uff0c\u53ea\u6709\u4e00\u4e2a Listen\uff01</p> </li> <li> <p><code>ps -fe | grep frp</code>     -f: full format     -e: listing all running processes</p> </li> <li> <p>top \u6307\u4ee4\u4e5f\u597d\u7528\u7684 <code>top -c</code></p> </li> <li> <p>nohup \u4e0e \u6267\u884c\u811a\u672c&amp;</p> </li> <li>\u6267\u884c\u811a\u672c&amp;\uff1a\u4f7f job \u5728 background \u6267\u884c\uff0c\u4f46\u9000\u51fa shell \u540e\u8fdb\u7a0b\u4e5f\u4f1a\u88ab\u6740\u6389(the shell will terminate the sub-command with the hangup signal <code>kill -SIGHUP &lt;pid&gt;</code>     )\u3002\u53e6\u5916\u8f93\u51fa stdout/stderr \u4f1a\u6253\u5370\u5230\u5f53\u524d shell outout.</li> <li> <p>nohup: \u5b83\u4f1a\u963b\u6b62\u8fd9\u4e2a\u4e8b\u4ef6\uff0c\u6240\u4ee5\u5b50\u8fdb\u7a0b\u4e0d\u4f1a\u88ab\u6740\u3002\u53e6\u5916\u8f93\u51fa\u4f1a\u88ab redirect \u5230 nohup.out \u4e0a\u53bb</p> </li> <li> <p>\u67e5\u770b\u8fdb\u7a0b\u5360\u7528\u6027\u80fd</p> </li> <li> <p>htop =&gt; \u662ftop\u7684human friendly\u7248\uff1aPID USER PRI(\u4f18\u5148\u7ea7) NI VIRT(\u865a\u62df\u5185\u5b58) RES(\u5b9e\u9645\u5185\u5b58) CPU%\u53caMEM%\u90fd\u662f\u5360\u7528\u8d8a\u591a\u5219\u8d8a\u6d88\u8017</p> </li> </ul>"},{"location":"Basic-is-everything/Linux/shells/#_9","title":"\u7f51\u7edc","text":"<p>netstat <code>netstat -natpc | grep -i \"8088\"</code> -a (all)\u663e\u793a\u6240\u6709\u9009\u9879\uff0c\u9ed8\u8ba4\u4e0d\u663e\u793aLISTEN\u76f8\u5173 -t (tcp)\u4ec5\u663e\u793atcp\u76f8\u5173\u9009\u9879 -u (udp)\u4ec5\u663e\u793audp\u76f8\u5173\u9009\u9879 -p \u663e\u793a\u5efa\u7acb\u76f8\u5173\u94fe\u63a5\u7684\u7a0b\u5e8f\u540d -c(continous) \u6301\u7eed\u6267\u884c \u7edf\u8ba180\u7aef\u53e3\u8fde\u63a5\u6570\uff1anetstat -nat|grep -i \"80\"|wc -l</p>"},{"location":"Basic-is-everything/Linux/shells/#journalctl","title":"journalctl","text":"<p>\u5b83\u9ed8\u8ba4\u4fdd\u5b58 4G \u5927\u5c0f\u7684\u65e5\u5fd7\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u65f6\u95f4\u5b9a\u65f6\u6e05\u7406\uff1a<code>journalctl --vacuum-time=10d</code> \u5176\u4ed6\u8bbe\u7f6e\u65b9\u5f0f\uff1afedora - Can I remove files in /var/log/journal and /var/cache/abrt-di/usr? - Unix &amp; Linux Stack Exchange</p>"},{"location":"Basic-is-everything/Linux/shells/#_10","title":"\u4f20\u8f93","text":"<pre><code>scp ./xx lmh@192.168.2.102:local-server-of-parkinglot/; \n// rm xx; \u4e00\u822c\u518d\u8ddf\u7740\u628a\u672c\u5730\u6587\u4ef6\u5220\u9664\u6389\n\nsftp xx@xx.xx.xx: # \u952e\u5165 help / ? \u53ef\u67e5\u770b\u5e2e\u52a9\nput -r . ./\n\n</code></pre>"},{"location":"Basic-is-everything/Linux/shells/#request","title":"request","text":""},{"location":"Basic-is-everything/Linux/shells/#wget","title":"wget \u4e0b\u8f7d","text":"<p>\u5e38\u7528 -q0- \u5176\u4e2d q \u8868\u793a silent\uff0c0\u8868\u793a\u8f93\u51fa\u5230\u2026 - \u8868\u793a\u5f53\u524d output\uff0c\u6240\u4ee5\u53ef\u4ee5\u901a\u8fc7\u4e0b\u5217\u6307\u4ee4\u8fd0\u884c\u67d0\u6761\u8fdc\u7aef\u7684\u6307\u4ee4\uff1a</p> <p><code>wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh | bash</code></p>"},{"location":"Basic-is-everything/Linux/shells/#yum","title":"\u5b89\u88c5\u975e yum \u5e94\u7528\u7a0b\u5e8f\u7684\u57fa\u672c\u601d\u8def","text":"<pre><code># \u9009\u62e9 tar.gz \u7248\u672c\u4e0b\u8f7d\nwget xxx.tar.gz\n\n# \u89e3\u538b\u5230\u6307\u5b9a\u4f4d\u7f6e\n\n# \u5bf9\u4e8e\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c\u7684\u7a0b\u5e8f\n# \u5c06\u5b89\u88c5\u76ee\u5f55\u653e\u5165 path \u5373\u53ef \u4e00\u822c\u5c06\u53ef\u6267\u884c\u6587\u4ef6\u653e\u5728 /usr/local/bin \u4e0b\n# export PATH=something:$PATH\n# source ~/.bashrc\n\n# \u5bf9\u4e8e\u81ea\u5e26\u5b89\u88c5\u7a0b\u5e8f\u7684\u7a0b\u5e8f\uff1a\n# e.g. nvm https://blog.csdn.net/COCOLI_BK/article/details/122254593\n# e.g. \u65b0\u521b\u5efa /root/.nvm \u5e76\u5b89\u88c5\nmkdir -p /root/.nvm\ntar -zxvf v0.39.0.tar.gz -C /root/.nvm\n\n# \u5982\u679c\u8981\u914d\u7f6e\u8be5\u7a0b\u5e8f\u7684\u542f\u52a8\u9009\u9879\n# \u6253\u5f00\u6587\u4ef6\u914d\u7f6e\nvim ~/.bashrc\n\n# \u5bfc\u5165 ($HOME ==&gt; /root) \n# export NVM_DIR=\"$HOME/.nvm/nvm-0.39.0\"\n# [ -s \"$NVM_DIR/nvm.sh\" ] &amp;&amp; \\. \"$NVM_DIR/nvm.sh\"  # This loads nvm\n# [ -s \"$NVM_DIR/bash_completion\" ] &amp;&amp; \\. \"$NVM_DIR/bash_completion\"  # This loads nvm bash_completion\n\nsource ~/.bashrc\n\n# \u8fdb\u5165\u4e0b\u8f7d\u6839\u76ee\u5f55 \u8fdb\u884c\u5b89\u88c5\n./install.sh\n</code></pre> <p>\u6ce8\uff1a</p> <p>RedHat \u7cfb\u5217(Redhat\u3001Centos\u3001Fedora\u7b49): yum</p> <p>Debian \u7cfb\u5217(Debian\u3001Ubuntu)\uff1aapt-get</p>"},{"location":"Basic-is-everything/Linux/shells/#curl","title":"curl","text":"<pre><code># \u83b7\u53d6 ssl \u5230\u671f\u4fe1\u606f\ncurl https://www.lianmeihu.com -vI --stderr - | grep \"expire date\"\n</code></pre>"},{"location":"Basic-is-everything/Linux/shells/#_11","title":"\u7528\u6237\u6743\u9650","text":"<ul> <li> <p>\u65b0\u589e\u7528\u6237\uff1a <code>useradd -m +\u7528\u6237\u540d</code> \u8fd9\u6837\u624d\u4f1a\u5728 /home \u4e0b\u521b\u5efa\u540c\u540d\u5bb6\u76ee\u5f55\uff08userdel --remove xxx\uff09</p> </li> <li> <p>\u67e5\u770b\u7528\u6237\u5206\u7ec4 <code>id</code>: uid=1006(qiwan) gid=1007(qiwan) \u7ec4=1007(qiwan)</p> </li> <li> <p>su - user \u5207\u6362\u7528\u6237</p> </li> </ul> <p><code>/etc/passwd</code>\uff1a username:password:User ID:Group ID:comment:home directory:shell</p> <p>```   # \u67e5\u770b\u6240\u6709\u7528\u6237   getent passwd   # \u8d26\u53f7\u4e2a\u6570\uff1a   cat /etc/passwd | wc -l   # \u67e5\u627e root \u7528\u6237\uff08\u7ba1\u7406\u5458\u7ec4\u8d26\u53f7\uff09\uff1a   cat /etc/passwd | grep :0   # \u5220\u9664\u7528\u6237   userdel user2    # \u67e5\u770b\u7528\u6237\u4fe1\u606f   id user4</p> <p># add group   groupadd groups   # add member to group   gpasswd \u2013a groupname username   cat /etc/group   ```</p> <p>\u663e\u793a\u5f53\u524d\u7528\u6237\uff1a<code>echo \"$USER\"</code></p>"},{"location":"Basic-is-everything/Linux/shells/#_12","title":"\u540e\u53f0\u6267\u884c\u547d\u4ee4","text":"<p><code>nohup \u547d\u4ee4 &amp;</code></p>"},{"location":"Basic-is-everything/Linux/shells/#crontab","title":"crontab","text":"<p><code>crontab -l</code> \u5217\u8868</p> <p><code>crontab -e</code> \u7f16\u8f91</p> <pre><code>0 0 * * * /usr/bin/sh xxx.sh\n30 6 * * * /usr/bin/sh xxx.sh\n@reboot /usr/bin/sh /root/boot.sh # reboot\u540e\u6267\u884c\n</code></pre>"},{"location":"Basic-is-everything/Linux/shells/#vim","title":"vim","text":"<ul> <li>I \u8fdb\u5165\u5f53\u884c\u5f00\u5934\u7684\u63d2\u5165\u6a21\u5f0f</li> <li>a \u540e\u9762 A\u5f53\u884c\u7ed3\u5c3e\u7684\u63d2\u5165\u6a21\u5f0f</li> <li>yy \u590d\u5236\u6574\u884c 3yy\u590d\u5236\u591a\u884c y$\u590d\u5236\u5230\u7ed3\u5c3e</li> <li>dd \u526a\u5207 d$ \u526a\u5207\u5230\u7ed3\u5c3e</li> <li>x \u5220\u9664\u5f53\u524d\u5b57\u7b26 r\u66ff\u6362\u5f53\u524d\u5b57\u7b26</li> <li>\uff1aset nu \u663e\u793a\u6587\u4ef6\u884c 17T \u53bb\u67d0\u4e00\u884c g\u4e0eG\u53bb\u5f00\u5934\u4e0e\u7ed3\u5c3e</li> <li>\u66ff\u6362 \u67d0\u884c :s/\u539f\u5b57\u7b26/\u76ee\u6807\u5b57\u7b26 \u66ff\u6362\u6574\u4e2a\u6587\u4ef6:%s/\u539f\u5b57\u7b26/\u76ee\u6807\u5b57\u7b26 \u6700\u540e\u52a0/g\u4ee3\u8868\u5168\u90e8\u66ff\u6362 :3,5s\u8868\u793a\u7b2c\u4e09\u884c\u5230\u7b2c\u4e94\u884c\u8fdb\u884c\u8bbe\u7f6e</li> <li>vim \u5168\u5c40\u8bbe\u7f6e\uff1avim /etc/vimrc \u6700\u540e\u4e00\u884c\u52a0 set nu\u53ef\u4ee5\u8ba9vim\u6253\u5f00\u90fd\u663e\u793a\u884c\u53f7</li> <li>\u591a\u884c\u6ce8\u91ca\uff1aCtrl + v \u8fdb\u5165\u5757\u9009\u62e9\u6a21\u5f0f\uff0c\u7136\u540e\u79fb\u52a8\u5149\u6807\u9009\u4e2d\u4f60\u8981\u6ce8\u91ca\u7684\u884c\uff0c\u518d\u6309\u5927\u5199\u7684I \u8fdb\u5165\u884c\u9996\u63d2\u5165\u6a21\u5f0f\u8f93\u5165\u6ce8\u91ca\u7b26\u53f7\u5982// \u6216#\uff0c\u8f93\u5165\u5b8c\u6bd5\u4e4b\u540e\uff0c\u6309\u4e24\u4e0bESC</li> </ul> <p>Vim \u521d\u6b21\u4f7f\u7528\u65f6\u9700\u8981\u8bbe\u7f6e\u4e2d\u6587\u89e3\u7801: vim ~/.vimrc</p> <pre><code>set tabstop=4\nset ic\nset nu\nset expandtab\nset cindent shiftwidth=4\nset fileencodings=utf-8,ucs-bom,gb18030,gbk,gb2312,cp936\nset termencoding=utf-8\nset encoding=utf-8\n</code></pre> <p>\u6ce8\u610f .vimrc \u4e0d\u662f shell \u914d\u7f6e\uff0c\u6240\u4ee5\u4e0d\u8981\u53bb source \u5b83</p>"},{"location":"Basic-is-everything/Linux/shells/#_13","title":"\u6742","text":"<ul> <li> <p>ansi color: \u63a7\u5236\u53f0\u4e3a\u4ec0\u4e48\u53ef\u4ee5\u8f93\u51fa\u989c\u8272\u5462\uff1f\u8fd9\u662f\u56e0\u4e3a\u53ef\u4ee5\u5728\u8bed\u53e5\u524d\u6dfb\u52a0\u5f62\u5982 \"\\033[32m\u201d \u4e4b\u7c7b\u7684\u547d\u4ee4\uff0c\u662f\u4e00\u79cd ANSI escape code\uff0c\u4e13\u95e8\u7528\u6765\u63a7\u5236\u7ec8\u7aef\u5149\u6807\u7684\u79fb\u52a8\u4e0e\u663e\u793a\uff0cetc</p> </li> <li> <p>\u5185\u90e8\u547d\u4ee4\u4e0e\u5916\u90e8\u547d\u4ee4</p> </li> </ul> <p></p> <ul> <li>`set -v: The shell shall write its input to standard error as it is read</li> <li>\u83b7\u53d6\u65f6\u95f4: Getting Yesterday's or Tomorrow's date with bash on Linux / Unix - nixCraft</li> </ul> <pre><code>date +\"%d%m%y\"\ndate --date='1 day'\ndate --date=\"yesterday\" +\"%d-%m-%y\"\nyday=$(date  --date=\"yesterday\" +\"%Y-%m-%d\")\necho \"$yday\"\n</code></pre>"},{"location":"Basic-is-everything/Linux/shells/#_14","title":"\u6848\u4f8b\u5206\u6790","text":"<p>\u5728 .bashrc \u91cc\u8bbe\u7f6e\u5b8c alias \u540e\uff0c\u4f01\u56fe source ~/.bashrc\uff0c\u62a5\u9519\u300ccommand not found: shopt\u300d\u21d2 shopt \u662f bash built in \u7684\u547d\u4ee4\uff0c\u800c\u6211\u5728 iterm2 \u91cc\u7528\u7684\u662f zsh\u3002\u6240\u4ee5\u6b63\u786e\u7684\u505a\u6cd5\u662f\u628a\u8bbe\u7f6e\u653e\u5230 zshrc \u91cc\u3002\u6216\u8005\uff1a</p> <pre><code>exec bash # \u4f7f\u7528 bash\nsource ~/.bashrc\nexec zsh\n</code></pre> <p>Man \u65f6\uff1a\u547d\u4ee4 [\u9009\u9879option] [\u6587\u4ef6\u540d\u2026] \u8fd9\u91cc\u9009\u9879\u662f\u6269\u5145\u547d\u4ee4\u529f\u80fd\uff0c\u800c\u6587\u4ef6\u540d\u624d\u662f\u53c2\u6570\u3002\u6587\u4ef6\u540d\u2026\u4ee3\u8868\u53ef\u4ee5\u52a0\u591a\u4e2a\u6587\u4ef6\uff08\u7a7a\u683c\u9694\u5f00\uff09</p>"},{"location":"Basic-is-everything/Linux/shells/#_15","title":"\u78c1\u76d8\u5360\u7528","text":"<ul> <li>\u5148\u83b7\u53d6\u6574\u4f53\u78c1\u76d8\u7684\u4f7f\u7528\u60c5\u51b5 disk-free\uff1a<code>df -h</code> </li> <li>\u518d\u53ef\u4ee5\u5207\u5230\u5bf9\u5e94\u6587\u4ef6\u5939\uff0c\u83b7\u53d6\u6700\u4e0a\u7ea7\u5927\u6587\u4ef6\u60c5\u51b5 disk-usage:<ul> <li><code>du -sh *</code> \u5176\u4e2d -s \u4ee3\u8868\u5408\u5e76\u5c55\u793a</li> <li><code>du -s * | sort -n</code> \u6392\u5e8f\u5c55\u793a \u6240\u4ee5\u4e0d\u80fd -h</li> </ul> </li> <li>\u6211\u4eec\u5e38\u89c1\u7684\u5360\u7528\u5927\u6237<ul> <li>docker *-log.json</li> <li>metabase: metabase.db.trace.db \u4e5f\u662f\u65e5\u5fd7\u6587\u4ef6\uff0c\u6012\u6e0540GB\uff01\uff01</li> <li>\u901a\u8fc7 <code>cat /dev/null &gt; *-json.log</code> \u7684\u65b9\u5f0f\u6765\u5220\u9664</li> </ul> </li> </ul>"},{"location":"Basic-is-everything/Linux/shells/#_16","title":"\u5224\u65ad\u54ea\u4e2a\u7aef\u53e3\u6709\u670d\u52a1","text":"<ul> <li>\u6709 nc \u7528 nc(netcat): <code>nc -nz 127.0.0.1 8080; echo $?</code></li> <li>\u65e0 nc: <code>timeout 2 bash -c \"&lt;/dev/tcp/127.0.0.1/8090\"; echo $?</code> // \u90fd\u662f 0 \u6709\u8fde\u63a5\uff0c1 \u65e0\u8fde\u63a5</li> </ul> <p>Test if remote TCP port is open from a shell script - Stack Overflow</p> <p>bash - Efficiently test if a port is open on Linux? - Stack Overflow</p>"},{"location":"Basic-is-everything/Linux/shells/#use-config-file","title":"use config file","text":"<p>\u6700\u7b80\u5355\u7684\u662f source, \u4f46 source \u6709\u98ce\u9669\uff0c\u8981\u8c28\u614e\u4f7f\u7528</p> <p>https://unix.stackexchange.com/questions/175648/use-config-file-for-my-shell-script</p> <p>bash - Parse config file and pass parameters to another script - Unix &amp; Linux Stack Exchange</p>"},{"location":"Basic-is-everything/Linux/shells/#_17","title":"\u6587\u4ef6\u5168\u5c40\u66ff\u6362","text":"<p>sed: - <code>-i</code>\u00a0will change the original, and stands for \u201cin-place.\u201d - <code>s</code>\u00a0is for substitute, so we can find and replace.</p> <pre><code>sed 's/,\\(.*china\\)/,Tomas_proxy.lt\\/\\1/' FileName &gt; NewFile\n\n# \u539f\u5730\u66ff\u6362insert \u7528 # \u5206\u9694\u66f4\u7a33\u59a5\u3002\u7528 / \u53ef\u80fd\u4f1a\u51fa\u73b0 too many slashes \u7684\u95ee\u9898\nsed -i 's#http://www.google.com#https://www.baidu.com#g' default.json\n\nfind . -type f -name config.xml -print0 | xargs -0 sed -i 's#CONFIG_ENV=shukedev#CONFIG_ENV=ztlydev-shuke#g'\n\nfind . -name \"*.yaml\" -print0 | xargs -0 sed -i 's#5000/ztlydev#5000/ztlydev-shuke#g'\n\nfind . -name \"*.sh\" -print0 | xargs -0 sed -i 's#curly#curl#g'\n\nsed -i 's/password: \"Um6bUP5uzHx2VQJJ3Key\"/#password: \"Um6bUP5uzHx2VQJJ3Key\"/g'\n</code></pre> <p>\u66ff\u6362\u6587\u4ef6\u5939\u4e0b\u7684\u6240\u6709 occurrences: <code>find . -type f -name \"*.txt\" -print0 | xargs -0 sed -i \"s/foo/bar/g\"</code></p>"},{"location":"Basic-is-everything/Linux/shells/#conditional","title":"conditional","text":"<ul> <li><code>[[ \u6ce8\u610f\u524d\u540e\u7a7a\u683c ]]</code></li> <li>\u6ce8\u610f string \u7528 =, number \u7528 eq</li> </ul> <p>How to Compare Numbers and Strings in Linux Shell Script</p> <ul> <li>\u4e09\u76ee\uff1a<code>a = [[ Baeldung =~ .*e.* ]] &amp;&amp; echo True || echo False</code></li> </ul> <pre><code>lmh_api_test=8090\n</code></pre> <pre><code>#!/bin/bash\nCFG_FILE=\"./port.conf\"\nsource ./port.conf\n\ncurrent_port=$lmh_api_test\nnew_port=\"\"\n\nif [[ $lmh_api_test = \"8090\" ]]\nthen new_port=\"8091\"\nelse new_port=\"8090\"\nfi\n\necho new port should be $new_port\n\n#docker login --username=testuser --password=testpassword hub.lmhdev.com\n#docker pull hub.lmhdev.com/lmh_api_test:latest\n#docker run -d \\\n#    -p 8090:8080 \\\n#    --restart=always \\\n#    -v \"/logs/lmh_api_test:/logs\" \\\n#    -v \"/opt/project/lmh_api_test/cmd:/cmd\" \\\n#    --add-host=host.docker.internal:host-gateway \\\n#    --name lmh_api_test_$new_port \\\n#    hub.lmhdev.com/lmh_api_test:latest\n\nis_new_port_up=0\ni=0\nwhile [[ ($is_new_port_up -eq 0) &amp;&amp; (i -le 10) ]]\ndo\n  i=$i+1\n#  echo $(timeout 2 bash -c \"&lt;/dev/tcp/127.0.0.1/$new_port\"; echo $?)\n  is_new_port_up=$([[ $(timeout 2 bash -c \"&lt;/dev/tcp/127.0.0.1/$new_port\"; echo $?) -eq 0 ]] &amp;&amp; echo 1 || echo 0)\n  sleep 1\ndone\n\nif [[ $is_new_port_up -eq 1 ]]\nthen\n  # write new port\n  echo $is_new_port_up\n  echo \"lmh_api_test=${new_port}\" &gt; $CFG_FILE;\n  # nginx-reload\n  /etc/nginx/start.sh\n  # remove old service\n  docker stop lmh_api_test_$current_port &amp;&amp; docker rm lmh_api_test_$current_port\n  echo \u670d\u52a1\u5df2\u542f\u52a8;\nelse\n  echo \u670d\u52a1\u542f\u52a8\u5931\u8d25;\nfi\n</code></pre>"},{"location":"Basic-is-everything/Linux/ssh/","title":"ssh","text":"<p>Secure SHell</p> <p>\u6700\u521dSSH\u662f\u7531\u82ac\u5170\u7684\u4e00\u5bb6\u516c\u53f8\u5f00\u53d1\u7684\u3002\u4f46\u662f\u56e0\u4e3a\u53d7\u7248\u6743\u548c\u52a0\u5bc6\u7b97\u6cd5\u7684\u9650\u5236\uff0c\u73b0\u5728\u5f88\u591a\u4eba\u90fd\u8f6c\u800c\u4f7f\u7528OpenSSH </p> <p>OpenSSH\u662fSSH\u534f\u8bae\u7684\u5f00\u6e90\u7248\u672c\uff08SSH\uff1aSecure SHell\uff09</p>"},{"location":"Basic-is-everything/Linux/ssh/#location","title":"Location","text":"<p>~/.ssh:</p> <ul> <li> <p>./authorized_keys: Others' rsa_pubs</p> </li> <li> <p>./id_rsa &amp; ./id_rsa.pub: Local rsa pairs</p> </li> <li> <p>./known_hosts</p> </li> <li> <p>./config: (\u8bb0\u5f97\u914d\u5728\u8fd9\u91cc\u54df)</p> </li> </ul> <p><code>Host dev       HostName dev.example.com       User john       Port 2322</code></p>"},{"location":"Basic-is-everything/Linux/ssh/#generate-rsa-pairs","title":"Generate rsa pairs","text":""},{"location":"Basic-is-everything/Linux/ssh/#linux","title":"linux","text":""},{"location":"Basic-is-everything/Linux/ssh/#mac","title":"mac","text":"<pre><code>ssh-keygen\n</code></pre>"},{"location":"Basic-is-everything/Linux/ssh/#windows","title":"windows","text":"<p>\u5b89\u88c5 open-ssh</p>"},{"location":"Basic-is-everything/Linux/ssh/#install-public-key-on-server","title":"Install public key on server","text":"<pre><code>cat id_rsa.pub &gt;&gt; authorized_keys\n# chmod 600 authorized_keys\n# chmod 700 ~/.ssh\n</code></pre>"},{"location":"Basic-is-everything/Linux/ssh/#_1","title":"\u4e00\u4e2a\u5b8c\u6574\u7684\u65b0\u589e\u7528\u6237+\u914d\u7f6e\u767b\u5f55\u6d41\u7a0b","text":"<pre><code>useradd -m \u7528\u6237\u540d\nsu \u7528\u6237\u540d # \u91cd\u8981 \u5207\u5230\u65b0\u7528\u6237!! \u6211\u603b\u662f\u7528 root \u7528\u6237\u53bb\u521b\u5efa\uff01\u8fd9\u6837\u7528\u6237\u767b\u5f55\u65f6\u5c31\u4f1a Permission denied (publickey) \u4e86\uff01\nmkdir .ssh; touch .ssh/authorized_keys; # \u5e76\u5199\u5165\u7528\u6237\u516c\u94a5\uff1b\nchmod 700 .ssh/; chmod 600 .ssh/authorized_keys* # \u91cd\u8981 \u52a0\u8bfb\u53d6\u6743\u9650\n# \u5728\u7528\u6237\u5bb6\u76ee\u5f55\u4e0b\u4f7f\u7528 google-authenticator # \u751f\u6210\u65b0\u79d8\u94a5\n# service sshd restart\n# systemctl restart sshd\n</code></pre> <p>\u6ce8\u610f \u5982\u662f systemd \u542f\u52a8\u7684 ssh\uff0c\u5bf9\u5e94 log \u4e5f\u88ab systemd \u6258\u7ba1\uff1a<code>journalctl -t sshd -f</code></p>"},{"location":"Basic-is-everything/Linux/ssh/#add-mfp-two-pass-authentication","title":"Add MFP (two-pass authentication)","text":"<p>https://wiki.archlinux.org/title/Google_Authenticator</p> <p>How to Use Two-Factor Authentication with Sudo and SSH on Linux with Google Authenticator - Vultr.com</p>"},{"location":"Basic-is-everything/Linux/ssh/#ssh-tunnel","title":"ssh tunnel","text":"<pre><code>ssh root@120.26.48.180 -N -L localhost:6443:localhost:6443\n# -N do not execute remote command\n# -f request ssh to go to the background\n\n# more: -NCPf\n# -C    \u4f7f\u7528\u538b\u7f29\u529f\u80fd\uff0c\u662f\u53ef\u9009\u7684\uff0c\u52a0\u5feb\u901f\u5ea6\u3002 \n# -P    \u7528\u4e00\u4e2a\u975e\u7279\u6743\u7aef\u53e3\u8fdb\u884c\u51fa\u53bb\u7684\u8fde\u63a5\u3002 \n# -f    \u4e00\u65e6SSH\u5b8c\u6210\u8ba4\u8bc1\u5e76\u5efa\u7acbport forwarding\uff0c\u5219\u8f6c\u5165\u540e\u53f0\u8fd0\u884c\n</code></pre> <p>\u53c2\u8003\uff1ahttps://developer.aliyun.com/article/641005</p>"},{"location":"Basic-is-everything/Linux/ssh/#debug","title":"Debug","text":""},{"location":"Basic-is-everything/Linux/ssh/#permission-denied","title":"\u4e00\u6b21 Permission denied","text":"<p><code>ssh -v</code> \u663e\u793a <code>connect to address ... port 22: Operation timed out</code>, \u8fd9\u65f6\u8981\u8bb0\u7740\u53bb\u670d\u52a1\u7aef\u770b ssh \u7684\u65e5\u5fd7\uff1a<code>journalctl -xeu sshd | tail -n 100</code> \uff0c\u663e\u793a <code>Authentication refused: bad ownership or modes for file /home/qiwan/.ssh/authorized_keys</code>\uff0c\u624d\u77e5\u9053\u7528\u6237 authorized_keys \u6743\u9650\u7ed9\u591a\u4e86\u4e5f\u4e0d\u884c\u2026\ud83e\udd23 \u8fd8\u53ea\u80fd\u662f 600</p> <p>SSH doesn\u2019t like it if your home or ~/.ssh directories have group write permissions. Your home directory should be writable only by you, ~/.ssh should be 700, and authorized_keys should be 600</p>"},{"location":"Basic-is-everything/Linux/%E6%88%91%E5%81%9A%E8%BF%90%E7%BB%B4%E7%9A%84%E6%95%85%E4%BA%8B/","title":"\u6211\u505a\u8fd0\u7ef4\u7684\u6545\u4e8b","text":""},{"location":"Basic-is-everything/Linux/%E6%88%91%E5%81%9A%E8%BF%90%E7%BB%B4%E7%9A%84%E6%95%85%E4%BA%8B/#_2","title":"\u8fc1\u79fb\u670d\u52a1\u5668","text":"<p>\u65f6\u9047\u5230\u7684\u5404\u79cd\u95ee\u9898</p>"},{"location":"Basic-is-everything/Linux/%E6%88%91%E5%81%9A%E8%BF%90%E7%BB%B4%E7%9A%84%E6%95%85%E4%BA%8B/#127001-vs-0000","title":"127.0.0.1 vs 0.0.0.0","text":"<p>curl: 56 Recv failure: \u8fde\u63a5\u88ab\u5bf9\u65b9\u91cd\u8bbe \u89e3\u51b3\uff1adocker\u5bb9\u5668\u5185\u53ef\u4ee5\u8bbf\u95eeweb\u5e94\u7528\uff0c\u7aef\u53e3\u6620\u5c04\u5230\u5bbf\u4e3b\u673a\u5374\u65e0\u6cd5\u8bbf\u95ee\uff0c\u9519\u8bef\u4ee3\u7801\uff1acurl: 56 Recv failure: \u8fde\u63a5\u88ab\u5bf9\u65b9\u91cd\u8bbe_curl: (56) recv failure: \u8fde\u63a5\u88ab\u5bf9\u65b9\u91cd\u8bbe-CSDN\u535a\u5ba2 \u81f3\u4e8e\u6211\uff0c\u4e5f\u662f\u5148\u786e\u8ba4\u4e86\u5bb9\u5668\u5185\u90e8\uff0c\u5bbf\u4e3b\u673a\u4e0a 0.0.0.0 \u548c localhost \u90fd\u53ef\u4ee5\u8bbf\u95ee\u2026\u8bd5\u7740\u8bd5\u7740\uff0c\u8bbf\u95ee127.0.0.1 \u5c31\u4e5f\u6b63\u5e38\u4e86=.=</p>"},{"location":"Basic-is-everything/Linux/%E6%88%91%E5%81%9A%E8%BF%90%E7%BB%B4%E7%9A%84%E6%95%85%E4%BA%8B/#es","title":"es \u5185\u5b58\u5360\u7528","text":"<p>\u95ee\u9898\uff1a\u4eba\u5bb6\u53d1\u73b0\u6211\u88c5\u7684 elasticsearch \u5360\u7528\u5185\u5b58\u8fc7\u9ad8\uff0c\u7ed9\u56fe ![[Pasted image 20240126152414.png]] \u539f\u56e0\uff1a\u770b\u5230 Command \u91cc\uff0c\u4f7f\u7528\u7684\u662f elasticsearch \u81ea\u5e26\u7684 jdk\uff08\u540e\u6765\u53d1\u73b0\u662f\u8d85\u7ea7\u65b0\u7684 jdk 21 \u7248\uff0c\u4e0d\u77e5\u9053\u4e3a\u5565\u8d3c\u6162\uff09\u3002\u7136\u540e\u8981\u5982\u4f55\u5f00\u59cb debug \u5462\uff1f - es \u662f\u901a\u8fc7\u5565\u542f\u52a8\u7684\uff1fsystemctl - <code>systemctl xx</code> \u542f\u52a8\u7684\u5230\u5e95\u662f\u54ea\u91cc\u7684 bin\uff1f\u8fd9\u4e2a\u6211\u5176\u5b9e\u4e0d\u77e5\u9053     - \u6309\u7167 service \u914d\u7f6e\u6587\u4ef6\u6765\u3002<code>systemctl cat xx</code> \u53ef\u4ee5\u67e5\u770b\u914d\u7f6e\u6587\u4ef6\u7684\u4f4d\u7f6e\u3002     - \u6240\u4ee5\u6211\u7ec8\u4e8e\u627e\u5230\u4e86 <code>elasticsearch.service</code>\uff0c\u627e\u5230\u4e86\u5b83\u7684\u5165\u53e3\u6587\u4ef6 <code>ExecStart=/usr/share/elasticsearch/bin/systemd-entrypoint -p ${PID_DIR}/elast</code>      - \u7136\u540e\u524d\u5f80 <code>systemd-entrypoint</code>\uff0c\u627e\u5230\u4e3b\u8981\u7684\u6267\u884c\u6587\u4ef6 - \u786e\u5b9a\u6267\u884c\u6587\u4ef6\u91cc\u542f\u52a8 java \u65f6\u8bfb\u4e86 $JAVA_HOME, \u9047\u5230\u4e86\u5947\u602a\u7684\u4e8b\uff0c\u4e8e\u662f\u6211\u7565\u7565\u8c03\u8bd5\u4e00\u4e0b     - \u76f4\u63a5\u542f\u52a8\u6267\u884c\u6587\u4ef6\uff1a $JAVA_HOME \u786e\u5b9e\u662f\u7cfb\u7edf\u4e0a\u88c5\u7684 java \u73af\u5883\u53d8\u91cf     - \u901a\u8fc7 systemctl \u542f\u52a8\uff1a$JAVA_HOME \u662f elasticsearch \u590d\u5199\u7684 - \u90a3\u4e3a\u4ec0\u4e48\u901a\u8fc7 systemctl \u542f\u52a8\u65f6\uff0c\u8bfb\u4e0d\u5230\u7cfb\u7edf\u7684 $JAVA_HOME \u53d8\u91cf\u5462     - \u786e\u8ba4\u7cfb\u7edf\u7684 $JAVA_HOME \u5199\u5165\u65b9\u5f0f\uff1a/etc/profile      - \u641c\u7d22\uff0c\u53d1\u73b0 systemctl \u542f\u52a8\u786e\u5b9e\u662f\u8bfb\u4e0d\u5230\u7684\uff01\u8981\u5728 service \u914d\u7f6e\u91cc\u901a\u8fc7 Environment \u6216\u8005 EnviromentFile \u7684\u65b9\u5f0f\u6765\u8bbe\u7f6e~</p>"},{"location":"Basic-is-everything/Linux/%E7%AC%A8%E5%85%94%E5%85%94%E7%9A%84%E6%95%85%E4%BA%8B/","title":"\u7b28\u5154\u5154\u7684\u6545\u4e8b","text":"<p>\u8d85\u53ef\u7231\u4e00\u5b9a\u8981\u8bb0\u5f55\u4e0b\uff01</p> <p>+ \u4e00\u4e2a\u8f6f\u4ef6\u8981\u60f3\u80fd\u591f\u4ece\u7f51\u4e0a\u53d6\u5f97\u4fe1\u606f\uff0c\u5c31\u9700\u8981\u61c2\u5f97\u7f51\u7edc\u4e0a\u7684\u8bf4\u8bdd\u65b9\u5f0f\uff0c</p> <p>\u61c2\u5f97\u7f51\u7edc\u4ea4\u6d41\u7684\u8bed\u8a00\uff0c\u6211\u4eec\u7ba1\u5b83\u53eb\u505a\u2014\u2014\u534f\u8bae\u3002\u61c2\u5f97 http \u534f\u8bae\u7684\u8f6f\u4ef6\u53ef\u4ee5\u770b\u7f51\u9875\uff0c\u61c2\u5f97 ftp \u534f</p> <p>\u8bae\u7684\u8f6f\u4ef6\u53ef\u4ee5\u4f20\u6587\u4ef6\uff0c\u4e0d\u8fc7\u8fd9\u4e9b\u90fd\u662f\u4e0a\u5c42\u7684\u534f\u8bae\uff0c\u5e95\u5c42\uff0c\u57fa\u672c\u6240\u6709\u80fd\u4e0a\u7f51\u7684\u8f6f\u4ef6\u90fd\u8981\u4f1a\u7684\uff0c\u7b97\u662f</p> <p>tcp/ip \u534f\u8bae\u4e86\uff0capt \u5c31\u61c2\u5f97\u8fd9\u95e8\u534f\u8bae\uff0c\u6240\u4ee5\uff0c\u4ed6\u53ef\u4ee5\u53bb\u7f51\u4e0a\u627e\u60f3\u8981\u7684\u8f6f\u4ef6</p> <p>\u7b2c\u4e8c\u8bb2 \u95ed\u6e90\u548c\u5f00\u6e90</p> <p>+ \u7f16\u8bd1\uff1a\u6e90\u4ee3\u7801\u662f\u4e0d\u80fd\u8fd0\u884c\u7684 \u5fc5\u987b\u8981\u628a\u6e90\u4ee3\u7801\u7f16\u8bd1\u4e4b\u540e\u624d\u53ef\u4ee5\u8fd0\u884c</p> <p>+ unix\u8bde\u751f\u4e8e1970\u5e74 \u6700\u521d\u7684\u8d77\u56e0\u53ea\u662f\u56e0\u4e3a\u4f5c\u8005\u60f3\u505a\u4e2a\u7cfb\u7edf\u73a9\u6e38\u620f\uff01</p> <p>+ \u54c8\u54c8\u54c8\u4f5c\u8005\u771f\u662f\u7b11\u6b7b\u4e86\uff01\u4e00\u4e2a\u4eba\u7684\u529b\u91cf\u662f\u6709\u9650\u7684\uff0c\u6709\u9053\u662f\u4eba\u591a\u529b\u91cf\u5927 \uff0c\u4f17\u4eba\u62fe\u67f4\u706b\u7130\u9ad8\uff0c\u591a\u4e2a\u94c3\u94db\u591a\u4e2a\u54cd\uff0c\u591a\u6839\u8721\u70db\u591a\u5206\u5149\uff0c\u4e00\u4e2a\u7bf1\u7b06\u4e09\u4e2a\u6869\uff0c\u4e00\u4e2a\u597d\u6c49\u4e09\u4e2a\u5e2e\uff0c\u4e09\u4e2a\u81ed\u76ae\u5320\u8fd8\u9876\u4e2a\u8bf8\u845b\u4eae\u2026\u2026\u94db\uff01\u54ce\u5466\uff5e \u597d\u5427\uff0c\u5c31\u8bf4\u8fd9\u4e48\u591a\u4e86\u3002</p> <p>+ \u75c5\u6bd2\u4e5f\u53ea\u662f\u4e00\u4e2a\u7a0b\u5e8f \u4e00\u4e2a\u574f\u574f\u7684\u7a0b\u5e8f~\u6240\u4ee5\u9488\u5bf9windows\u7684\u75c5\u6bd2\u4f20\u67d3\u4e0d\u4e86linux \u53cd\u4e4b\u4ea6\u7136\u3002linux\u4e0a\u75c5\u6bd2\u5f88\u5c11 \u56e0\u4e3a\u90fd\u662f\u5f00\u6e90\u7684\u8f6f\u4ef6 \u6240\u4ee5\u4e00\u65e6\u53d1\u73b0\u6f0f\u6d1e \u8c01\u90fd\u53ef\u4ee5\u53bb\u4fee\u3002\u800c\u4e14\u90fd\u662f\u5b98\u65b9\u7684\u8f6f\u4ef6 \u65e0\u6bd2\u7684\u3002</p> <p>+ windows\u4e0b\u6743\u5229\u6700\u9ad8\u7684\u5176\u5b9e\u662f\u81ea\u5df1SYSTM \u90a3\u4e2d\u6bd2\u7684\u65f6\u5019\u5b83\u4e5f\u4f1a\u62fc\u547d\u4fdd\u62a4\u81ea\u5df1\u574f\u6389\u7684\u90e8\u5206\u3002\u54c8\u54c8\u54c8Ubuntu\u4e0b\u6700\u9ad8\u6743\u9650\u7684\u53ef\u662fRoot\u5462\uff01</p> <p>+ \u963f\u539f\u6765\u8fd8\u6709\u7a97\u53e3\u7ba1\u7406\u5668\uff01\u4e13\u95e8\u6765\u79fb\u52a8\u7a97\u53e3\u7684\uff01\u6574\u4e2a\u8fc7\u7a0b\u8f6f\u4ef6\u81ea\u5df1\u662f\u4e0d\u77e5\u9053\u7684~</p> <p>+ \u661f\u9645\u8bd1\u738b\uff08\u5f00\u6e90\u7684\u8bcd\u5178\u8f6f\u4ef6\uff09\u7684\u5f00\u53d1\u8005\uff01\u600e\u4e48\u53d8\u6210\u795e\u68cd\u4e86\uff01\u54c7\u771f\u7684\u8d85\u5389\u5bb3\u4e00\u4e2a\u4eba \u600e\u4e48\u8bf4\u75af\u5c31\u75af\u4e86\uff01http://www.huzheng.org/</p> <p>+ \u975e\u65e5\u5fd7\u6587\u4ef6\u7cfb\u7edf \u4fee\u6539\u6587\u4ef6\u540e\u5148\u5c06\u6587\u4ef6\u9644\u7740\u5230\u5185\u5b58\u91cc \u6539\u5b8c\u540e\u518d\u628a\u4e34\u65f6\u6587\u4ef6\u4e00\u6bb5\u6bb5\u590d\u5236\u5230\u539f\u59cb\u6587\u4ef6\u4e2d\u3002\u8fd9\u65f6\u5982\u679c\u65ad\u7535\u4e86 \u4e0d\u4ec5\u4fee\u6539\u8fc7\u540e\u7684\u4e34\u65f6\u6587\u4ef6\u6ca1\u4e86 \u539f\u59cb\u6587\u4ef6\u56e0\u4e3a\u88ab\u8986\u76d6\u4e86\u4e00\u534a \u6240\u4ee5\u4e5f\u5f88\u5bb9\u6613\u51fa\u9519\u3002\u800c\u65e5\u5fd7\u6587\u4ef6\u7cfb\u7edf\u5c31\u6709\u70b9\u50cf\u6539\u5b8c\u540e \u6307\u9488\u76f4\u63a5\u6307\u5411\u65b0\u6587\u4ef6\u8fd9\u6837\u3002P44</p> <p>+ \u8bb2\u5230\u8f6f\u4ef6\u7684\u4f4d\u6570\u3002\u4f4d\u6570\u5c11\u7684\u5f97\u591a\u7b97\u51e0\u6b65\u3002\u6bd4\u5982\u5148\u7b97\u524d\u51e0\u4f4d\u518d\u7b97\u540e\u51e0\u4f4d\u3002\u6240\u4ee5\u51e0\u4f4d\u7684\u8f6f\u4ef6\u53ea\u80fd\u7ed9\u51e0\u4f4d\u7528\u3002P56</p> <p>+ \u5355\u4efb\u52a1\u7cfb\u7edf\u4e0e\u591a\u4efb\u52a1\u7cfb\u7edf\u3002\u539f\u6765cpu\u662f\u53ea\u80fd\u540c\u65f6\u7ed9\u4e00\u4e2a\u8f6f\u4ef6\u7528\u7684\uff1f \u73b0\u5728\u7684\u591a\u4efb\u52a1\u6307\u7684\u662f\u8ba9\u6bcf\u4e2a\u8fd0\u884c\u7684\u7a0b\u5e8f\u90fd\u8f6e\u7740\u7528\u4e00\u4f1a\u2026p57</p> <p>+ win\u4e0b\u6709Direct; win\u4e0b\u548clinux\u548cios\u4e0b\u90fd\u6709OpenGL(open graphics library)\u8d1f\u8d23\u7ed8\u753b\uff0ccanvas.getContext('webgl')\u7528\u6765\u753b3d\u7684\u5c31\u662f\u57fa\u4e8eopenGL\u5594 \u795e\u5947\u628a\uff01\u5f53\u7136java\u548cC\u90fd\u6709\u7c7b\u4f3c\u57fa\u4e8eopenGL\u7684api\u5594</p> <p>+ G\u5927\u53d4 grub \u53eblinux\u8d77\u5e8a~ p64</p> <p>+ p73 \u901a\u8fc7ssh\u534f\u8bae\uff08\u521d\u59cb\u7684\u7528\u5bc6\u7801\u7684\u90a3\u79cd\uff09\u5728\u53e6\u4e00\u53f0\u7535\u8111\u4e0a\u8bbf\u95ee\u672c\u673a \u7528ssh -x\u53ef\u4ee5\u663e\u793a\u51fa\u672c\u673a\u7684\u56fe\u5f62\u754c\u9762</p> <p>+\u54c7\u7ec8\u4e8e\u77e5\u9053\u786c\u76d8\u7684\u7531\u6765\u4e86\uff01\u539f\u6765\u4e00\u4e2a\u7a0b\u5e8f\u4e00\u5f20\u8f6f\u76d8 \u8981\u7528\u7684\u65f6\u5019\u5c31\u63d2\u8fdb\u7535\u8111\u91cc\u3002\u540e\u6765\u8f6f\u76d8\u5c31\u76f4\u63a5\u653e\u5728\u7535\u8111\u91cc\u3002\u540e\u6765\u56e0\u5851\u6599\u76d8\u7684\u78c1\u7c89\u5bc6\u5ea6\u592a\u5c0f\uff0c\u6240\u4ee5\u6539\u6210\u91d1\u5c5e\u76d8\u9762\uff0c\u53ef\u4ee5\u5bb9\u7eb3\u66f4\u591a\u7684\u78c1\u7c89\u548c\u4fe1\u606f\u3002\u91d1\u5c5e\u76d8\u9762\u8f83\u786c\uff0c\u6545\u79f0\u786c\u76d8\uff01p73</p> <p>ps: \u78c1\u76d8\u662f\u7528\u78c1\u7c92\u5b50\u7684\u4e24\u6781\u6765\u5bf9\u5e941\u548c0\u7684 \u78c1\u5934\u5728\u8bfb\u53d6\u6570\u636e\u65f6 \u53ef\u4ee5\u611f\u5e94\u78c1\u7c92\u5b50\u7684\u4e0d\u540c\u6781\u6027\uff0c\u4ece\u800c\u8f6c\u6362\u6210\u4e0d\u540c\u7684\u7535\u8109\u51b2\u4fe1\u53f7\uff0c\u89e3\u7801\u5668\u7ffb\u8bd1\u8fd9\u4e9b\u4fe1\u53f7\u5f97\u5230\u539f\u59cb\u6570\u636e\u3002\uff08\u6765\u6e90\uff09</p> <p>\u78c1\u5e26\u662f\u97f3\u9891\u7535\u6d41\u4ea7\u751f\u7684\u78c1\u573a\u78c1\u5316\u78c1\u7c89\u5c42 \u653e\u97f3\u5219\u662f\u4e4b\u524d\u5f55\u97f3\u7684\u9006\u8fc7\u7a0b\uff08\u53d8\u5316\u78c1\u573a\u4ea7\u751f\u611f\u5e94\u7535\u6d41\uff09\u3002\uff08\u6765\u6e90\uff09</p> <p>\u6240\u4ee5\u7535\u8111\u653e\u58f0\u97f3\u548c\u78c1\u5e26\u653e\u58f0\u97f3\u867d\u7136\u90fd\u4e0e\u7535\u78c1\u611f\u5e94\u6709\u5173 \u5355\u5e76\u4e0d\u662f\u4e00\u6a21\u4e00\u6837\u7684\u5594\u3002\u524d\u8005\u662f\u6570\u5b57\u4fe1\u53f7\uff0c128kbps\u662f\u7801\u7387\uff0c\u6307\u7684\u662f\u6bcf\u79d2\u5185\u5305\u542b\u7684\u4fe1\u606f\u91cf\uff08\u4ee5kb\u4e3a\u5355\u4f4d 1M=1024kb\uff09, \u6240\u4ee5\u91c7\u6837\u65f6\u91c7\u6837\u9891\u7387\u8d8a\u9ad8\u5f97\u5230\u7684\u97f3\u9891\u7684\u7801\u7387\u4e5f\u8d8a\u5927 \u97f3\u8d28\u4e5f\u8d8a\u597d\u3002\u800c\u78c1\u5e26\u662f\u6a21\u62df\u4fe1\u53f7\u7684\u5b8c\u7f8e\u97f3\u9891\uff01\u76f8\u5f53\u4e8e\u6570\u5b57\u4fe1\u53f7\u7684\u6781\u9650\uff01\uff08\u60f3\u5230\u5fae\u5206\u7684\u56fe\u62c9\uff01\uff09</p> <p>pps: \u539f\u6765\u95ea\u7535\u7684\u6210\u56e0\u90fd\u662f\u5047\u8bf4\u963f\uff01\u6709\u6469\u64e6\u751f\u7535\u7684 \u6709\u5730\u7403\u5927\u78c1\u573a\u7684 \u7535\u78c1\u611f\u5e94\u751f\u7535\u7684 \u90fd\u6ca1\u6709\u6743\u5a01\u7b54\u6848\uff01\u795e\u5947\uff01\uff08\u77e5\u4e4e\uff09</p> <p>+ \u54c7\u6211\u8fd8\u77e5\u9053\u786c\u89e3\u7801\u548c\u8f6f\u89e3\u7801\u4e86\uff01\u524d\u8005\u662f\u76f4\u63a5\u663e\u5361\u89e3\u7801\u64ad\u653e \u540e\u8005\u662fcpu\u89e3\u7801 \u6240\u4ee5cpu\u5360\u7528\u7387\u5c31\u4f1a\u8d85\u9ad8\u7684\uff01p76</p> <p>+ \u5185\u5b58\u6cc4\u9732\uff1a\u6307\u672a\u80fd\u91ca\u653e\u6389\u5df2\u4e0d\u518d\u4f7f\u7528\u7684\u5185\u5b58</p> <p>+ \u539f\u6765\u7f16\u8bd1\u4e4b\u540e\u7684\u4ee3\u7801 \u53eb\u4f5c\u6c47\u7f16\u4ee3\u7801 \u662f\u9762\u5411\u673a\u5668\u7684 p83 \u666e\u901a\u4ee3\u7801 \u7f16\u8bd1\u540e\u5f97\u5230 \u6c47\u7f16\u4ee3\u7801 \u6c47\u7f16\u540e\u5f97\u5230 \u673a\u5668\u7801</p> <p>+ \u7236\u8fdb\u7a0b\uff1a\u54ea\u4e2a\u8f6f\u4ef6\u5524\u8d77\u53e6\u4e00\u4e2a\u8f6f\u4ef6\u505a\u4e8b \u8fd9\u4e2a\u8f6f\u4ef6\u5c31\u662f\u53e6\u4e00\u4e2a\u8f6f\u4ef6\u7684\u7236\u8fdb\u7a0b</p> <p>+ \u6808\uff08stack\uff09\uff1a\u7531\u7f16\u8bd1\u5668\u81ea\u52a8\u5206\u914d\u91ca\u653e \uff0c\u5b58\u653e\u51fd\u6570\u7684\u53c2\u6570\u503c\uff0c\u5c40\u90e8\u53d8\u91cf\u7684\u503c\u7b49\u3002\u5176\u64cd\u4f5c\u65b9\u5f0f\u7c7b\u4f3c\u4e8e\u6570\u636e\u7ed3\u6784\u4e2d\u7684\u6808\u3002\u8ba1\u7b97\u673a\u7ba1\u7406\u3002\u5148\u8fdb\u540e\u51fa\u3002</p> <p>\u5806\uff08heap\uff09\uff1a\u4e00\u822c\u7531\u7a0b\u5e8f\u5458\u5206\u914d\u91ca\u653e\uff0c \u82e5\u7a0b\u5e8f\u5458\u4e0d\u91ca\u653e\uff0c\u7a0b\u5e8f\u7ed3\u675f\u65f6\u53ef\u80fd\u7531OS\u56de\u6536 \u3002\u7a0b\u5e8f\u5458\u7ba1\u7406\u3002\u5148\u8fdb\u5148\u51fa\u3002</p> <p>+ \u54c7\u6211\u7ec8\u4e8e\u77e5\u9053bt\u79cd\u5b50\u662f\u548b\u56de\u4e8b\u4e3a\u4ec0\u4e48\u66f4\u5feb\u4e86\uff01\u56e0\u4e3a\u666e\u901a\u4e0b\u8f7d \u670d\u52a1\u5668\u7684\u4e0a\u4f20\u5e26\u5bbd\u591a\u5927 \u51b3\u5b9a\u4e86\u6240\u6709\u5ba2\u6237\u7aef\u4e0b\u8f7d\u7684\u5e26\u5bbd\u6709\u591a\u5927 \u6765\u7684\u4eba\u8d8a\u591a\u6bcf\u4e2a\u4eba\u5e73\u5747\u901f\u5ea6\u8d8a\u6162\u3002\u7136\u800c\u79cd\u5b50\u4e0b\u8f7d bt\u79cd\u5b50\u6587\u4ef6\u662f\u6765\u6e90\u4e8e\u4efb\u4f55\u666e\u901a\u4eba\u7684\u670d\u52a1\u5668 \u4f60\u5462 \u4e00\u8fb9\u63a5\u6536\u4eba\u5bb6\u670d\u52a1\u5668\u53d1\u6765\u7684\u5305 \u4e5f\u53ef\u80fd\u4e00\u8fb9\u628a\u81ea\u5df1\u7684\u5df2\u4e0b\u8f7d\u5185\u5bb9\u6253\u6210\u5305\u53d1\u7ed9\u522b\u4eba\u3002\u7f51\u53e3\u6570\u636e\u7684\u8f93\u5165\u548c\u8f93\u51fa\u662f\u5206\u5f00\u7684 \u8f93\u51fa\u5e26\u5bbd\u4e0d\u5f71\u54cd\u8f93\u5165\u3002p106</p> <p>+ linux\u4e0b\u7684tar.gz\u683c\u5f0f\u7684\u8f6f\u4ef6\u5305\u3002tar\u53ea\u8d1f\u8d23\u628a\u96f6\u788e\u7684\u6587\u4ef6\u5408\u6210\u4e00\u4e2a\u6574\u7684 gzip\u8d1f\u8d23\u538b\u7f29\u5355\u4e2a\u6587\u4ef6\u6210.gz \u6240\u4ee5\u4e24\u8005\u4e00\u8d77\u5408\u4f5c\u53ef\u4ee5\u628axx\u76ee\u5f55-&gt;xx.tar-&gt;xx.tar.gz(\u4ea6\u5373xx.tgz)\u3002p109</p> <p>+ linux\u7684\u5171\u4eab\u6587\u4ef6\uff1avBox\u7684\u201c\u8bbe\u5907-&gt;\u5206\u914d\u6570\u636e\u547d\u4ee4\u201d \u7136\u540e\u5728windows\u4e0a\u70b9\u6211\u7684\u7535\u8111-&gt;\u6620\u5c04\u7f51\u7edc\u9a71\u52a8\u5668 p114 \u8fd9\u4e00\u90e8\u5206\u4e0d\u5927\u61c2\u5594\u2026</p> <p>+ \u88c5\u8f6f\u4ef6\uff1asudo apt-get install \uff08apt-get\u662fubuntu\u4e0b\u7684\u8f6f\u4ef6\u5305\u7ba1\u7406\u5de5\u5177\uff09</p> <p>+ \u9a71\u52a8\uff1a\u8ba9\u786c\u4ef6\u53ef\u4ee5\u548c\u64cd\u4f5c\u7cfb\u7edf\u901a\u4fe1\u3002\u6240\u6709\u7684\u786c\u4ef6\u90fd\u8981\u9a71\u52a8 \u53ea\u662f\u6709\u4e9b\u4e00\u5f00\u59cb\u5c31\u88ab\u96c6\u6210\u5728\u4e86BIOS\u548c\u64cd\u4f5c\u7cfb\u7edf\u91cc \u4e0d\u7528\u989d\u5916\u5b89\u88c5\u3002</p> <p>+ rpm\uff1arpm\uff08red hat package manager\uff09\u5305\u6210\u4e3alinux\u6751\u91cc\u901a\u7528\u6027\u76f8\u5f53\u597d\u7684\u6253\u5305\u7a0b\u5e8f\u3002\u56e0\u4e3a\u4e00\u5f00\u59cb\u597d\u591a\u8f6f\u4ef6\u5305\u90fd\u662f\u76f4\u63a5\u6e90\u7801\u53d1\u5e03\u7684 \u4f46\u662f\u5b89\u88c5\u6b65\u9aa4\u590d\u6742 \u6240\u4ee5\u7ea2\u5e3d\u5b50\u5c31\u51fa\u4e86rpm\u6765\u8d1f\u8d23\u5b89\u88c5\u5566\uff01</p> <p>+ p150 \u53ef\u4ee5\u521b\u5efa\u591a\u7528\u6237 \u6bcf\u4e2a\u7528\u6237\u6709\u81ea\u5df1\u7684\u6587\u4ef6\u5939\u2026\u53ef\u662f\u90a3\u662f\u4e0d\u662f\u6240\u6709\u6587\u4ef6\u5939\u52a0\u8d77\u6765\u8fd8\u662f\u53ea\u5f97\u7535\u8111\u786c\u76d8\u90a3\u4e48\u5927\u5440\u2026\u662f\u4e0d\u662f\u6ca1\u4ec0\u4e48\u4eba\u7528\u591a\u7528\u6237\u5594\u73b0\u5728\u2026</p> <p>+ \u54c8\u54c8\u54c8\u539f\u6765\u591a\u7528\u6237\u4e0d\u662f\u6307\u5355\u7eaf\u610f\u4e49\u4e0a\u6253\u5f00\u754c\u9762\u65f6\u8f93\u5165\u7528\u6237\u540d\u5bc6\u7801\u7684\u5594\u2026\u591a\u7528\u6237\u5f97\u8981\u6c42\u4e0d\u540c\u7528\u6237\u53ef\u4ee5\u540c\u65f6\u4f7f\u7528\u8fd9\u4e2a\u7cfb\u7edf\u3002windows\u7684\u670d\u52a1\u5668\u7248\u624d\u652f\u6301\u591a\u7528\u6237~</p> <p>+ 160\u9875\u5de6\u53f3\u7684\u8fd9\u573a\u6b66\u6797\u5bf9\u2026\u5341\u6b65\u4e00\u6740\uff01</p> <p>+ \u811a\u672c\u6587\u4ef6 \u5176\u5b9e\u5c31\u662f\u4e00\u4efd\u6587\u6863 \u9700\u8981\u89e3\u91ca\u5668\uff08shell \u6bd4\u5982\u9ed8\u8ba4\u7684bash\uff09\u6267\u884c\u3002\u54c7\u539f\u6765bash\u662f\u56e0\u4e3a87\u5e74\u65b0\u51fa\u7684\u4e00\u4e2ashell\u517c\u5bb9Bourne shell, \u6240\u4ee5\u547d\u540d\u4e3aBourne Again Shell, \u7b80\u79f0bash! p164</p> <p>+ p170\u5f00\u59cb\u7684\u90fd\u597d\u597d\u770b\uff01\u8bb2\u57df\u540d\u548cip\u5730\u5740\u7684\uff08\u6bd4\u65b9\u4e3a\u95e8\u724c\u53f7\u4e0e\u901a\u7528\u5730\u5740\u3002\uff09~\u5c24\u5176\u539f\u6765\u7aef\u53e3\u662f\u7528\u6765\u5206\u914d\u7ed9\u4e0d\u540c\u7684\u7a0b\u5e8f\u7684\u5440\uff01~</p> <p>+ p177 \u7aef\u53e3\u53f7\u7684\u5206\u914d\u89c4\u77e9 0\u52301023\u662f\u516c\u8ba4\u7aef\u53e3 \u6709\u7279\u5b9a\u7684\u7528\u9014\uff1b1024\u523049151\u5c31\u662f\u968f\u4fbf\u7528\u7aef\u53e3\u62c9\uff01</p> <p>+ p185 \u54c8\u54c8\u8fd9\u91cc\u8bb2\u4e86\u72d0\u72f8\u59b9\u59b9\u7684\u7531\u6765\uff01\u662f\u4ece\u88ab\u6253\u8d25\u7684Netscape\u5f00\u6e90\u4e4b\u540e\u6210\u7acb\u7684Mozilla\u57fa\u91d1\u4f1a\u5f00\u59cb\u2026</p>","tags":["Archive"]},{"location":"Basic-is-everything/Network/basic/%E5%9B%A0%E7%89%B9%E7%BD%91%E5%8E%9F%E7%90%86/","title":"\u56e0\u7279\u7f51\u539f\u7406","text":""},{"location":"Basic-is-everything/Network/basic/%E5%9B%A0%E7%89%B9%E7%BD%91%E5%8E%9F%E7%90%86/#ip","title":"IP","text":"<p>\u7f51\u7edc\u53f7+\u4e3b\u673a\u53f7 32bit=8bit, 8bit, 8bit, 8bit</p>"},{"location":"Basic-is-everything/Network/basic/%E5%9B%A0%E7%89%B9%E7%BD%91%E5%8E%9F%E7%90%86/#ip_1","title":"ip\u5730\u5740\u7684\u5206\u7c7b","text":"<p>\u9996\u5148\u8bb0\u4f4f\u4e0d\u8bba\u4ec0\u4e48\u5730\u5740 \u4e0d\u80fd\u5168\u4e3a1\u6216\u8005\u5168\u4e3a0</p>"},{"location":"Basic-is-everything/Network/basic/%E5%9B%A0%E7%89%B9%E7%BD%91%E5%8E%9F%E7%90%86/#a","title":"a\u7c7b","text":"<p>\u7f51\u7edc\u53f71\u5b57\u8282 \u4e3b\u673a\u53f73\u5b57\u8282\uff0c\u5e76\u4e14\u7f51\u7edc\u53f7\u7684\u7b2c\u4e00\u4f4d\u4e00\u5b9a\u8981\u662f1</p> <p>\u7f51\u7edc\u53f7\u4e2a\u6570\uff1a2^7(\u51cf\u53bb\u7b2c\u4e00\u4f4d\u7684\u56fa\u5b9a) - 1(\u51681) -1(\u51680)</p> <p>\u4e3b\u673a\u53f7\uff1a2^24 - 2</p>"},{"location":"Basic-is-everything/Network/basic/%E5%9B%A0%E7%89%B9%E7%BD%91%E5%8E%9F%E7%90%86/#b","title":"b\u7c7b","text":"<p>\u7f51\u7edc\u53f7\u7684\u524d\u4e24\u4f4d\u4e00\u5b9a\u8981\u662f10</p> <p>\u7f51\u7edc\u53f7\u4e2a\u6570\uff1a2^14(\u51cf\u53bb\u7b2c\u4e00\u4e8c\u4f4d\u7684\u56fa\u5b9a) -1(\u51680)</p> <p>\u4e3b\u673a\u53f7\uff1a2^16 - 2</p>"},{"location":"Basic-is-everything/Network/basic/%E5%9B%A0%E7%89%B9%E7%BD%91%E5%8E%9F%E7%90%86/#c","title":"c\u7c7b","text":"<p>\u7f51\u7edc\u53f7\u7684\u524d\u4e09\u4f4d\u4e00\u5b9a\u8981\u662f110</p> <p>\u7f51\u7edc\u53f7\u4e2a\u6570\uff1a2^21(\u51cf\u53bb\u7b2c\u4e00\u4e8c\u4e09\u4f4d\u7684\u56fa\u5b9a) -1(\u51680)</p> <p>\u4e3b\u673a\u53f7\uff1a2^8 - 2</p>"},{"location":"Basic-is-everything/Network/basic/%E5%9B%A0%E7%89%B9%E7%BD%91%E5%8E%9F%E7%90%86/#_2","title":"\u4f7f\u7528\u8303\u56f4","text":"<p>\u4e00\u517132\u4e2a\u5b57\u8282\uff0c8\u5b57\u8282\u4e00\u7ec4</p> <p></p> <p>\u770b\u4e0a\u56fe \u6240\u4ee5127\u4e0d\u5c5e\u4e8eip\u7684\u53ef\u5206\u914d\u5206\u7c7b\u4e2d</p>"},{"location":"Basic-is-everything/Network/basic/%E5%9B%A0%E7%89%B9%E7%BD%91%E5%8E%9F%E7%90%86/#ip_2","title":"ip\u6570\u636e\u62a5\u683c\u5f0f","text":"<p>p.s. n\u4f4d\u53ef\u4ee5\u8868\u793a\u591a\u5c11\u79cd\u6570\u636e\uff1a<code>2^(n-1) + ... + 2^0</code> \u5373 <code>2^n - 1</code> </p> <ul> <li>\u4e00\u884c32\u4f4d \u6e90ip\u5730\u5740\u548c\u76ee\u7684ip\u5730\u5740\u90fd\u5360\u4e00\u884c \u4e5f\u5c31\u662f4B/\u5b57\u8282\u3002</li> <li>1\u5b57\u8282\u4e00\u822c\u8868\u793a\u62108\u4f4d\uff0c\u56e0\u4e3a4\u4f4d\u7684\u4e8c\u8fdb\u5236\u7b49\u4e8e\u4e00\u4f4d\u7684\u5341\u516d\u8fdb\u5236\uff0c\u6240\u4ee51\u5b57\u8282\u4e5f\u53ef\u8868\u793a\u4e3a\u4e24\u4f4d\u7684\u5341\u516d\u8fdb\u5236\u3002</li> <li>\u89c4\u5b9a\u9996\u90e8\u7684\u56fa\u5b9a\u90e8\u5206\u662f20\u4e2a\u5b57\u8282</li> </ul>"},{"location":"Basic-is-everything/Network/basic/%E5%9B%A0%E7%89%B9%E7%BD%91%E5%8E%9F%E7%90%86/#ttl","title":"ttl","text":"<p>\u5176\u5b9e\u662f\u2026time to live \u751f\u5b58\u65f6\u95f4\uff01\u4e5f\u5c31\u662f\u4e00\u4e2acount \u6bcf\u7ecf\u8fc7\u4e00\u4e2a\u8def\u7531 count-1 \u4e3a0\u65f6\u8fd8\u6ca1\u5230\u8fbe\u7ec8\u70b9\u5373\u5ba3\u544a\u5931\u8d25\u628a\u5305\u4e22\u5f03</p>"},{"location":"Basic-is-everything/Network/basic/%E5%9B%A0%E7%89%B9%E7%BD%91%E5%8E%9F%E7%90%86/#ip_3","title":"ip\u6570\u636e\u62a5\u7684\u5206\u7247\u4e0e\u91cd\u7ec4","text":"<p>\u5f53\u4e00\u4e2aIP\u6570\u636e\u62a5\u7684\u603b\u957f\u5ea6\u8d85\u8fc7MTU\u503c\u65f6\uff0c\u6bcf\u4e2a\u5206\u7247\u7684\u6570\u636e\u90e8\u5206\u7684\u957f\u5ea6\u5e94\u8be5\u662fMTU-20\u540e\u5411\u4e0b\u53d68\u7684\u6574\u6570\u500d</p>"},{"location":"Basic-is-everything/Network/basic/%E5%9B%A0%E7%89%B9%E7%BD%91%E5%8E%9F%E7%90%86/#about","title":"about \u8def\u7531\u5668","text":"<ul> <li>\u8def\u7531\u5668\u4ec5\u6839\u636e\u7f51\u7edc\u53f7\u6765\u8f6c\u53d1\u5206\u7ec4</li> <li>\u4e00\u4e2a\u8def\u7531\u5668\u81f3\u5c11\u5e94\u8be5\u67092\u4e2a\u4e0d\u540c\u7684ip\u5730\u5740</li> <li>\u8def\u7531\u534f\u8bae\uff1a\u4f7f\u7528\u4f20\u8f93\u5c42\u7684udp\u8fdb\u884c\u4f20\u8f93 \u6bcf\u969430s\u4f1a\u5411\u76f8\u90bb\u8def\u7531\u5668\u5e7f\u64ad\u81ea\u5df1\u7684\u6574\u4e2a\u8def\u7531\u8868</li> </ul>"},{"location":"Basic-is-everything/Network/basic/%E5%9B%A0%E7%89%B9%E7%BD%91%E5%8E%9F%E7%90%86/#ip_4","title":"ip\u5206\u7ec4\u7684\u8f6c\u53d1","text":"<p>\u76f4\u63a5\u4ea4\u4ed8 \u95f4\u63a5\u4ea4\u4ed8</p> <ul> <li>\u7279\u5b9a\u4e3b\u673a\u8def\u7531\uff1a\u5355\u72ec\u4e00\u4e2a\u6307\u5b9aip\u5730\u5740 \u90a3\u63a9\u7801\u80af\u5b9a\u662f255.255.255.255</li> <li>\u9ed8\u8ba4\u8def\u7531\uff1a\u591a\u4e2a\u4e0b\u4e00\u8df3\u76f8\u540c\u7684\u8868\u7684\u5408\u5e76 \u8be5\u884c\u5bf9\u5e94\u7684\u63a9\u7801\u662f0.0.0.0 \u5373\u6240\u6709\u8d70\u5230\u8fd9\u4e2a\u9009\u62e9\u7684ip\u5730\u5740\u90fd\u5c5e\u4e8e\u201c\u8fd9\u513f\u6ca1\u627e\u5230\u201d\u7f51\u6bb5</li> </ul>"},{"location":"Basic-is-everything/Network/basic/%E5%9B%A0%E7%89%B9%E7%BD%91%E5%8E%9F%E7%90%86/#ipv6","title":"IPv6","text":"<p>32bit-&gt;128bit</p> <p>\u8fd8\u6709\u683c\u5f0f</p> <p>IPv4\u5411IPv6\u8fc7\u6e21\u7684\u65b9\u6cd5\uff1a</p> <p>\uff081\uff09\u53cc\u6808\u6280\u672f\uff1a\u4e3b\u673a\u6216\u8def\u7531\u5668\u540c\u65f6\u88c5\u6709IPV4\u548cIPV6\u4e24\u4e2a\u534f\u8bae\u6808\uff0c\u56e0\u6b64\u4e3b\u673a\u65e2\u80fd\u548cIPV4\u901a \u4fe1\uff0c \u4e5f\u80fd\u548cIPV6\u901a\u4fe1\u3002</p> <p>\uff082\uff09\u96a7\u9053\u6280\u672f\uff1a\u5728IPV6\u5206\u7ec4\u8fdb\u5165IPV4\u7f51\u7edc\u65f6\uff0c\u5c06IPV6\u5206\u7ec4\u5c01\u88c5\u6210IPV4\u5206\u7ec4; \u5f53 \u5c01\u88c5\u6210IPV4\u5206\u7ec4 \u79bb\u5f00IPV4\u7f51\u7edc\u65f6\uff0c\u518d\u88c5\u6570\u636e\u90e8\u5206\uff08IPV6\u90e8\u5206\uff09\u8f6c\u53d1\u7ed9\u76ee\u7684\u8282\u70b9\u3002</p>"},{"location":"Basic-is-everything/Network/basic/%E5%9B%A0%E7%89%B9%E7%BD%91%E5%8E%9F%E7%90%86/#icmp","title":"ICMP","text":"<p>Internet Control Message Protocol </p> <p>\u5b83\u662fTCP/IP\u534f\u8bae\u7c07\u7684\u4e00\u4e2a\u5b50\u534f\u8bae\uff0c\u7528\u4e8e\u5728IP\u4e3b\u673a\u3001\u8def\u7531\u5668\u4e4b\u95f4\u4f20\u9012\u63a7\u5236\u6d88\u606f\u3002</p> <p>\u63a7\u5236\u6d88\u606f\u662f\u6307\u7f51\u7edc\u901a\u4e0d\u901a\u3001\u4e3b\u673a\u662f\u5426\u53ef\u8fbe\u3001\u8def\u7531\u662f\u5426\u53ef\u7528\u7b49\u7f51\u7edc\u672c\u8eab\u7684\u6d88\u606f\u3002\u8fd9\u4e9b\u63a7\u5236\u6d88\u606f\u867d\u7136\u5e76\u4e0d\u4f20\u8f93\u7528\u6237\u6570\u636e\uff0c\u4f46\u662f\u5bf9\u4e8e\u7528\u6237\u6570\u636e\u7684\u4f20\u9012\u8d77\u7740\u91cd\u8981\u7684\u4f5c\u7528\u3002//\u6ce8\u610f\u53ea\u6709\u4e00\u4e2a\u5305 \u6240\u4ee5\u5e76\u4e0d\u8868\u793a\u7f51\u7edc\u5feb\u4e0d\u5feb</p> <p>\u201cIP\u534f\u8bae\u5e76\u4e0d\u662f\u4e00\u4e2a\u53ef\u9760\u7684\u534f\u8bae\uff0c\u5b83\u4e0d\u4fdd\u8bc1\u6570\u636e\u88ab\u9001\u8fbe\uff0c\u90a3\u4e48\uff0c\u81ea\u7136\u7684\uff0c\u4fdd\u8bc1\u6570\u636e\u9001\u8fbe\u7684\u5de5\u4f5c\u5e94\u8be5\u7531\u5176\u4ed6\u7684\u6a21\u5757\u6765\u5b8c\u6210\u3002\u5176\u4e2d\u4e00\u4e2a\u91cd\u8981\u7684\u6a21\u5757\u5c31\u662fICMP(\u7f51\u7edc\u63a7\u5236\u62a5\u6587)\u534f\u8bae\u3002</p> <p>\u5f53\u4f20\u9001IP\u6570\u636e\u5305\u53d1\u751f\u9519\u8bef\uff0d\uff0d\u6bd4\u5982\u4e3b\u673a\u4e0d\u53ef\u8fbe\uff0c\u8def\u7531\u4e0d\u53ef\u8fbe\u7b49\u7b49\uff0cICMP\u534f\u8bae\u5c06\u4f1a\u628a\u9519\u8bef\u4fe1\u606f\u5c01\u5305\uff0c\u7136\u540e\u4f20\u9001\u56de\u7ed9\u4e3b\u673a\u3002\u7ed9\u4e3b\u673a\u4e00\u4e2a\u5904\u7406\u9519\u8bef\u7684\u673a\u4f1a\uff0c\u8fd9 \u4e5f\u5c31\u662f\u4e3a\u4ec0\u4e48\u8bf4\u5efa\u7acb\u5728IP\u5c42\u4ee5\u4e0a\u7684\u534f\u8bae\u662f\u53ef\u80fd\u505a\u5230\u5b89\u5168\u7684\u539f\u56e0\u3002\u201d</p> <p>\u5e38\u7528\u7684ping, tracert\u5c31\u662f\u57fa\u4e8e\u6b64 </p> <p>ref: https://blog.csdn.net/inject2006/article/details/2139149</p> <p>\u5176\u4e2d\u6211\u8fd8\u4e0d\u5927\u660e\u786e\u7684\u662ficmp\u6570\u636e\u5305\u4e0eip\u6570\u636e\u5305\u4e4b\u95f4\u7684\u5173\u7cfb</p>"},{"location":"Basic-is-everything/Network/basic/%E5%9B%A0%E7%89%B9%E7%BD%91%E5%8E%9F%E7%90%86/#_3","title":"\u5b50\u7f51\u5212\u5206","text":"<p>\u4ece\u4e3b\u673a\u53f7\u4e2d\u5212\u51fa\u4e00\u90e8\u5206\u7ed9\u5b50\u7f51 \u76ee\u7684\uff1a\u4f7f\u591a\u4e2a\u7269\u7406\u7f51\u7edc\u53ef\u4ee5\u5171\u7528\u4e00\u4e2a\u7f51\u7edc\u524d\u7f00\u3002</p> <p></p> <p>\u5982\u4e0a\uff0c\u5b50\u7f51\u63a9\u7801\u5360\u4e86\u4e3b\u673a\u53f7\u7684\u4e09\u4f4d\uff0c\u5219\u53ef\u4ee5\u628a\u7f51\u7edc\u5212\u5206\u4e3a2^3=8\u4e2a\u5b50\u7f51\u6bb5 </p> <p>\u6ce8\u610f\uff01\u4e00\u822c\u51680\u548c\u51681\u7684\u4e3b\u673a\u5730\u5740\u4e0d\u5206\u914d\uff0c\u6240\u4ee5\u8981\u628a\u5212\u5206\u7684\u7f51\u6bb5\u6570-2\uff0c\u6bcf\u4e2a\u7f51\u6bb5\u6240\u5bb9\u7eb3\u4e3b\u673a\u6570\u4e5f\u8981\u5bf9\u5e94-2 </p> <p>\u5e7f\u64ad\u5730\u5740\uff1a\u4e3b\u673a\u53f7\u5168\u90e8\u4e3a1\uff08B\u7c7b\u5730\u5740\u7684\u6700\u540e\u4e00\u5927\u8282\u80af\u5b9a\u662f255\u4e86\uff09</p>"},{"location":"Basic-is-everything/Network/basic/%E5%9B%A0%E7%89%B9%E7%BD%91%E5%8E%9F%E7%90%86/#cidr","title":"CIDR\u5730\u5740\u5757","text":"<p>\u5373\u5f62\u5982 202.119.230.0/24 24\u5219\u8868\u793a\u7f51\u7edc\u63a9\u7801\u5230\u7b2c\u4e09\u5927\u4f4d</p> <p>\u5219\u8868\u793a\u7684\u5730\u5740\u5757\u6709 2^(32 - 24) = 2^8\u4e2a\u5730\u5740</p> <p>\u54c7\u7ed9\u5927\u5bb6\u5206\u7f51\u7edc\u5730\u5740\u5757\u7684\u2026\u771f\u7684\u7406\u89e3\u4e86\u6211\u597d\u4e00\u4f1a\u2026</p> <p></p> <p>\u6bd4\u5982\u67d0\u673a\u6784\u83b7\u5f97\u4e86\u62e5\u6709\u5730\u5740\u5757202.192.0.0/16 \u9700\u8981\u628a\u5730\u5740\u5206\u7ed9\u4ee5\u4e0a\u56db\u4e2a\u5927\u5b66\u3002\u90a3\u4e4816\u5728\u8fd9\u91cc\u5df2\u7ecf\u4e48\u6709\u4ec0\u4e48\u610f\u4e49\u4e86~\u5206\u7ed9\u5927\u5b66\u5730\u5740\u7684\u63a9\u7801\u957f\u5ea6\u80af\u5b9a\u4f1a\u5c0f\u4e8e16\uff0c\u6309\u5148\u540e\u987a\u5e8f\uff0c\u5012\u7740\u6765\u5360\u201c\u5b50\u7f51\u53f7\u201d\u7684\u5751</p> <p>-------\u8fd9\u79cd\u7f51\u7edc\u5757\u7684\u5730\u5740\u5c31\u79f0\u4e3a\u7f51\u7edc\u5730\u5740\uff0c\u5b83\u662f\u4e00\u4e2aip\u533a\u95f4\uff0c\u53c8\u79f0ip\u5730\u5740\u7a7a\u95f4~</p>"},{"location":"Basic-is-everything/Network/basic/%E5%9B%A0%E7%89%B9%E7%BD%91%E5%8E%9F%E7%90%86/#_4","title":"\u7f51\u7edc\u805a\u5408","text":""},{"location":"Basic-is-everything/Network/basic/%E5%9B%A0%E7%89%B9%E7%BD%91%E5%8E%9F%E7%90%86/#vpn","title":"VPN\u5de5\u4f5c\u539f\u7406","text":"<p>\u96a7\u9053\u4f20\u8f93\uff08IP-in-IP\u5c01\u88c5 \u6240\u4ee5\u8981\u53d1\u7684\u5185\u5bb9\u4f1a\u88ab\u52a0\u5bc6\u540e\u518d\u5c01\u5230\u6570\u636e\u62a5\u4e2d\uff09 \u4e0e \u52a0\u5bc6\u6280\u672f</p> <p>NAT: network address translation\u7528\u6765\u89e3\u51b3\u672c\u5730\u7f16\u5740\u7684\u5185\u90e8\u7f51\u7edc\u4e0e\u5916\u7f51\u901a\u4fe1\u7684\u95ee\u9898 </p> <p>\u5728\u4e13\u7528\u7f51\u8fde\u5230\u5916\u7f51\u7684\u670d\u52a1\u5668\u4e0a\u88c5NAT\u8f6f\u4ef6 \u5b83\u80fd\u5e2e\u5fd9\u8f6c\u6362~</p> <p>\u7aef\u53e3\u53ca\u5957\u63a5\u5b57 // \u4f20\u8f93\u5c42\u4f1a\u5904\u7406\u5230\u7aef\u53e3\u7684\u6d88\u606f</p> <p>\u4ecb\u7ecd\u4e86\u4e00\u4e9b\u5e38\u7528\u534f\u8bae\u7528\u7684\u662ftcp\u8fd8\u662fudp\u670d\u52a1\u53ca\u5176\u7aef\u53e3</p> <p>\u4e00\u822c\u800c\u8a00 \u9700\u8981\u53ef\u9760\u7684\u90fd\u662ftcp \u6bd4\u5982http ftp telnet \uff1b dns\u5c31\u662fudp \u8fd8\u6709\u8def\u7531\u9009\u62e9RIP</p> <p></p> <p>\u4e09\u6b21\u63e1\u624b\u8fde\u63a5 \u56db\u6b21\u63e1\u624b\u91ca\u653e</p> <p></p> <p></p>"},{"location":"Basic-is-everything/Network/basic/%E5%9B%A0%E7%89%B9%E7%BD%91%E5%8E%9F%E7%90%86/#tcp","title":"TCP\u53ef\u9760\u4f20\u8f93","text":"<p>\u5e8f\u53f7\u786e\u8ba4\u673a\u5236</p> <p>\u8d85\u65f6\u91cd\u4f20\u673a\u5236</p> <p>tcp\u8fd8\u53ef\u4ee5\u6d41\u91cf\u63a7\u5236\u548c\u5835\u585e\u63a7\u5236</p>"},{"location":"Basic-is-everything/Network/basic/%E5%B1%80%E5%9F%9F%E7%BD%91%E5%8E%9F%E7%90%86%E5%92%8C%E6%8A%80%E6%9C%AF/","title":"\u5c40\u57df\u7f51\u539f\u7406\u548c\u6280\u672f","text":"<p>\u6570\u636e\u94fe\u8def\u5c42=\u903b\u8f91\u94fe\u8def\u63a7\u5236\u5b50\u5c42+\u5a92\u4f53\u8bbf\u95ee\u63a7\u5236\u5b50\u5c42</p>"},{"location":"Basic-is-everything/Network/basic/%E5%B1%80%E5%9F%9F%E7%BD%91%E5%8E%9F%E7%90%86%E5%92%8C%E6%8A%80%E6%9C%AF/#_2","title":"\u5c40\u57df\u7f51","text":"<p>\u57fa\u5e26\u4f20\u8f93</p> <p>\u8bb0\u4f4f\u57fa\u5e26\u4e0e\u9891\u5e26\u7684\u4e0d\u540c\u4e4b\u5904\u5c31\u662f\u9891\u5e26\u8fd8\u9700\u8981\u8c03\u9891 \u57fa\u5e26\u6bd5\u7adf\u8303\u56f4\u5c0f\u4e9b \u6240\u4ee5\u4e0d\u7528\u8c03\u9891</p>"},{"location":"Basic-is-everything/Network/basic/%E5%B1%80%E5%9F%9F%E7%BD%91%E5%8E%9F%E7%90%86%E5%92%8C%E6%8A%80%E6%9C%AF/#_3","title":"\u4ee5\u592a\u7f51\u5e27\u7684\u7ed3\u6784","text":"<p>\u8bb0\u4f4f\u76ee\u7684\u5730\u57406\u5b57\u8282\uff08\u5355\u4f4d\u5b57\u8282\uff09 IP\u6570\u636e\u62a5\u6700\u5c0f46\u5b57\u8282\u5373\u53ef</p> <ul> <li>\u5168\u53cc\u5de5/\u534a\u53cc\u5de5</li> </ul> <p>\u534a\u53cc\u5de5\u6307\u4e00\u6761\u7ebf\u53cc\u5411\u90fd\u53ef\u4ee5\u53d1\uff0c\u6240\u4ee5\u5b58\u5728\u78b0\u649e\uff1b\u5168\u53cc\u5de5\u6307\u5404\u7ba1\u4e00\u4e2a\u65b9\u5411\uff0c\u6240\u4ee5\u4e0d\u4f1a\u78b0\u649e</p> <ul> <li>\u78b0\u649e\u68c0\u6d4b/\u4e89\u7528\u671f</li> </ul> <p>\u8bb0\u4f4f\u4e00\u4e2a\u5e27\u7684\u6700\u77ed\u5e27\u957f\u5e94\u8be5\u8981\u6ee1\u8db32\u500d\u4fe1\u9053\u957f\u5ea6*\u4f20\u8f93\u901f\u5ea6\u3010\u8fd9\u6837\u624d\u53ef\u4ee5\u53d1\u7740\u53d1\u7740\u77e5\u9053\u78b0\u649e\u4e86\uff0c\u800c\u4e0d\u81f3\u4e8e\u5168\u90e8\u53d1\u5b8c\u4ee5\u540e\u624d\u77e5\u9053\u4e4b\u524d\u53d1\u7684\u53d1\u751f\u78b0\u649e\u4e86</p> <p>\u2234IP\u6570\u636e\u62a5\u6700\u5c0f \u603b\u6700\u5c0f64\u5b57\u8282 - 6 - 6-2-4=46\u5b57\u8282</p> <p>p.s.</p> <p>\u6700\u77ed\u5e27\u662f\u57fa\u4e8e\u5411\u4e0b\u517c\u5bb910Mb/s\u4ee5\u592a\u7f51\uff0c\u5728\u4e00\u4e2a51.2\u5fae\u79d2\uff08\u4ee5\u592a\u7f51\u89c4\u5b9a\u7684\u4e89\u7528\u671f\u957f\u5ea6\uff09\u5185\u4f20\u8f93\u7684\u6570\u636e\u4e3a521bit\uff0c\u537364\u5b57\u8282\u3002\u6700\u957f\u5e27\u5219\u662f\u4e3a\u4e86\u907f\u514d\u5355\u4e00\u4e3b\u673a\u957f\u671f\u5360\u7528\u4fe1\u9053\uff0c\u63d0\u4f9b\u66f4\u597d\u7684\u62a2\u5360\u673a\u5236\u3002</p> <ul> <li>\u9000\u907f\u7b97\u6cd5\uff1a\u57282^n\u4e2a\u65f6\u95f4\u96c6\u5408\u91cc\u62bd\u4e00\u4e2a\u65f6\u95f4\u518d\u53d1\u4e00\u6b21</li> </ul>"},{"location":"Basic-is-everything/Network/basic/%E5%B1%80%E5%9F%9F%E7%BD%91%E5%8E%9F%E7%90%86%E5%92%8C%E6%8A%80%E6%9C%AF/#_4","title":"\u5c40\u57df\u7f51\u7684\u62d3\u5c55","text":"<p>\u8bb2\u5230\u96c6\u7ebf\u5668\u4ea4\u6362\u673a\u7b49\u7684\u5de5\u4f5c\u539f\u7406\uff1a</p>"},{"location":"Basic-is-everything/Network/basic/%E5%B1%80%E5%9F%9F%E7%BD%91%E5%8E%9F%E7%90%86%E5%92%8C%E6%8A%80%E6%9C%AF/#_5","title":"\u96c6\u7ebf\u5668","text":"<p>\u7269\u7406\u5c42</p> <p>\u96c6\u7ebf\u5668\uff08\u7269\u7406\u5c42\uff09\u91c7\u7528\u7684\u5f0f\u5171\u4eab\u5e26\u5bbd\u7684\u5de5\u4f5c\u65b9\u5f0f\uff0c \u6bcf\u4e2a\u7ad9\u6240\u80fd\u5f97\u5230\u7684\u5e26\u5bbd\u662f\u603b\u5e26\u5bbd/\u7ad9\u7684\u4e2a\u6570Mb/s </p> <p>p.s. https://www.tianmaying.com/tutorial/NetWorkInstrument \u5927\u89e3\u6790</p>"},{"location":"Basic-is-everything/Network/basic/%E5%B1%80%E5%9F%9F%E7%BD%91%E5%8E%9F%E7%90%86%E5%92%8C%E6%8A%80%E6%9C%AF/#_6","title":"\u4ea4\u6362\u673a/\u7f51\u6865","text":"<p>\u6570\u636e\u94fe\u8def\u5c42 \u53ef\u4ee5\u9694\u7edd\u51b2\u7a81\u57df</p> <p>\u4ea4\u6362\u673a\uff08\u6570\u636e\u94fe\u8def\u5c42\uff09\u662f\u72ec\u4eab\u5e26\u5bbd\uff0c \u6bcf\u4e2a\u7ad9\u6240\u80fd\u5f97\u5230\u7684\u5e26\u5bbd\u662f\u603b\u5e26\u5bbd\u3002</p> <p>\u4ea4\u6362\u673a\u8f6c\u53d1\u65b9\u5f0f\uff1a\u76f4\u901a\uff08\u77e5\u9053\u76ee\u7684\u5730\u5740\u5373\u53ef 6B\uff09\u3001\u5b58\u50a81518B\u3001\u65e0\u788e\u7247\uff08\u4fdd\u8bc1\u6570\u636e\u62a5\u6700\u5c0f\u5b57\u8282\u8fbe\u5230 64B\uff09</p> <p>\u4ea4\u6362\u673a\u8f6c\u53d1\u7b97\u6cd5\uff1a\u8bb0\u4e0b\u6570\u636e\u5e27\u4e2d\u7684\u3010\u53d1\u9001\u3011\u5730\u5740-\u7aef\u53e3\u7684\u6620\u5c04</p>"},{"location":"Basic-is-everything/Network/basic/%E5%B1%80%E5%9F%9F%E7%BD%91%E5%8E%9F%E7%90%86%E5%92%8C%E6%8A%80%E6%9C%AF/#_7","title":"\u9ad8\u901f\u4ee5\u592a\u7f51","text":"<p>\u901f\u5ea6&gt;= 10M b/s</p> <p>\u8981\u4e48\u7535\u7f06\u589e\u5927\uff08\u767e\u5146\u4ee5\u592a\u7f51\uff09\uff1a\u4ee5\u592a\u7f51\u7684\u6700\u77ed\u5e27\u4e0e\u5e26\u5bbd\u548c\u94fe\u8def\u957f\u5ea6\u6709\u5173\u3002100M\u4ee5\u592a\u7f51\u6bd410M\u4ee5\u592a\u7f51\u901f\u7387\u63d0\u9ad810\u4f4d\uff0c\u8981\u60f3\u548c10M\u4ee5\u592a\u7f51\u517c\u5bb9\uff0c\u5c31\u8981\u786e\u4fdd\u6700\u77ed\u5e27\u4e5f\u662f64\u5b57\u8282\uff0c\u90a3\u5c31\u5c06\u7535\u7f06\u6700\u5927\u957f\u5ea6\u75311000m\u964d\u5230100m\uff0c\u56e0\u6b64\u4ee5\u592a\u7f51\u7684\u4e89\u7528\u671f\u4f9d\u7136\u662f51.2\u03bcs\uff0c\u6700\u77ed\u5e27\u4f9d\u7136\u662f64\u5b57\u8282\u3002</p> <p>\u8981\u4e48\u6700\u77ed\u5e27\u957f\u589e\u52a0\uff08\u5343\u5146\u4ee5\u592a\u7f51\uff09\uff1a\u8f7d\u6ce2\u5ef6\u4f38-\u5728\u77ed\u5e27\u540e\u586b\u5145\u7279\u6b8a\u5b57\u7b26\uff08\u4f7f\u8fbe\u5230512\u5b57\u8282\uff09\uff1b\u5206\u7ec4\u7a81\u53d1-\u4e3a\u4e86\u89e3\u51b3\u53d1\u9001\u77ed\u5e27\u65f6\uff0c\u51b2\u7a81\u5f88\u5927\u7684\u60c5\u51b5\u5f00\u9500\u8f83\u5927\uff0c\u6240\u4ee5\u53ef\u4ee5\u5408\u5e76\u90e8\u5206\u77ed\u5e27\uff08\u5f53\u5f88\u591a\u77ed\u5e27\u8981\u53d1\u9001\u65f6\uff0c\u7b2c\u4e00\u4e2a\u77ed\u5e27\u91c7\u7528\u201c\u8f7d\u6ce2\u5ef6\u4f38\u201d\u65b9\u6cd5\u8fdb\u884c\u586b\u5145\uff0c\u540e\u9762\u7684\u4e00\u4e9b\u77ed\u5e27\u53ef\u4ee5\u4e00\u4e2a\u63a5\u4e00\u4e2a\u53d1\u9001\uff0c\u5b83\u4eec\u4e4b\u95f4\u53ea\u8981\u7559\u5fc5\u8981\u7684\u5e27\u95f4\u6700\u5c0f\u95f4\u9694\u5373\u53ef\u3002\u8fd9\u6837\u5c31\u5f62\u6210\u4e00\u4e32\u5206\u7ec4\u7a81\u53d1\uff0c\u76f4\u5230\u8fbe\u52301500\u5b57\u8282\u6216\u7a0d\u591a\u4e00\u4e9b\u4e3a\u6b62\u3002\uff09</p> <p>\u8981\u4e48\u5168\u53cc\u5de5\uff08\u4e07\u5146\u4ee5\u592a\u7f51\uff09\u5c31\u4e0d\u5b58\u5728\u51b2\u7a81\u4e86\uff1a\u5e76\u4e14\u53ea\u7528\u5149\u7ea4\u4f20\u64ad</p>"},{"location":"Basic-is-everything/Network/basic/%E5%B1%80%E5%9F%9F%E7%BD%91%E5%8E%9F%E7%90%86%E5%92%8C%E6%8A%80%E6%9C%AF/#_8","title":"\u865a\u62df\u5c40\u57df\u7f51","text":"<p>\u4f5c\u7528\uff1a\u4e0d\u7528\u8def\u7531\u5668\u5c31\u53ef\u4ee5\u5206\u914d\u5c40\u57df\u7f51\uff0c\u5b9e\u9645\u60c5\u51b5\u4e2d\u591a\u4ee5\u4ea4\u6362\u673a\u7684\u7aef\u53e3\u6765\u5212\u5206vlan</p> <p>\u5173\u952e\uff1a\u5e27\u683c\u5f0f\u4e2d\u591a\u4e864\u5b57\u8282\u7684vlan\u6807\u8bb0</p>"},{"location":"Basic-is-everything/Network/basic/%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/","title":"\u6570\u636e\u901a\u4fe1\u6280\u672f\u57fa\u7840","text":""},{"location":"Basic-is-everything/Network/basic/%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/#_2","title":"\u672f\u8bed","text":"<ul> <li>\u4fe1\u53f7\uff1a\u5185\u5bb9</li> <li>\u4fe1\u9053\uff1a\u4f20\u8f93\u7684\u901a\u4fe1\u7ebf\u8def</li> <li>\u4f20\u7801\u901f\u7387\uff08\u8c03\u5236\u901f\u7387\uff09 N(bd) \u6ce2\u7279 = \u7801\u5143/s </li> <li>\u4f20\u4fe1\u901f\u7387 R(b) bit/s\uff08\u6570\u636e\u4f20\u8f93\u901f\u7387\uff09\uff08\u4fe1\u9053\u5bb9\u91cf\uff09   \u4e00\u4e2a\u7801\u5143\u53ef\u4ee5\u5e26log2N \u6bd4\u7279\u4e2a\u7801\u4fe1\uff0cN\u6307\u7684\u662f\u7535\u5e73\u3002\u6240\u4ee52\u7535\u5e73\u7684\u4f20\u7801\u901f\u7387 === \u4f20\u4fe1\u901f\u7387</li> </ul>"},{"location":"Basic-is-everything/Network/basic/%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/#_3","title":"\u5e26\u5bbd\uff1a","text":"<ul> <li>\u4e00\u662f\u4fe1\u53f7\u81ea\u8eab\u6700\u9ad8\u9891\u7387\u51cf\u6700\u4f4e\u9891\u7387\u7684\u5dee\u503c\uff08\u5355\u4f4d\u662f\u201cHz\u201d\uff09\uff0c\u9999\u519c\u5b9a\u7406C=Wlog2\uff081+S/N\uff09\u4e2d\u7684W\u662f\u5e26 \u5bbd\uff0c\u5355\u4f4d\u662f\"Hz\"\uff1b\uff08\u6a21\u62df\u4fe1\u9053 \u662f\u4e0e\u6ce2\u4e0e\u9891\u7387\u76f8\u5173\u7684\uff09</li> <li>\u4e8c\u662f\u4fe1\u606f\u4f20\u8f93\u901f\u7387\u7684\u6700\u5927\u503c\uff08\u5355\u4f4d\u662f\u201cbps\u201d\uff09\uff0c\u6bd4\u5982\u73b0\u5728\u5e02\u573a\u4e0a\u8bf4\u76842M\u5e26\u5bbd\u5c31\u662f2Mbps\u7684\u610f\u601d\u3002</li> </ul> <p>\u5177\u4f53\u533a\u522b\u8981\u770b\u8bed\u5883\u3002\uff08\u6570\u5b57\u4fe1\u9053 \u6240\u4ee5\u662f\u4e0e\u6bd4\u7279\u76f8\u5173\u7684 \u5176\u5b9e\u66f4\u51c6\u786e\u7684\u8bf4\u6cd5\u662f\u4fe1\u9053\u5bb9\u91cf\uff09\u3002\u901a\u4fe1\u4e2d\u7684\u5e26\u5bbd\u7684\u5355\u4f4d\u4e00\u822c\u662f\u7b2c\u4e00\u79cd\u3002</p>"},{"location":"Basic-is-everything/Network/basic/%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/#_4","title":"\u8fd0\u8425\u5546\u7684\u5e26\u5bbd\u8bf4\u660e\uff1a","text":"<p>\u8fd0\u8425\u5546\u53ea\u4fdd\u8bc1\u4ed6\u7ed9\u4f60\u7684\u63a5\u53e3\u7aef\u7684\u5e26\u5bbd\uff0c\u4e5f\u5c31\u662f\u8bf4\u8fd0\u8425\u5546\u7ed9\u4f60\u62c9\u4e86\u4e00\u6839\u7f51\u7ebf\u8fc7\u6765\uff0c\u4ed6\u53ea\u4fdd\u8bc1\u8fd9\u4e2a\u7f51\u7ebf\u7684\u6c34\u6676\u5934\u5230\u5c40\u7aef\u7684\u5e26\u5bbd\u3002\u7f51\u7ebf\u548c\u5149\u7ea4\u5f53\u7136\u53ef\u4ee5\u627f\u62c5\u66f4\u5927\u7684\u5e26\u5bbd\uff0c\u4f46\u662f\u5f88\u7b80\u5355\uff0c\u8fd0\u8425\u5546\u53ef\u4ee5\u5728\u5c40\u7aef\u9650\u5236\u4f60\u3002</p>"},{"location":"Basic-is-everything/Network/basic/%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/#_5","title":"\u65f6\u5ef6","text":"<ul> <li>\u53d1\u9001\u65f6\u5ef6/\u4f20\u8f93\u65f6\u5ef6\uff1a \u53ef\u4ee5\u60f3\u6210\u6709\u4e00\u5768\u6570\u636e\uff0c\u4e00\u6b21\u8fdb\u4e00\u6279\u6570\u636e\u5230\u4fe1\u9053\u91cc\uff0c\u8ba9\u5b83\u4eec\u90fd\u4e0a\u8def\u9700\u8981\u7684\u65f6\u95f4</li> <li>\u4f20\u64ad\u65f6\u5ef6</li> <li>\u5904\u7406\u65f6\u5ef6\uff1a\u4ea4\u6362\u8282\u70b9\u5b58\u50a8\u8f6c\u53d1\u64cd\u4f5c\u7684\u65f6\u95f4</li> </ul>"},{"location":"Basic-is-everything/Network/basic/%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/#_6","title":"\u4fe1\u9053\u5bb9\u91cf","text":"<ul> <li>\u5948\u6c0f\u51c6\u5219\uff1a\u6a21\u62df\u4fe1\u9053\u7684\u5e26\u5bbd =&gt; \u6700\u5927\u4f20\u7801\u7387\uff08*2\uff09 =&gt; \u6700\u5927\u4f20\u4fe1\u7387</li> <li>\u9999\u519c\u5b9a\u5f8b\uff08\u6709\u566a\u58f0\u7684\u60c5\u51b5\u4e0b\uff09\uff1a\u6a21\u62df\u4fe1\u9053\u7684\u5e26\u5bbd + \u4fe1\u566a\u6bd4 =&gt; \u6700\u5927\u4f20\u4fe1\u7387</li> </ul>"},{"location":"Basic-is-everything/Network/basic/%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/#_7","title":"\u4e09\u79cd\u591a\u8def\u590d\u7528\u6280\u672f","text":"<p>\u6682\u65f6\u4e0d\u80fd\u7279\u522b\u7406\u89e3</p>"},{"location":"Basic-is-everything/Network/basic/%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/#_8","title":"\u4e09\u79cd\u6570\u636e\u4ea4\u6362\u6280\u672f","text":"<p>https://blog.csdn.net/xiaojianpitt/article/details/5039020</p> <p>\u53ea\u8981\u8bb0\u4f4f \u7535\u8def\u4ea4\u6362 &gt;&gt; [ \u62a5\u6587\u4ea4\u6362 &gt;&gt; \u5206\u7ec4\u4ea4\u6362]</p> <p>\u524d\u8005\u9700\u8981\u5148\u5efa\u7acb\u8fde\u63a5 \u5bf9\u7269\u7406\u8fde\u63a5\u662f\u72ec\u5360\u6027\u7684 \u7c7b\u4f3c\u4e8e\u5360\u7ebf</p> <p>\u540e\u4e24\u8005\u5b58\u50a8\u8f6c\u53d1 \u4f46\u662f\u62a5\u6587\u4e0d\u56fa\u5b9a\u957f\u5ea6\u5b58\u50a8\u7a7a\u95f4\u5927 \u5206\u7ec4\u867d\u7136\u5207\u7247\u4f46\u662f\u540e\u7eed\u9700\u8981\u518d\u6b21\u62fc\u88c5 \u5bf9\u9519\u8bef\u68c0\u6d4b\u8981\u6c42\u9ad8</p>"},{"location":"Basic-is-everything/Network/basic/%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/#_9","title":"\u4e24\u79cd\u68c0\u9519\u6280\u672f","text":""},{"location":"Basic-is-everything/Network/basic/%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/#_10","title":"\u5947\u5076\u6821\u9a8c","text":""},{"location":"Basic-is-everything/Network/basic/%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80/#_11","title":"\u5faa\u73af\u5197\u4f59","text":"<p>\u5faa\u73af\u5197\u4f59\u867d\u7136\u8fd8\u6ca1\u6709\u5f88\u6e05\u695a\u539f\u7406 \u4f46\u662f\u603b\u7b97\u4f1a\u7b97\u4e86\uff01\uff01</p> <p>https://blog.51cto.com/winda/1063951</p> <ol> <li>\u751f\u6210\u591a\u9879\u5f0f</li> <li>\u5f97\u5230CRC\u6821\u9a8c\u7801/\u5e27\u6821\u9a8c\u5e8f\u5217(\u539f\u5e27+\u751f\u6210\u591a\u9879\u5f0f\u4f4d\u6570-1\u4e2a0\u540e\uff0c\u6a21\u4e8c\u9664\u751f\u6210\u591a\u9879\u5f0f\u7684\u4f59\u6570)</li> <li>\u53d1\u9001\u539f\u5e27+\u5e27\u6821\u9a8c\u5e8f\u5217</li> <li>\u5f97\u5230\u7684\u7ed3\u679c\u6a21\u4e8c\u9664\u751f\u6210\u591a\u9879\u5f0f\u770b\u4f59\u6570\u662f\u5426\u4e3a0\uff08\u6a21\u4e8c\u9664\u52a0\u51cf\u7b97\u6cd5 == \u903b\u8f91\u5f02\u6216\uff09</li> </ol>"},{"location":"Basic-is-everything/Network/basic/%E7%BD%91%E7%BB%9C%E5%AE%9E%E8%B7%B5/","title":"\u7f51\u7edc\u5b9e\u8df5","text":""},{"location":"Basic-is-everything/Network/basic/%E7%BD%91%E7%BB%9C%E5%AE%9E%E8%B7%B5/#_2","title":"\u5149\u732b","text":"<p>\u5149\u732b\u7684\u4f5c\u7528\u662f\u628a\u5149\u4fe1\u53f7\uff08EPON/GPON\uff09\u8f6c\u6362\u4e3a\u7535\u4fe1\u53f7\u3002</p> <p>\u56e0\u4e3a\u5927\u591a\u6570\u5bb6\u7528\u8def\u7531\u5668\u7684WAN\u53e3\u90fd\u662f\u4f7f\u7528\u7f51\u7ebf\u7684\uff0c\u800c\u7f51\u7ebf\u4f20\u8f93\u7684\u662f\u7535\u4fe1\u53f7\u3002\u5149\u732b\u7684\u4f5c\u7528\u5c31\u662f\u8fd9\u4e2a\uff0c\u4e00\u4e2a\u8f6c\u6362\u7684\u529f\u80fd~ \u6574\u4f53\u94fe\u8def\u662f \u5149\u732b -&gt; \u8def\u7531\u5668 -&gt; \u7535\u8111\u3002</p>"},{"location":"Basic-is-everything/Network/basic/%E7%BD%91%E7%BB%9C%E5%AE%9E%E8%B7%B5/#_3","title":"\u4e0a\u7f51\u65b9\u5f0f","text":""},{"location":"Basic-is-everything/Network/basic/%E7%BD%91%E7%BB%9C%E5%AE%9E%E8%B7%B5/#_4","title":"\u62e8\u53f7\u4e0a\u7f51","text":"<p>\u4e2d\u95f4\u662f\u4e00\u6839\u7535\u8bdd\u7ebf\uff0c\u4f60\u8fd9\u5934\u662f\u4e00\u4e2a\u62e8\u53f7\u732b\uff08\u800c\u4e0d\u662f\u7535\u8bdd\u673a\uff0c\u4e5f\u6709\u53ef\u80fd\u662f\u4e00\u4e2a\u5185\u7f6e\u5728\u7535\u8111\u91cc\u9762\u7684\u7a84\u5e26\u732b\uff09\uff0c\u8fd0\u8425\u5546\u673a\u623f\u90a3\u5934\u662f\u5bf9\u5e94\u7684\u8bbe\u5907\u3002</p> <p>\u6570\u636e\u8d70\u7535\u8bdd\u7ebf\u3002\u73b0\u5728\u7684\u8d8b\u52bf\u662f\u8bed\u97f3IP\u5316\u4ee5\u540e\uff0c\u8bed\u97f3\u4e5f\u8d70\u5149\u7ea4\u3002</p>"},{"location":"Basic-is-everything/Network/basic/%E7%BD%91%E7%BB%9C%E5%AE%9E%E8%B7%B5/#adslasymmetric-digital-subscribe-line","title":"\u5bbd\u5e26\u4e0a\u7f51\uff08ADSL\uff09Asymmetric Digital Subscribe Line","text":"<p>\u4e2d\u95f4\u8fd8\u662f\u4e00\u6839\u7535\u8bdd\u7ebf\uff0c\u4f60\u8fd9\u5934\u662f\u4e00\u4e2aADSL\u5bbd\u5e26\u732b\uff0c\u8fd0\u8425\u5546\u673a\u623f\u90a3\u5934\u662f\u5bf9\u5e94\u7684\u5bbd\u5e26\u8bbe\u5907\u3002</p> <p>ADSL\u5f53\u7136\u8d70\u7535\u8bdd\u7ebf\uff0c\u901a\u8fc7\u9891\u5206\u7684\u65b9\u5f0f\u4f7f\u7528\u4e86\u6bd4\u8bed\u97f3\u901a\u4fe1\u66f4\u9ad8\u7684\u9891\u6bb5\uff0c\u56e0\u6b64\u53ef\u4ee5\u505a\u5230\u52a0\u8f7d\u7535\u8bdd\u800c\u4e14\u53ef\u540c\u65f6\u4f7f\u7528\u3002\u56e0\u6b64\u52a0\u8f7d\u7535\u8bdd\u7684ADSL\u9700\u8981\u5728\u7ebf\u8def\u4e24\u6bb5\u6709\u5206\u79bb\u5668\uff0c\u5c06\u7535\u8bdd\u4fe1\u53f7\u548c\u6570\u636e\u4fe1\u53f7\u6839\u636e\u9891\u7387\u8fdb\u884c\u5206\u79bb\uff0c\u8bed\u97f3\u4fe1\u53f7\u9001\u5230\u5c40\u7aef\u7684\u7a0b\u63a7\u4ea4\u6362\u673a\u5904\u7406\uff0c\u6570\u636e\u4fe1\u53f7\u76f4\u63a5\u9001\u8fdbDSLAM\u5904\u7406\u3002</p>"},{"location":"Basic-is-everything/Network/basic/%E7%BD%91%E7%BB%9C%E5%AE%9E%E8%B7%B5/#ftthfiber-to-the-home","title":"\u5149\u7ea4\u5230\u6237\uff08FTTH\uff09fiber to the home","text":"<p>\u4e2d\u95f4\u662f\u4e00\u6839\u5149\u7ea4\uff0c\u4f60\u8fd9\u5934\u7684\u697c\u9053\u91cc\u6709\u4e2a\u5c0f\u4ea4\u6362\u673a\uff08\u4ea4\u6362\u673a\u5230\u4f60\u7535\u8111\u662f\u4e00\u5c0f\u6bb5\u7f51\u7ebf\uff09\u3002\u8fd0\u8425\u5546\u673a\u623f\u90a3\u5934\u662f\u5bf9\u5e94\u7684\u5bbd\u5e26\u8bbe\u5907\u3002</p> <p>\u5149\u7ea4\u65b9\u5f0f\uff1a</p> <p>\u4e2d\u95f4\u662f\u4e00\u6839\u5149\u7ea4\uff0c\u4f60\u8fd9\u5934\u662f\u4e00\u4e2a\u5149\u732b\uff0c\u8fd0\u8425\u5546\u673a\u623f\u90a3\u5934\u662f\u5bf9\u5e94\u7684\u5149\u5bbd\u5e26\u8bbe\u5907\u3002</p> <p>\u50cf\u5b66\u6821\u548c\u4e00\u4e9b\u5c0f\u8fd0\u8425\u5546\uff0c\u901a\u8fc7\u5728\u697c\u680b\u91cc\u8bbe\u7acb\u4ea4\u6362\u673a\uff0c\u7136\u540e\u4ece\u4ea4\u6362\u673a\u4e0a\u62c9\u7f51\u7ebf\u5230\u7528\u6237\u5bb6\u91cc\uff0c\u7b97\u662fFTTH\u7684\u4e00\u79cd\u5417</p> <p>\u7ed9\u7535\u4fe1\u6253\u7535\u8bdd\u8bf4\u8981\u88c5\u5bbd\u5e26\uff0c\u4f60\u4ea4\u94b1\u7ed9\u4ed6\uff0c\u4ed6\u6d3e\u4eba\u8fc7\u6765\u4ece\u697c\u9053\u91cc\u7684\u5f31\u7535\u7bb1\u626f\u4e00\u6839\u5149\u7ea4\u5230\u4f60\u5bb6\u91cc\uff0c\u518d\u7ed9\u4f60\u88c5\u4e00\u4e2a\u5149\u732b\u8fde\u5230\u5149\u7ea4\u4e0a\uff0c\u5149\u732b\u540e\u9762\u518d\u8fde\u4e00\u4e2a\u8def\u7531\u5668\u3002</p> <p>\u4f60\u5c31\u53ef\u4ee5\u628a\u7f51\u7ebf\u7684\u4e00\u5934\u63d2\u5728\u8def\u7531\u5668\u4e0a\u53e6\u4e00\u5934\u63d2\u5728\u7535\u8111\u4e0a\uff0c\u4e0a\u7f51\u4e86\u3002\u8def\u7531\u5668\u8fd8\u4f1a\u53d1\u5c04\u65e0\u7ebfWi-Fi\u4fe1\u53f7\uff0c\u8fd9\u6837\u624b\u673a\u4e5f\u80fd\u8fde\u4e0aWi-Fi\u4e0a\u7f51\u4e86\u3002</p> <p>\u5149\u7ea4\u4e00\u6839\u6839\u5408\u8d77\u6765\u5305\u4e0a\u5916\u76ae\u5c31\u662f\u5149\u7f06\uff0c\u91cc\u9762\u662f\u7528\u5149\u6765\u6a21\u62df\u6570\u5b57\u4fe1\u53f7\uff0c\u5149\u901f\u6700\u5feb\uff0c\u6240\u4ee5\u4fe1\u53f7\u5728\u5149\u7ea4\u4e2d\u4f20\u64ad\u5f97\u6700\u5feb\u3002</p> <p>\u7f51\u7ebf\u662f\u4e00\u6839\u6839\u94dc\u4e1d\u5408\u8d77\u6765\u5305\u4e0a\u5916\u76ae\uff0c\u91cc\u9762\u7528\u7535\u6a21\u62df\u6570\u5b57\u4fe1\u53f7\uff0c\u7535\u5b50\u5728\u5bfc\u4f53\u4e2d\u7684\u901f\u5ea6\u4f4e\u4e8e\u5149\u901f\uff0c\u6240\u4ee5\u4fe1\u53f7\u5728\u7f51\u7ebf\u4e2d\u4f20\u64ad\u8981\u6162\u4e8e\u5149\u7ea4\u3002</p> <p>\u7f51\u7ebf\u662f\u7535\u7f06\u7684\u4e00\u79cd\uff0c\u53ea\u4e0d\u8fc7\u7535\u6d41\u5f3a\u5ea6\u5f88\u5c0f\uff0c\u662f\u5f31\u7535\u3002</p>"},{"location":"Basic-is-everything/Network/basic/%E7%BD%91%E7%BB%9C%E5%AE%9E%E8%B7%B5/#ip","title":"\u5171\u4eab IP","text":"<p>\u7531\u4e8eIPV4\u7684\u5730\u5740\u67af\u7aed\uff0c\u76ee\u524d\u5927\u90e8\u5206\u57ce\u5e02\uff0c\u57fa\u672c\u4e0a\u9ed8\u8ba4\u90fd\u8d70\u5171\u4eabIP\uff0c\u4e5f\u5c31\u662f\u540c\u4e00\u680b\u697c\u6216\u8005\u4e00\u4e2a\u8303\u56f4\u5185\u6240\u7528\u7528\u6237\u5171\u540c\u4e00\u4e2a\u5bf9\u5916IP\uff0c\u4e5f\u5c31\u53ef\u80fd\u662f\u95ee\u9898\u4e2d\u63d0\u5230\u7684\u5171\u4eab\u4f7f\u7528</p> <p>\u5bbd\u5e26\u7f51\u7edc\u786c\u4ef6\u7b80\u5355\u4ecb\u7ecd\uff08\u975e\u786c\u6838\u77e5\u8bc6\uff0c\u5c0f\u767d\u529e\u5bbd\u5e26\u53ef\u53c2\u8003\uff09 - \u77e5\u4e4e: https://zhuanlan.zhihu.com/p/127034563</p> <p>\u9884\u57cb\u7f51\u7ebf\uff1a\u51e0\u7c7b\u7f51\u7ebf~ \u6570\u5b57\u5c0f\u7684\u5dee\uff0c\u6570\u5b57\u5927\u7684\u597d</p>"},{"location":"Basic-is-everything/Network/basic/%E7%BD%91%E7%BB%9C%E5%AE%9E%E8%B7%B5/#about","title":"about \u8def\u7531\u5668","text":""},{"location":"Basic-is-everything/Network/basic/%E7%BD%91%E7%BB%9C%E5%AE%9E%E8%B7%B5/#ap","title":"ap \u9762\u677f","text":"<p>\u8fd9\u8981\u4ecewifi\u4fe1\u53f7\u7684\u4f20\u64ad\u65b9\u5f0f\u8bf4\u8d77\uff0c\u672c\u8d28\u4e0awifi\u4fe1\u53f7\u662f\u4ee5\u7535\u78c1\u6ce2\u7684\u5f62\u5f0f\u8fdb\u884c\u4f20\u64ad\u7684\uff0c\u8fd9\u8fb9\u76842.4G\u548c5G\u6307\u7684\u5c31\u662f\u7535\u78c1\u6ce2\u7684\u9891\u7387</p> <p>\u53ef\u4ee5\u770b\u51fa\u56fe\u4e2d\u4ece\u4e00\u4e2a\u4fe1\u53f7\u6e90\u51fa\u6765\u7684\u4e24\u4e2a\u4fe1\u53f75G\u7684\u4fe1\u53f7\u4f1a\u6bd42.4G\u7684\u4fe1\u53f7\u5c11\u4e86\u4e00\u683c\uff0c\u4e0e\u4fe1\u53f7\u6e90\u7684\u8ddd\u79bb\u76f8\u540c\u65f6\uff0c5G\u4fe1\u53f7\u76f8\u5bf92.4G\u4fe1\u53f7\u8f83\u5f31\uff0c\u8fd9\u662f\u7531\u7535\u78c1\u6ce2\u7684\u7269\u7406\u7279\u6027\u51b3\u5b9a\u7684\uff1a\u6ce2\u957f\u8d8a\u957f\u8870\u51cf\u8d8a\u5c11\uff0c\u4e5f\u66f4\u5bb9\u6613\u7ed5\u8fc7\u969c\u788d\u7269\u7ee7\u7eed\u4f20\u64ad\u30025G\u4fe1\u53f7\u9891\u7387\u9ad8\u3001\u6ce2\u957f\u77ed\uff0c\u800c2.4G\u4fe1\u53f7\u9891\u7387\u4f4e\u3001\u6ce2\u957f\u957f\uff0c\u6240\u4ee55G\u4fe1\u53f7\u7a7f\u8fc7\u969c\u788d\u7269\u65f6\u8870\u51cf\u66f4\u5927\uff0c\u7a7f\u5899\u80fd\u529b\u6bd42.4G\u4fe1\u53f7\u5f31\u3002</p> <p>AP\u662fwifi\u5165\u53e3\uff0cAC\u53ef\u4ee5\u7ba1\u7406\u8fd9\u4e9b\u5165\u53e3\u3002\u53e6\u5916AP\u6709\u80d6AP\uff08FAT AP\uff09\u548c\u7626AP\uff08FIT AP\uff09\u4e4b\u5206</p>"},{"location":"Basic-is-everything/Network/basic/%E7%BD%91%E7%BB%9C%E5%AE%9E%E8%B7%B5/#wan-lan","title":"wan \u53e3\u4e0e lan \u53e3","text":"<p>wan\uff1aWide Area Network \u5e7f\u57df\u7f51</p> <p>lan\uff1a\u5c40\u57df\u7f51</p> <p>\u65e0\u7ebf\u8def\u7531\u5668\u7684WAN\u53e3\u4e0eLAN\u53e3\u662f\u8def\u7531\u5668\u7684\u4ee5\u592a\u7f51\u53e3\uff0c\u7b80\u5355\u5730\u8bf4\uff0c\u4e00\u4e2a\u8fde\u5916\u7f51\uff0c\u4e00\u4e2a\u8fde\u5185\u7f51\u3002WAN\u53e3\uff1a\u5e7f\u57df\u7f51\u63a5\u53e3\uff0c\u8fde\u63a5\u732b\u6216\u5149\u732b\u3001\u5165\u6237\u5149\u7ea4\u5bbd\u5e26\u7b49\u5916\u90e8\u7f51\u7edc\uff1bLAN\u53e3\uff1a\u672c\u5730\u7f51\u63a5\u53e3\uff0c\u8fde\u63a5\u53f0\u5f0f\u7535\u8111\u3001\u7b14\u8bb0\u672c\u3001\u7535\u89c6\u673a\u3001\u4ea4\u6362\u673a\u7b49\u5185\u90e8\u7f51\u7edc\uff0c\u5c06\u4e00\u6839\u7f51\u7ebf\u4e00\u7aef\u8fde\u63a5\u4efb\u610f\u4e00\u4e2aLAN\u53e3\uff0c\u4e00\u7aef\u8fde\u63a5\u81ea\u5df1\u5bb6\u91cc\u9700\u8981\u8054\u7f51\u7684\u8bbe\u5907~</p>"},{"location":"Basic-is-everything/Network/basic/%E7%BD%91%E7%BB%9C%E5%AE%9E%E8%B7%B5/#_5","title":"\u5bb6\u5ead\u7f51\u7edc\u7ba1\u7406\u6a21\u5f0f","text":"<ul> <li>\u9884\u57cb\u7f51\u7ebf\u7528 ap+ac</li> <li>\u6ca1\u6709\u7f51\u7ebf\u5c31\u7528 mesh</li> </ul> <p>mesh\uff1a\u548c\u4e3b\u8def\u7531\u5668\u5171\u4eab\u4e00\u4e2awifi\u540d\u79f0</p> <p>\u652f\u6301 Mesh \u529f\u80fd\u7684\u8def\u7531\u5668\uff0c\u7ec4\u7f51\u540e\uff0c\u4f1a\u751f\u6210\u4e00\u79cd\u7f51\u72b6\u7f51\u7edc\uff0c\u4e0d\u540c\u63a5\u5165\u70b9\u53ef\u4ee5\u4ee5\u661f\u72b6\u3001\u6811\u72b6\u3001\u4e32\u8054\u548c\u603b\u7ebf\u65b9\u5f0f\uff0c\u6df7\u5408\u7ec4\u7f51\u3002\u5728\u8fd9\u4e2a\u7f51\u7edc\u4e2d\uff0cSSID\u7edf\u4e00\uff0c\u65e0\u7ebf\u8bbe\u5907\u8fd8\u53ef\u4ee5\u81ea\u7531\u5bfb\u627e\u4fe1\u53f7\u6700\u597d\u7684\u8282\u70b9\u53bb\u8fde\u63a5\u4f20\u8f93\u6570\u636e\uff0c\u7528\u6237\u624b\u6301\u8bbe\u5907\u5728\u4e0d\u540c\u8282\u70b9\u95f4\uff0c\u7a7f\u68ad\u65f6\u65e0\u7ebf\u7f51\u7edc\u662f\u65e0\u7f1d\u5207\u6362\u7684\u3002</p>"},{"location":"Basic-is-everything/Network/basic/%E7%BD%91%E7%BB%9C%E5%AE%9E%E8%B7%B5/#_6","title":"\u5982\u679c\u7528\u591a\u4e2a\u8def\u7531\u5668\u5462","text":"<p>\u4e24\u4e2a\u8def\u7531\u5668\u4e0b\u7684\u8bbe\u5907\u9ed8\u8ba4\u4e0d\u80fd\u4e92\u8bbf\uff0c\u5728\u623f\u95f4\u5185\u6765\u56de\u8d70\u52a8\u7684\u65f6\u5019\u4e0d\u80fd\u81ea\u52a8\u65e0\u7f1d\u5207\u6362\uff0c\u4e5f\u5c31\u662f\u6f2b\u6e38\u3002</p>"},{"location":"Basic-is-everything/Network/basic/%E7%BD%91%E7%BB%9C%E5%AE%9E%E8%B7%B5/#_7","title":"\u7535\u89c6\u76d2\u5b50\u7684\u5206\u7c7b\u4e0e\u4f5c\u7528","text":"<p>\u77e5\u4e4e: https://zhuanlan.zhihu.com/p/60111340</p>"},{"location":"Basic-is-everything/Network/basic/%E7%BD%91%E7%BB%9C%E5%AE%9E%E8%B7%B5/#_8","title":"\u4ea4\u6362\u673a\u4ec0\u4e48\u65f6\u5019\u7528\uff1f","text":"<p>1.\u8def\u7531\u5668\u7f51\u7edc\u63d2\u53e3\u4e0d\u591f\u7528\u7684\u60c5\u51b5\u4e0b</p> <p>2.\u9700\u8981\u7528\u5230\u9ad8\u901f\u5c40\u57df\u7f51\u7684\u60c5\u51b5\u4e0b</p> <p>\u4ea4\u6362\u673a\u5c31\u662f\u5206\u7ebf\u5668\uff0c\u76f8\u5f53\u4e8e\u7f51\u7ebf\u7248\u672c\u7684\u63d2\u6392</p> <p>\u767e\u5146\u4ea4\u6362\u673a\uff0c\u6bcf\u4e2a\u7aef\u53e3\u90fd\u662f\u767e\u5146\u3002\u4ea4\u6362\u673a\u4e0d\u4f1a\u5206\u5e26\u5bbd\u3002</p> <p>\u96c6\u7ebf\u5668\u4e5f\u4e0d\u662f\u6bcf\u4e2a10M\uff0c\u662f10\u5341\u53f0\u4e3b\u673a\u3002\u5171\u4eab100\u5146\u3002\u5982\u679c\u5176\u4e2d\u540c\u65f6\u53ea\u6709\u4e00\u5bf9\u513f\u4e3b\u673a\u5728\u901a\u4fe1\u90a3\u4e48\u8fd9\u4e00\u5bf9\u513f\u4e3b\u673a\u5c31\u53ef\u4ee5\u4f7f\u7528100\u5146\u7684\u5e26\u5bbd\u3002</p> <p>\u4ea4\u6362\u673a\u53ef\u4ee5\u8ba4\u4e3a\u662f\u6709\u4e00\u4e2a\u81ea\u52a8\u63a5\u7ebf\u5458\u624b\u91cc\u62ff\u7740\u4e94\u6761\u7ebf\u5728\u968f\u65f6\u76ef\u7740\u7684\u5341\u53f0\u7535\u8111\u3002\u6709\u7535\u8111\u60f3\u8981\u901a\u4fe1\u7684\u65f6\u5019\uff0c\u4ed6\u5c31\u628a\u90a3\u4e00\u5bf9\u513f\u7535\u8111\u8fde\u63a5\u8d77\u6765\uff0c\u9664\u975e\u53e6\u5916\u4e00\u53f0\u7535\u8111\u6b63\u5728\u901a\u4fe1\u5f53\u4e2d\u3002</p> <p>\u96c6\u7ebf\u5668\u5c31\u662f\u53ea\u6709\u4e00\u6761\u7ebf\u628a\u5341\u53f0\u7535\u8111\u90fd\u8fde\u63a5\u8d77\u6765\u4e86\u3002</p>"},{"location":"Basic-is-everything/Network/basic/%E7%BD%91%E7%BB%9C%E5%AE%9E%E8%B7%B5/#vlan","title":"VLAN","text":"<p>VLAN \u6240\u6307\u7684 LAN \u7279\u6307\u4f7f\u7528\u8def\u7531\u5668\u5206\u5272\u7684\u7f51\u7edc\u2014\u2014\u4e5f\u5c31\u662f\u5e7f\u64ad\u57df\u3002\uff08vlan \u865a\u62df\u5c40\u57df\u7f51\uff09</p> <p>\u4ece VLAN \u5212\u5206\u7684\u539f\u7406\u53ef\u4ee5\u770b\u51fa VLAN \u5212\u5206\u7684\u4f5c\u7528\u30021\uff09VLAN \u7684 LAN \u662f\u6307\u5e7f\u64ad\u57df\uff0c\u5373\u5e7f\u64ad\u5e27\u80fd\u591f\u5230\u8fbe\u7684\u8303\u56f4\uff0c\u5373\u76f4\u63a5\u901a\u4fe1\u7684\u8303\u56f4\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u8ba1\u7b97\u673aA\u548c\u8ba1\u7b97\u673aB\u901a\u4fe1\uff0cA\u5fc5\u987b\u5148\u5e7f\u64ad ARP \u8bf7\u6c42\uff0c\u4ea4\u6362\u673a\u63a5\u6536\u5230 ARP \u8bf7\u6c42\uff0c\u4f1a\u8f6c\u53d1\u7ed9\u9664\u63a5\u6536\u7aef\u53e3\u5916\u7684\u5176\u4ed6\u7aef\u53e3\uff0c\u6700\u7ec8ARP\u4f1a\u88ab\u8f6c\u53d1\u5230\u7f51\u7edc\u4e2d\u7684\u6240\u6709\u4e3b\u673a\u4e0a\uff0cB\u6536\u5230\u540e\u8fd4\u56de MAC \u5730\u5740\u30022\uff09VLAN \u95f4\u662f\u65e0\u6cd5\u901a\u4fe1\u7684\uff0cVLAN \u53ef\u4ee5\u901a\u8fc7\u8def\u7531\u5668\u6216\u8005\u4e09\u5c42\u4ea4\u6362\u673a\u8fdb\u884c\u901a\u4fe1\u3002\u5212\u5206VLAN\uff0c\u4f5c\u7528\u5982\u4e0b\uff1a1\uff09\u51cf\u5c11 ARP \u6cdb\u6d2a\u7684\u8303\u56f4\uff0c\u8282\u7701\u4e86\u5e26\u5bbd\uff0c\u800c\u4e14\u66f4\u52a0\u5b89\u5168\u30022\uff09VLAN \u57fa\u4e8e\u7aef\u53e3\u5212\u5206\u6216\u57fa\u4e8eIP\u5730\u5740\u5212\u5206\uff0c\u5c06\u4e00\u53f0\u4ea4\u6362\u673a\u5728\u903b\u8f91\u4e0a\u5206\u6210\u4e86\u6570\u53f0\u4ea4\u6362\u673a\uff0c\u903b\u8f91\u4e0a\u8fdb\u884c\u4e86\u9694\u79bb\u3002</p> <p>\u5c31\u50cf\u4e00\u4e2a\u96c6\u4f53\u5bbf\u820d\u603b\u6709\u4eba\u9700\u8981\u6709\u72ec\u7acb\u7684\u7a7a\u95f4\u4e00\u6837\uff0c\u5212\u5206VLAN\u53ef\u4ee5\u4f7f\u7279\u5b9a\u7684\u6570\u636e\u6d41\u8fdb\u5165\u7279\u5b9a\u7684 VLAN\uff0c\u6bd4\u5982\u5b9e\u9645\u4e2d\u4e00\u4e2a\u516c\u53f8\u7684\u8d22\u52a1\u90e8\u548c\u4eba\u529b\u8d44\u6e90\u90e8\u7684\u4e3b\u673a\u4e00\u822c\u4e0d\u53ef\u80fd\u5728\u4e00\u4e2aVLAN\u91cc</p> <p>VLAN \u80fd\u9694\u79bb\u540c\u4e00\u7f51\u6bb5</p>"},{"location":"Basic-is-everything/Network/basic/%E7%BD%91%E7%BB%9C%E5%AE%9E%E8%B7%B5/#_9","title":"\u7f51\u5173","text":"<p>\u7f51\u5173\u662f\u4e00\u4e2a\u5904\u4e8e\u4e0d\u540c\u7f51\u6bb5\u4e2d\u95f4\u7ad9\u7684\u6982\u5ff5</p> <p>\u8def\u7531\u5668\u53ef\u4ee5\u5f53\u7f51\u5173\uff0c\u81ea\u5df1\u5199\u7684 node \u6216\u8005 nginx \u4e5f\u53ef\u4ee5\u5f53\u3002</p>"},{"location":"Basic-is-everything/Network/basic/%E7%BD%91%E7%BB%9C%E5%AE%9E%E8%B7%B5/#_10","title":"\u5ef6\u65f6\u4e0e\u5e26\u5bbd","text":"<p>\u6e38\u620f\u53f3\u4e0a\u89d2\u7684xxms \u4ee3\u8868\u5ef6\u65f6\uff1b\u800c\u5e26\u5bbd\uff08\u51e0\u767eM\uff09\u4ee3\u8868\u7684\u51e0\u8f66\u9053\u3002</p> <p>1.\u5ef6\u8fdf\u548c\u5e26\u5bbd\u662f\u4e24\u4e2a\u6982\u5ff5</p> <p>2.\u5206\u6e05\u695a\u6bd4\u7279\u548c\u5b57\u8282</p> <p>3.\u7f51\u7edc\u5e26\u5bbd\u662f\u6728\u6876\u539f\u7406\uff0c\u53d6\u51b3\u4e8e\u6700\u6162\u7684\u8bbe\u5907\uff08\u7f51\u5361 \u7f51\u7ebf \u8def\u7531\u5668 \u5149\u732b\uff09</p> <p>4.\u4e0b\u8f7d\u901f\u5ea6\u5e76\u4e0d\u80fd\u7edd\u5bf9\u7684\u4f53\u73b0\u7f51\u7edc\u7684\u62e5\u5835\u72b6\u51b5</p>"},{"location":"Basic-is-everything/Network/misc/Proxy/","title":"Proxy","text":""},{"location":"Basic-is-everything/Network/misc/Proxy/#socks-vs-http","title":"socks v.s. http","text":"<ul> <li>connect</li> </ul> <p>the <code>CONNECT</code> method can be used to access websites that use SSL  (HTTPS). The client asks an HTTP Proxy server  to tunnel the TCP connection to the desired destination.</p>"},{"location":"Basic-is-everything/Network/misc/Proxy/#web-server-vs-forward-proxy-vs-reverse-proxy","title":"web server v.s. forward proxy v.s. reverse proxy","text":"<p>forward proxy:</p> <p>handles requests from and to anywhere on the Internet, also called as tunnel or gateway.</p> <p>Forward proxies can also be anonymous proxies and allow users to hide their IP address while browsing the Web or using other Internet services.</p> <p>Note, however, that not all proxy servers support the <code>CONNECT</code> method or limit it to port 443 only.</p> <ul> <li>nginx</li> <li>http-node-middleware</li> </ul> <p>reverse proxy:</p> <p>taking requests from the Internet and forwarding them to servers in an internal network offload the web servers</p> <p>\u5176\u5b9e\u6211\u89c9\u5f97\u4e3b\u8981\u8fd8\u662f\u4e00\u4e2a\u8bb2\u6cd5\u95ee\u9898\uff0c\u6b63\u5411\u4ee3\u7406\u4ee3\u7406\u7684\u5bf9\u8c61\u662f\u5ba2\u6237\u7aef\uff0c\u53cd\u5411\u4ee3\u7406\u4ee3\u7406\u7684\u5bf9\u8c61\u662f\u670d\u52a1\u7aef</p>"},{"location":"Basic-is-everything/Network/misc/Proxy/#development-best-practice","title":"Development best practice","text":""},{"location":"Basic-is-everything/Network/misc/Proxy/#refs","title":"Refs","text":"<p>https://developer.mozilla.org/en-US/docs/Web/HTTP/Proxy_servers_and_tunneling</p>"},{"location":"Basic-is-everything/Network/misc/vpnVsSs/","title":"vpn vs ss","text":"<p>vpn( virtual private system): \u662f\u4e00\u4e2a\u7cfb\u7edf\uff0c\u5de5\u4f5c\u5728\u6570\u636e\u94fe\u8def\u5c42</p> <p></p> <p>your VPN is the middleman you\u2019ve hired to make sure your data is under lock and key as it\u2019s transferred from your end to the website or service you\u2019re visiting. It also gives you privacy by keeping your real IP, device, and location hidden (although they may still be visible to the VPN provider).</p> <ul> <li> <p>vpn\u7684\u4f20\u8f93\u8fc7\u7a0b\u662f\u52a0\u5bc6\u7684/\u96a7\u9053\u6280\u672f \u6240\u4ee5ISP\u5e76\u4e0d\u77e5\u9053\u4f60\u53d1\u9001\u4e86\u4ec0\u4e48 \u4e5f\u65e0\u6cd5\u5bf9\u6b64\u4f5c\u51fa\u7be1\u6539 //\u4f46\u662fvpn\u63d0\u4f9b\u5546\u662f\u77e5\u9053\u7684</p> </li> <li> <p>\u4e5f\u6709\u4e0d\u540c\u7684vpn\u534f\u8bae\u53ef\u4ee5\u9009\u62e9</p> </li> <li> <p>\u4e00\u65e6\u4f7f\u7528\u4e86vpn \u5b83\u5c31\u63a5\u7ba1\u4f60\u4f60\u7535\u8111\u4e0a\u7684\u6240\u6709\u6d3b\u52a8</p> </li> </ul> <p>ss: An open-source SOCKS5-based proxy client/server project.  \u5de5\u4f5c\u5728\u5e94\u7528\u5c42</p> <ul> <li> <p>proxy\u9700\u8981\u6307\u5b9a\u54ea\u4e2a\u5e94\u7528\u7528\u624d\u53ef\u4ee5\u7528\uff0c\u4f46\u662fvpn\u4e00\u65e6\u542f\u7528\u5c31\u5168\u90e8\u542f\u7528\u4e86</p> </li> <li> <p>vpn\u53ef\u4ee5\u4f20\u8f93\u4efb\u4f55\u4fe1\u606f\uff0c\u4f46\u662fss\u57fa\u672c\u5c31\u53ea\u6709tcp</p> </li> </ul> <p>\u4ece sock5 \u534f\u8bae\u5230 shadowsocks</p> <p>sock5\u662f\u5e94\u7528\u5c42\u534f\u8bae\uff0c\u5c06\u7528\u6237\u6570\u636e\u6dfb\u52a0SOCKS 5\u5934\u90e8\uff0c\u53d1\u5230\u4f20\u8f93\u5c42\u3002\u6709\u81ea\u5df1\u7684\u534f\u8bae\u7279\u5f81\uff0c\u5f88\u5bb9\u6613\u88ab\u4fa6\u67e5\u51fa\u6765\uff0c\u4ee3\u7406\u670d\u52a1\u5668\u5bb9\u6613\u88ab\u5899~</p> <p>socks5\u5ba2\u6237\u7aef -- socks5\u534f\u8bae --&gt; socks5\u670d\u52a1\u5668 --&gt; \u76ee\u6807\u4e3b\u673a</p> <p>\u800cshdowsocks\u5219\u5c06socks5\u670d\u52a1\u5668\u4e00\u5206\u4e3a\u4e8c\uff0csocks5\u534f\u8bae\u653e\u5728\u672c\u5730\u6765\u505a\u4e86</p> <p>socks5\u5ba2\u6237\u7aef -- sockes5\u534f\u8bae --&gt; socks5.local\u670d\u52a1\u5668 -- \u5bc6\u6587 --&gt; socks5.server\u670d\u52a1\u5668 --&gt; \u76ee\u6807\u4e3b\u673a</p> <p>ref: http://peachey.blog/2017/12/28/py-shadowsocks/</p>"},{"location":"Basic-is-everything/Network/protocols/HTTP/","title":"http","text":""},{"location":"Basic-is-everything/Network/protocols/HTTP/#http_1","title":"\u5982\u4f55\u5b9e\u73b0 http","text":""},{"location":"Basic-is-everything/Network/protocols/HTTP/#http-11-vs-http2","title":"http 1.1 vs http2","text":"<p>http1</p> <p>keep-alive\uff1a\u4e0e\u6b64\u5bf9\u5e94\u7684\uff0c\u6709\u4e00\u4e2aContent-Length\u5c5e\u6027\u3002</p> <p>\u5b83\u5c31\u50cfip\u5305\u4f20\u9012\u7684\u90a3\u6837\uff0c\u4e00\u5b9a\u8981\u6307\u5b9a\u957f\u5ea6\u3002\u8fd9\u6837http\u6536\u5230\u4e00\u7cfb\u5217\u56de\u590d\u65f6\uff0c\u624d\u77e5\u9053\u4ec0\u4e48\u65f6\u5019\u8fd9\u4e2a\u8bf7\u6c42\u56de\u5b8c\u4e86\uff0c\u518d\u663e\u793a\u51fa\u6765\u3002</p> <p>\uff08\u8981\u8bb0\u4f4f\u8fd9\u6837\u7684\u6982\u5ff5\uff0c\u6536\u5230\u7684\u8bf7\u6c42\u56de\u590d\u4e0d\u662f\u4e00\u4e0b\u5b50\u6536\u5230\u7684\uff0c\u800c\u662f\u9010\u6b65\u6536\u5230\u7684\u3002\u5199 node \u7684\u65f6\u5019\u5c31\u8be5\u610f\u8bc6\u5230\uff09</p> <p>\uff08\u5982\u679c\u662f\u8bf7\u6c42html/css\u6587\u4ef6\uff0c\u6d4f\u89c8\u5668\u662f\u53ef\u4ee5\u505a\u5230\u8fb9\u6536\u5230\u4e00\u90e8\u5206\uff0c\u8fb9\u5904\u7406\u8fd9\u90e8\u5206\u7684\uff09</p> <p>http2</p> <p>\u7b80\u800c\u8a00\u4e4b\uff1a</p> <ul> <li> <p>\u5355\u57df\u540d\u5e76\u53d1\uff08\u591a\u8def\u590d\u7528\uff09\uff08HTTP/2 \u901a\u4fe1\u90fd\u5728\u4e00\u4e2a\u8fde\u63a5\u4e0a\u5b8c\u6210\uff0c\u8fd9\u4e2a\u8fde\u63a5\u53ef\u4ee5\u627f\u8f7d\u4efb\u610f\u6570\u91cf\u7684\u53cc\u5411\u6570\u636e\u6d41\uff09</p> </li> <li> <p>headers\u538b\u7f29</p> </li> <li> <p>\u670d\u52a1\u7aef\u63a8\u9001</p> </li> <li> <p>\u7531\u6587\u672c\u683c\u5f0f\u53d8\u6210\u4e86\u4e8c\u8fdb\u5236\u683c\u5f0f\uff08\u5728 \u5e94\u7528\u5c42(HTTP/2)\u548c\u4f20\u8f93\u5c42(TCP or UDP)\u4e4b\u95f4\u589e\u52a0\u4e00\u4e2a\u4e8c\u8fdb\u5236\u5206\u5e27\u5c42\uff09</p> </li> </ul> <p>\u8fd9\u4e24\u4e2a\u56de\u7b54\u6bd4\u8f83\u559c\u6b22\uff1a</p> <p>HTTP/2.0 \u76f8\u6bd41.0\u6709\u54ea\u4e9b\u91cd\u5927\u6539\u8fdb\uff1f - victor yu\u7684\u56de\u7b54 - \u77e5\u4e4e https://www.zhihu.com/question/34074946/answer/108588042 </p> <p>HTTP/2.0 \u76f8\u6bd41.0\u6709\u54ea\u4e9b\u91cd\u5927\u6539\u8fdb\uff1f - Leo Zhang\u7684\u56de\u7b54 - \u77e5\u4e4e https://www.zhihu.com/question/34074946/answer/75364178</p> <p>\u5728\u6ca1\u6709http2\u7684\u65f6\u5019\uff0c\u5ba2\u6237\u7aef\u4e3a\u4e86\u7ef4\u62a4\u957f\u8fde\u63a5\uff0c\u53ef\u80fd\u9700\u8981\u6709\u81ea\u5df1\u72ec\u7279\u7684\u901a\u4fe1\u65b9\u5f0f\u3002</p> <p>\u8fd8\u6709long polling \u4e5f\u5c31\u662f\u670d\u52a1\u7aef\u4e00\u76f4hold\u4f4f\u8bf7\u6c42\u4e0d\u56de\u590d \u4f46\u662f\u4f1a\u6709\u5751\u3002\u6bd4\u5982\u5728\u6709\u4ee3\u7406\u670d\u52a1\u5668\u7684\u60c5\u51b5\u4e0b\uff08\u601d\u8003\uff1a\u8fd8\u6709\u4ec0\u4e48\u5176\u4ed6\u65b9\u5f0f\u5462\uff09</p> <p>https://www.mnot.net/talks/h2fe/</p> <ul> <li>\u6700\u540e\u56e0\u4e3a HTTP/1 \u7684\u7ebf\u5934\u963b\u585e \uff08Head of line blocking\uff09\uff0c\u4f7f\u5f97\u8fc7\u53bb\u5408\u5e76\u591a\u4e2a\u8bf7\u6c42\u4e3a\u4e00\u4e2a\u8bf7\u6c42\u6210\u4e3a\u516c\u5171\u5b9e\u8df5\uff0c\u8bf8\u5982 CSS     Sprite\u3001inline image \u7b49\u5176\u4ed6\u7cfb\u5217\u7684\u5b9e\u8df5\uff0c\u770b\u4f3c\u534e\u4e3d\u7684 HTTP/1 \u6027\u80fd\u4f18\u5316\uff0c\u5b9e\u5219\u6709\u4e00\u5b9a\u7684\u5f00\u9500\u3002</li> </ul> <p>// \u8fd9\u5c31\u662f\u4e00\u4e2a\u8bf7\u6c42\u53d1\u9001\u5931\u8d25\u4e86\uff0c\u540e\u7eed\u4f1a\u4e00\u76f4\u5835\u4f4f\uff1f~</p> <ul> <li>\u4ee5\u53ca\u5355\u57df\u540d\u7684\u6700\u5927\u5e76\u53d1\uff0c\u6240\u4ee5\u624d\u6709\u57df\u540d\u53d1\u6563 =&gt;     cdn\u4e00\u822c\u90fd\u5bf9\u5e94\u597d\u591a\u57df\u540d</li> </ul> <p>\u6211\u7684\u535a\u5ba2\u56e0\u4e3a\u90fd\u662f\u9759\u6001\u8d44\u6e90\uff0cnginx\u914d\u7f6e\u5f88\u5bb9\u6613\u3002\u4e0d\u8fc7\u8981\u771f\u7684\u5728\u751f\u4ea7\u73af\u5883\u5347http2 \u8fd8\u662f\u8981\u6709\u987e\u8651\u3002</p> <p>\u6211\u53ea\u80fd\u60f3\u5230\u7684\u662f\uff0c\u63a8\u9001\u7684\u65f6\u5019\u5982\u679c\u5ba2\u6237\u7aef\u6709\u7f13\u5b58\u4e86\uff0c\u90a3\u4e0d\u5c31\u6d6a\u8d39\u4e86\u5417~\uff08https://www.zhihu.com/question/24774343/answer/96586977\uff09</p> <p>\u628a\u6240\u6709 HTTPS \u9879\u76ee\u65e0\u8111\u5347\u7ea7\u6210 HTTP/2 \u4f1a\u6709\u4ec0\u4e48\u5751\u5417\uff1f - \u5c0f\u721d\u7684\u56de\u7b54 - \u77e5\u4e4e https://www.zhihu.com/question/310263956/answer/582342502</p>"},{"location":"Basic-is-everything/Network/protocols/HTTP/#websocket","title":"webSocket","text":"<p>websocket: WebSocket\u662f\u57fa\u4e8eHTTP1.1\u7684\u534f\u8bae\uff0c\u53ef\u4ee5\u7b80\u5355\u7406\u89e3\u4e3a\u521b\u5efa\u4e86\u4e00\u6761TCP\u8fde\u63a5</p> <pre><code>Upgrade: websocket\nConnection: Upgrade\n</code></pre> <p>p.s. \u6240\u4ee5\u5bf9\u5e94\u7684 nginx \u914d\u7f6e\u9700\u8981\u65b0\u589e:</p> <pre><code>location / {\n        #...\n        proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection \"upgrade\";\n}\n</code></pre> <ul> <li>\u5c31\u670d\u52a1\u7aef\u63a8\u9001\u800c\u8a00\uff0cHttp/2 \u4e0e websocket?</li> </ul> <p>https://stackoverflow.com/questions/28582935/does-http-2-make-websockets-obsolete</p> <p>http1 \u7684\u52a3\u52bf\uff1a</p> <p>\u8bf7\u6c42\u5934\u592a\u5927(200 B \u4e00\u6b21 \u5bf9\u6bd4 websocket 6 B \u4e00\u6b21)\u3002</p> <p>http2 \u63a8\u9001\u7684\u610f\u4e49\uff1a\u670d\u52a1\u7aef\u81ea\u52a8\u9001\u8d44\u6e90\u5230\u5ba2\u6237\u7aef\uff0c\u4f46\u90a3\u4e0d\u662f\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u611f\u77e5\u7684\uff0c\u4e3b\u8981\u662f\u8ba9\u6d4f\u89c8\u5668\uff08\u7528\u6237\u4ee3\u7406\uff09\u63d0\u524d\u7f13\u5b58\u9759\u6001\u8d44\u6e90</p> <ul> <li>\u90a3 websocket \u4e0e SSE \u5462\uff1f</li> </ul> <p>SSE \u53ef\u4ee5\u53ea\u7ba1\u63a8\u9001\uff0c\u5e76\u4e14\u4f3c\u4e4e\u4f7f\u7528\u66f4\u7b80\u5355\u652f\u6301\u66f4\u5e7f\u6cdb\u3002\u4e3b\u8981\u8fd8\u662f\u4ece\u8bed\u4e49\u4e0a\u8003\u8651\uff0c\u300cbidirectional data stream\u300d\u4e0e\u300cpublish-subscribe \u6a21\u5f0f\u300d\u7684\u533a\u522b\u3002\u524d\u8005\u9002\u5408\u804a\u5929\u6e38\u620f\uff0c\u540e\u8005\u9002\u5408 feed \u63a8\u9001\u3002\u6211\u89c9\u5f97\u5728\u4e1a\u52a1\u4e0d\u786e\u5b9a\u7684\u60c5\u51b5\u4e0b\uff0c\u4e3a\u8003\u8651\u4ee5\u540e\u5ba2\u6237\u7aef\u4e5f\u9700\u8981\u5411\u670d\u52a1\u7aef\u901a\u4fe1\u7684\u53ef\u80fd\uff0c\u8fd8\u662f\u7528 websocket \u66f4\u4fdd\u9669\u3002</p> <p>\u4ee5\u53ca\u6709\u4e2a\u7591\u95ee\uff0c\u6bcf\u4e2a\u5ba2\u6237\u7aef\u4e0a\u7ebf\uff0c\u80af\u5b9a\u9700\u8981\u544a\u77e5\u670d\u52a1\u7aef\u300c\u5b83\u5728\u4e86\u300d\u3002websocket \u5929\u7136\u7531\u5ba2\u6237\u7aef\u53d1\u8d77\u8bf7\u6c42\uff0c\u90a3 SSE \u5462\uff1f</p>"},{"location":"Basic-is-everything/Network/protocols/HTTP/#https","title":"https","text":"<p>It uses SSL or TLS to encrypt all communication between a client and a server.</p> <p>SSL: Secure Sockets Layer</p> <p>TLS: Transport Layer Security. The successor of SSL</p> <p>\u5c31\u6211\u4e2a\u4eba\u7684\u7406\u89e3\uff0cTLS \u63e1\u624b\u7684\u76ee\u7684\u662f\u751f\u6210\u4e00\u4efd\u5bf9\u79f0\u52a0\u5bc6\u7684\u516c\u5171\u79d8\u94a5\uff0c\u800c\u5982\u4f55\u5b89\u5168\u7684\u751f\u6210\u8fd9\u4efd\u79d8\u94a5\u9700\u8981\u505a\u5f88\u591a\u4e8b\u60c5\u3002</p> <ol> <li>CA \u8bc1\u4e66\uff1a\u5305\u542b\u4e00\u4e2a\u79c1\u94a5\u548c\u516c\u94a5\uff0c\u4ee5\u53ca\u7535\u5b50\u7b7e\u540d</li> <li>\u670d\u52a1\u7aef\u53d1\u9001CA\u7b7e\u540d\u7684\u8bc1\u4e66\uff0c\u91cc\u9762\u5305\u62ec\u670d\u52a1\u7aef\u7684\u4e00\u4efd\u516c\u94a5 //\u907f\u514d\u4f2a\u9020\u7684\u670d\u52a1\u7aef\u3010\u6570\u5b57\u8bc1\u4e66 \u2014\u2014 \u5b89\u5168\u5730\u53d1\u653e\u516c\u94a5\u3011</li> <li>\u5ba2\u6237\u7aef\u7ecf\u8bc1\u4e66\u9a8c\u8bc1\u540e\uff0c\u53d6\u51fa\u516c\u94a5\uff0c\u7528\u8be5\u516c\u94a5\u52a0\u5bc6\u4e00\u4e2a\u968f\u673a\u6570\u4f5c\u4e3a\u5bf9\u79f0\u52a0\u5bc6\u7684\u79d8\u94a5\uff0c\u53d1\u9001\u7ed9\u670d\u52a1\u7aef</li> <li>\u670d\u52a1\u7aef\u7528\u81ea\u5df1\u7684\u79d8\u94a5\u89e3\u5bc6\uff0c\u83b7\u53d6\u65e5\u540e\u901a\u4fe1\u7684\u79d8\u94a5</li> </ol> <p>Refs:</p> <ul> <li>https://en.wikipedia.org/wiki/Transport_Layer_Security</li> <li>https://www.cloudflare.com/zh-cn/learning/ssl/what-happens-in-a-tls-handshake/</li> </ul>"},{"location":"Basic-is-everything/Network/protocols/HTTP/#hsts","title":"HSTS","text":"<p>\u662f\u4ec0\u4e48\uff1f</p> <p>HTTP Strict Transport Security\u3002</p> <p>\u670d\u52a1\u5668\u53ef\u4ee5\u5f3a\u5236\u6d4f\u89c8\u5668\u4f7f\u7528https\u901a\u4fe1(\u4f7f\u7528xxx\u7b56\u7565)\uff0c\u5e76\u4e14\u4e0d\u53ef\u5ffd\u7565\u4e0d\u5b89\u5168\u7684\u8bc1\u4e66\u63d0\u793a,(\u4ee5\u51cf\u5c11\u4f1a\u8bdd\u52ab\u6301\u98ce\u9669)\u3002</p> <p>\u4e5f\u5c31\u662f\u7528\u6237\u8bbf\u95eehttps\u540e\uff0c\u53ea\u8981\u670d\u52a1\u5668\u8fd4\u56de\u5e26\u6709strict-transport-security: max-age=31536000; includeSubDomains; preload \u7684\u5934\uff1b</p> <p>\u90a3\u4e48\u4ee5\u540e\u7528\u6237\u518d\u901a\u8fc7http\u8bbf\u95ee\u8be5\u57df\u540d\u65f6\uff0c\u6d4f\u89c8\u5668\u4f1a\u5148\u8fd4\u56de 307  internal redirect, \u5e76\u8df3\u8f6c\u5230\u65b0\u7684 https \u5730\u5740\u3002</p> <ul> <li>\u4e0d\u8db3\u4e00\uff1a\u9996\u6b21\u8fde\u63a5\u4ecd\u6709\u98ce\u9669</li> </ul> <p>\u7528\u6237\u9996\u6b21\u8bbf\u95ee\u67d0\u7f51\u7ad9\u662f\u4e0d\u53d7HSTS\u4fdd\u62a4\u7684\u3002\u8fd9\u662f\u56e0\u4e3a\u9996\u6b21\u8bbf\u95ee\u65f6\uff0c\u6d4f\u89c8\u5668\u8fd8\u672a\u6536\u5230HSTS\uff0c\u6240\u4ee5\u4ecd\u6709\u53ef\u80fd\u901a\u8fc7\u660e\u6587HTTP\u6765\u8bbf\u95ee\u3002\u89e3\u51b3\u8fd9\u4e2a\u4e0d\u8db3\u5f53\u524d\u6709\u4e24\u79cd\u65b9\u6848\uff0c\u4e00\u662f\u6d4f\u89c8\u5668\u9884\u7f6eHSTS\u57df\u540d\u5217\u8868\uff0cGoogle Chrome\u3001Firefox\u3001Internet Explorer\u548cMicrosoft Edge\u5b9e\u73b0\u4e86\u8fd9\u4e00\u65b9\u6848[11][12]\u3002\u4e8c\u662f\u5c06HSTS\u4fe1\u606f\u52a0\u5165\u5230\u57df\u540d\u7cfb\u7edf\u8bb0\u5f55\u4e2d\u3002\u4f46\u8fd9\u9700\u8981\u4fdd\u8bc1DNS\u7684\u5b89\u5168\u6027\uff0c\u4e5f\u5c31\u662f\u9700\u8981\u90e8\u7f72\u57df\u540d\u7cfb\u7edf\u5b89\u5168\u6269\u5c55\u3002</p> <p>\u89c1chrome\u7684\u5185\u7f6ehsts\u5217\u8868\uff1a https://src.chromium.org/viewvc/chrome/trunk/src/net/http/transport_security_state_static.json</p> <ul> <li>\u9ebb\u70e6\u70b9\uff1a</li> </ul> <p>\u5982\u679c\u670d\u52a1\u5668\u540e\u7eed\u4fee\u6539\u4e86\u914d\u7f6e\uff0c\u53c8\u4e0d\u652f\u6301https\u4e86\uff0c\u9700\u8981\u7528\u6237\u624b\u52a8\u5230\u6d4f\u89c8\u5668\u6e05\u9664hsts\u8bb0\u5fc6</p> <p>http://carlislebear.blogspot.com/2018/06/307-internal-redirect.html</p> <p>ref: https://zh.wikipedia.org/wiki/HTTP%E4%B8%A5%E6%A0%BC%E4%BC%A0%E8%BE%93%E5%AE%89%E5%85%A8</p>"},{"location":"Basic-is-everything/Network/protocols/HTTP/#gzip","title":"gzip \u9644\u5219","text":"<p>https://segmentfault.com/a/1190000012800222</p> <p>// \u597d\u7684\u601d\u8003\u5728\u4e8e\uff1a\u4f20\u5230 oss \u4e0a\u7684\u6587\u4ef6\u5c31\u662f gzip \uff0c\u800c\u4e0d\u662f\u5728 nginx \u6536\u5230\u8bf7\u6c42\u65f6\u518d\u53bb\u538b\u7f29\uff0c\u80fd\u8282\u7ea6\u670d\u52a1\u7aef\u7684\u538b\u7f29\u65f6\u95f4</p>"},{"location":"Basic-is-everything/Network/protocols/RPC/","title":"RPC","text":"<p>Remote Procedure Call</p> <p>http\u662f\u534f\u8bae\u683c\u5f0f rpc\u662f\u4e00\u79cd\u901a\u8baf\u65b9\u5f0f\u3002</p> <p>\u7b80\u5355\u6765\u8bf4\u6210\u719f\u7684rpc\u5e93\u76f8\u5bf9http\u5bb9\u5668\uff0c\u66f4\u591a\u7684\u662f\u5c01\u88c5\u4e86\u201c\u670d\u52a1\u53d1\u73b0\u201d\uff0c\"\u8d1f\u8f7d\u5747\u8861\"\uff0c\u201c\u7194\u65ad\u964d\u7ea7\u201d\u4e00\u7c7b\u9762\u5411\u670d\u52a1\u7684\u9ad8\u7ea7\u7279\u6027\u3002\u53ef\u4ee5\u8fd9\u4e48\u7406\u89e3\uff0crpc\u6846\u67b6\u662f\u9762\u5411\u670d\u52a1\u7684\u66f4\u9ad8\u7ea7\u7684\u5c01\u88c5\u3002\u5982\u679c\u628a\u4e00\u4e2ahttp servlet\u5bb9\u5668\u4e0a\u5c01\u88c5\u4e00\u5c42\u670d\u52a1\u53d1\u73b0\u548c\u51fd\u6570\u4ee3\u7406\u8c03\u7528\uff0c\u90a3\u5b83\u5c31\u5df2\u7ecf\u53ef\u4ee5\u505a\u4e00\u4e2arpc\u6846\u67b6\u4e86\u3002</p> <p>\u6240\u4ee5\u4e3a\u4ec0\u4e48\u8981\u7528rpc\u8c03\u7528\uff1f</p> <p>\u56e0\u4e3a\u826f\u597d\u7684rpc\u8c03\u7528\u662f\u9762\u5411\u670d\u52a1\u7684\u5c01\u88c5\uff0c\u9488\u5bf9\u670d\u52a1\u7684\u53ef\u7528\u6027\u548c\u6548\u7387\u7b49\u90fd\u505a\u4e86\u4f18\u5316\u3002\u5355\u7eaf\u4f7f\u7528http\u8c03\u7528\u5219\u7f3a\u5c11\u4e86\u8fd9\u4e9b\u7279\u6027\u3002</p> <p>RPC\u57281984\u5e74\u5c31\u88ab\u4eba\u7528\u6765\u505a\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u901a\u4fe1\uff0cJava\u57281.1\u7248\u672c\u63d0\u4f9b\u4e86Java\u7248\u672c\u7684RPC\u6846\u67b6\uff08RMI\uff09\uff0c\u800cHTTP\u534f\u8bae\u57281990\u5e74\u624d\u5f00\u59cb\u4f5c\u4e3a\u4e3b\u6d41\u534f\u8bae\u51fa\u73b0\uff0c\u800c\u4e14HTTP\u53d1\u660e\u7684\u573a\u666f\u662f\u7528\u4e8eweb\u67b6\u6784\uff0c\u800c\u4e0d\u662f\u5206\u5e03\u5f0f\u7cfb\u7edf\u95f4\u901a\u4fe1\uff0c\u8fd9\u5bfc\u81f4\u4e86\u5728\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4\u5185\uff0cHTTP\u90fd\u662f\u6d4f\u89c8\u5668\u7a0b\u5e8f\u548c\u540e\u7aefweb\u7cfb\u7edf\u901a\u4fe1\u7528\u7684\u4e1c\u897f\uff0c\u4e0a\u9762\u7684\u6587\u6863\u683c\u5f0f\u90fd\u662fHTML\uff08\u975e\u5e38\u5570\u55e6\uff09\uff0c\u6ca1\u6709\u4eba\u4f1a\u628aHTTP\u4f5c\u4e3a\u5206\u5e03\u5f0f\u7cfb\u7edf\u901a\u4fe1\u7684\u534f\u8bae\u3002\u5728\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4\u5185\uff0cRPC\u624d\u662f\u6b63\u7edf\u3002\u968f\u7740\u524d\u7aef\u6280\u672f\u7684\u53d1\u5c55\uff0cAJAX\u6280\u672f\u548cJSON\u6587\u6863\u5728\u524d\u7aef\u754c\u9010\u6e10\u6210\u4e3a\u4e3b\u6d41\uff0cHTTP\u8c03\u7528\u624d\u6446\u8131HTML\uff0c\u5f00\u59cb\u4f7f\u7528JSON\u8fd9\u4e00\u76f8\u5bf9\u7b80\u6d01\u7684\u6587\u6863\u683c\u5f0f\uff0c\u4e3a\u540e\u9762\u7528\u4e8e\u7cfb\u7edf\u95f4\u8c03\u7528\u5b9a\u4e0b\u57fa\u7840\u3002\u6700\u540e\u968f\u7740RESTFUL\u601d\u6f6e\u7684\u5174\u8d77\uff0c\u8d8a\u6765\u8d8a\u591a\u7cfb\u7edf\u8003\u8651\u7528HTTP\u6765\u63d0\u4f9b\u670d\u52a1\uff0c\u4f46\u8fd9\u65f6\u5019\uff0cRPC\u5df2\u7ecf\u662f\u5404\u79cd\u5927\u578b\u5206\u5e03\u5f0f\u8c03\u7528\u7684\u6807\u914d\u4e86\u3002\u6240\u4ee5\u9898\u4e3b\u7684\u95ee\u9898\u771f\u6b63\u5e94\u8be5\u8981\u53cd\u8fc7\u6765\u95ee\uff0c\u65e2\u7136\u6709RPC\u4e86\uff0c\u4e3a\u4ec0\u4e48\u8fd8\u8981\u6709HTTP\u8bf7\u6c42\uff1f\u8fd9\u4e2a\u95ee\u9898\u4e0d\u96be\u56de\u7b54\uff0c\u56e0\u4e3a\u73b0\u5728\u5927\u90e8\u5206\u7684\u7cfb\u7edf\u90fd\u662f\u7ed9\u6d4f\u89c8\u5668\u4f7f\u7528\u7684\uff0c\u56e0\u6b64HTTP\u534f\u8bae\u5fc5\u4e0d\u53ef\u5c11\uff0c\u800c\u8fd9\u5927\u90e8\u5206\u7cfb\u7edf\u4e2d\u7684\u7edd\u5927\u90e8\u5206\uff0c\u5bf9\u4e8e\u540e\u7aef\u7cfb\u7edf\u95f4\u8c03\u7528\u7684\u6027\u80fd\u90fd\u662f\u8981\u6c42\u4e0d\u9ad8\u7684\uff0c\u6bd5\u7adf\u8d70\u7684\u90fd\u662f\u5185\u7f51\uff0c\u5b83\u4eec\u5173\u5fc3\u7684\u662f\u524d\u7aef\u548c\u540e\u7aef\u7684\u6027\u80fd\uff0c\u56e0\u6b64\u540e\u7aef\u7cfb\u7edf\u95f4\u8c03\u7528\u5982\u679c\u80fd\u591f\u91c7\u7528\u548c\u524d\u7aef\u4e00\u6837\u7684\u6280\u672f\u6808\uff0c\u90a3\u65e0\u7591\u662f\u7ef4\u62a4\u6210\u672c\u6700\u4f4e\u7684\uff0c\u800c\u8fd9\u65f6HTTP\u7684\u6280\u672f\u751f\u6001\u4e5f\u521a\u597d\u6ee1\u8db3\u8fd9\u4e2a\u6761\u4ef6\uff0c\u6240\u4ee5\u5c31\u661f\u661f\u4e4b\u706b\u53ef\u4ee5\u71ce\u539f\u4e86\u3002\u90a3\u4e48\u5bf9\u4e8e\u5c11\u6570\u7684\u90e8\u5206\u7cfb\u7edf\uff0c\u4ed6\u4eec\u9700\u8981\u4f7f\u7528RPC\uff0c\u4e00\u53ef\u80fd\u662f\u8001\u67b6\u6784\uff0c\u4e5f\u4e0d\u6562\u52a8\u8fd9\u5757\uff0c\u4e8c\u662f\u6027\u80fd\u8981\u6c42\u53ef\u80fd\u53ea\u6709RPC\u53ef\u4ee5\u6ee1\u8db3\u3002\u5c31\u6211\u4e2a\u4eba\u800c\u8a00\uff0c\u6211\u6240\u4efb\u804c\u7684\u516c\u53f8\u7684\u4e91\u5e73\u53f0\u4e5f\u65e9\u5c31\u7edf\u4e00\u8981\u6c42\u8d70HTTP\u4e86\uff0c\u6027\u80fd\uff0c\u6709\u522b\u7684\u8def\u53ef\u4ee5\u60f3\u529e\u6cd5\uff0c\u800c\u4e14HTTP2\u4e5f\u6709\u4e86\u5f88\u5927\u6539\u8fdb\u4e86\u3002</p>"},{"location":"Basic-is-everything/Network/protocols/RTSP%26WebRTC/","title":"RTSP &amp; WebRTC","text":"<p>real-time-stream-protocal and web real-time communication</p> <p>\u5c31\u6211\u7684\u7406\u89e3\uff0cWebRTC \u652f\u6301\u6e32\u67d3 RTSP \u6d41\uff0c\u4f46\u662f\u5728\u8fd9\u57fa\u7840\u4e0a\u589e\u52a0\u4e86\u534f\u5546\u63e1\u624b\u7684\u8fc7\u7a0b\uff0c\u4e5f\u5c31\u662f signaling\u3002\u6211\u4e4b\u524d\u4e0d\u7406\u89e3\u4e3a\u4ec0\u4e48\u6d4f\u89c8\u5668\u4e0d\u76f4\u63a5\u652f\u6301 RTSP\uff0c\u5176\u5b9e\u662f\u56e0\u4e3a\u6d41\u534f\u8bae\u8fd8\u672a\u6807\u51c6\u5316\u7684\u7f18\u6545\u3002</p> <p>\u534f\u5546\u63e1\u624b\uff1apeerToPeer\uff0c\u89c4\u8303\u4e0d\u4f1a\u8981\u6c42\u4f60\u901a\u8fc7\u4ec0\u4e48\u65b9\u5f0f\u63e1\u624b\uff0c\u53ea\u8981\u80fd\u62ff\u5230\u4e00\u4e32 sdp\uff08session description\uff09\u5b57\u7b26\u5e76\u8bbe\u7f6e\u5373\u53ef\u3002</p> <p>sdp \u91cc\u5177\u4f53\u6709\u4ec0\u4e48\u5462\uff1f\u5173\u4e8e\u97f3\u50cf\u6587\u4ef6\u7684 address, timing, codec\u3002codec (a blend word derived from \"coder-decoder\") is a program, algorithm, or device that encodes or decodes a data stream.</p> <p>video Codecs Supported: H264; Audio Codecs Supported: pcm alaw and pcm mulaw</p> <p>\u6240\u4ee5\u603b\u6d41\u7a0b\u76f8\u5f53\u4e8e\uff1a</p> <pre><code>// 1.\nconst pc = new RTCPeerConnection();\n\npc.onnegotiationneeded = async () =&gt; {\n  // 3. \u8fd9\u4e00\u6bb5\u6765\u542f\u52a8\u672c\u7aef\n  let offer = await pc.createOffer();\n    await pc.setLocalDescription(offer);\n  // 4. \u901a\u8fc7\u67d0\u79cd\u65b9\u5f0f\u62ff\u5230\u53e6\u4e00\u7aef\u7684 sdp \u5e76\u8bbe\u7f6e\n  $.post(\n      '../receiver/' + suuid,\n      {\n        suuid: suuid,\n        data: btoa(pc.localDescription.sdp),\n      },function (data) {\n          pc.setRemoteDescription(\n            new RTCSessionDescription({\n              type: 'answer',\n              sdp: atob(data),\n            }),\n          );\n      },\n    );\n}\n//....\u4ee5\u4e0a\u884c\u4e3a\u79f0\u4e3a Signaling\n\npc.ontrack = function (event) {\n  // 5. event \u4e3a WebRTCTrackEvent \u5176 track \u5b57\u6bb5\u7ed9 stream \u5bf9\u8c61 add \u4e0a\uff0c\n  // \u663e\u7136\u4e00\u4e2a stream \u53ef\u4ee5\u63a5\u53d7\u597d\u591a track\n    let stream = new MediaStream();\n    stream.addTrack(event.track);\n  // 6. video \u6807\u7b7e\u53ef\u4ee5\u64ad\u653e\u6b64 stream \u4e86\n    videoNode.srcObject = stream;\n  };\n\n// 2. \u4e0d\u660e\u5e94\u8bbe\npc.addTransceiver('video', { direction: 'sendrecv',});\npc.addTransceiver('audio', { direction: 'sendrecv',});\n</code></pre>"},{"location":"Basic-is-everything/Network/protocols/RTSP%26WebRTC/#rtsptowebrtc","title":"RTSPToWebRTC","text":"<ul> <li>go \u670d\u52a1\u5411\u8fdc\u7aef RTSP \u7684\u8bf7\u6c42\u8fc7\u7a0b</li> </ul> <pre><code>  conn, err := net.DialTimeout(\"tcp\", client.pURL.Host, client.options.DialTimeout)\n  client.conn = conn\n  client.connRW = bufio.NewReadWriter(bufio.NewReader(conn), bufio.NewWriter(conn))\n  // \u63a5\u4e0b\u6765\u901a\u8fc7 TCP \u8fde\u63a5\uff0cgo \u670d\u52a1\u5411\u8fdc\u7aef\u8fde\u7eed\u53d1\u51fa\u4e86\u597d\u51e0\u4e2a\u8bf7\u6c42\uff0c\u89e3\u8bfb\u5e94\u5f53\u662f\u9075\u5faa rtsp \u534f\u8bae\u7684\n  // round 1: options\n  2022/06/23 11:06:38 [RTSP/1.0 200 OK\n  CSeq: 1\n  Date: Thu, Jun 23 2022 03:01:37 GMT\n  Public: OPTIONS, DESCRIBE, SETUP, TEARDOWN, PLAY, PAUSE, GET_PARAMETER, SET_PARAMETER\n\n  ]\n  2022/06/23 11:07:21 [DESCRIBE rtsp://192.168.2.53:8557/h264 RTSP/1.0\n  CSeq: 2\n  Accept: application/sdp\n  User-Agent: Lavf58.76.100\n\n  ]\n  // round 2: DESCRIBE\n  2022/06/23 11:07:21 [DESCRIBE rtsp://192.168.2.53:8557/h264 RTSP/1.0\n  CSeq: 2\n  Accept: application/sdp\n  User-Agent: Lavf58.76.100\n\n  ]\n  2022/06/23 11:09:21 [RTSP/1.0 200 OK\n  CSeq: 2\n  Date: Thu, Jun 23 2022 03:07:27 GMT\n  Content-Base: rtsp://192.168.2.53:8557/h264/\n  Content-Type: application/sdp\n  Content-Length: 691\n\n  v=0\n  o=- 18278359 1 IN IP4 192.168.2.53\n  s=RTSP/RTP stream from VZ Smart-IPC\n  a=rtpmap:8 PCMA/8000/1\n  a=fmtp:8 complaw=al\n  i=h264\n  t=0 0... // \u540e\u9762\u8fd9\u4e00\u5806\u6570\u636e\u5c31\u662f sdp\n  // round 3: track1 setup\n  2022/06/23 11:11:56 [SETUP rtsp://192.168.2.53:8557/h264/track1 RTSP/1.0\n  CSeq: 3\n  Transport: RTP/AVP/TCP;unicast;interleaved=0-1\n  User-Agent: Lavf58.76.100\n\n  ]\n  2022/06/23 11:13:25 [RTSP/1.0 200 OK\n  CSeq: 3\n  Date: Thu, Jun 23 2022 03:11:57 GMT\n  Transport: RTP/AVP/TCP;unicast;destination=192.168.2.128;source=192.168.2.53;interleaved=0-1\n  Session: 25E22894;timeout=60\n\n  ]\n  // round 4: track2 setup\n  2022/06/23 11:14:27 [SETUP rtsp://192.168.2.53:8557/h264/track2 RTSP/1.0\n  CSeq: 4\n  Transport: RTP/AVP/TCP;unicast;interleaved=2-3\n  User-Agent: Lavf58.76.100\n  Session: 25E22894\n\n  ]\n  2022/06/23 11:20:23 [RTSP/1.0 200 OK\n  CSeq: 4\n  Date: Thu, Jun 23 2022 03:20:24 GMT\n  Transport: RTP/AVP/TCP;unicast;destination=192.168.2.128;source=192.168.2.53;interleaved=2-3\n  Session: 629DD327;timeout=60\n\n  ]\n  // round 5: play\n  022/06/23 11:20:23 [PLAY rtsp://192.168.2.53:8557/h264/ RTSP/1.0\n  CSeq: 5\n  User-Agent: Lavf58.76.100\n  Session: 629DD327\n\n  ]\n  2022/06/23 11:20:23 [$0\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd&lt;\ufffdX\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd(none)$0\ufffd\ufffd\ufffd}\ufffd\ufffd\ufffd&lt;\u06d7\ufffdJ\ufffd\ufffd\ufffd\ufffd\ufffd}\ufffd(none)RTSP/1.0 200 OK\n  CSeq: 5\n  Date: Thu, Jun 23 2022 03:20:24 GMT\n  Range: npt=0.000-\n  Session: 629DD327\n  RTP-Info: url=rtsp://192.168.2.53:8557/h264/track1;seq=46978;rtptime=2279775039,url=rtsp://192.168.2.53:8557/h264/track2;seq=23770;rtptime=1252527567,url=rtsp://192.168.2.53:8557/h264/track3;seq=0;rtptime=0\n</code></pre> <p>\u63a8\u8350\u770b\u4ee5\u4e0b\u8fd9\u7bc7\u535a\u5ba2\uff1a\u6211\u7b2c\u4e00\u6b21\u771f\u6b63\u7406\u89e3\u4e86 text based protocol!!</p> <p>https://csrgxtu.github.io/2015/04/08/An-Introduction-To-RTSP/</p> <ul> <li>toWebRTC</li> </ul> <p>\u8fd9\u4e00\u6bb5\u8d8a\u770b\u8d8a\u6655\u2026\u6211\u4e0d\u7406\u89e3\u4e3a\u4ec0\u4e48 rtsp \u5df2\u7ecf\u6709\u5f88\u5b8c\u5584\u7684\u63e1\u624b\u548c\u4f20\u9012\u8fc7\u7a0b\u4e86\uff0c\u6d4f\u89c8\u5668\u8fd8\u8981\u518d\u5236\u5b9a\u4e00\u4e2a web \u7248\u7684\u534f\u8bae\uff1f</p> <p>\u4f46\u662f go \u91cc\u6709\u4e00\u70b9\u6211\u770b\u660e\u767d\u5566 \u2014&gt; \u4e2d\u95f4\u670d\u52a1\u5668\u5411\u8fdc\u7aef\u62ff\u6765\u7684\u6570\u636e\u4f1a\u7f13\u5b58\u8fdb\u901a\u9053\u91cc<code>**make**(chan *av.Packet, 3000)</code>\uff0c\u7136\u540e\u8fd9\u4e2a\u901a\u9053\u4e00\u6709\u6570\u636e\uff0c\u4f1a\u518d\u5410\u51fa\u6765\u5206\u53d1\u7ed9\u5404\u4e2a\u6d88\u8d39\u8005\uff1a</p> <pre><code>  // \u4ece\u8fdc\u7aef\u62ff\u6765\u5b58\n  client.OutgoingProxyQueue &lt;- &amp;content\n\n  // \u5206\u53d1\n  select {\n   case packetAV := &lt;-RTSPClient.OutgoingPacketQueue:\n    if AudioOnly || packetAV.IsKeyFrame {\n     keyTest.Reset(20 * time.Second)\n    }\n    Config.cast(name, *packetAV)\n   }\n  }\n\n  func (element *ConfigST) cast(uuid string, pck av.Packet) {\n   element.mutex.Lock()\n   defer element.mutex.Unlock()\n   for _, v := range element.Streams[uuid].Cl {\n    if len(v.c) &lt; cap(v.c) {\n     v.c &lt;- pck\n    }\n   }\n  }\n</code></pre>"},{"location":"Basic-is-everything/Network/protocols/RTSP%26WebRTC/#ref","title":"Ref","text":"<p>https://webrtc.org/getting-started/turn-server?hl=en</p> <p>https://codelabs.developers.google.com/codelabs/webrtc-web#0</p> <p>chrome://webrtc-internals/</p>"},{"location":"Basic-is-everything/Network/protocols/TCPIP/","title":"TCP/IP","text":"<p>TCP includes mechanisms to solve many of the problems that arise from packet-based messaging, such as lost packets, out of order packets, duplicate packets, and corrupted packets.</p> <p>Since TCP is the protocol used most commonly on top of IP, the Internet protocol stack is sometimes referred to as TCP/IP</p> <ul> <li>TCP/IP addresses: Either a 32-bit IPv4 address in dotted decimal notation, or a 128-bit IPv6 address in colon hexadecimal notation.</li> <li>What you can do with TCP/IP:</li> <li>telnet: logging on to other hosts</li> <li>FTP</li> </ul>"},{"location":"Basic-is-everything/Network/protocols/TCPIP/#tcp-ip","title":"TCP \u4e0e IP \u7684\u5408\u4f5c\u5173\u7cfb","text":"<p>IP is responsible for network(IP) addresses // \u8bbe\u7f6e\u5728 IP Header \u91cc</p> <p>TCP is responsible for reliable transmission of packets.</p> <p></p> <p>\u524d\u9762\u7684 Header \u4e00\u822c\u79f0\u4e3a metadata\uff0c\u4e0e\u540e\u9762\u7684 data \u4f5c\u533a\u5206</p>"},{"location":"Basic-is-everything/Network/protocols/TCPIP/#tcp-udp","title":"TCP \u4e0e UDP \u7684\u5feb\u6377\u63cf\u8ff0","text":"<p>TCP includes error checking mechanisms which can handle when packets are lost, out of order, or corrupted.</p> <p>UDP is a lightweight data transport protocol which does not do any error checking besides using a checksum to detect corrupted data.</p> <p>While IP is just a routing protocol.</p>"},{"location":"Basic-is-everything/Network/protocols/TCPIP/#_1","title":"\u4e00\u4e9b\u6211\u7684\u7591\u95ee","text":"<p>\u6211\u7684\u987f\u609f \u6240\u6709\u7684\u5e94\u7528\u5c42\u534f\u8bae\u4e0d\u662f\u57fa\u4e8eTCP\u5c31\u662f\u57fa\u4e8eUDP\u7684\u2026\u5927\u90e8\u5206\u90fd\u662fTCP TCP \u53ef\u4ee5 last \u591a\u4e45\uff1f \u6ca1\u6709 limit, \u4f46\u662f\u5982\u679c\u592a\u4e45\u6ca1\u6709\u6570\u636e\u4ea4\u6362\uff0c\u53ef\u80fd\u4f1a\u88ab NAT router \u6216\u8005 firewalls expire \u6389\u3002</p> <p>Established \u4e0e LISTEN? Any \"ESTABLISHED\" socket means that there is a connection currently made there.</p> <p>Any \"LISTEN\" means that the socket is waiting for a connection.</p> <p>Both are opened ports but one is waiting for a connection to be made while the other has a connection already made.</p>"},{"location":"Basic-is-everything/Network/protocols/WebProtocols/","title":"Web Protocols","text":"<ul> <li> <p>The World Wide Web(linked documents) is built on top of the Internet(interconnected devices).</p> </li> <li> <p>third-level-domain(or subdomain).second-level-domain.top-level-domain</p> </li> <li> <p>Domains \u2192 IP address</p> </li> </ul> <p>\u5728 dns \u4e4b\u524d\uff0c\u6709\u8fd9\u4e48\u51e0\u6b65: website local cache \u2192 ISP(Internet Service Providers) cache</p> <p>dns lookup hierarchy: Root name servers \u2192 TLD name servers \u2192 Host name servers</p> <ul> <li>DNS spoofing attack: \u4e5f\u5c31\u662f\u52ab\u6301\u4e86 DNS \u67e5\u8be2\u53ef\u80fd\u4f1a\u53d1\u751f\u7684\u4f2a\u9020\u8fd4\u56de\uff0cThe DNSSEC protocol extends the original DNS protocol and specifies the best way for DNS resolvers to authenticate the information sent to them.</li> </ul>"},{"location":"Basic-is-everything/Network/protocols/ipc/","title":"UnixDomainSocket","text":"<p>Socket: A socket is one endpoint of a two-way communication link between two programs running on the network. This is a very low-level thing, everything else is implemented on top of TCP sockets.</p> <p>Ref: https://zhuanlan.zhihu.com/p/234806787</p> <p>\u6700\u5173\u952e\u7684\u4e00\u70b9\u662f \u82e5\u662f\u8fdc\u7a0b\u7684 net \u8fde\u63a5\uff0c\u53ef\u4ee5\u53eb\u505a internet socket\uff1b\u800c\u5982\u679c\u662f\u672c\u5730\u7684\uff0c\u5219\u53eb domain socket( docker \u6709\u4f7f\u7528).</p>"},{"location":"Basic-is-everything/Network/protocols/ipc/#unix-domain-socket","title":"unix domain socket","text":"<p>Unix domain socket \u53c8\u53eb IPC(inter-process communication \u8fdb\u7a0b\u95f4\u901a\u4fe1) socket\uff0c\u7528\u4e8e\u5b9e\u73b0\u540c\u4e00\u4e3b\u673a\u4e0a\u7684\u8fdb\u7a0b\u95f4\u901a\u4fe1\u3002\u4e0e\u4e3b\u673a\u95f4\u7684\u8fdb\u7a0b\u901a\u4fe1\u4e0d\u540c\uff0c\u5b83\u4e0d\u662f\u901a\u8fc7 \"IP\u5730\u5740 + TCP\u6216UDP\u7aef\u53e3\u53f7\" \u7684\u65b9\u5f0f\u8fdb\u7a0b\u901a\u4fe1\uff0c\u800c\u662f\u4f7f\u7528 socket \u7c7b\u578b\u7684\u6587\u4ef6\u6765\u5b8c\u6210\u901a\u4fe1\uff0c\u56e0\u6b64\u5728\u7a33\u5b9a\u6027\u3001\u53ef\u9760\u6027\u4ee5\u53ca\u6548\u7387\u65b9\u9762\u7684\u8868\u73b0\u90fd\u5f88\u4e0d\u9519\u3002</p> <p>\u4e0d\u9700\u8981\u7ecf\u8fc7\u7f51\u7edc\u534f\u8bae\u6808\uff0c\u4e0d\u9700\u8981\u6253\u5305\u62c6\u5305\u3001\u8ba1\u7b97\u6821\u9a8c\u548c\u3001\u7ef4\u62a4\u5e8f\u53f7\u548c\u5e94\u7b54\u7b49\uff0c\u53ea\u662f\u5c06\u5e94\u7528\u5c42\u6570\u636e\u4ece\u4e00\u4e2a\u8fdb\u7a0b\u62f7\u8d1d\u5230\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u3002\u8fd9\u662f\u56e0\u4e3a\uff0cIPC \u673a\u5236\u672c\u8d28\u4e0a\u662f\u53ef\u9760\u7684\u901a\u8baf\uff0c\u800c\u7f51\u7edc\u534f\u8bae\u662f\u4e3a\u4e0d\u53ef\u9760\u7684\u901a\u8baf\u8bbe\u8ba1\u7684\u3002</p> <pre><code># socket \u6587\u4ef6\nserver_sock = socket(AF_UNIX, SOCK_STREAM, 0);\nif (server_sock == -1) {\n    printf(\"%s\\n\", \"SOCKET ERROR\");\n    exit(1);\n}\n</code></pre> <p>Ref\uff1a https://yangleisx.github.io/2020/11/13/unix-socket/</p> <p>\u4e86\u89e3Docker\u7684\u540c\u5b66\u5e94\u8be5\u77e5\u9053Docker daemon\u76d1\u542c\u4e00\u4e2adocker.sock\u6587\u4ef6\uff0c\u8fd9\u4e2adocker.sock\u6587\u4ef6\u7684\u9ed8\u8ba4\u8def\u5f84\u662f<code>/var/run/docker.sock</code>\uff0c\u8fd9\u4e2aSocket\u5c31\u662f\u4e00\u4e2aUnix domain socket</p>"},{"location":"Basic-is-everything/Network/protocols/%E5%90%84%E7%A7%8D%E5%8A%A0%E5%AF%86/","title":"\u5404\u79cd\u52a0\u5bc6","text":"<ul> <li>\u8c46\u77e5\u8bc6</li> </ul> <p>Caesar Cipher \u51ef\u6492\u52a0\u5bc6 \u7b97\u662f\u6700\u65e9\u7684\u52a0\u5bc6\u5566 \u4f46\u662f\u662f\u7b80\u5355\u7684\u79fb\u52a8\u5b57\u6bcd</p> <p>\u6211\u4e0a\u5821\u5792\u673a\u7528\u7684 MFA(multi-factor authentication)</p> <ul> <li> <p>\u5bf9\u79f0\u52a0\u5bc6 symmetric encryption\uff1a</p> </li> <li> <p>AES\u30013DES\u3001DES\u30013DES\u3001DESX\u3001Blowfish\u3001IDEA\u3001RC4\u3001RC5\u3001RC6</p> </li> <li> <p>\u573a\u666f\uff1a\u672c\u5730\u6570\u636e\u52a0\u5bc6\u3001https\u901a\u4fe1\u540e\u671f\u3001\u7f51\u7edc\u4f20\u8f93</p> </li> <li> <p>\u975e\u5bf9\u79f0\u52a0\u5bc6\uff1a</p> </li> <li> <p>\u52a0\u5bc6\u548c\u89e3\u5bc6\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7684\u89c4\u5219\uff0c\u53ea\u8981\u8fd9\u4e24\u79cd\u89c4\u5219\u4e4b\u95f4\u5b58\u5728\u67d0\u79cd\u5bf9\u5e94\u5173\u7cfb</p> </li> <li>RSA\u3001DSA\uff08\u6570\u5b57\u7b7e\u540d\u7528\uff09\u3001ECC\uff08\u79fb\u52a8\u8bbe\u5907\u7528\uff09\u3001Diffie-Hellman\u3001ElGamal</li> <li> <p>\u573a\u666f\uff1ahttps\u4f1a\u8bdd\u524d\u671f\u3001CA\u6570\u5b57\u8bc1\u4e66\u3001\u4fe1\u606f\u52a0\u5bc6\u3001\u767b\u5f55\u8ba4\u8bc1</p> </li> <li> <p>\u4fe1\u606f\u6458\u8981\u7b97\u6cd5\uff1a</p> </li> <li> <p>MD2\u3001MD4\u3001MD5\u3001HAVAL\u3001SHA\u3001SHA-1\u3001HMAC\u3001HMAC-MD5\u3001HMAC-SHA1</p> </li> <li>\u5bf9\u6570\u636e\u8fdb\u884c\u5904\u7406\uff0c\u53d6\u5f97\u4e00\u6bb5\u56fa\u5b9a\u957f\u5ea6\u7684\u6587\u672c \u2192 \u5355\u5411\u7b97\u6cd5</li> <li>\u573a\u666f\uff1a\u4e0d\u53ef\u8fd8\u539f\u7684\u5bc6\u7801\u5b58\u50a8\u3001\u4fe1\u606f\u5b8c\u6574\u6027\u6821\u9a8c</li> <li> <p>\u76f8\u5bf9\u800c\u8a00, SHA\u7cfb\u5217\u957f\u5ea6\u66f4\u957f\u66f4\u96be\u4ee5\u53d1\u751f\u78b0\u649e\uff0c\u4f46\u901f\u5ea6\u76f8\u5bf9MD5\u66f4\u6162</p> </li> <li> <p>\u52a0\u5bc6\u7b97\u6cd5\u7684\u9009\u62e9</p> </li> <li> <p>\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u4e0d\u80fd\u5b9e\u73b0\u6570\u5b57\u7b7e\u540d\uff0c\u56e0\u6b64\u7b7e\u540d\u53ea\u80fd\u975e\u5bf9\u79f0\u7b97\u6cd5\u3002</p> </li> <li>\u9a8c\u8bc1\u6587\u4ef6\u6216\u5b57\u7b26\u4e00\u81f4\u6027\u7528\u4fe1\u606f\u6458\u8981\u7b97\u6cd5\u3002</li> <li>\u6570\u636e\u91cf\u5927\u7528\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u3001\u5c0f\u5219\u53ef\u4ee5\u7528\u975e\u5bf9\u79f0\u52a0\u5bc6\u3002</li> <li> <p>\u8fd8\u53ef\u4ee5\u975e\u5bf9\u79f0\u4e0e\u5bf9\u79f0\u96c6\u6210\u4f7f\u7528\uff0c\u53c2\u8003https\u8bf7\u6c42\u539f\u7406\u3002</p> </li> <li> <p>\u6570\u5b57\u7b7e\u540d\u539f\u7406</p> </li> </ul> <p></p> <p>\u53cc\u65b9\u4e00\u81f4\u7684\u660e\u6587\u662f\u5173\u952e\uff01</p> <p>\u4e3a\u4e86\u9632\u6b62\u516c\u94a5\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u88ab\u8c03\u5305\uff0c\u9700\u8981\u8bc1\u4e66\u4e2d\u5fc3\uff08\u7b80\u79f0CA\uff09\u4e3a\u516c\u94a5\u505a\u8ba4\u8bc1\u3002\u8bc1\u4e66\u4e2d\u5fc3\u7528\u81ea\u5df1\u7684\u79c1\u94a5\uff0c\u5bf9\u516c\u94a5\u548c\u4e00\u4e9b\u76f8\u5173\u4fe1\u606f\u4e00\u8d77\u52a0\u5bc6\uff0c\u751f\u6210\"\u6570\u5b57\u8bc1\u4e66\"\uff08Digital Certificate\uff09\uff0c\u5ba2\u6237\u7aef\u7528CA\u7684\u516c\u94a5\u89e3\u5f00\u6570\u5b57\u8bc1\u4e66\uff0c\u4ece\u800c\u786e\u5b9a\u516c\u94a5\u7684\u771f\u5b9e\u6027\u3002</p> <p>RSA\u662f\u76ee\u524d\u6700\u6709\u5f71\u54cd\u529b\u7684\u516c\u94a5\u52a0\u5bc6\u7b97\u6cd5\uff0c\u8fd8\u652f\u6301\u79c1\u94a5\u89e3\u5bc6\u4ee5\u53ca\u79c1\u94a5\u52a0\u5bc6\u3001\u516c\u94a5\u89e3\u5bc6\u3002\u4f46\u662fRSA\u6570\u5b57\u7b7e\u540d\u7b97\u6cd5\u5b58\u5728\u7b7e\u540d\u6613\u88ab\u4f2a\u9020\u548c\u8ba1\u7b97\u65f6\u95f4\u957f\u7684\u5f31\u70b9\uff0c\u56e0\u6b64\u5b9e\u9645\u5bf9\u6587\u4ef6\u7b7e\u540d\u524d\uff0c\u9700\u8981\u5bf9\u6d88\u606f\u7ecf\u5355\u5411\u6563\u5217\u51fd\u6570\u8ba1\u7b97\u5176\u6d88\u606f\u6458\u8981\u3002\u6bd4\u5982\u53ef\u4ee5\u5c06\u6b63\u6587\u901a\u8fc7MD5\u6d88\u606f\u6458\u8981\u540e\uff0c\u5c06\u5176\u518d\u6b21\u901a\u8fc7RSA\u5bc6\u94a5\u52a0\u5bc6\uff0c\u751f\u6210\u6570\u5b57\u7b7e\u540d\u3002</p> <ul> <li>\u7b7e\u540d\u7b97\u6cd5\u4e0e\u516c\u94a5\u52a0\u5bc6\u7b97\u6cd5\u7684\u533a\u522b</li> </ul> <p>\u7b7e\u540d\u7b97\u6cd5\uff0c\u7528\u6765\u786e\u4fdd\u4fe1\u606f\u53d1\u5e03\u4eba\u7684\u8eab\u4efd\u548c\u4fe1\u606f\u7684\u5b8c\u6574\u6027\uff0c\u4e0d\u80fd\u7528\u6765\u505a\u52a0\u5bc6\u4f20\u8f93\uff0c\u4e3a\u4e86\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\uff0c\u4fe1\u606f\u7684\u539f\u6587\uff08\u6216\u8005\u6d88\u606f\u6458\u8981\uff09\u5fc5\u987b\u968f\u7740\u7b7e\u540d\u4e00\u8d77\u4f20\u8f93\u548c\u516c\u5e03\u624d\u80fd\u88ab\u9a8c\u8bc1\u3002\u800c RSA \u662f\u516c\u94a5\u52a0\u5bc6\u4f53\u7cfb\uff0c\u5b83\u53ef\u4ee5\u7528\u6765\u52a0\u5bc6\u4f20\u8f93\uff08\u5373\u4fe1\u606f\u539f\u6587\u5728\u4f20\u8f93\u4e2d\u52a0\u5bc6\uff0c\u5230\u8fbe\u5bf9\u65b9\u540e\u89e3\u5bc6\uff09\uff0c\u5b83\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u7b7e\u540d\u9a8c\u8bc1\u3002</p> <p>\u8fd9\u7bc7\u5199\u5f97\u8d85\u597d\uff01</p> <p>https://juejin.cn/post/6995549209348816909</p> <ul> <li>MD5 - Message Digest Algorithm 5</li> </ul> <p>\u6620\u5c04\u6210128 bit \u7684\u6570\u636e</p> <ul> <li>sha256 - Secure Hash Algorithm</li> </ul> <p>\u6bd4\u7279\u5e01\u91cc\u7528\u7684\u6700\u591a\u3002\u4efb\u4f55\u4e00\u4e32\u5b57\u7b26\uff0c\u6570\u5b57\u6587\u4ef6\uff08\u56fe\u7247\uff0c\u97f3\u4e50\uff0c\u7535\u5f71\uff09, \u7ecf\u8fc7Sha256\u7684\u8ba1\u7b97\uff0c\u4f1a\u4ea7\u751f\u4e00\u4e2a256bit\u7684binary representation\uff08\u54c8\u5e0c\u503c/\u4fe1\u606f\u6458\u8981\uff09\uff0c\u4e5f\u5c31\u662f256/4 = 64\u4f4d\u7684Hexdecimal\u7684\u8868\u8fbe\u65b9\u5f0f\u3002</p> <p>\u800c\u6bd4\u7279\u5e01\u6316\u77ff\u5176\u5b9e\u5c31\u662f\u77ff\u5de5\u901a\u8fc7\u8ba1\u7b97\u8bbe\u5907\u5b8c\u6210\u7531SHA-256\u52a0\u5bc6\u7684\u590d\u6742\u6570\u5b66\u9898\uff0c\u9898\u5e72\u662f\u9700\u8981\u88ab\u8bb0\u5f55\u7684\u4ea4\u6613\uff0c\u5927\u5bb6\u901a\u8fc7\u505a\u9898\u62a2\u593a\u8bb0\u8d26\u6743\uff0c\u62a2\u5230\u7684\u77ff\u5de5\u5c31\u80fd\u83b7\u5f97\u7cfb\u7edf\u5956\u52b1\u548c\u4ea4\u6613\u624b\u7eed\u8d39\u3002</p> <ul> <li> <p>sm3: \u56fd\u5bc6\u7b97\u6cd5\u7cfb\u5217 SM3\u9002\u7528\u4e8e\u5546\u7528\u5bc6\u7801\u5e94\u7528\u4e2d\u7684\u6570\u5b57\u7b7e\u540d\u548c\u9a8c\u8bc1\uff0c\u662f\u5728SHA-256\u57fa\u7840\u4e0a\u6539\u8fdb\u5b9e\u73b0\u7684\u4e00\u79cd\u7b97\u6cd5\uff0c\u5176\u5b89\u5168\u6027\u548cSHA-256\u76f8\u5f53</p> </li> <li> <p>AES\uff0c\u52a0\u89e3\u5bc6\u7b97\u6cd5 CBC\uff0c\u6570\u636e\u5206\u7ec4\u6a21\u5f0f PKCS5Padding\uff0c\u6570\u636e\u6309\u7167\u4e00\u5b9a\u7684\u5927\u5c0f\u8fdb\u884c\u5206\u7ec4\uff0c\u6700\u540e\u5206\u5269\u4e0b\u90a3\u4e00\u7ec4\uff0c\u4e0d\u591f\u957f\u5ea6\uff0c\u5c31\u9700\u8981\u8fdb\u884c\u8865\u9f50\u3002\u7b80\u5355\u7684\u8bf4\uff1a\u62ff\u5230\u4e00\u4e2a\u539f\u59cb\u6570\u636e\u4ee5\u540e\uff0c\u9996\u5148\u9700\u8981\u5bf9\u6570\u636e\u8fdb\u884c\u5206\u7ec4\uff0c\u5206\u7ec4\u4ee5\u540e\u5982\u679c\u957f\u5ea6\u4e0d\u6ee1\u8db3\u5206\u7ec4\u6761\u4ef6\uff0c\u9700\u8981\u8fdb\u884c\u8865\u9f50\uff0c\u6700\u540e\u5f62\u6210\u591a\u4e2a\u5206\u7ec4\uff0c\u5728\u4f7f\u7528\u52a0\u89e3\u5bc6\u7b97\u6cd5\uff0c\u5bf9\u8fd9\u591a\u4e2a\u5206\u7ec4\u8fdb\u884c\u52a0\u89e3\u5bc6\u3002\u6240\u4ee5\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0cAES\uff0cCBC\uff0cPKCS5Padding \u7f3a\u4e00\u4e0d\u53ef\u3002</p> </li> </ul>"},{"location":"Basic-is-everything/Network/protocols/%E5%90%84%E7%A7%8D%E5%8A%A0%E5%AF%86/#_2","title":"\u4ee5\u53d1\u8d77\u6d66\u53d1\u652f\u4ed8\u4e3a\u4f8b","text":"<ul> <li>request \u9700\u8981\u52a0\u5bc6\u62a5\u6587</li> <li>\u901a\u8fc7 secret \u83b7\u53d6 key: sha256key\uff0c\u5728 sm3 \u4e2d\u5199\u5165\u8fd9\u4e2a sha256key\uff0c\u83b7\u53d6 sm3Key \u7684 md5Key,</li> <li>dd</li> </ul>"},{"location":"Basic-is-everything/Network/protocols/%E5%9B%BE%E8%A7%A3TCPIP/","title":"\u56fe\u89e3TCP/IP","text":"","tags":["Book","Archive"]},{"location":"Basic-is-everything/Network/protocols/%E5%9B%BE%E8%A7%A3TCPIP/#chap-1","title":"Chap 1","text":"<ul> <li>\u534f\u8bae\uff1a\u7ea6\u5b9a\u4fd7\u6210\u7684\u89c4\u77e9\u3002\u4f7f\u5f97\u4e0d\u540c\u7684\u5382\u5546\u4e0d\u540c\u7684CPU\u7ec4\u6210\u7684\u8ba1\u7b97\u673a\u90fd\u53ef\u4ee5\u901a\u8baf\u3002</li> </ul> <p>\u5404\u884c\u5404\u4e1a\u7684\u4ea7\u54c1\u6807\u51c6\u5316\u8fd9\u4e00\u70b9\u662f\u6211\u4ece\u672a\u601d\u8003\u8fc7\u7684\u2026\u89c9\u5f97\u597d\u795e\u5947\uff01\u5c31\u8fde\u63d2\u5934\u63d2\u5ea7\uff0c\u97f3\u9891\u5f55\u97f3\u5e26\u8fd9\u4e9b\u4e5f\u9700\u8981\u9075\u5faa\u67d0\u79cd\u7ea6\u5b9a\u4fd7\u6210\u7684\u6807\u51c6\u5440\uff01</p> <ul> <li>\u534f\u8bae\u7684\u5206\u5c42\uff1a</li> </ul> <p>\u4e0a\u4e0b\u5c42\u8fdb\u884c\u4ea4\u4e92\u65f6\u6240\u9075\u5faa\u7684\u7ea6\u5b9a\u53eb\u63a5\u53e3\uff0c\u540c\u4e00\u5c42\u7684\u53eb\u534f\u8bae\u3002\u6574\u4e2a\u6a21\u578b\u53eb\u4f5c\u901a\u4fe1\u6a21\u578b\u3002</p> <p>\u7c7b\u4f3c\u7b80\u5355\u7684\u4f8b\u5b50 \u662f\u6253\u7535\u8bdd\u65f6\u7528\u6237\u6240\u5728\u7684\u8bed\u8a00\u5c42\u548c\u901a\u4fe1\u8bbe\u5907\u5c42\uff0c\u8f93\u5165\u548c\u8f93\u51fa\u90fd\u8981\u6309\u540c\u6837\u7684\u65b9\u5f0f\u89e3\u6790\u5440</p> <p></p> <p>\u200b   </p> <ul> <li> <p>\u6240\u4ee5\u8bf4\u9075\u5faa\u534f\u8bae\u5176\u5b9e\u662f\u9075\u5faa\u5176\u4e2d\u7684\u5185\u5bb9\u3002</p> </li> <li> <p>\u5e94\u7528\u5c42\uff1aeg.\u4e3b\u673aA\u8f93\u5165\u7535\u5b50\u90ae\u4ef6\u5185\u5bb9\u5e76\u70b9\u51fb\u53d1\u9001\u540e\u7684\u90a3\u4e00\u523b\u3002\u5e94\u7528\u5c42\u4f1a\u6dfb\u52a0\u9996\u90e8\u201c\u6536\u4fe1\u4eba\u201d\u548c\u5185\u5bb9\u7b49\u3002\u4e3b\u673aB\u6536\u5230\u540e\u540c\u6837\u4f1a\u5206\u6790\u9996\u90e8\u548c\u6b63\u6587\uff0c\u8fdb\u884c\u5b58\u50a8\u6216\u9519\u8bef\u8fd4\u56de\u3002key\uff1a\u90ae\u4ef6\u5b58\u50a8\u3002</p> </li> <li> <p>\u8868\u793a\u5c42\uff1a\u5c06\u8bbe\u5907\u7279\u6709\u7684\u53ef\u663e\u793a\u7684\u6570\u636e\u683c\u5f0f\u8f6c\u5316\u4e3a\u7f51\u7edc\u6807\u51c6\u4f20\u8f93\u683c\u5f0f \u53cd\u4e4b\u4ea6\u7136\u3002\u9996\u90e8\u4fe1\u606f\uff1a\u8bc6\u522b\u7f16\u7801\u683c\u5f0f\u3002</p> </li> <li> <p>\u4f1a\u8bdd\u5c42\uff1a\u7ba1\u7406\u5982\u4f55\u5efa\u7acb\u8fde\u63a5\uff0c\u786e\u7acb\u5efa\u7acb\u8fde\u63a5\u548c\u65ad\u5f00\u8fde\u63a5\u7684\u65f6\u673a\u3002eg. \u4f1a\u8bdd\u5c42\u4f1a\u60f3\uff0c\u6211\u662f\u5f00\u4e00\u4e2a\u8fde\u63a5\u53d1\u4e00\u5c01\u90ae\u4ef6\u5c31\u5173\u4e0a\u8fde\u63a5\u5462\uff0c\u8fd8\u662f\u4e00\u4e2a\u8fde\u63a5\u4e00\u6b21\u6027\u90fd\u53d1\u5b8c\u5462\uff0c\u8fd8\u662f\u540c\u65f6\u5f00\u597d\u51e0\u4e2a\u8fde\u63a5\u5462\u3002\u9996\u90e8\u4fe1\u606f\uff1a\u8bb0\u5f55\u6570\u636e\u4f20\u9001\u987a\u5e8f\u3002</p> <p>----\u63a5\u4e0b\u6765\u5c31\u90fd\u662f\u6570\u636e\u4f20\u8f93\u90e8\u5206\u5566-----</p> </li> <li> <p>\u4f20\u8f93\u5c42\uff1a\u662f\u4f1a\u8bdd\u5c42\u7684\u624b\u4e0b\uff01\u542c\u547d\u4e8e\u4f1a\u8bdd\u5c42\u7684\u5b89\u6392\uff0c\u6267\u884c\u4e24\u4e2a\u8282\u70b9\u4e4b\u95f4\u7684\u6570\u636e\u8fde\u63a5\u6216\u65ad\u5f00\u8fde\u63a5\u3002\u4e3b\u673aB\u7684\u4f20\u8f93\u5c42\u4e5f\u4f1a\u53cd\u9988\u662f\u5426\u5168\u90e8\u6536\u5230\uff0c\u5426\u5219A\u8fd8\u4f1a\u91cd\u53d1\u5462\u3002</p> </li> <li> <p>\u7f51\u7edc\u5c42\uff1a\u5bfb\u5740\u4e0e\u8def\u7531\u9009\u62e9\u3002\u516b\u811a\u8718\u86db\u5c0fboss\uff0c\u786e\u7acb\u8def\u7ebf\uff0c\u8d1f\u8d23\u5c06\u6574\u4e2a\u6570\u636e\u53d1\u9001\u7ed9\u6700\u7ec8\u76ee\u6807\u3002</p> </li> <li> <p>\u6570\u636e\u94fe\u8def\u5c42\uff1a\u62ff\u7740\u63a5\u529b\u68d2\u7684\u5c0f\u8682\u8681\u4eec\uff0c\u53ea\u53d1\u9001\u81ea\u5df1\u8d1f\u8d23\u533a\u57df\uff08\u5206\u6bb5\uff09\u5185\u7684\u6570\u636e\u3002</p> </li> <li> <p>\u7269\u7406\u5c42\uff1a\u8d1f\u8d230,1\u4e0e\u7535\u538b \u5149\u7684\u95ea\u706d\u4e4b\u95f4\u7684\u4e92\u6362\u3002\u9996\u90e8\u4fe1\u606f\uff1aMAC\u5730\u5740</p> </li> <li> <p>\u4f20\u8f93\u65b9\u5f0f\u7684\u5206\u7c7b</p> </li> <li>\u9762\u5411\u6709\u8fde\u63a5\uff1a\u7406\u89e3\u6210\u6253\u7535\u8bdd</li> <li> <p>\u9762\u5411\u65e0\u8fde\u63a5\uff1a\u7406\u89e3\u6210\u5bc4\u4fe1\uff0c\u4e0d\u9700\u8981\u786e\u8ba4\u6536\u4fe1\u4eba\u7684\u5730\u5740\u662f\u5426\u771f\u7684\u5b58\u5728\u5c31\u53ef\u4ee5\u5bc4\u51fa\u53bb\u4e86</p> </li> <li> <p>\u5206\u7ec4\u4ea4\u6362\u6280\u672f\uff1a</p> </li> </ul> <p>\u5982\u679c\u4e0d\u505a\u4efb\u4f55\u5904\u7406\u7684\u8bdd\uff0c\u4e00\u6761\u7ebf\u4e0a\u53ea\u80fd\u7531\u8dd1\u4e00\u53ea\u8682\u8681\uff0c\u6240\u4ee5\u6bcf\u4e2a\u8ba1\u7b97\u673a\u901a\u4fe1\u65f6\u4f1a\u72ec\u5360\u4e00\u6761\u7ebf\uff0c\u8fd8\u4f1a\u5835\u585e\u4f4f\u7b49\u5f85\u901a\u4fe1\u7684\u8ba1\u7b97\u673a\u3002\u6240\u4ee5\u53d1\u660e\u4e86\u88ab\u5206\u5272\u6210\u7684\u6570\u636e\u5305\uff0c\u5e26\u7740\u81ea\u5df1\u76ee\u7684\u5730\u7684\u9996\u90e8\uff0c\u6240\u6709\u8ba1\u7b97\u673a\u7684\u901a\u4fe1\u5c31\u53ef\u4ee5\u6df7\u5728\u4e00\u8d77\u53d1\u9001\u5566\u3002</p> <ul> <li> <p>\u4e5f\u53ef\u4ee5\u901a\u8fc7\u76ee\u6807\u5730\u5740\u7684\u4e2a\u6570\u5bf9\u901a\u4fe1\u8fdb\u884c\u5206\u7c7b\uff1a\u5355\u64ad\uff08\u7535\u8bdd\uff09\uff0c\u5e7f\u64ad\uff08\u7535\u89c6\uff09\uff0c\u591a\u64ad\uff08\u7535\u89c6\u4f1a\u8bae\uff09\uff0c \u4efb\u64ad\uff08\u5982DNS\u89e3\u6790\u670d\u52a1\u5668\uff09</p> </li> <li> <p>\u5730\u5740</p> </li> <li> <p>\u552f\u4e00\u6027\u3002\u54ea\u6015\u662f\u5e7f\u64ad\u7684\u65b9\u5f0f\uff0c\u6536\u4fe1\u65b9\u4e5f\u4f1a\u662f\u201c\u4e09\u5e74\u4e00\u73ed\u201d\u8fd9\u79cd\u7c7b\u540d\u3002</p> </li> <li> <p>\u5c42\u6b21\u6027\u3002\u771f\u7684\u548c\u7535\u8bdd\u5f88\u50cf\u8bf6\uff01\u7535\u8bdd\u4e5f\u6709\u533a\u53f7\u5199\u4fe1\u4e5f\u6709\u7701\u5e02\u533a\u65b9\u4fbf\u5b9a\u4f4d\u628a\uff0cIP\u5730\u5740\u5c31\u8fd9\u4e48\u7528\u7684\u3002MAC\u5730\u5740\u7531\u8bbe\u5907\u5236\u9020\u5382\u5546\u9488\u5bf9\u6bcf\u5757\u7f51\u5361\u5206\u522b\u8fdb\u884c\u6307\u5b9a\uff0c\u5374\u6ca1\u6709\u5c42\u6b21\u6027\u548c\u89c4\u5f8b\u53ef\u5faa\uff0c\u6240\u4ee5\u5b83\u867d\u7136\u771f\u6b63\u8d1f\u8d23\u6700\u7ec8\u901a\u4fe1\u7684\u5730\u5740\uff0c\u4f46\u662f\u5b9e\u9645\u5bfb\u5740\u8fc7\u7a0b\u4e2dIP\u5730\u5740\u5374\u5fc5\u4e0d\u53ef\u5c11\u3002</p> </li> <li> <p>\u6570\u636e\u53d1\u9001\uff1a\u4e3b\u673aA\uff08refer to \u8def\u7531\u63a7\u5236\u8868\uff0c\u5c06\u53d1\u5f80\u4e3b\u673aB\u7684\u6570\u636e\u8f6c\u53d1\u7ed9\u8def\u7531\u56681\uff09 -&gt; \u4ea4\u6362\u673a\uff08refer to\u81ea\u5df1\u7684\u5730\u5740\u8f6c\u53d1\u8868\uff0c\u8def\u7531\u56681\u5728\u8868\u4e2d\uff0c\u6240\u4ee5\u53ef\u4ee5\u8f6c\u53d1\uff09---\u8def\u7531\u5668\u4eec\u63a5\u529b\u8f6c\u53d1---&gt; \u4ea4\u6362\u673a\uff08refer to\u81ea\u5df1\u7684\u5730\u5740\u8f6c\u53d1\u8868\uff0c\u4e3b\u673aB\u5728\u5176\u4e2d\uff0c\u6240\u4ee5\u8f6c\u53d1\u7ed9B\uff09</p> </li> <li> <p>\u7f51\u7edc\u7684\u6784\u6210\u8981\u7d20</p> </li> <li> <p>\u901a\u4fe1\u5a92\u4ecb\u4e0e\u6570\u636e\u94fe\u8def\u3002\u5982\u56fe\uff1a</p> <p></p> <p>\u8fd8\u6709\u597d\u51e0\u79cd\u2026\u4f20\u8f93\u901f\u7387\u6307\u7684\u5e76\u4e0d\u662f\u5355\u4f4d\u6570\u636e\u6d41\u52a8\u7684\u901f\u5ea6\uff08\u8fd9\u662f\u6052\u5b9a\u7684\uff0c\u56e0\u4e3a\u5149\u548c\u7535\u6d41\u7684\u4f20\u8f93\u901f\u5ea6\u662f\u6052\u5b9a\u7684)\uff0c\u800c\u662f\u5355\u4f4d\u65f6\u95f4\u5185\u4f20\u8f93\u7684\u6570\u636e\u91cf\u3002\u4f20\u8f93\u901f\u7387\u53c8\u79f0\u5e26\u5bbdbandwidth\u3002</p> </li> <li> <p>\u7f51\u5361\u3002 NIC \u597d\u591a\u7b14\u8bb0\u672c\u90fd\u5185\u7f6e\u4e86 \u5e26\u6709MAC\u7269\u7406\u5730\u5740\u3002ipconfig/all &gt; \u7269\u7406\u5730\u5740\u91cc\u5c31\u53ef\u4ee5\u770b\u89c1~</p> </li> <li> <p>\u4e2d\u7ee7\u5668\u3002\u8fde\u63a5\u76f8\u540c\u7684\u901a\u4fe1\u5a92\u4ecb\u4e0e\u76f8\u540c\u901f\u5ea6\u7684\u7f51\u7edc\uff0c\u8d77\u5230\u7535\u4fe1\u53f7/\u5149\u4fe1\u53f7\u6ce2\u5f62\u653e\u5927\u7684\u4f5c\u7528\u3002\u4e8e\u7269\u7406\u5c42\u4e0a\u5ef6\u957f\u7f51\u7edc\u3002</p> </li> <li> <p>\u7f51\u6865/2\u5c42\u4ea4\u6362\u673a\u3002\u6839\u636e\u6570\u636e\u5e27\uff08\u610f\u540c\u5206\u7ec4\u6570\u636e\uff0c\u4f46\u662f\u5728\u6570\u636e\u94fe\u8def\u5c42\u79f0\u4e3a\u5e27\uff09\u7684\u5185\u5bb9\u8f6c\u53d1\u6570\u636e\u7ed9\u76f8\u90bb\u7684\u7f51\u7edc\uff0c\u53ef\u4ee5\u50a8\u5b58\u6570\u636e\u5e27\u5e76\u91cd\u65b0\u751f\u6210\u5168\u65b0\u7684\u5e27\uff0c\u6240\u4ee5\u53ef\u4ee5\u8fde\u63a5\u4f20\u8f93\u901f\u7387\u4e0d\u540c\u7684\u6570\u636e\u94fe\u8def\uff0c\u4e0d\u9650\u5236\u8fde\u63a5\u7f51\u65ad\u7684\u4e2a\u6570\uff0c\u8fd8\u53ef\u4ee5\u63a7\u5236\u6570\u636e\uff0c\u4e22\u5f03\u9519\u8bef\u7684\u6570\u636e\u5e27\uff0c\u8fd8\u53ef\u4ee5\u4fdd\u5b58\u54ea\u4e9b\u7f51\u6bb5\u5730\u5740\u5305\u542b\u54ea\u4e9bMAC\u5730\u5740\u8bbe\u5907\u7684\u4fe1\u606f\uff0c\u4e0b\u6b21\u53ea\u53d1\u7ed9\u5bf9\u7684\u7f51\u6bb5\u3002\u4f5c\u7528\u4e8e\u6570\u636e\u94fe\u8def\u5c42\u3002\u73b0\u5728\u5e38\u7528\u7684\u4ea4\u6362\u96c6\u7ebf\u5668Hub,\u8fde\u63a5\u7535\u7f06\u7684\u6bcf\u4e2a\u7aef\u53e3\u90fd\u80fd\u63d0\u4f9b\u7c7b\u4f3c\u7f51\u6865\u7684\u529f\u80fd\u3002</p> </li> <li> <p>\u8def\u7531\u5668/3\u5c42\u4ea4\u6362\u673a\u3002\u8fde\u63a5\u4e24\u4e2a\u7f51\u7edc\uff0c\u5e76\u5bf9\u5206\u7ec4\u62a5\u6587\u8fdb\u884c\u8f6c\u53d1\u3002\u7f51\u6865\u6839\u636e\u7269\u7406\u5730\u5740\uff08MAC\uff09\u8fdb\u884c\u5904\u7406\uff0c\u800c\u8def\u7531\u5668\u6839\u636eIP\u5730\u5740\u8fdb\u884c\u5904\u7406\uff0c\u53ef\u4ee5\u8fde\u63a5\u4e0d\u540c\u7684\u6570\u636e\u94fe\u8def\u3002\u4f4d\u4e8e\u7f51\u7edc\u5c42\u3002</p> </li> <li> <p>4~7\u5c42\u4ea4\u6362\u673a\u3002\u8d1f\u8d23\u5904\u7406\u4ece\u4f20\u8f93\u5c42\u53ca\u4ee5\u4e0a\u7684\u6570\u636e\u3002\u6bd4\u5982\u5e26\u5bbd\u63a7\u5236\uff08\u4f18\u5148\u5904\u7406\u8bed\u97f3\uff0c\u653e\u7f13\u5904\u7406\u90ae\u4ef6\u7b49\uff09\uff0c\u5e7f\u57df\u7f51\u52a0\u901f\u5668\uff0c\u7279\u6b8a\u5e94\u7528\u52a0\u901f\u5668\uff0c\u548c\u9632\u706b\u5899\u7b49\u3002</p> </li> <li> <p></p> </li> </ul> <p>\u611f\u89c9\u5c31\u597d\u50cf\u53cd\u5411\u4ee3\u7406\u7684\u4f5c\u7528\u8bf6\u3002</p> <ul> <li>\u7f51\u5173\u3002\u540c\u6837\u8d1f\u8d23\u5904\u7406\u4ece\u4f20\u8f93\u5c42\u53ca\u4ee5\u4e0a\u7684\u6570\u636e\u3002\u53ef\u4ee5\u5bf9\u6570\u636e\u8fdb\u884c\u8f6c\u6362\uff0c\u6bd4\u5982\u5728\u8868\u793a\u5c42\u548c\u5e94\u7528\u5c42\u4e2d\u95f4\u8bbe\u7acb\u7f51\u5173\uff0c\u5bf9\u624b\u673a\u90ae\u4ef6\u6216\u8ba1\u7b97\u673a\u90ae\u4ef6\u8fdb\u884c\u8f6c\u6362\uff08\u5b83\u4eec\u534f\u8bae\u4e0d\u540c\uff09\uff0c\u8fd9\u6837\u624b\u673a\u4e5f\u53ef\u4ee5\u548c\u8ba1\u7b97\u673a\u53d1\u90ae\u4ef6\u4e86\u3002\u4ee3\u7406\u670d\u52a1\u5668Proxy server\u4e5f\u662f\u7f51\u5173\u7684\u4e00\u79cd\uff0c\u79f0\u4e3a\u5e94\u7528\u7f51\u5173\uff0c\u8b6c\u5982\u9632\u706b\u5899\u3002</li> <li></li> </ul> <p>\u8fd9\u91cc\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u7684\u89e3\u91ca\u5f88\u4e00\u8bed\u4e2d\u7684\uff01~</p> <ul> <li> <p>\u73b0\u4ee3\u7f51\u7edc\u5b9e\u6001</p> </li> <li> <p>\u4e92\u8054\u7f51\u7edc\u5149\u7ea4\u4eec \u5176\u5b9e\u4e5f\u76f8\u5f53\u4e8e\u770b\u4e0d\u89c1\u7684\u9ad8\u901f\u516c\u8def\u5462</p> </li> <li> <p>\u79fb\u52a8\u901a\u4fe1\u3002\u624b\u673a\u4e0e\u57fa\u7ad9\u7684\u5173\u7cfb\u3002</p> </li> <li> <p>4G\u4e0b\uff0c\u58f0\u97f3\u4e5f\u88ab\u5f53\u4f5cIP\u6570\u636e\u5305\u8fdb\u884c\u4f20\u8f93\uff0c\u6240\u4ee5\u6574\u4e2a\u7f51\u7edc\u4e0a\u90fd\u5e94\u7528\u4e86TCP/IP\u534f\u8bae\u4e86\uff01~</p> </li> <li> <p>\u6258\u7ba1\u4e3b\u673a\u7684\u670d\u52a1\u3002\u4ee5\u524d\uff0c\u8bbf\u95ee\u7531\u4e2a\u4eba\u6216\u4f01\u4e1a\u81ea\u884c\u7ba1\u7406\u7684\u670d\u52a1\u5668\u7684\u60c5\u51b5\u5c45\u591a\uff0c\u73b0\u5728\u5229\u7528\u6570\u636e\u4e2d\u5fc3\u53d1\u5e03\u4fe1\u606f\u7684\u60c5\u51b5\u65e5\u76ca\u589e\u591a\u3002</p> </li> </ul>","tags":["Book","Archive"]},{"location":"Basic-is-everything/Network/protocols/%E5%9B%BE%E8%A7%A3TCPIP/#tcpip_1","title":"TCP/IP\u534f\u8bae\u7fa4","text":"<ul> <li>\u5176\u5b9e\u5305\u62ec\u4e86\u8d85\u591a\u5185\u5bb9</li> </ul> <p>\u5e94\u7528\u534f\u8bae\uff1aHTTP, FTP, TELNET\u7b49</p> <p>\u4f20\u8f93\u534f\u8bae\uff1aTCP, UDP</p> <p>\u8def\u7531\u63a7\u5236\u534f\u8bae\uff1aRIP, OSPF, BGP</p> <p>\u7f51\u9645\u534f\u8bae\uff1aIP, ICMP, ARP</p> <ul> <li>\u5206\u5c42\u6a21\u578b</li> </ul> <p></p> <p>OSI\u53c2\u8003\u534f\u8bae\u6ce8\u91cd\uff1a\u901a\u4fe1\u534f\u8bae\u5fc5\u8981\u7684\u529f\u80fd\u662f\u4ec0\u4e48</p> <p>TCP/IP\uff1a\u5728\u8ba1\u7b97\u673a\u4e0a\u5b9e\u73b0\u534f\u8bae\u5e94\u8be5\u5f00\u53d1\u54ea\u79cd\u7a0b\u5e8f</p> <p>\u4e92\u8054\u7f51\u5c42\uff1a\u4f7f\u7528ip\u534f\u8bae\uff0cwhich \u57fa\u4e8eIP\u5730\u5740\u8f6c\u53d1\u5206\u5305\u6570\u636e</p> <ul> <li> <p>IP: \u4e0d\u5177\u6709\u91cd\u53d1\u673a\u5236\u3002\u6240\u4ee5\u5982\u679c\u5206\u7ec4\u6570\u636e\u5305\u4e2d\u9014\u4e22\u6389\u4e86 \u4e5f\u4e0d\u4f1a\u91cd\u53d1\u3002</p> </li> <li> <p>ICMP: \u6536\u5230\u63a5\u6536\u7aef\u53d1\u9001\u7684\u5f02\u5e38\u901a\u77e5\u65f6\uff0c\u4f1a\u91cd\u53d1</p> </li> <li> <p>ARP: \u4eceIP\u5730\u5740\u4e2d\u89e3\u6790\u51faMAC\u5730\u5740</p> </li> </ul> <p>\u4f20\u8f93\u5c42\uff1a\u5f88\u91cd\u8981\u7684\u4e00\u70b9\u662f\u8ba9\u8ba1\u7b97\u673a\u8bc6\u522b\u51fa\u662f\u54ea\u4e2a\u7a0b\u5e8f\u5728\u548c\u54ea\u4e2a\u7a0b\u5e8f\u901a\u4fe1\uff0c\u90a3\u4e48\u8bc6\u522b\u8fd9\u4e9b\u7a0b\u5e8f\u7684\u6b63\u662f\u7aef\u53e3\u53f7\u3002</p> <ul> <li> <p>TCP: \u9762\u5411\u6709\u8fde\u63a5\u7684\u4f20\u8f93\u5c42\u534f\u8bae\u3002\u53ef\u4ee5\u4fdd\u8bc1\u4e24\u7aef\u901a\u4fe1\u4e3b\u673a\u4e4b\u95f4\u7684\u901a\u4fe1\u53ef\u8fbe\uff0c\u8fd8\u53ef\u4ee5\u6b63\u786e\u5904\u7406\u4e22\u5305\u6216\u8005\u4f20\u8f93\u987a\u5e8f\u4e71\u6389\u7684\u8fd9\u4e9b\u60c5\u51b5\u3002\u7f3a\u70b9\u662f\u2460\u5efa\u7acb\u6216\u65ad\u5f00\u8fde\u63a5\u65f6\u9700\u8981\u81f3\u5c117\u6b21\u7684\u6536\u5305\u53d1\u5305\uff0c\u5bfc\u81f4\u7f51\u7edc\u6d41\u91cf\u7684\u6d6a\u8d39 \u2461\u534f\u8bae\u4e2d\u89c4\u8303\u5f88\u591a\uff0c\u4e0d\u5229\u4e8e\u89c6\u9891\u4f1a\u8bae\u7b49\u573a\u5408\u4f7f\u7528\u3002</p> </li> <li> <p>UDP: \u9762\u5411\u65e0\u8fde\u63a5\u7684\u4f20\u8f93\u5c42\u534f\u8bae\u3002\u4e0d\u4f1a\u5173\u6ce8\u5bf9\u7aef\u662f\u5426\u5728\u7ebf\uff0c\u662f\u5426\u6709\u6536\u5230\u6570\u636e\u5305\u7b49\u3002</p> </li> </ul> <p>\u5e94\u7528\u5c42\uff08\u4f1a\u8bdd\u5c42\u4ee5\u4e0a\u5206\u5c42\uff09\uff1a</p> <ul> <li> <p>HTTP: HyperText Transfer Protocol \u6d4f\u89c8\u5668\u4e0e\u670d\u52a1\u7aef\u901a\u4fe1\u6240\u7528\u7684\u534f\u8bae\u3002\u5c5e\u4e8eOSI\u5e94\u7528\u5c42\u7684\u534f\u8bae\u3002</p> </li> <li> <p>HTML: \u5c5e\u4e8eOSI\u8868\u793a\u5c42\u7684\u534f\u8bae\u3002</p> </li> <li> <p>SMTP: Simple Mail Transfer Protocol \u53d1\u9001\u7535\u5b50\u90ae\u4ef6\u7684\u534f\u8bae\uff0c\u73b0\u5728\u7535\u5b50\u90ae\u4ef6\u7684\u683c\u5f0f\u8fd8\u7531MIME\u62d3\u5c55\u4e86\u3002MIME\u4e5f\u5c5e\u4e8eOSI\u7684\u8868\u793a\u5c42\u3002</p> </li> <li> <p>FTP: File Transfer Protocol\u3002\u4f20\u8f93\u8fc7\u7a0b\u53ef\u9009\u62e9\u4e8c\u8fdb\u5236\u65b9\u5f0for\u6587\u672c\u65b9\u5f0f\uff0c\u540e\u8005\u5728\u4e0d\u540c\u7cfb\u7edf\u95f4\u8fdb\u884c\u4f20\u8f93\u65f6\u4f1a\u81ea\u52a8\u4fee\u6539\u6362\u884c\u7b26, which\u5c5e\u4e8eOSI\u7684\u663e\u793a\u5c42\u3002\u4f20\u8f93\u65f6\u8fd8\u4f1a\u5efa\u7acb\u4e24\u4e2aTCP\u8fde\u63a5\uff0c\u5206\u522b\u662f\u53d1\u51fa\u8bf7\u6c42\u65f6\u8981\u7528\u5230\u7684\u63a7\u5236\u8fde\u63a5\u4e0e\u5b9e\u9645\u4f20\u8f93\u6570\u636e\u65f6\u8981\u7528\u5230\u7684\u6570\u636e\u8fde\u63a5\uff0c\u8fd9\u4e24\u8005\u8fde\u63a5\u7684\u4f1a\u8bdd\u7ba1\u7406\u5c5e\u4e8eOSI\u7684\u4f1a\u8bdd\u5c42\u3002</p> </li> <li> <p>TELNET\u548cSSH(Secure SHell): \u7528\u4e8e\u8fdc\u7a0b\u767b\u5f55\u3002</p> </li> <li> <p>SNMP(\u5e94\u7528\u5c42\u534f\u8bae): \u7f51\u7edc\u7ba1\u7406\u3002\u88ab\u7ba1\u7406\u7684\u4e3b\u673a\u7f51\u6865\u8def\u7531\u5668\u7b49\u79f0\u4e3aSNMP\u4ee3\u7406\uff0c\u8fdb\u884c\u7ba1\u7406\u7684\u90a3\u4e00\u6bb5\u79f0\u4e3a\u7ba1\u7406\u5668\u3002\u4ee3\u7406\u7aef\u5c31\u4fdd\u5b58\u7740\u7f51\u7edc\u63a5\u53e3\u7684\u4fe1\u606f\uff0c\u901a\u4fe1\u6570\u636e\u91cf\u5f02\u5e38\u6570\u636e\u91cf\u548c\u6e29\u5ea6\u7b49\u4fe1\u606f\uff0c\u8fd9\u4e9b\u4fe1\u606f\u53ef\u4ee5\u901a\u8fc7MIB(\u8868\u793a\u5c42\u534f\u8bae)\u8bbf\u95ee\u5230\u3002</p> </li> </ul> <p>\u901a\u4fe1\u5b9e\u4f8b</p> <p>\u6570\u636e\u5305\u9996\u90e8\uff1a</p> <p></p> <p>\u9996\u90e8\u6709\u597d\u591a\u4fe1\u606f\u5440\u3002\u6bd4\u5982\u5982\u4f55\u8bfb\u53d6\u6570\u636e \u5982\u4f55\u6821\u9a8c \u4e0a\u4e00\u5c42\u534f\u8bae\u7684\u57df\u662f\u4ec0\u4e48\u5185\u5bb9\uff08\u662f\u6307\u5305\u62ec\u4e4b\u524d\u6240\u6709\u9996\u90e8\u4eec\u7684\u5168\u90e8\u7684data\uff01\uff09</p> <p>\u53d1\u9001\u90ae\u4ef6\uff1a</p> <p>\u2460\u5e94\u7528\u7a0b\u5e8f\u5904\u7406\uff1a\u70b9\u51fb\u53d1\u9001\u7684\u4e00\u523b\uff0c\u4f1a\u8bdd\u5c42\u6307\u6325\u5efa\u7acbTCP\u8fde\u63a5\u3002</p> <p>\u2461TCP\u6a21\u5757\u7684\u5904\u7406\uff1a\u9996\u90e8\u5305\u62ec\u6e90\u7aef\u53e3\u53f7\u548c\u76ee\u6807\u7aef\u53e3\u53f7\uff08\u7528\u4ee5\u8bc6\u522b\u53d1\u9001\u4e3b\u673a\u548c\u63a5\u6536\u4e3b\u673a\u7684\u5e94\u7528\uff09\uff0c\u5e8f\u53f7\uff08\u8868\u660e\u5305\u4e2d\u4ece\u54ea\u91cc\u5f00\u59cb\u662f\u6570\u636e\uff09\u4ee5\u53ca\u6821\u9a8c\u548c\uff08\u4ee5\u5224\u65ad\u6570\u636e\u662f\u5426\u88ab\u635f\u574f\uff09\u3002</p> <p>\u2462IP\u6a21\u5757\u7684\u5904\u7406\uff1a\u9996\u90e8\u5305\u62ec\u53d1\u9001\u7aefIP\u548c\u63a5\u6536\u7aefIP\u3002\u8fd8\u9644\u5e26\u6709\u8bc6\u522b\u4e0a\u4e00\u5c42\u662fTCP\u8fd8\u662fUDP\u7684\u4fe1\u606f\u3002IP\u5305\u751f\u6210\u540e\u53c2\u8003\u8def\u7531\u63a7\u5236\u8868\u88ab\u53d1\u9001\u81f3\u5bf9\u5e94\u8def\u7531\u5668\u3002</p> <p>\u2463\u7f51\u7edc\u63a5\u53e3\uff08\u4ee5\u592a\u7f51\u9a71\u52a8\uff09\u7684\u5904\u7406\uff1a\u9996\u90e8\u5305\u62ec\u53d1\u9001\u7aef\u53ca\u63a5\u6536\u7aef\u7684MAC\u5730\u5740</p> <p>\u63a5\u53d7\u90ae\u4ef6\uff1a</p> <p>\u2460\u7f51\u7edc\u63a5\u53e3\uff08\u4ee5\u592a\u7f51\u9a71\u52a8\uff09\u7684\u5904\u7406\uff1a\u9996\u5148\u4ece\u9996\u90e8\u627e\u5230MAC\u5730\u5740\u786e\u8ba4\u6536\u4ef6\u65b9\u662f\u5426\u662f\u81ea\u5df1\uff0c\u4e0d\u662f\u5219\u4e22\u5f03\u3002\u518d\u627e\u5230\u4e0a\u4e00\u5c42\u5305\u7684\u7c7b\u578b\uff0c\u5982\u679c\u662fIP\u5305\u5219\u5c06\u6570\u636e\u4f20\u7ed9\u5904\u7406IP\u7684\u5b50\u7a0b\u5e8f\uff0cARP\u7684\u5c31\u4f20\u7ed9\u5904\u7406ARP\u7684\u534f\u8bae\u3002</p> <p>\u2461IP\u6a21\u5757\u7684\u5904\u7406\uff1a\u7c7b\u4f3c\u4e0a\u4e00\u6b65\uff0c\u5148\u786e\u8ba4IP\u5730\u5740\u662f\u5426\u662f\u81ea\u5df1\uff0c\u7136\u540e\u518d\u786e\u8ba4\u4e0a\u4e00\u5c42\u5305\u662fTCP\u7684\u8fd8\u662fUDP\u7684\u5206\u522b\u4f20\u9012\u3002\u6ce8\u610f \u5bf9\u4e8e\u6709\u8def\u7531\u5668\u7684\u60c5\u51b5\u4e0b\uff0c\u63a5\u6536\u7aef\u5730\u5740\u5f80\u5f80\u4e0d\u662f\u81ea\u5df1\u7684\u5730\u5740\uff0c\u5c31\u9700\u8981\u501f\u52a9\u8def\u7531\u63a7\u5236\u8868\uff0c\u8f6c\u53d1\u81f3\u5e94\u9001\u8fbe\u7684\u4e3b\u673a\u6216\u8def\u7531\u5668</p> <p>\u2462TCP\u6a21\u5757\u7684\u5904\u7406\uff1a\u5148\u901a\u8fc7\u6821\u9a8c\u548c\u786e\u8ba4\u6570\u636e\u662f\u5426\u88ab\u7834\u574f\uff0c\u7136\u540e\u68c0\u67e5\u662f\u5426\u5728\u6309\u7167\u5e8f\u53f7\u63a5\u6536\u6570\u636e\u3002\u6700\u540e\u68c0\u67e5\u7aef\u53e3\u53f7\uff0c\u786e\u5b9a\u5177\u4f53\u5e94\u7528\u7a0b\u5e8f\u3002\u6570\u636e\u63a5\u53d7\u5b8c\u540e\uff0c\u4f1a\u7ed9\u53d1\u9001\u7aef\u53d1\u9001\u4e00\u4e2a\u201c\u786e\u8ba4\u6536\u5230\u201d\uff0c\u518d\u5c06\u6570\u636e\u53d1\u7ed9\u7531\u7aef\u53e3\u53f7\u8bc6\u522b\u7684\u5e94\u7528\u3002</p>","tags":["Book","Archive"]},{"location":"Basic-is-everything/Network/protocols/%E5%9B%BE%E8%A7%A3TCPIP/#_1","title":"\u6570\u636e\u94fe\u8def","text":"<p>\u4e0d\u540c\u7c7b\u578b\uff1a\u5305\u62ec\u4ee5\u592a\u7f51 FDDI ATM \u65e0\u7ebfLAN \u84dd\u7259\u7b49</p> <p>MAC\u5730\u5740\uff1a</p> <p>\u7528\u4e8e\u8bc6\u522b\u6570\u636e\u94fe\u8def\u4e2d\u4e92\u8054\u7684\u8282\u70b9</p> <p>MAC\u5730\u5740\u5185\u6709\u5382\u5546\u8bc6\u522b\u7801\u548c\u5382\u5546\u5185\u8bc6\u522b\u7801 \u6240\u4ee5\u4e0d\u4f1a\u91cd\u590d</p> <p>\u4ee5\u592a\u7f51</p> <p>\u539f\u6765\u4ee5\u592a\u662f\u4ecb\u8d28\u7684\u610f\u601d \u5728\u91cf\u5b50\u529b\u5b66\u51fa\u73b0\u4ee5\u524d \u4eba\u4eec\u8ba4\u4e3a\u7a7a\u6c14\u4e2d\u5145\u6ee1\u4e86\u4ee5\u592a\u2026</p> <p>\u8c46\u77e5\u8bc6&gt;&lt;</p> <p>\u7136\u540e\u8fd8\u8bb2\u5230\u4ee5\u592a\u7f51\u5185\u4f20\u9012\u7684\u5e27</p> <p>\u6709\u5e27\u5934\u5e27\u4e3b\u4f53\u8fd8\u6709\u6700\u540e\u7684FCS\u6765\u68c0\u6d4b\u6570\u636e\u662f\u5426\u88ab\u635f\u574f</p> <p>\u65e0\u7ebf\u901a\u4fe1</p> <p></p> <ul> <li>PPP\u70b9\u5bf9\u70b9</li> </ul> <p>\u5c5e\u4e8e\u7eaf\u7cb9\u7684\u6570\u636e\u94fe\u8def\u5c42 \u8fd8\u9700\u7269\u7406\u5c42\u7684\u652f\u6301</p> <ul> <li>IP\u534f\u8bae</li> </ul> <p>\u4f4d\u4e8e\u7f51\u7edc\u5c42 \u7f51\u7edc\u5c42\u53ef\u4ee5\u8de8\u8d8a\u4e0d\u540c\u7684\u6570\u636e\u94fe\u8def</p> <p>\u4e3b\u673a\uff1a\u914d\u6709IP\u5730\u5740\u4f46\u4e0d\u8fdb\u884c\u8def\u7531\u63a7\u5236\u7684\u5730\u65b9</p> <p>\u8def\u7531\u5668\uff1a\u65e2\u914d\u6709IP\u5730\u5740\u53c8\u8fdb\u884c\u8def\u7531\u63a7\u5236</p> <p>\u8282\u70b9\uff1a\u4e3b\u673a\u548c\u8def\u7531\u5668\u7edf\u79f0</p> <ul> <li>\u7f51\u7edc\u5c42\u4e0e\u6570\u636e\u94fe\u8def\u5c42\u7684\u5173\u7cfb</li> </ul> <p>\u540e\u8005\u63d0\u4f9b\u76f4\u8fde\u4e24\u4e2a\u8bbe\u5907\u4e4b\u95f4\u7684\u901a\u4fe1\u529f\u80fd</p> <p>\u524d\u8005\u8d1f\u8d23\u5728\u6ca1\u6709\u76f4\u8fde\u7684\u4e24\u4e2a\u7f51\u7edc\u4e4b\u95f4\u8fdb\u884c\u4f20\u8f93</p> <p>\u5440\uff01\u539f\u6765\u53ef\u4ee5\u60f3\u6210\u65c5\u884c\u793e\u548c\u4e2d\u9014\u8981\u5750\u7684\u706b\u8f66\u5440\u6c7d\u8f66\u5440\u7684\u5173\u7cfb</p>","tags":["Book","Archive"]},{"location":"Basic-is-everything/Network/protocols/%E5%9B%BE%E8%A7%A3TCPIP/#ip","title":"IP \u534f\u8bae","text":"<p>IP\u9762\u5411\u65e0\u8fde\u63a5 TCP\u9762\u5411\u6709\u8fde\u63a5</p> <p>IP\u8d1f\u8d23\u5c06\u6570\u636e\u53d1\u7ed9\u76ee\u6807\u4e3b\u673a TCP\u8d1f\u8d23\u4fdd\u8bc1\u5bf9\u7aef\u4e3b\u673a\u6536\u5230\u6570\u636e</p> <p>IP\u5730\u5740\uff1a8\u4f4d\u4e00\u7ec4(\u6211\u4eec\u770b\u8d77\u6765\u5c31\u8f6c\u6362\u4e3a\u5341\u8fdb\u5236\u4e86\u5df2\u7ecf) \u5206\u6210\u56db\u7ec4 \u4ee5.\u9694\u5f00</p> <p>2^8*4 \u5373 2^32=43\u4ebf\u79cd\uff01</p> <p>ip\u5730\u5740 = \u7f51\u7edc\u6807\u8bc6\uff08\u7f51\u7edc\u5730\u5740\uff09+\u4e3b\u673a\u6807\u8bc6\uff08\u4e3b\u673a\u5730\u5740\uff09</p> <p>\u7f51\u7edc\u6807\u8bc6\u5fc5\u987b\u4fdd\u8bc1\u76f8\u4e92\u8fde\u63a5\u7684\u6bcf\u4e2a\u6bb5\u7684\u5730\u5740\u4e0d\u76f8\u91cd\u590d</p> <p></p> <p>A\u7c7bip: xxx.xxx.xxx.xxx/8 \u6240\u4ee5\u4e3b\u673aip\u53ef\u67092^24 - 2\u4e2a\u4e0d\u540c\u5730\u5740\uff08\u56e0\u4e3a\u4e3b\u673a\u5730\u5740\u4e0d\u53ef\u5168\u90e8\u4e3a0\u6216\u5168\u4e3a1\uff09</p> <p>B\u7c7bip: xxx.xxx.xxx.xxx/16</p> <p>C\u7c7b: xxx.xxx.xxx.xxx/24</p> <p>D\u7c7b: xxx.xxx.xxx.xxx/32 \u5373\u6ca1\u6709\u4e3b\u673a\u6807\u8bc6 \u5e38\u7528\u4e8e\u591a\u64ad</p> <p></p> <p>\u6bd4\u5982A\u7c7b\u7684127 = 2^7 - 1</p> <p>\u4e00\u51718\u4f4d \u90a3\u4e48\u4e00\u5171\u5c31\u67092^8-1=255\u79cd\u6570\u5b57\u4e86 \u53730\u523011111111</p> <p>\u4f46\u662f\u6309\u7c7b\u5206\u4f1a\u51fa\u73b0\u5168\u5c40ip\u5730\u5740\u4e0d\u591f\u7528\u7684\u95ee\u9898 \u4e5f\u4e0d\u5927\u65b9\u4fbf \u6240\u4ee5\u51fa\u73b0\u4e86\u4e0d\u5b9a\u957f\u5ea6\u7684\u63a9\u7801</p> <p>\u63a9\u7801\u5bf9\u5e94IP\u5730\u5740\u7f51\u7edc\u6807\u5fd7\u7684\u90e8\u5206\u4e3a1\uff08\u9700\u8fde\u7eed\uff09\u5bf9\u5e94\u4e3b\u673a\u6807\u8bc6\u7684\u4e3a0</p> <p>\u5168\u5c40\u5730\u5740\u4e0e\u79c1\u6709\u5730\u5740</p> <p>\u4e13\u7528\u7f51\u7edc\u662f\u6307\u9075\u5b88RFC 1918\uff08IPV4\uff09\u548cRFC 4193\uff08IPV6\uff09\u89c4\u8303\uff0c\u4f7f\u7528\u4e13\u7528IP\u5730\u5740\u7a7a\u95f4\u7684\u7f51\u7edc\u3002\u79c1\u6709IP\u65e0\u6cd5\u76f4\u63a5\u8fde\u63a5\u4e92\u8054\u7f51\uff0c\u9700\u8981\u4f7f\u7528\u7f51\u7edc\u5730\u5740\u8f6c\u6362\uff08Network Address Translator\uff0cNAT\uff09\u6216\u8005\u4ee3\u7406\u670d\u52a1\u5668 \uff08proxy server\uff09\u6765\u5b9e\u73b0\u3002\u4e0e\u516c\u7f51IP\u76f8\u6bd4\uff0c\u79c1\u6709IP\u662f\u514d\u8d39\u7684\uff0c\u540c\u65f6\u8282\u7701\u4e86IP\u5730\u5740\u8d44\u6e90\uff0c\u9002\u5408\u5728\u5c40\u57df\u7f51\u4f7f\u7528\u3002</p> <p></p> <p>\u8def\u7531\u63a7\u5236</p> <p></p> <p>\u6ca1\u627e\u5230\u5339\u914d\u8def\u5f84\u7684\u4f1a\u88ab\u8f6c\u53d1\u5230\u9ed8\u8ba4\u8def\u7531\uff08\u76f8\u5f53\u4e8e\u201c\u5176\u4ed6\u201d \u56e0\u4e3a\u4e0d\u5fc5\u8981\u5728\u8def\u7531\u8868\u4e2d\u628a\u6240\u6709\u65e0\u5173\u4e0b\u4e00\u7ad9\u7684\u7f51\u7edc\u5730\u5740\u5c55\u793a\u51fa\u6765 \u5426\u5219\u4f1a\u9700\u8981\u66f4\u591a\u5185\u5b58\u548ccpu \u67e5\u627e\u5730\u5740\u65f6\u4e5f\u66f4\u8017\u65f6\u95f4\uff09</p> <p>ps\uff1a \u73af\u56de\u5730\u5740\u3002127.0.0.1\u548clocalhost \u6b64\u65f6\u6570\u636e\u5305\u4e0d\u4f1a\u6d41\u5411\u7f51\u7edc</p> <p>\u8def\u7531\u805a\u5408</p> <p>\u5176\u5b9e\u5c31\u662f\u4e0d\u540c\u7684ip\u53ef\u4ee5\u540c\u5c5e\u4e8e\u63a9\u7801\u53d8\u77ed\u540e\u7684ip\u5730\u5740</p> <p></p> <p>IP\u5206\u5272\u5904\u7406</p> <p>MTU\uff1a\u6570\u636e\u94fe\u8def\u7684\u6700\u5927\u4f20\u8f93\u5355\u5143 which\u4e0d\u5c3d\u76f8\u540c \u800cIP\u5c5e\u4e8e\u6570\u636e\u94fe\u8def\u4e0a\u4e00\u5c42\uff0c\u62bd\u8c61\u5316\u4e86\u5e95\u5c42\u7684\u6570\u636e\u94fe\u8def\u3002IP\u7684MTU\u662f65535\u5b57\u8282\uff0c\u800c\u4ee5\u592a\u7f51\u7684\u9ed8\u8ba4MTU\u662f1500\u5b57\u8282 \u6240\u4ee5\u65e0\u6cd5\u5728\u4e00\u4e2a\u5e27\u5f53\u4e2d\u53d1\u9001\u5b8c\u6210\u7684IP\u6570\u636e\u90fd\u9700\u8981\u5206\u7247\u3002\u8def\u7531\u5668\u8fdb\u884c\u5206\u7247 \u76ee\u6807\u4e3b\u673a\u91cd\u7ec4\u3002\u8fd8\u6709\u4e00\u79cd\u8def\u5f84MTU \u53d1\u9001\u4e3b\u673a\u4f1a\u53d1\u73b0\u6574\u6761\u94fe\u8def\u4e0a\uff08\u6ce8\u610f \u5305\u62ec\u4e86MTU\u4e0d\u540c\u7684\u4e0d\u540c\u94fe\u8def\u4eec\uff09\u7684common-max MTU\u3002\u8fd9\u6837\u65e0\u9700\u518d\u88ab\u4e2d\u9014\u8def\u7531\u5668\u5206\u7247\u4e86\u3002</p> <p>IPv6</p> <p>\u957f\u5ea6\u4e3a128\u4f4d \u6240\u4ee5\u4e00\u822c\u7528\u5341\u516d\u8fdb\u5236\u8868\u793a 16\u6bd4\u7279\u4e00\u7ec4</p> <p></p> <p>\u9996\u90e8\u7565\u8fc7\u4e86\uff01&gt;.&lt;</p>","tags":["Book","Archive"]},{"location":"Basic-is-everything/Network/protocols/%E5%9B%BE%E8%A7%A3TCPIP/#ip_1","title":"IP\u534f\u8bae\u53ca\u5176\u76f8\u5173\u6280\u672f","text":"<ul> <li> <p>DNS</p> </li> <li> <p>ARP\uff1a \u6839\u636e\u76ee\u6807IP\u5730\u5740\u67e5\u8be2\u4e0b\u4e00\u8df3\u8def\u7531\u5668\u6216\u4e3b\u673a\u7684MAC\u5730\u5740</p> </li> </ul> <p>\u4e3b\u673a\u4f1a\u901a\u8fc7\u5e7f\u64ad\u53d1\u9001ARP\u8bf7\u6c42\u5305 \u7136\u540e\u5bf9\u5e94IP\u7684\u8282\u70b9\u5c31\u4f1a\u628a\u81ea\u5df1\u7684MAC\u5730\u5740\u53d1\u56de\u3002</p> <p>\u7531\u4e8e\u662f\u5e7f\u64ad\u5f88\u8d39\u6d41\u91cf \u6240\u4ee5\u9700\u8981\u4e00\u5b9a\u65f6\u95f4\u7684MAC\u5217\u8868\u7f13\u5b58\u3002</p> <ul> <li> <p>RARP\uff1a\u7531MAC\u67e5IP</p> </li> <li> <p>ICMP\uff1a\u7528\u6765\u53d1\u73b0\u7f51\u7edc\u662f\u5426\u6709\u9519\u8bef\u5e76\u4e14\u8fdb\u884c\u62a5\u9519\u7684\uff01</p> </li> </ul> <p>\u6bd4\u5982\u8d85\u65f6\u6216\u8005\u76ee\u6807\u4e0d\u53ef\u8fbe\u8fd9\u79cd\uff01</p> <p>ping\u5c31\u662f\u5229\u7528\u7684ICMP\u56de\u9001\u6d88\u606f \u53ef\u4ee5\u63a5\u6536\u5bf9\u7aef\u4e3b\u673a\u53d1\u56de\u6765\u7684\u56de\u9001\u5e94\u7b54\u6d88\u606f</p> <ul> <li> <p>DHCP: \u81ea\u52a8\u5206\u914dip\u5730\u5740</p> </li> <li> <p>NAT\uff1a\u7528\u4e8e\u5728\u672c\u5730\u7f51\u7edc\u4e2d\u4f7f\u7528\u79c1\u6709ip\u5730\u5740 \u5728\u8fde\u63a5\u4e92\u8054\u7f51\u65f6\u4f7f\u7528\u5168\u5c40ip\u5730\u5740</p> </li> <li> <p>IP\u96a7\u9053\uff1a\u4e3a\u89e3\u51b3\u4e24\u6bb5IPv6\u7f51\u7edc\u4e2d\u5939\u7740\u4e00\u6bb5IPv4\u7f51\u7edc\u8fd9\u6837\u5b50\u7684\u95ee\u9898</p> </li> </ul> <p>\u4e5f\u5c31\u662f\u518d\u52a0\u4e00\u4e2aIPv4/v6\u7684\u9996\u90e8</p> <ul> <li>IP\u4efb\u64ad\uff1a\u5c31\u50cf\u62e8110\u90a3\u6837\uff01\u4e3a\u5f88\u591a\u670d\u52a1\u5668\u914d\u540c\u4e00\u4e2aip\u5730\u5740 \u5e76\u4e0e\u6700\u8fd1\u7684\u670d\u52a1\u5668\u8fdb\u884c\u901a\u4fe1\u7684\u65b9\u5f0f~\u6700\u5178\u578b\u7684\u5c31\u662fdns\u6839\u57df\u540d\u670d\u52a1\u5668</li> </ul> <p></p>","tags":["Book","Archive"]},{"location":"Basic-is-everything/Network/protocols/%E5%9B%BE%E8%A7%A3TCPIP/#_2","title":"\u5e94\u7528\u534f\u8bae","text":"<p>\u8fdc\u7a0b\u767b\u5f55\uff1aTELNET+SSH</p> <p>\u6587\u4ef6\u4f20\u8f93\uff1aFTP\uff08\u4f7f\u7528\u4e24\u6761TCP \u4e00\u6761\u7528\u6765\u63a7\u5236\u8bbe\u7f6e\u4e00\u6761\u7528\u6765\u4f20\u6570\u636e\uff09</p> <p>\u90ae\u4ef6\uff1aSMTP\u597d\u50cf\u5c31\u5f88\u590d\u6742\u2026\u8fd8\u6709POP\u534f\u8bae\u7528\u6765\u63a5\u53d7\u90ae\u4ef6 POP\u670d\u52a1\u5668\u4e00\u76f4\u5904\u4e8e\u63d2\u7535\u8fde\u63a5\u7684\u72b6\u6001\u7684 \u8fd8\u6709IMAP\u534f\u8bae\u4e5f\u662f\u5728\u63a5\u6536\u7aef\u7528\u7684</p>","tags":["Book","Archive"]},{"location":"Basic-is-everything/Network/protocols/%E5%9B%BE%E8%A7%A3TCPIP/#_3","title":"\u7f51\u7edc\u5b89\u5168","text":"<p>\u9632\u706b\u5899</p> <p>\u5982\u4f55\u5b9e\u73b0\u53ea\u5185\u7f51\u53ef\u8bbf\u95ee\u5916\u7f51 \u5916\u7f51\u8bbf\u95ee\u4e0d\u5230\u5185\u7f51\uff1f\u9632\u706b\u5899\u53ef\u901a\u8fc7\u76d1\u63a7TCP\u5305\u9996\u90e8\u7684SYN\u548cACK\u6807\u8bc6\u4f4d\uff0c\u5f53SYN\u4e3a1ACK\u4e3a0\u65f6\u5c5e\u4e8e\u4e92\u8054\u7f51\u53d1\u8fc7\u6765\u7684\u5305\uff0c\u6240\u4ee5\u4f1a\u4e22\u6389\u3002\u6240\u4ee5\u53ea\u80fd\u4ece\u5185\u7f51\u5411\u5916\u5efa\u7acb\u8fde\u63a5\u3002</p> <p></p> <p>\u518d\u6b21\u6e29\u4e60\u5bf9\u79f0\u52a0\u5bc6\u4e0e\u975e\u5bf9\u79f0\u52a0\u5bc6\uff08\u53c8\u79f0\u516c\u94a5\u52a0\u5bc6\uff09</p> <p>VPN\uff1a\u865a\u62df\u79c1\u6709\u7f51</p> <p>\u5229\u7528IPsec\u6280\u672f \u5728ip\u9996\u90e8\u540e\u8ffd\u52a0\u53e6\u4e24\u4e2a\u9996\u90e8\uff08\u5305\u542b\u89e3\u5bc6\u4fe1\u606f\uff09\u5e76\u5bf9ip\u6570\u636e\u8fdb\u884c\u52a0\u5bc6</p> <p></p> <p>\u7528CA\u8bc1\u4e66\u786e\u8ba4\u516c\u94a5\u662f\u5426\u6b63\u786e</p>","tags":["Book","Archive"]},{"location":"Basic-is-everything/Network/protocols/%E6%B6%88%E6%81%AF%E5%8D%8F%E8%AE%AE/","title":"\u6d88\u606f\u534f\u8bae","text":"<p>Messaging protocol</p>"},{"location":"Basic-is-everything/Network/protocols/%E6%B6%88%E6%81%AF%E5%8D%8F%E8%AE%AE/#what-are-message-brokers","title":"What are message brokers(\u6d88\u606f\u670d\u52a1\u5668)","text":"<p>A message broker is software that enables applications, systems, and services to communicate with each other and exchange information. The message broker does this by translating messages between formal messaging protocols. This allows interdependent services to \u201ctalk\u201d with one another directly, even if they were written in different languages or implemented on different platforms. E.g. Kafka(LinkedIn 2011) ActiveMQ(Apache 2004) RabbitMQ - validate - store - route - deliver \u6709\u70b9\u50cf Email!</p>"},{"location":"Basic-is-everything/Network/protocols/%E6%B6%88%E6%81%AF%E5%8D%8F%E8%AE%AE/#components","title":"components","text":"<ul> <li>Producer: \u76f8\u5f53\u4e8e publishers</li> <li>Consumer: \u76f8\u5f53\u4e8e subscribers</li> <li>Queue/topic</li> </ul>"},{"location":"Basic-is-everything/Network/protocols/%E6%B6%88%E6%81%AF%E5%8D%8F%E8%AE%AE/#message-queue","title":"message queue","text":"<p>A substructure or component that stores and orders the messages until the consuming applications can process them.</p>"},{"location":"Basic-is-everything/Network/protocols/%E6%B6%88%E6%81%AF%E5%8D%8F%E8%AE%AE/#message-brokers-vs-rest-apis","title":"Message brokers vs. REST APIs","text":"<p>\u540e\u8005\uff1afor synchronous request/reply. This means that services making requests via REST APIs must be designed to expect an immediate response. If the client receiving the response is down, the sending service will be blocked. \u524d\u8005\uff1aFor asynchronous communications. This improves fault tolerance and resiliency.\u00a0In addition, the use of message brokers makes it easier to scale systems since a pub/sub messaging pattern can readily support changing numbers of services.</p>"},{"location":"Basic-is-everything/Network/protocols/%E6%B6%88%E6%81%AF%E5%8D%8F%E8%AE%AE/#mqttmessage-queuing-telemetry-transport-vs-amqpadvanced-message-queuing-protocol","title":"MQTT(Message Queuing Telemetry Transport) v.s. AMQP(Advanced Message Queuing Protocol)","text":"<p> AMQP: Designed for reliable and secure messaging.</p> <p> MQTT: Optimized for constrained devices and unreliable networks.</p> <p>Similarities: - \u90fd\u5de5\u4f5c\u5728 application layer. - Asynchronous Messaging: Both the publisher and subscriber do not have to be online at the same time to be able to communicate. - Quality of Service: They provide options for at-most-once, at-least-once, and exactly-once message semantics.</p> <p>Differences: - Messaging Patterns: AMQP \u7684 routing \u673a\u5236\u66f4\u4e3a\u590d\u6742\uff0c\u4e0d\u4ec5\u652f\u6301 publish-subscribe \u7684\uff0c\u8fd8\u652f\u6301 point-to-point \u7684; MQTT \u7684\u4e13\u4e1a\u652f\u6301 publish/subscribe \u6a21\u5f0f\uff0c\u9002\u5408\u90a3\u79cd master \u7ba1\u7406\u591a\u4e2a\u8bbe\u5907\u7684 - \u590d\u6742\u5ea6\uff1aAMQP \u66f4\u5927\u5168\uff0c\u5305\u62ec message persistence \u7b49\u7b49; MQTT \u4e13\u4e1a streamlined messaging.</p> <p>Use cases: - AMQP ross-datacenter messaging \u3001financial \u9886\u57df\uff0cMQTT IOT \u9886\u57df</p>"},{"location":"Basic-is-everything/Network/protocols/%E6%B6%88%E6%81%AF%E5%8D%8F%E8%AE%AE/#_2","title":"\u4e00\u4e9b\u6709\u8da3\u7684\u95ee\u9898","text":"<ul> <li>Why doesn't RabbitMQ support AMQP over HTTP instead of STOMP? - Stack Overflow</li> <li>Why is HTTP not a messaging protocol? (according to RabbitMQ) - Stack Overflow</li> </ul>"},{"location":"Basic-is-everything/Network/protocols/%E8%93%9D%E7%89%99/","title":"\u84dd\u7259","text":"<p>History: From 1989 \u7231\u7acb\u4fe1\u516c\u53f8 \u53d1\u660e\u8033\u673a\u65f6\u5e0c\u671b\u4e0d\u7528\u8033\u673a\u7ebf\u300c\u901a\u8fc7\u77ed\u6ce2\u9891\u7387\u5c06\u7535\u8111\u65e0\u7ebf\u8fde\u63a5\u7684\u77ed\u7a0b\u65e0\u7ebf\u6280\u672f\u300d 1999 \u62c9\u65af\u7ef4\u52a0\u65af\u516c\u5e03\u7ed3\u679c~ \u82f1\u7279\u5c14\u3001\u7231\u7acb\u4fe1\u3001\u8bfa\u57fa\u4e9a\u4e00\u8d77\u521b\u5efa\u7684\u7edf\u4e00\u89c4\u5219\u3002\u84dd\u7259 form \u4e00\u4e2a\u5173\u4e8e\u4e39\u9ea6\u56fd\u738b\u7684\u7ae5\u8bdd\u6545\u4e8b\u3002</p> <p>\u901a\u5e38\u5728 2.4GHz \u7684\u9891\u7387\u3002\u84dd\u7259\u8017\u80fd\u5f88\u5c0f\uff0c1mW\u5373\u53ef\uff0c\u5e76\u4e14\u53ef\u4ee5\u540c\u65f6\u8fde\u63a57\u53f0\u8bbe\u5907\u3002</p> <ul> <li>\u8df3\u9891</li> <li>\u4e0d\u540c\u4f4d\u5740</li> <li>\u5e7f\u64ad \u6240\u4ee5\u53d1\u9001\u4fe1\u53f7\u7684\u8bbe\u5907\u53ef\u4ee5\u662f\u5404\u4e2a\u89d2\u5ea6\u7684\u54c8\u54c8</li> </ul> <p>\u84dd\u7259\u4f20\u8f93\u7684\u539f\u7406\uff1a</p> <p>\u4e3b\u4ece\u5173\u7cfb\uff1a\u84dd\u7259\u6280\u672f\u89c4\u5b9a\u6bcf\u4e00\u5bf9\u8bbe\u5907\u4e4b\u95f4\u8fdb\u884c\u84dd\u7259\u901a\u8baf\u65f6\uff0c\u5fc5\u987b\u4e00\u4e2a\u4e3a\u4e3b\u89d2\u8272\uff0c\u53e6\u4e00\u4e3a\u4ece\u89d2\u8272\uff0c\u624d\u80fd\u8fdb\u884c\u901a\u4fe1\uff0c\u901a\u4fe1\u65f6\uff0c\u5fc5\u987b\u7531\u4e3b\u7aef\u8fdb\u884c\u67e5\u627e\uff0c\u53d1\u8d77\u914d\u5bf9\uff0c\u5efa\u94fe\u6210\u529f\u540e\uff0c\u53cc\u65b9\u5373\u53ef\u6536\u53d1\u6570\u636e\u3002\u7406\u8bba\u4e0a\uff0c\u4e00\u4e2a\u84dd\u7259\u4e3b\u7aef\u8bbe\u5907\uff0c\u53ef\u540c\u65f6\u4e0e7\u4e2a\u84dd\u7259\u4ece\u7aef\u8bbe\u5907\u8fdb\u884c\u901a\u8baf\u3002</p> <p>\u547c\u53eb\u8fc7\u7a0b\uff1a\u84dd\u7259\u4e3b\u7aef\u8bbe\u5907\u53d1\u8d77\u547c\u53eb\uff0c\u9996\u5148\u662f\u67e5\u627e\uff0c\u627e\u51fa\u5468\u56f4\u5904\u4e8e\u53ef\u88ab\u67e5\u627e\u7684\u84dd\u7259\u8bbe\u5907\u3002\u4e3b\u7aef\u8bbe\u5907\u627e\u5230\u4ece\u7aef\u84dd\u7259\u8bbe\u5907\u540e\uff0c\u4e0e\u4ece\u7aef\u84dd\u7259\u8bbe\u5907\u8fdb\u884c\u914d\u5bf9\uff0c\u6b64\u65f6\u9700\u8981\u8f93\u5165\u4ece\u7aef\u8bbe\u5907\u7684PIN\u7801\uff0c\u4e5f\u6709\u8bbe\u5907\u4e0d\u9700\u8981\u8f93\u5165PIN\u7801\u3002</p>"},{"location":"Basic-is-everything/OS/Operating%20System%20three%20easy%20pieces/","title":"Operating System three easy pieces","text":"<p>That body of software is called the operating system (OS), as it is in charge of making sure the system operates correctly and efficiently in an easy-to-use manner.</p> <p>The primary way the OS does this is through a general technique that we call virtualization. That is, the OS takes a physical resource (such as the processor, or memory, or a disk) and transforms it into a more general, powerful, and easy-to-use virtual form of itself. Thus, we sometimes refer to the operating system as a virtual machine.</p> <p>interesting facts: - \u65e9\u671f\u7684OS\uff08\u6279\u5904\u7406\uff09\u662f\u771f\u7684\u6709\u4e00\u4f4d human operator \u7684\uff0c\u6240\u4ee5\u4f60\u53ef\u4ee5\u5bf9\u4ed6\u4eec\u597d\u4e00\u70b9\uff0c\u8ba9\u4eba\u5bb6\u628a\u4f60\u7684\u4efb\u52a1\u5f80\u524d\u4e00\u70b9\u6267\u884c\u3002\uff08\u8fd9\u91cc\u8fd8\u6709\u4e00\u70b9\u9898\u5916\u8bdd\uff0c\u6211\u8bb0\u5f55\u65f6\u5dee\u70b9\u5199\u6210\u62cd\u4eba\u5bb6\u9a6c\u5c41\uff0c\u662f\u56e0\u4e3a\u6211\u5fc3\u91cc\u4e0d\u76f8\u4fe1\u53ea\u662f\u5bf9\u4eba\u5bb6\u597d\u4e00\u70b9\u5c31\u53ef\u4ee5\u5f97\u5230\u76f8\u5e94\u7684\u53cd\u9988\u5417\uff1f\u4e00\u5b9a\u8981\u62cd\u9a6c\u5c41\u624d\u884c\uff09 - system call(kernel mode) v.s. procedure call(user mode)\u5176\u5b9e\u4e5f\u5c31\u7c7b\u6bd4\u4e8e\u65e5\u5e38\u751f\u6d3b\u4e2d\u7684\u6743\u9650\u63a7\u5236 - Multiprogramming \u7684\u4ea7\u751f\u6765\u6e90\u4e8e CPU \u5bf9 I/O \u7684\u957f\u65f6\u95f4\u7b49\u5f85\u3002\u5c31\u597d\u50cf\u505a\u83dc\u5440\uff0c\u70e4\u9762\u5305\u65f6\u53ef\u4ee5\u53bb\u5207\u57f9\u6839\u3002</p>"},{"location":"Basic-is-everything/OS/Operating%20System%20three%20easy%20pieces/#virtualize","title":"virtualize","text":"<p>\uff08\u88ab\u865a\u62df\u5316\u7684\u8001\u516c \u6216\u8005\u6d77\u738b\u7684\u4f8b\u5b50\uff1b\u4f60\u4ee5\u4e3a\u4f60own him \u5b9e\u9645\u4e0a\u4eba\u5bb6\u540c\u65f6\u4e5f\u5c5e\u4e8e\u522b\u4eba\uff09</p> <p>To implement virtualization of the CPU, and to implement it well, the OS will need both some low-level machinery(mechanisms) as well as some high-level intelligence(policies).</p>"},{"location":"Basic-is-everything/OS/Operating%20System%20three%20easy%20pieces/#process-api","title":"process API","text":"<ul> <li>\u566b fork \u8fd9\u4e2a\u5728\u51fd\u6570\u4f53\u5185\u5224\u5b9a\u5230\u5e95\u662f parent \u8fd8\u662f child process \u65b9\u5f0f\uff0c\u539f\u6765\u662f\u4ece unix \u4e00\u8109\u76f8\u627f\u6765\u7684</li> <li>wait \u51fd\u6570(system call)\uff1aIn this example (p2.c), the parent process calls wait() to delay its execution until the child finishes executing.</li> <li>exec \u51fd\u6570(system call):</li> </ul> <p>fork \u548c exec \u7684\u5fc5\u8981\u6027\uff1a</p> <p>The shell is just a user program. It shows you a prompt and then waits for you to type something into it. You then type a command (i.e., the name of an executable program, plus any arguments) into it; in most cases, the shell then figures out where in the file system the executable resides, calls fork() to create a new child process to run the command, calls some variant of exec() to run the command, and then waits for the command to complete by calling wait(). When the child completes, the shell returns from wait() and prints out a prompt again, ready for your next command.</p>"},{"location":"Basic-is-everything/OS/Operating%20System%20three%20easy%20pieces/#visualization","title":"\u5982\u4f55\u5b9e\u73b0 visualization","text":"<ul> <li>\u4e0d\u80fd\u662f direct execution\uff08\u5fc5\u987b\u662f limited direct execution\uff09\uff0c\u8fd9\u6837\u5c31\u6ca1\u6cd5\u63a7\u5236\u6267\u884c\u884c\u4e3a\u4e86</li> <li>\u6211\u8033\u6735\u90fd\u542c\u5230\u8d77\u8327\u7684 user mode\u3001kernel mode\u3001trap\u3001return-from-trap \u8fd9\u4e00\u5957</li> <li>how does the trap know which code to run inside the OS? The kernel does so by setting up a trap table at boot time(\u4f1a\u8ba9 hardware \u6301\u4e45\u5316). \u7c7b\u6bd4\uff1a <p>This general approach is taken in real life as well. For example, those of you who have children, or, at least, have heard of children, may be familiar with the concept of baby proofing a room: locking cabinets containing dangerous stuff and covering electrical sockets.</p> </li> </ul>"},{"location":"Basic-is-everything/OS/Operating%20System%20three%20easy%20pieces/#scheduling","title":"Scheduling","text":"<p>\u5e38\u89c1\u7684 scheduling \u7b97\u6cd5\u4ee5\u53ca time robin: time-slice\uff0c\u4f46\u662f\u5b83\u4eec\u7684\u524d\u63d0\u662f\u8981\u5df2\u77e5\u4efb\u52a1\u7684\u6267\u884c\u65f6\u95f4\u3002</p> <p>Multi-level feedback(learn from history). Rather than giving a fixed priority to each job, MLFQ varies the priority of a job based on its observed behavior(\u970d \u6211\u7684\u7535\u8bdd\u7cfb\u7edf\u4e5f\u5982\u6b64\u8003\u8651\u4e86)\uff0c\u6bd4\u5982\u5982\u679c\u5728\u65f6\u95f4\u7247\u7ed3\u675f\u524d\u5df2\u4f7f\u7528\u5b8c\u6210 processor \u4e86\uff0c\u4ee3\u8868\u662f I/O \u5bc6\u96c6\u578b\u4efb\u52a1\uff0c\u90a3\u4e48\u4f9d\u7136\u4f1a\u4fdd\u6301\u521d\u59cb\u7684\u9ad8\u4f18\u5148\u7ea7 priority.</p> <p>\u53ef\u80fd\u5b58\u5728\u7684\u95ee\u9898\uff1a - \u53ef\u80fd\u5b58\u5728 starvation     - After some time period S, move all the jobs in the system to the topmost queue. - \u53ef\u80fd\u5b58\u5728\u6b3a\u8bc8\u884c\u4e3a\u7684 program(\u6bd4\u5982\u5728\u6bcf\u4e2a\u65f6\u95f4\u6bb5\u7ed3\u675f\u524d\u653e\u5f03 CPU \u6216\u8005\u4ea7\u751f I/O \u64cd\u4f5c)     - Once a job uses up its time allotment at a given level (regardless of how many times it has given up the CPU), its priority is reduced (i.e., it moves down one queue). - \u4efb\u52a1\u7684\u5bc6\u96c6\u7c7b\u578b\u53ef\u80fd\u53d1\u751f\u52a8\u6001\u53d8\u5316     - After some time period S, move all the jobs in the system to the topmost queue. - \u5176\u4ed6\u95ee\u9898     - \u4f18\u5148\u7ea7\u8d8a\u9ad8\uff0c\u65f6\u95f4\u7247\u8d8a\u77ed ID = identifier</p> <p>Finally, reading the man pages can save you some embarrassment. When you ask colleagues about some intricacy of fork(), they may simply reply: \u201cRTFM.\u201d This is your colleagues\u2019 way of gently urging you to Read The Man pages. The F in RTFM just adds a little color to the phrase...</p>"},{"location":"Basic-is-everything/OS/%E7%BC%96%E7%A0%81/","title":"\u7f16\u7801","text":""},{"location":"Basic-is-everything/OS/%E7%BC%96%E7%A0%81/#ascii-unicodeutf-8","title":"ascii, unicode\u4e0eutf-8","text":"<p>\u5168\u79f0 American standard code for information interchange.</p> <p>ascii \u5360\u5b57\u7b26\uff1a7\u4e2a \u6240\u4ee5\u4e00\u5171\u53ef\u4ee5\u5c55\u793a128\u4e2a\u5b57\u7b260~127 \u524d30\u6765\u4e2a\u7528\u4f5c\u63a7\u5236\u952e \u6700\u540e\u4e00\u4e2a\u4f5c\u5220\u9664\u952e</p> <p>iso 8859 - ascii\u7684\u8d85\u96c6 \u5360\u5b57\u7b26\uff1a8\u4e2a \u6240\u4ee5\u662f0~255\u79cd\u8868\u8fbe \u524d128\u4f4d\u548cascii\u4e00\u81f4\uff0c\u540e\u6765\u5728\u6b64\u57fa\u7840\u4e0a\u53c8\u53d1\u5c55\u4e86iso 8859-1 and etc.\u5305\u62ec\u4e86\u97f3\u6807\u7b26\u53f7\u963f \u8fd8\u6709\u6b27\u5143\u7b26\u53f7\u8fd9\u4e9b</p> <p>\u5fae\u8f6f\u4e5f\u6709\u81ea\u5df1\u7684\u4e00\u4e9b\u89c4\u5219</p> <p>\u975e\u62c9\u4e01\u5b57\u7b26\u4e5f\u6709\u81ea\u5df1\u7684\u51e0\u5957\u6d41\u884c\u89c4\u5219</p> <p>\u95ee\u9898\uff0c\u5982\u4f55\u624d\u80fd\u7edf\u4e00\u5462\uff1f</p> <p>\u90a3\u5c31\u662f unicode\u5b57\u7b26\u96c6\u3002 \u524d128\u4f4d\u548cascii\u4f9d\u7136\u4fdd\u6301\u4e00\u81f4 \u5b83\u7528 U+\u5341\u516d\u8fdb\u5236\u6570\u5b57\u4fdd\u5b58 \u6bd4\u5982U+0041</p> <p>unicode\u51e0\u4e4e\u53ef\u4ee5\u5c55\u793a\u4e16\u754c\u4e0a\u6240\u6709\u7684character\uff08\u6211\u89c9\u5f97\uff09</p> <p>\u53ef\u53c2\u8003\u5341\u8fdb\u5236\u7684unicode\u8868\uff1a</p> <p>http://www.tamasoft.co.jp/en/general-info/unicode-decimal.html</p> <p>\u4e5f\u6709emoji unicode\uff1a</p> <p>https://www.quackit.com/character_sets/emoji/</p> <p>\u4e0d\u8fc7\u8bed\u8a00\u5b57\u7b26\u6620\u5c04\u662f\u4e00\u65b9\u9762 \u5b58\u50a8\u7f16\u7801\u662f\u53e6\u4e00\u65b9\u9762 =&gt; \u6bcf\u4e2a\u5b57\u90fd32\u4f4d\uff084\u4e2a8\u4f4d\u5b57\u8282\uff09 \u5c82\u4e0d\u662f\u5f88\u6d6a\u8d39\u5417\u3002\u6240\u4ee5\u4e00\u822c\u91c7\u7528utf-8\u7684\u7f16\u7801\u65b9\u5f0f\uff0c\u5b83\u53ef\u4ee5\u91c7\u7528\u7075\u6d3b\u7684\u957f\u5ea6\u3002</p> <p>ref: https://www.sitepoint.com/guide-web-character-encoding/</p> <p>\u3010\u6ce8\u610f \u4e5f\u4e0d\u662f\u8bf4utf-8\u662f\u6700\u597d\u7684 \u5b83\u5f97\u5230\u4e86\u5b58\u50a8\u7a7a\u95f4 \u90a3\u5fc5\u5b9a\u4f1a\u7b49\u4ef7\u7684\u727a\u7272\u6389\u6027\u80fd\u3002\u6240\u4ee5\u5728web\u5e94\u7528\u5185\u4e00\u822c\u7528utf-8\uff0cpython\u7528utf-8\uff0cjava\u7528utf-16\u3002</p> <p>ref: https://foofish.net/unicode_utf-8.html\u3011</p> <p>\u6ce8\u610f\u5b83\u4eec\u7684\u79f0\u8c13\uff1a</p> <p>character =&gt; unicode Decimal/hexadecimal NCRs(numeric character refrence) =&gt; utf-8 Code</p>"},{"location":"Basic-is-everything/OS/%E7%BC%96%E7%A0%81/#_2","title":"\u4e0e\u524d\u7aef\u76f8\u5173\u7684\u7f16\u7801","text":"<p>\u597d\u7528\u7684\u67e5\u8be2\u7f16\u7801\u5de5\u5177\u7f51\u7ad9\uff1ahttp://www.endmemo.com/unicode/unicodeconverter.php</p>"},{"location":"Basic-is-everything/OS/%E7%BC%96%E7%A0%81/#html","title":"HTML\u90e8\u5206","text":"<p>\u3010\u7f16\u7801\u65b9\u5f0f\u3011</p> <p>response\u91cc\u7684\uff1a</p> <p>content-type: text/html; charset=UTF-8</p> <p>\u7b49\u540c\u4e8e\u4e5f\u5c31\u662fh5\u7684\u9ed8\u8ba4\u7f16\u7801</p> <p>\u4e0d\u8fc7h4\u7684\u9ed8\u8ba4\u7f16\u7801\u4e0d\u662futf-8 \u662fISO-8859-1 \u4ec5\u652f\u6301256\u4e2a\u4e0d\u540c\u7684\u5b57\u7b26\u3002\u6240\u4ee5\u4f1a\u9700\u8981\u624b\u52a8\u8bbe\u5b9a\u4e00\u4e0b\u3002</p> <p>\uff08ref: https://www.w3schools.com/html/html_charset.asp\uff09</p> <p>\u3010html entity\u3011</p> <p>\u4f55\u8c13html entity\uff1f\u4e5f\u5c31\u662f\u9664\u53bbreserved word\u4ee5\u5916\u7684\uff0c\u53ef\u4ee5\u5728html\u4e0a\u5c55\u793a\u51fa\u6765\u7684\u6709\u610f\u4e49\u5b57\u7b26\u3002</p> <p>\u90a3\u82e5\u662f\u60f3\u5c55\u73b0reserved word\u8be5\u600e\u4e48\u529e\u5462\uff1f\u53ef\u4ee5\u7528\u5b83\u7684\u6700\u672c\u771f\u65b9\u5f0f\u2014\u2014unicode\u6765\u5199\uff08\u4e8b\u5b9e\u4e0a\u6240\u6709\u7684\u6587\u5b57\u90fd\u53ef\u4ee5\u53c2\u8003unicode\u8868\uff0c\u8fd9\u4e48\u5199\uff0c\u6bd4\u5982\u53ef\u4ee5\u7528\ud83d\ude02\u6765\u8868\u8fbeemoji\u7684\u7b11\u8138\u5662\uff09\u3002</p> <p>\u89c4\u5219\u5982\u4e0b\uff1a</p> <p>&amp;#\u5341\u8fdb\u5236unicode;</p> <p>&amp;#x\u5341\u516d\u8fdb\u5236unicode;</p> <p>&amp;HTML\u7279\u5b9aentityname;</p> <p>\u8bb0\u4f4fentityName\u4f1a\u597d\u5199\u5f88\u591a\uff0c\u56e0\u4e3a\u5b83\u4eec\u90fd\u662f\u6709\u610f\u4e49\u7684\u3002\u6bd4\u5982\u5e38\u7528\u7684lt\u548cgt \u8fd8\u6709nbsp</p> <p></p> <p>\u4e00\u822c\u4e3a\u907f\u514dxss\u653b\u51fb\u7834\u574fdom\u7ed3\u6784 \u9700\u8981\u7279\u522b\u5bf9&lt; &gt; \" ' \u8fdb\u884c\u7f16\u7801</p>"},{"location":"Basic-is-everything/OS/%E7%BC%96%E7%A0%81/#url","title":"URL\u90e8\u5206","text":"<p>url\u88ab\u521b\u9020\u51fa\u6765\u7684\u65f6\u5019\u662f\u7528\u7684ascii\u5b57\u7b26\u96c6\uff0c\u4e5f\u5c31\u662f\u4ec5\u652f\u6301\u57fa\u672c\u7684\u82f1\u6587\u7b26\u53f7\uff0c\u5e76\u4e14\u4e0d\u652f\u6301\u7a7a\u683c\uff1b\u6240\u4ee5url\u6709\u4e24\u79cd\u5b57\u7b26\u90fd\u9700\u8981\u88ab\u989d\u5916\u7f16\u7801\uff1a</p> <p>\u2460\u7a7a\u683c\u548cascii\u7f16\u7801\u4ee5\u5916\u7684\u5b57\u7b26 \u6bd4\u5982\u4e2d\u6587</p> <p>\u2461url\u91cc\u7684revserved word \u6bd4\u5982 /</p> <p>url\u7684\u7f16\u7801\u56e0\u4e3a\u7528%\u53f7\u4f5c\u4e3a\u7f16\u7801\u6807\u5fd7 \u6240\u4ee5\u53c8\u88ab\u79f0\u4e3a\u767e\u5206\u53f7\u7f16\u7801</p> <p>\u5b83\u7684\u7f16\u7801\u89c4\u5219\u5982\u4e0b\uff1a</p> <p>\u5c06\u5b57\u7b26\u7684UTF-8\u7f16\u7801\u6309\u7a7a\u683c\u5206\u5f00\uff0c\u5728\u7a7a\u683c\u524d\u52a0%\u3002</p> <p>\u6bd4\u5982 / \u7684utf-8\u662f 2F =&gt; %2F</p> <p>\u7a7a\u683c \u7684utf-8\u662f20 =&gt; %20</p> <p>\u4e07 \u7684utf-8\u662fE4 B8 87 0A =&gt; %E4%B8%87%0A</p> <p>\u4e00\u822c\u800c\u8a00\u6d4f\u89c8\u5668\u3001xmlhttprequest\u548cfetch\uff08\u5b58\u7591\uff09\u90fd\u66ff\u6211\u4eec\u505a\u4e86\u8fd9\u4e00\u6b65\uff0c\u5f53\u6211\u4eec\u5728\u5730\u5740\u680f\u91cc\u8f93\u5165 https://www.google.com/?q=\u54c8\u54c8\u54c8 \u518d\u590d\u5236\u8fd9\u4e00\u6bb5\u5730\u5740\u65f6\uff0c\u590d\u5236\u51fa\u6765\u7684\u5df2\u7ecf\u53d8\u6210\u4e86\u88abencode\u7684\u5f62\u5f0f\u3002</p> <p>\uff08ref: https://www.w3schools.com/tags/ref_urlencode.asp\uff09</p> <p>\u3010encodeURIComponent\u4e0eencodeURI\u3011</p> <p>\u5176\u5b9e\u5c31\u662f\u6309\u7167\u8fd9\u4e24\u4e2aapi\u7684\u547d\u540d\u6765\u3002</p> <p>encodeURI\u662f\u5bf9\u5305\u62ec\u534f\u8bae\u5728\u5185\u7684\u94fe\u63a5\u6240\u6709\u90e8\u5206\u8fdb\u884cencode\uff0c\u56e0\u4e3a\u8981\u7ef4\u6301\u94fe\u63a5\u7684\u6b63\u786e\u5f62\u5f0f\uff0c\u6240\u4ee5encodeURI\u662f\u4e0d\u4f1a\u52a8\u5165\u53c2\u91cc\u7684url\u4fdd\u7559\u5b57\u7684 \u6bd4\u5982https://\u548c/\uff0ce.g.\uff1a</p> <p>encodeURI('https://www.google.com/search?q=\u54c8\u54c8') =&gt; \"https://www.google.com/search?q=%E5%93%88%E5%93%88\"</p> <p>\u800cencodeURIComponent\u662f\u4e3a\u4e86\u5bf9\u90e8\u5206\u5185\u5bb9\u505aencode\uff0c\u6240\u4ee5\u4f1a\u7f16\u7801\u6574\u4e2a\u5165\u53c2\uff1a</p> <p>encodeURIComponent('https://www.google.com/search?q=\u54c8\u54c8') =&gt; \"https%3A%2F%2Fwww.google.com%2Fsearch%3Fq%3D%E5%93%88%E5%93%88\"</p> <p>\u90a3\u5b83\u4eec\u4f55\u65f6\u6709\u7528\u5462\uff1f</p> <p>encodeURIComponent\u4f5c\u7528\u6bd4\u8f83\u5927\uff0c\u5f53\u9700\u8981\u5728\u94fe\u63a5\u7684queryString\u91cc\u52a0\u590d\u6742\u53c2\u6570\u65f6\uff0c\u9700\u8981\u5bf9\u53c2\u6570\u7684\u503c\u8fdb\u884c\u6574\u4f53\u7f16\u7801\uff0c\u4ee5\u53bb\u9664\u53c2\u6570\u5185url\u5173\u952e\u8bcd\u7684\u5e72\u6270\u3002\u6bd4\u5982\u6211\u4eecapp\u8df3\u5c0f\u7a0b\u5e8f\u643a\u5e26\u7684\u53c2\u6570\u5c31\u4f5c\u4e86\u7f16\u7801\u3002</p> <p>\u518d\u6bd4\u5982queryString\u5e93\u7684encode\uff08https://github.com/Gozala/querystring/blob/master/encode.js\uff09\u4e0edecode\uff08https://github.com/Gozala/querystring/blob/master/decode.js\uff09\u91cc\uff0c\u8fde\u63a5qs\u4e0e\u89e3\u6790qs\u91cc\uff0c\u90fd\u5bf9\u53c2\u6570\u8fdb\u884c\u4e86\u7f16\u7801\u4e0e\u53cd\u7f16\u7801\u3002\uff08\u6240\u4ee5\u5982\u679c\u540e\u7aef\u5bf9\u8bfb\u53d6\u5230\u7684get\u8bf7\u6c42\u4e2d\u7684url queryString\u7684\u503c\u6ca1\u8fdb\u884curl decode\u5c31\u8fdb\u884c\u64cd\u4f5c\u7684\u8bdd\uff0c\u662f\u4e0d\u5bf9\u7684\u54df\uff09</p> <p>\u800cencodeURI\u5bf9\u5e38\u4eba\u800c\u8a00\u4f5c\u7528\u76f8\u6bd4\u6ca1\u90a3\u4e48\u5927\uff0c\u4e0d\u8fc7decodeURI\u53ef\u4ee5\u5728\u522b\u4eba\u7ed9\u4f60\u590d\u5236\u4e86\u4e00\u5927\u6bb5\u88ab\u7f16\u7801\u8fc7\u7684\u4ee3\u7801\u65f6\uff0c\u56de\u5f52\u5230\u4f60\u8089\u773c\u53ef\u4ee5\u8bc6\u522b\u51fa\u91cc\u5934\u6709\u54ea\u4e9b\u6587\u5b57\u7684\u72b6\u6001\u3002</p>"},{"location":"Basic-is-everything/OS/%E7%BC%96%E7%A0%81/#css","title":"CSS \u90e8\u5206","text":"<p>\u4f2a\u7c7b\u7684content \u89c4\u5219\u5982\u4e0b\uff1a</p> <p>\\\u5341\u516d\u8fdb\u5236unicode</p>"},{"location":"Basic-is-everything/OS/%E7%BC%96%E7%A0%81/#content-type","title":"\u5404\u79cd content-type","text":"<p>\u8036\uff01\u7ec8\u4e8e\u5230\u4e86\u2026\u6211\u4e00\u76f4\u4e0d\u751a\u6e05\u695a\u7684\u5730\u65b9\u4e86\u2026</p> <p>\u8bf7\u6c42\u5934\u4e0e\u8fd4\u56de\u5934\u91cc\u90fd\u6709content-type</p>"},{"location":"Basic-is-everything/OS/%E7%BC%96%E7%A0%81/#content-type_1","title":"\u8bf7\u6c42\u5934\u7684content-type","text":"<p>\u5728post/put\u4e0b\uff0c\u5ba2\u6237\u7aef\u9700\u8981\u544a\u8bc9\u670d\u52a1\u7aef\u4f20\u8f93\u7684data\u7c7b\u578b\u662f\u4ec0\u4e48\u3002get\u4e0b\u662f\u4e0d\u5b58\u5728\u4f20\u8f93\u7684\u8bf7\u6c42\u4f53\uff0c\u4e5f\u4e0d\u5b58\u5728content-type\u7684\u3002</p> <p>\u5e38\u7528\u7684\u201dapplication/x-www-form-urlencoded, application/json, multipart/form-data, \u201c</p> <p>\u5176\u4e2d\u6700\u672c\u771f\u7684\u201dapplication/x-www-form-urlencoded\u201c\uff0c\u987e\u540d\u601d\u4e49\uff0cdata\u90e8\u5206\u4f1a\u91c7\u53d6\u540curl encode\u7c7b\u4f3c\u7684\u65b9\u5f0f\u7f16\u7801\u3002\u4e0d\u8fc7\u8fd9\u91cc\u4f1a\u628a\u7a7a\u683c\u6362\u6210+\u53f7\uff08https://developer.mozilla.org/en-US/docs/Glossary/percent-encoding\uff09\u3002\u6ce8\u610f\uff0c\u540e\u7aef\u6536\u5230\u6570\u636e\u540e\u4e5f\u8981urldecode\u4e00\u4e0b\uff0c\u4e0d\u7136\u6570\u636e\u4f1a\u6709\u8bef\u3002</p> <p>\u800c\u6700\u65b9\u4fbf\u7684\u201dapplication/json\u201c\u552f\u4e00\u4e0d\u65b9\u4fbf\u7684\u5730\u65b9\u5c31\u662f\u4f1a\u53d1\u9884\u8bf7\u6c42\uff0c\u9700\u8981\u989d\u5916\u5904\u7406\uff0c\u4e5f\u4f1a\u5728\u67d0\u79cd\u7a0b\u5ea6\u4e0a\u9020\u6210\u8bf7\u6c42\u6d6a\u8d39\u3002</p> <p>\u5199node\u65f6\u5e38\u7528\u7684body-parser\u4e2d\u95f4\u4ef6\uff0c\u4f1a\u6839\u636econtent-type\u5bf9data\u4e0a\u7684\u6570\u636e\u8fdb\u884c\u8fd8\u539f\u3002</p>"},{"location":"Basic-is-everything/OS/%E7%BC%96%E7%A0%81/#content-type_2","title":"\u8fd4\u56de\u5934\u7684content-type","text":"<p>Browsers will do MIME sniffing in some cases and will not necessarily follow the value of this header; to prevent this behavior, the header X-Content-Type-Options can be set to nosniff.</p> <p>\u5bf9\u4e8eajax\u800c\u8a00\uff0c\u8fd4\u56de\u5934\u7684content-type\u5c31\u65e0\u9700\u7279\u522b\u7559\u610f\uff0c\u4e00\u822c\u90fd\u662fapplication/json</p>"},{"location":"Basic-is-everything/OS/%E9%9A%90%E5%8C%BF%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E7%A1%AC%E4%BB%B6%E8%83%8C%E5%90%8E%E7%9A%84%E8%AF%AD%E8%A8%80/","title":"\u7f16\u7801: \u9690\u533f\u5728\u8ba1\u7b97\u673a\u8f6f\u786c\u4ef6\u80cc\u540e\u7684\u8bed\u8a00","text":""},{"location":"Basic-is-everything/OS/%E9%9A%90%E5%8C%BF%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E7%A1%AC%E4%BB%B6%E8%83%8C%E5%90%8E%E7%9A%84%E8%AF%AD%E8%A8%80/#_2","title":"\u7f16\u7801\u5f15\u5b50","text":""},{"location":"Basic-is-everything/OS/%E9%9A%90%E5%8C%BF%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E7%A1%AC%E4%BB%B6%E8%83%8C%E5%90%8E%E7%9A%84%E8%AF%AD%E8%A8%80/#_3","title":"\u6469\u5c14\u65af\u7f16\u7801","text":"<p>\u7528 . \u548c - \u5373\u53ef\u8868\u793a (\u8bf4\u660e\u53ea\u8981\u4e24\u79cd\u5f62\u6001) \u6bd4\u5982SOS\u662f ... --- ...</p>"},{"location":"Basic-is-everything/OS/%E9%9A%90%E5%8C%BF%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E7%A1%AC%E4%BB%B6%E8%83%8C%E5%90%8E%E7%9A%84%E8%AF%AD%E8%A8%80/#_4","title":"\u5e03\u83b1\u53f6\u76f2\u6587\u7801","text":"<p>\u7528\u5e73\u9762\u548c\u51f8\u8d77\u8868\u793a \u6709\u8da3\u7684\u5730\u65b9\u5728\u4e8e\u51fa\u73b0\u4e86\u7c7b\u4f3c shift \u6362\u6321\u7801 \u548c escape \u4e4b\u7c7b\u7684\u7801\uff0c\u5206\u522b\u7528\u6765\u5207\u6362\u4ee5\u533a\u95f4\u6216\u662f\u4e4b\u540e\u7684\u7b2c\u4e00\u4e2a\u5b57\u6bcd\u7684\u7f16\u7801\u542b\u4e49\u3002</p>"},{"location":"Basic-is-everything/OS/%E9%9A%90%E5%8C%BF%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E7%A1%AC%E4%BB%B6%E8%83%8C%E5%90%8E%E7%9A%84%E8%AF%AD%E8%A8%80/#_5","title":"\u624b\u7535\u7b52\u7684\u5f15\u5b50","text":""},{"location":"Basic-is-everything/OS/%E9%9A%90%E5%8C%BF%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E7%A1%AC%E4%BB%B6%E8%83%8C%E5%90%8E%E7%9A%84%E8%AF%AD%E8%A8%80/#_6","title":"\u7535\u5b50\u57fa\u7840","text":"<p>\u539f\u5b50\uff1a(atom) = $\u539f\u5b50\u6838\u5185\u7684(\u4e2d\u5b50_{\u4e2d\u6027} + \u8d28\u5b50_{\u6b63\u7535\u8377}) + \u7535\u5b50_{\u8d1f\u7535\u8377}$</p> <p>\u539f\u5b50\u5e8f\u6570\uff1a\u5176\u5b9e\u5c31\u662f\u539f\u5b50\u6838\u5185\u7684\u8d28\u5b50\u6570\uff01\uff01</p> <p>\u7535\u6d41\u4ea7\u751f\u7684\u539f\u56e0\uff1a(\u5c24\u5176\u662f\u5916\u5c42)\u7535\u5b50\u4ece\u539f\u5b50\u91cc\u9003\u9038\u4f1a\u4ea7\u751f\u7535\u6d41\u3002\u7136\u800c\u7a33\u5b9a\u7684\u7535\u6d41\u5219\u9700\u8981\u8fd9\u4e2a\u539f\u5b50\u7684\u7535\u5b50\u9003\u5230\u4e0b\u4e2a\u539f\u5b50\u4e0a\uff0c\u8fd9\u4e2a\u539f\u5b50\u518d\u4ece\u4e0a\u4e2a\u539f\u5b50\u90a3\u83b7\u5f97\u7535\u5b50\u3002\u7535\u5b50\u5728\u539f\u5b50\u95f4\u4e0d\u65ad\u79fb\u52a8\u3002</p> <p>$^{\u6742\u8c08}$\u7535\u6d41electricity\uff1a\u6e90\u81ea\u53e4\u5e0c\u814a\u6587\u7684\u7425\u73c0\uff0c\u56e0\u4e3a\u53e4\u5e0c\u814a\u6587\u53d1\u73b0\u7425\u73c0\u6469\u64e6\u7f8a\u6bdb\u4f1a\u4ea7\u751f\u9759\u7535</p>"},{"location":"Basic-is-everything/OS/%E9%9A%90%E5%8C%BF%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E7%A1%AC%E4%BB%B6%E8%83%8C%E5%90%8E%E7%9A%84%E8%AF%AD%E8%A8%80/#_7","title":"\u7535\u6d41\u57fa\u7840","text":"<p>\u7535\u6c60\u662f\u4ec0\u4e48\uff1a\u53ef\u4ee5\u60f3\u8c61\u7535\u6c60\u7684\u6b63\u6781\u5565\u4e5f\u6ca1\u6709\uff0c\u7535\u6c60\u7684\u8d1f\u6781\u90fd\u662f\u7535\u5b50\u3002\u6240\u4ee5\u4e2d\u95f4\u8fde\u4e0a\u4e00\u6839\u7535\u7ebf\u628a\u8d1f\u6781\u591a\u4f59\u7684\u7535\u5b50\u5e26\u5230\u6b63\u6781\u3002\u7535\u6c60\u628a\u7535\u5b50\u90fd\u8d76\u5230\u8d1f\u6781\u53bb\u662f\u9700\u8981\u5316\u5b66\u53cd\u5e94\u7684\uff0c\u6240\u4ee5\u5f53\u5316\u5b66\u7269\u8d28\u6d88\u8017\u5b8c\uff0c\u7535\u6c60\u5c31\u6ca1\u7528\u5566\u3002</p> <p>\u7535\u6d41\u3001\u7535\u538b\u3001\u963b\u529b\u548c\u529f\uff1a\u7535\u6d41\u5373\u662f\u6bcf\u79d2\u949f\u901a\u8fc7\u7535\u7ebf\u7684\u7535\u5b50\u91cf\uff0c\u7535\u538b\u53ef\u4ee5\u60f3\u6210\u6c34\u538b\uff0c\u7535\u963b\u5219\u4e0d\u5bb9\u6613\u8ba9\u7535\u6d41\u901a\u8fc7\u3002\u5982\u679c\u6ca1\u6709\u7535\u963b\uff0c\u7535\u6d41\u4f1a\u65e0\u9650\u5927~\u53e6\u5916\uff0c\u5728\u7535\u963b\u5f88\u5927\u7684\u5730\u65b9(\u6bd4\u5982\u957f\u8ddd\u79bb\u7535\u7ebf)\uff0c\u4e3a\u7ef4\u6301\u7535\u6d41\uff0c\u7535\u538b\u5c31\u5f97\u76f8\u5e94\u589e\u5927\u3002 $I = E / R$  $P = E * I = E^2 / R$</p>"},{"location":"Basic-is-everything/OS/%E9%9A%90%E5%8C%BF%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E7%A1%AC%E4%BB%B6%E8%83%8C%E5%90%8E%E7%9A%84%E8%AF%AD%E8%A8%80/#_8","title":"\u624b\u7535\u7b52\u5347\u7ea7","text":"<p>\u5355\u4e2a\u624b\u7535\u7b52 =&gt; \u8fde\u7535\u7ebf\u7684\u624b\u7535\u7b52(\u4e24\u4e2a\uff0cA\u5230B\u4e0eB\u5230A) =&gt; \u4e24\u4e2a\u624b\u7535\u7b52\u542f\u7528\u516c\u7528\u8fde\u63a5\uff0c\u8282\u7ea6\u5bfc\u7ebf =&gt; \u9ad8\u7535\u538b + \u63a5\u5730\u3002</p> <p>\u95ee\u9898\uff1a\u7535\u7ebf\u5bf9\u4e8e\u8de8\u5ea6\u957f\u5ea6\u6709\u6700\u5927\u9650\u5236\u3002</p>"},{"location":"Basic-is-everything/OS/%E9%9A%90%E5%8C%BF%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E7%A1%AC%E4%BB%B6%E8%83%8C%E5%90%8E%E7%9A%84%E8%AF%AD%E8%A8%80/#_9","title":"\u7535\u62a5\u673a\u4e0e\u7ee7\u7535\u5668","text":"<p>\u7535\u62a5\u673a\u5c31\u662f\u83ab\u5c14\u65af\u501f\u52a9\u4e8e\u7535\u78c1\u611f\u5e94\u53d1\u660e\u7684\uff01\u8bdd\u8bf4\u4ed6\u4e5f\u597d\u5389\u5bb3\uff0c\u672c\u8eab\u662f\u753b\u5bb6\u8fd8\u4ece\u653f~ \u4e3a\u4e86\u89e3\u51b3\u7535\u62a5\u673a\u91cc\u7684\u7535\u6d41\u7684\u6700\u5927\u8ddd\u79bb\u9650\u5236\uff0c\u51fa\u73b0\u4e86\u4e2d\u7ee7\u7ad9\uff0c\u91cc\u9762\u7684\u7ee7\u7535\u5668\u5c31\u662f\u6839\u636e\u7535\u6d41\u63a7\u5236\u5f00\u5173\uff0c\u4ece\u800c\u5b9e\u73b0\u5728\u65b0\u7535\u8def\u4e0a\u518d\u91cd\u65b0\u53d1\u4e00\u904d\u521a\u521a\u6536\u5230\u7684\u5185\u5bb9~</p>"},{"location":"Basic-is-everything/OS/%E9%9A%90%E5%8C%BF%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E7%A1%AC%E4%BB%B6%E8%83%8C%E5%90%8E%E7%9A%84%E8%AF%AD%E8%A8%80/#_10","title":"\u4e8c\u8fdb\u5236\u6570","text":"<p>\u4e3a\u4ec0\u4e48\u6211\u4eec\u7528\u5341\u8fdb\u5236\uff1a\u56e0\u4e3a\u4eba\u7684\u5341\u6839\u624b\u6307\u5934\u5440hhh</p> <p>$^{\u6742\u8c08}$bit\uff1a= \u6765\u6e90\u4e8ebinary digit\u7684\u7f29\u5199~</p>"},{"location":"Basic-is-everything/OS/%E9%9A%90%E5%8C%BF%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E7%A1%AC%E4%BB%B6%E8%83%8C%E5%90%8E%E7%9A%84%E8%AF%AD%E8%A8%80/#_11","title":"\u80f6\u5377","text":"<p>\u539f\u6765\u7167\u76f8\u673a\u7528\u6765\u8bfb\u53d6\u80f6\u7247\u7684\u66dd\u5149\u65f6\u95f4\u4e5f\u662f\u901a\u8fc7\u5bf9\u5e94\u7f16\u7801\u5c0f\u683c\u683c\u4e0a\u6709\u6ca1\u6709\u7535\u6d41\u51b3\u5b9a\u7684~</p>"},{"location":"Basic-is-everything/OS/%E9%9A%90%E5%8C%BF%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E7%A1%AC%E4%BB%B6%E8%83%8C%E5%90%8E%E7%9A%84%E8%AF%AD%E8%A8%80/#_12","title":"\u5546\u54c1\u7801","text":"<p>\u624d\u77e5\u9053\u539f\u6765\u5b83\u4e5f\u662f\u4e8c\u8fdb\u5236\u7801\uff01\u5e76\u4e14\u6709\u5f88\u591a\u5947\u5999\u7684\u8bbe\u8ba1\u3002\u6bd4\u5982\u5de6\u4fa7\u3001\u4e2d\u4fa7\u3001\u53f3\u4fa7\u90fd\u6709\u62a4\u536b\u7ebf\uff1b\u5de6\u4fa7\u5947\u6821\u9a8c\u53f3\u4fa7\u5076\u6821\u9a8c\uff0c\u8fd9\u6837\u65e0\u8bba\u5de6\u8bfb\u8fd8\u662f\u53f3\u8bfb\u90fd\u5bf9~ \u8bfb\u51fa\u6765\u7684\u6570\u5b57 = \u6570\u5b57\u7cfb\u7edf\u7b26 + \u4f9b\u5e94\u5546\u7f16\u7801 + \u4ea7\u54c1\u7801 + \u6a21\u6821\u9a8c\u7b26\u3002\u5c45\u7136\u8fd8\u6709\u6821\u9a8c\u7b26\uff01\u548cMAC\u5730\u5740\u597d\u50cf\u5594</p>"},{"location":"Basic-is-everything/OS/%E9%9A%90%E5%8C%BF%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E7%A1%AC%E4%BB%B6%E8%83%8C%E5%90%8E%E7%9A%84%E8%AF%AD%E8%A8%80/#_13","title":"\u903b\u8f91\u4e0e\u5f00\u5173","text":""},{"location":"Basic-is-everything/OS/%E9%9A%90%E5%8C%BF%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E7%A1%AC%E4%BB%B6%E8%83%8C%E5%90%8E%E7%9A%84%E8%AF%AD%E8%A8%80/#_14","title":"\u5e03\u5c14\u4ee3\u6570","text":"<p>\u5e03\u5c14\u903b\u8f91\u8fd0\u7b97\u4e5f\u53ef\u4ee5\u7528\u4ee3\u6570\u7b26\u5408\u8868\u793a\u5594\uff01 + \u8868\u793a \u5e76\uff0cX \u8868\u793a \u76f8\u4ea4\u3002\u8fd9\u6837 1 + 1 = 1\u4e5f\u7b26\u5408\u89c4\u5219\u3002</p>"},{"location":"Basic-is-everything/OS/%E9%9A%90%E5%8C%BF%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E7%A1%AC%E4%BB%B6%E8%83%8C%E5%90%8E%E7%9A%84%E8%AF%AD%E8%A8%80/#_15","title":"\u95e8","text":"<p>\u77e5\u9053\u4e86\u4e0e\u95e8\u3001\u6216\u95e8\u3001\u4e0e\u975e\u95e8\u3001\u6216\u975e\u95e8\u5728\u7535\u8def\u91cc\u7684\u6837\u5b50\u3002\u4ee5\u53ca\u4e0e\u975e\u95e8\u5c31\u662f\u4e0e\u95e8\u7684\u975e\u54e6\uff0c\u6216\u975e\u95e8\u5c31\u662f\u6216\u95e8\u7684\u975e\u3002\u6309\u6587\u6c0f\u56fe\u6bd4\u8f83\u597d\u60f3\u8c61~</p>"},{"location":"Basic-is-everything/OS/%E9%9A%90%E5%8C%BF%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E7%A1%AC%E4%BB%B6%E8%83%8C%E5%90%8E%E7%9A%84%E8%AF%AD%E8%A8%80/#_16","title":"\u8865\u5145\u5f02\u6216","text":"<p>\u5f88\u6709\u7528\u7684\u5f02\u6216\u81ea\u53cd\u6027\uff1aa ^ b ^ a = b \u8fd9\u6837\uff0c\u53ef\u4ee5\u5b9e\u73b0\u539f\u5730\u4ea4\u6362\u503c</p> <p>A=A\\^B\uff08a^b\uff09\uff1b</p> <p>B=B\\^A\uff08b\\^a^b=a\uff09\uff1b</p> <p>A=A\\^B\uff08a\\^b^a=b\uff09</p>"},{"location":"Basic-is-everything/OS/%E9%9A%90%E5%8C%BF%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E7%A1%AC%E4%BB%B6%E8%83%8C%E5%90%8E%E7%9A%84%E8%AF%AD%E8%A8%80/#_17","title":"\u8865\u5145\u683c\u96f7\u7801","text":"<p>\u683c\u96f7\u7801\u662f\u4e00\u4e2a\u6570\u5217\u96c6\u5408\uff0c\u76f8\u90bb\u4e24\u6570\u95f4\u53ea\u6709\u4e00\u4e2a\u4f4d\u5143\u6539\u53d8\uff0c\u4e3a\u65e0\u6743\u6570\u7801\uff0c\u4e14\u683c\u96f7\u7801\u7684\u987a\u5e8f\u4e0d\u662f\u552f\u4e00\u7684\u3002\u4e3b\u8981\u4e3a\u9632\u6b62\u51fa\u9519\uff0c\u56e0\u4e3a\u53ea\u8981\u8fd0\u7b97\u65f6\u6570\u5b57\u6539\u53d8\u4e0d\u662f\u76f8\u90bb\u4f4d\u5143\u65f6\u5c31\u7b97\u9519\u3002\u91cd\u70b9\u5728\u4e8e\uff0c\u4ece\u81ea\u7136\u4e8c\u8fdb\u5236\u7801\u8f6c\u6362\u6210\u4e8c\u8fdb\u5236\u683c\u96f7\u7801\uff0c\u53d6\u6b21\u9ad8\u4f4d\u4e0e\u9ad8\u4f4d\u5f02\u6216\uff0c\u6700\u9ad8\u4f4d\u4fdd\u6301\u4e00\u81f4\u3002</p>"},{"location":"Basic-is-everything/OS/%E9%9A%90%E5%8C%BF%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E7%A1%AC%E4%BB%B6%E8%83%8C%E5%90%8E%E7%9A%84%E8%AF%AD%E8%A8%80/#_18","title":"\u4e8c\u8fdb\u5236\u52a0\u6cd5\u3001\u51cf\u6cd5\u5668","text":""},{"location":"Basic-is-everything/OS/%E9%9A%90%E5%8C%BF%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E7%A1%AC%E4%BB%B6%E8%83%8C%E5%90%8E%E7%9A%84%E8%AF%AD%E8%A8%80/#_19","title":"\u52a0\u6cd5","text":"<p>\u4e24\u4e2a\u4e8c\u8fdb\u5236\u6570\u7ed3\u679c\u76f8\u52a0\u662f\u7531\u5f02\u6216\u95e8XOR\u7684\u8f93\u51fa\u7ed9\u51fa\u7684 \u8fdb\u4f4d\u662f\u7531\u4e0e\u95e8AND\u7ed9\u51fa\u7684</p> XOR 0 1 AND 0 1 0 0 1 0 0 0 1 1 0 1 0 1 <p>\u534a\u52a0\u5668 = \u52a0\u548c\u8f93\u51fa + \u8fdb\u4f4d\u8f93\u51fa = 1\u4e2a\u5f02\u6216\u95e8 + 1\u4e2a\u4e0e\u95e8  = 8\u4e2a\u7ee7\u7535\u5668</p> <p>\u5168\u52a0\u5668 = \u52a0\u548c\u8f93\u51fa + \uff08\u8fdb\u4f4d + \u4e0b\u4e2a\u52a0\u548c\uff09\u8f93\u51fa = 2\u4e2a\u534a\u52a0\u5668 + 1\u4e2a\u6216\u95e8 = 18\u4e2a\u7ee7\u7535\u5668</p> <p>8\u4f4d\u4e8c\u8fdb\u5236\u52a0\u6cd5\u5668 = 8 x 18\u4e2a\u7ee7\u7535\u5668</p> <p>\u73b0\u5728\u7684\u8ba1\u7b97\u673a\u5df2\u7ecf\u7531\u7ee7\u7535\u5668 =&gt; \u771f\u7a7a\u7ba1 =&gt; \u6676\u4f53\u7ba1</p>"},{"location":"Basic-is-everything/OS/%E9%9A%90%E5%8C%BF%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E7%A1%AC%E4%BB%B6%E8%83%8C%E5%90%8E%E7%9A%84%E8%AF%AD%E8%A8%80/#_20","title":"\u51cf\u6cd5","text":"<p>\u6d89\u53ca\u5230\u6c42\u8865\u4ec0\u4e48\u7684\uff0c\u6c42\u8865\u53ef\u4ee5\u7528\u53cd\u76f8\u5668</p> <p>\u8868\u793a\u8d1f\u6570\u65f6\uff0c\u7b2c\u4e00\u4f4d\u662f1. 0\u6700\u5c0f 127\u662f01111111 -128\u662f10000000 -1\u6700\u5927\u662f11111111 \u518d\u5f80\u4e0a\u52a01\u4f4d\u5c31\u8d85\u51fa\u516b\u4f4d\u6570\u4e86 \u516b\u4f4d\u6570\u90e8\u5206\u8fd8\u662f0 \u6240\u4ee5\u4f3c\u4e4e\u8fd8\u6709\u90a3\u4e48\u70b9\u9053\u7406\u2026</p>"},{"location":"Basic-is-everything/OS/%E9%9A%90%E5%8C%BF%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E7%A1%AC%E4%BB%B6%E8%83%8C%E5%90%8E%E7%9A%84%E8%AF%AD%E8%A8%80/#_21","title":"\u53cd\u9988\u4e0e\u89e6\u53d1\u5668","text":"<p>\u53c8\u8bb2\u4e86\u600e\u4e48\u8bbe\u8ba1\u7535\u8def\u3001\u88c5\u4ec0\u4e48\u95e8\u53ef\u4ee5\u5b9e\u73b0\u300c\u5b58\u50a8\u8bb0\u5fc6\u300d\uff0c\u5373\u7b80\u5355\u7684\u5b58\u50a8\u5668\u3002\u53ef\u60dc\u6211\u770b\u4e0d\u61c2\u8fd9\u4e00\u8282 &gt;.&lt;</p>"},{"location":"Basic-is-everything/OS/%E9%9A%90%E5%8C%BF%E5%9C%A8%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E7%A1%AC%E4%BB%B6%E8%83%8C%E5%90%8E%E7%9A%84%E8%AF%AD%E8%A8%80/#_22","title":"\u5b57\u8282\u4e0e\u5341\u516d\u8fdb\u5236","text":"<p>\u4e00\u5b57\u8282\uff1a8 bit \u5c31\u662f\u6e90\u4e8e\u4e4b\u524d\u7684\u52a0\u6cd5\u5668\u7684\u4f4d\u5bbd\u6070\u597d\u5c31\u662f8\u4f4d\u3002</p> <p>\u5341\u516d\u8fdb\u5236\uff1a\u4ee3\u8868\u534a\u5b57\u8282\uff0c\u5373\u56db bit: $2^4$\u3002</p>"},{"location":"Basic-is-everything/Others/CPU%E4%B8%8ECC%2B%2B/","title":"CPU\u4e0eC/C++","text":"<p>CPU\u662f\u65e0\u6cd5\u76f4\u63a5\u8fd0\u884c\u6211\u4eec\u7684C/C++\u6e90\u4ee3\u7801\u7684\uff0c\u5b83\u53ea\u80fd\u8fd0\u884cCPU\u6307\u4ee4\uff0c\u4f46CPU\u53c8\u600e\u4e48\u6267\u884c\u786c\u76d8\u4e0a\u7684a.out\u6587\u4ef6\u5462\uff1f</p> <p>\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\uff0c\u4f1a\u57fa\u4e8e\u7269\u7406\u5185\u5b58\u548cMMU\u534f\u5904\u7406\u5668\uff0c\u4e3a\u7ed9\u6211\u4eec\u6784\u5efa\u4e00\u4e2a\u5de8\u5927\u7684\u865a\u62df\u5185\u5b58\u3002\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\uff0c\u4f1a\u57fa\u4e8e\u7269\u7406\u5185\u5b58\u548cMMU\u534f\u5904\u7406\u5668\uff0c\u4e3a\u7ed9\u6211\u4eec\u6784\u5efa\u4e00\u4e2a\u5de8\u5927\u7684\u865a\u62df\u5185\u5b58\u3002</p> <p></p>"},{"location":"Basic-is-everything/Others/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/","title":"\u79bb\u6563\u6570\u5b66","text":""},{"location":"Basic-is-everything/Others/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/#_2","title":"\u547d\u9898\u903b\u8f91","text":"<ul> <li>\u547d\u9898\u7b26\u53f7\u5316\uff1a\u7b80\u5355\u547d\u9898+\u8054\u7ed3\u8bcd=\u590d\u5408\u547d\u9898</li> </ul>"},{"location":"Basic-is-everything/Others/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3/","title":"\u8f6f\u4ef6\u5de5\u7a0b\u76f8\u5173","text":""},{"location":"Basic-is-everything/Others/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3/#_2","title":"\u7ecf\u5178\u4e66\u76ee","text":"<ul> <li>Designing data-intensive applications</li> <li>Systems Performance, 2nd Edition</li> </ul>"},{"location":"Basic-is-everything/Others/%E7%A8%8B%E5%BA%8F%E5%91%98%E7%9A%84%E6%95%B0%E5%AD%A6/","title":"\u7a0b\u5e8f\u5458\u7684\u6570\u5b66","text":"<p>\u65e5\u672c\u53ef\u7231\u4e66\u7cfb\u5217</p>"},{"location":"Basic-is-everything/Others/%E7%A8%8B%E5%BA%8F%E5%91%98%E7%9A%84%E6%95%B0%E5%AD%A6/#contents","title":"Contents","text":"<ol> <li>0\u7684\u6545\u4e8b</li> <li>\u6309\u4f4d\u8ba1\u6570\u6cd5       \u963f\u62c9\u4f2f\u6570\u5b57\u662f\u5370\u5ea6\u4eba\u53d1\u660e\u7684\u2026</li> <li>\u6307\u6570\u539f\u5219       n\u76840\u6b21\u65b9\u4e3a\u5565\u662f1? \u56e0\u4e3a $n^{a-1} = n^{a} \\times {1 \\over n}$</li> <li> <p>0\u7684\u4f5c\u7528       \u5360\u4f4d</p> </li> <li> <p>\u903b\u8f91</p> </li> <li>\u6216\u3001\u4e0e\u3001\u975e\u3001\u5f02\u6216\u3001\u8574\u542b(\u5176\u4e2d\u5f02\u6216\u662f $A || B &amp;&amp; (A !== B)$)</li> <li> <p>\u903b\u8f91\u8868\u8fbe\u5f0f\u3001\u6587\u6c0f\u56fe\uff08\u753b\u5708\u5708\uff09\u3001\u5361\u8bfa\u56fe\uff08\u753b\u8868\u683c\uff09</p> </li> <li></li> </ol>"},{"location":"Frontend/Browser/files/","title":"files","text":""},{"location":"Frontend/Browser/files/#download","title":"Download","text":""},{"location":"Frontend/Browser/files/#automatic-download","title":"Automatic download","text":"<ul> <li>To trigger automatic download, response header should includes:</li> </ul> <p><code>Content-Type: $mimeType   Content-Disposition: attachment; filename=invoice.pdf</code></p> <ul> <li>Create front-end download link via post request:</li> </ul> <p>With <code>window.URL.createObjectURL()</code> from blob, its possible to create front-end download link via bytes.</p> <p>github gist</p> <ul> <li>platform speciality</li> </ul> <p>ios browser: Can not trigger automatic download. User should touch 'share &gt; ' to manually download file.</p> <p>Application webview: Download behaviour is usually under control of native layer, thus can not trigger download as freely as in browser. </p>"},{"location":"Frontend/Browser/performance/","title":"performance","text":""},{"location":"Frontend/Browser/performance/#browser","title":"browser","text":"<p>Rendering: Style recalculate, elements position/layout</p> <p>Painting: Draw, image related things</p>"},{"location":"Frontend/Browser/%E5%A4%96%E9%83%A8%E8%B5%84%E6%BA%90/","title":"html\u5916\u90e8\u8d44\u6e90\u52a0\u8f7d\u7684better practice","text":""},{"location":"Frontend/Browser/%E5%A4%96%E9%83%A8%E8%B5%84%E6%BA%90/#1-js","title":"1. js\u90e8\u5206","text":""},{"location":"Frontend/Browser/%E5%A4%96%E9%83%A8%E8%B5%84%E6%BA%90/#_1","title":"\u539f\u5219","text":"<p>\u9ed8\u8ba4js\u52a0\u8f7d\u884c\u4e3a\u5835\u585e\u9875\u9762\u6e32\u67d3\uff08render blocking\uff09\uff0c\u6307\u5b9a<code>async/defer</code>\u5c5e\u6027\u7684js\u52a0\u8f7d\u4e0d\u5835\u585e\uff0c\u800cjs\u6267\u884c\u4e00\u5b9a\u5835\u585e\u3002</p>"},{"location":"Frontend/Browser/%E5%A4%96%E9%83%A8%E8%B5%84%E6%BA%90/#so","title":"so","text":"<ul> <li>\u4e3a\u907f\u514djs\u52a0\u8f7d\u6267\u884c\u5835\u585e\u9875\u9762\u6e32\u67d3\uff0c\u4e00\u822c\u7684js\u811a\u672c\u5e94\u653e\u5728<code>&lt;body /&gt;</code>\u540e\uff08\u5f53\u7136\u4e00\u5b9a\u8981\u5728\u9875\u9762\u6e32\u67d3\u524d\u6267\u884c\u7684js\u811a\u672c\u5c31\u6ca1\u529e\u6cd5\u4e86\uff09\u3002</li> <li>\u91cd\u8981\u7684js\u8be5\u600e\u6837\u52a0\u8f7d\u5c31\u600e\u6837\u52a0\u8f7d\u3002\u53ef\u9694\u79bb\u51fa\u6765\u7684\u7b2c\u4e09\u65b9js\uff0c\u82e5\u6709\u591a\u4e2a\u987a\u5e8f\u4f9d\u8d56\uff0c\u4f7f\u7528defer\uff1b\u5426\u5219\u4f7f\u7528async\u3002</li> </ul>"},{"location":"Frontend/Browser/%E5%A4%96%E9%83%A8%E8%B5%84%E6%BA%90/#script-asyncdefer","title":"\u5f02\u5e38\u60c5\u51b5\uff1ascript async/defer\u4e0d\u517c\u5bb9","text":"<p>\u80cc\u666f\uff1a\u6211\u5728ios\u4e0a\u8bbf\u95ee\u81ea\u5df1\u7684\u535a\u5ba2\uff0c\u53d1\u73b0\u4f1a\u767d\u5c4f\uff0c\u663e\u7136\u6e32\u67d3\u88ab\u5361\u4f4f\u4e86\u3002\u535a\u5ba2\u4e2d\u4ec5\u6709\u8bc4\u8bba\u811a\u672c<code>xx.disqus.com</code>\u662f\u9700\u8981vpn\u7684\u8d44\u6e90\uff0c\u5e76\u4e14\u5df2\u5f00\u542f\u4e86<code>async</code>\u5f02\u6b65\u52a0\u8f7d\u3002</p> <p>\u7ed3\u8bba\uff1a\u7ecf\u8fc7\u6570\u6b21\u6d4b\u8bd5\uff0c\u53d1\u73b0script\u7684<code>async/defer</code>\u5728ios\u7684\u6d4f\u89c8\u5668\u4e0a\u90fd\u65e0\u6cd5\u751f\u6548\uff08\u4ec5\u5bf9\u6211\u6d4b\u8bd5\u65f6\u7684\u60c5\u51b5\u800c\u8a00\uff09\u3002\u800cpc\u548c\u5b89\u5353\u4e0a\u8868\u73b0\u6b63\u5e38\u3002</p> <p>\u89e3\u51b3\uff1a\u7528<code>document.createScript</code>\u7684\u65b9\u5f0f\u5728setTimeout\u4e2d\u5f02\u6b65\u63d2\u5165\u8be5\u811a\u672c\u3002  </p> <pre><code>setTimeout(()\\=&gt;{  \n    (function(){  \n        var dsq = document.createElement('script');  \n        dsq.type = 'text/javascript';  \n        dsq.src = 'xxx.js';  \n        document.getElementsByTagName('body')\\[0\\].appendChild(dsq);  \n    }());  \n}, 5)\n</code></pre> <p>\u6ce8\u610f\uff1a\u5982\u679c\u4e0d\u5f02\u6b65\uff0cios\u4e0a\u5904\u7406\u8be5\u6761\u811a\u672c\u7684\u65b9\u5f0f\uff0c\u4f1a\u548c\u5b83\u5929\u7136\u5c31\u5728html\u4e2d\u4e00\u6837\uff0c\u5361\u4f4fhtml\u6e32\u67d3\uff08\u867d\u7136\u5f02\u6b65\u65f6\u95f4\u662f\u6211\u4f30\u6478\u7740\u586b\u7684\u2026\u5982\u679c\u51990\uff0c\u4f9d\u65e7\u4f1a\u88ab\u8ba4\u4e3a\u5185\u5d4c\u5728html\u4e2d\uff09\u3002</p>"},{"location":"Frontend/Browser/%E5%A4%96%E9%83%A8%E8%B5%84%E6%BA%90/#2-css","title":"2. css\u90e8\u5206","text":""},{"location":"Frontend/Browser/%E5%A4%96%E9%83%A8%E8%B5%84%E6%BA%90/#_2","title":"\u539f\u5219","text":"<p>\u56e0\u4e3a\u6e32\u67d3\u6811\u7531DOM\u548cCSSOM\u7ec4\u6210\uff0c\u5373css\u662f\u6784\u5efa\u6e32\u67d3\u6811\u7684\u5fc5\u987b\u90e8\u5206\uff0c\u6240\u4ee5\u9ed8\u8ba4css\u5916\u90e8\u52a0\u8f7d\u884c\u4e3a\u4f1a\u5835\u585e\u9875\u9762\u6e32\u67d3\u3002</p>"},{"location":"Frontend/Browser/%E5%A4%96%E9%83%A8%E8%B5%84%E6%BA%90/#so_1","title":"so\u2026","text":"<ul> <li>css\u653e\u5934\u90e8\u3002</li> <li>\u5185\u8054\u662f\u4e2a\u597d\u4e60\u60ef\u3002</li> <li>\u53ef\u4f7f\u7528\u201c\u5a92\u4f53\u7c7b\u578b\u201d\u548c\u201c\u5a92\u4f53\u67e5\u8be2\u201d\u6765\u9009\u62e9\u4e0b\u8f7d\u90e8\u5206css\u3002\u5982\uff1a</li> </ul> <pre><code>    &lt;link href\\=\"style.css\" rel\\=\"stylesheet\"\\&gt;  \n    &lt;link href\\=\"print.css\" rel\\=\"stylesheet\" media\\=\"print\"\\&gt;  \n    &lt;link href\\=\"other.css\" rel\\=\"stylesheet\" media\\=\"(min-width: 40em)\"\\&gt;  \n</code></pre> <ul> <li>\u8fdb\u9636\u90e8\u5206\uff0c\u6bd4\u5982http2\u4e3b\u52a8\u63a8\u9001\uff0c\u4ee5\u540e\u53ef\u7ee7\u7eed\u63a2\u7d22\u3002</li> </ul>"},{"location":"Frontend/Browser/%E5%A4%96%E9%83%A8%E8%B5%84%E6%BA%90/#3","title":"3. \u56fe\u7247\u90e8\u5206","text":""},{"location":"Frontend/Browser/%E5%A4%96%E9%83%A8%E8%B5%84%E6%BA%90/#_3","title":"\u539f\u5219","text":"<p>\u9ed8\u8ba4\u56fe\u7247\u52a0\u8f7d\u4e0d\u5835\u585e\u9875\u9762\u6e32\u67d3\u3002\u4f46\u662f\u5982\u679c\u5728\u9996\u6b21\u52a0\u8f7d\u7684html\u91cc\uff0c\u4f1a\u5835\u585e<code>window.onload</code>\u884c\u4e3a\u3002</p>"},{"location":"Frontend/Browser/%E5%A4%96%E9%83%A8%E8%B5%84%E6%BA%90/#so_2","title":"so\u2026","text":"<p>\u4e0d\u5fc5\u592a\u8fc7\u7d27\u5f20\uff0c\u56fe\u7247\u592a\u591a/\u592a\u5927\u7684\u8bdd\uff0c\u90fd\u53ef\u6309\u61d2\u52a0\u8f7d\u5904\u7406\u3002\u9664\u4e86\u5e38\u7528\u7684\u9875\u9762\u6eda\u5230\u5bf9\u5e94\u5730\u65b9\u518d\u6e32\u67d3\u6574\u4e2aimg\u8282\u70b9\u4ee5\u5916\uff1b\u8fd8\u53ef\u7528\u5148\u6e32\u67d3img\u8282\u70b9\uff0c\u4f46\u6eda\u52a8\u5230\u89c6\u91ce\u533a\u518d\u8d4b\u4e88<code>src</code>\u7684\u65b9\u5f0f\uff1a</p> <p><code>&lt;img data-lazysrc\\='http://www.amazingjokes.com/images/20140902-amazingjokes-title.png'/&gt;</code></p> <pre><code>function ReLoadImages(){  \n    $('img\\[data-lazysrc\\]').each( function(){  \n        //\\* set the img src from data-src  \n        $( this ).attr( 'src', $( this ).attr( 'data-lazysrc' ) );  \n        }  \n    );  \n}\n</code></pre>"},{"location":"Frontend/Browser/%E5%A4%96%E9%83%A8%E8%B5%84%E6%BA%90/#4-loading-icon","title":"4. \u6d4f\u89c8\u5668\u7684loading icon\u505c\u4e0d\u4e0b\u6765","text":"<p>\u8fd8\u6709\u4e00\u4e2a\u6211\u89c9\u5f97\u5341\u5206\u91cd\u8981\uff0c\u4f46\u662f\u5e38\u5e38\u88ab\u5ffd\u7565\u7684\u9875\u9762\u52a0\u8f7d\u6307\u6807\u2014\u2014\u6d4f\u89c8\u5668\u7684loading icon\uff01</p> <p>\u4f5c\u4e3a\u4f7f\u7528\u8005\uff0c\u5e38\u5e38\u4f1a\u6709\u8fd9\u6837\u7684\u8ba4\u77e5\uff1a\u201cicon\u6ca1\u505c\u4e0b\u6765 === \u9875\u9762\u6ca1\u52a0\u8f7d\u5b8c === \u4e00\u52a8\u4e5f\u4e0d\u6562\u52a8\u201d\u3002\u4f46\u5176\u5b9e\u5462\uff0c\u5982\u679c\u9875\u9762\u4e0a\u9996\u6b21\u6e32\u67d3\u7684html\u5185\u4efb\u4f55\u4e00\u4e2a\u5916\u90e8\u8d44\u6e90\uff08\u6bd4\u5982\u4e0d\u7edd\u5bf9\u91cd\u8981\u7684\u7b2c\u4e09\u65b9\u8d44\u6e90\u3001\u67d0\u5f20\u56fe\u7247etc\uff09\u52a0\u8f7dpending\uff0c\u6d4f\u89c8\u5668\u90fd\u7684\u52a0\u8f7dicon\u90fd\u4f1a\u5361\u5728\u90a3\uff0c\u7ed9\u4eba\u9020\u6210\u8bef\u89e3\u3002</p> <p>\u800c\u5bf9\u5f00\u53d1\u8005\u800c\u8a00\uff0c<code>window.onload</code>\u94a9\u5b50\u6267\u884c\u65f6\u95f4\u4e5f\u4f1a\u56e0\u6b64\u5ef6\u540e\uff01\u5982\u679c\u7528\u6237\u624b\u52a8\u505c\u6b62\u4e86loading icon\u4e2d\u6b62\u52a0\u8f7d\uff0c<code>window.onload</code>\u5c31\u6c38\u8fdc\u4e5f\u4e0d\u4f1a\u6267\u884c\u4e86\uff08\u5f53\u7136\uff0c\u6b63\u5e38\u60c5\u51b5\u4e0b\u4e0d\u8be5\u7528\u8fd9\u4e2a\u94a9\u5b50\uff09\u3002</p>"},{"location":"Frontend/Browser/%E5%A4%96%E9%83%A8%E8%B5%84%E6%BA%90/#so_3","title":"so\u2026","text":"<ul> <li>\u6574\u7406\u597d\u9996\u6b21\u6e32\u67d3\u7684html\u91cc\u5fc5\u987b\u9700\u8981\u7684\u8d44\u6e90\u3002\u6240\u6709\u5176\u4ed6\u8d44\u6e90\uff0c\u7279\u522b\u662f\u6709\u98ce\u9669\u7684\uff0c\u90fd\u53ef\u8d70\u5f02\u6b65\u52a0\u8f7d\uff08\u6216\u8005\u6539\u4e3a\u5f02\u6b65\u63d2\u5165\u66f4\u51c6\u786e\u4e00\u4e9b\uff09\u3002</li> </ul> <p>\u5c31\u62ff\u5e38\u7528\u8bc4\u8bba\u63d2\u4ef6<code>xx.disqus.com</code>\u8fd9\u4e2a\u88ab\u5899\u4f8b\u5b50\u800c\u8a00\uff0c\u54ea\u6015\u5f00\u542f\u4e86<code>async</code>\u9009\u9879\uff0c\u4e0d\u4f1a\u5f71\u54cd\u9875\u9762\u6e32\u67d3\uff1b\u4f46\u5728\u8bf7\u6c42<code>xx.disqus.com</code>\u672a\u8d85\u65f6\u4e4b\u524d\uff0c\u8be5\u9875\u4ece\u4e25\u683c\u610f\u4e49\u4e0a\u6765\u8bb2\u90fd\u4e0d\u7b97\u52a0\u8f7d\u5b8c\u6bd5\uff0c\u6d4f\u89c8\u5668\u7684loading icon\u4e5f\u4e0d\u4f1a\u505c\u3002\u6240\u4ee5\u5728\u5b58\u5728\u4e0d\u7a33\u5b9aaccess\u7684\u7b2c\u4e09\u65b9\u63d2\u4ef6\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u5728setTimeout\u5185\u52a8\u6001\u63d2\u5165js\u5f15\u7528\u3002</p>"},{"location":"Frontend/Browser/%E5%A4%96%E9%83%A8%E8%B5%84%E6%BA%90/#_4","title":"\u603b\u7ed3","text":"<p>\u4e00\u53e5\u8bdd\u800c\u8a00\uff0c\u4e0d\u7528\u606a\u5b88\u7740\u201ccss\u653e\u5934\u90e8\u3001js\u653e\u5c3e\u90e8\u201d\u4e4b\u7c7b\u7684\u6761\u7ea6\uff08\u867d\u7136\u5b83\u4eec\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u4e5f\u662f\u6b63\u786e\u7684\uff09\u3002\u591a\u60f3\u60f3\u4e3a\u4ec0\u4e48\u8981\u8fd9\u4e48\u653e\u7684\u539f\u56e0\uff0cjs\u7684\u6267\u884c\u662f\u5927\u5934\uff0ccss\u7684\u52a0\u8f7d\u662f\u5927\u5934\uff0c\u800c\u6240\u6709\u7684\u5171\u901a\u76ee\u7684\u90fd\u662f\u4e3a\u4e86\u4e0d\u5f71\u54cddom\u6811\u7684\u6784\u5efa\u5566\u3002</p> <p>\u968f\u7740http\u7684\u53d1\u5c55\u548c\u6d4f\u89c8\u5668\u7684\u4e0d\u65ad\u63d0\u5347\uff0c\u6bd4\u5982\u5bf9\u591a\u4e2a\u5c0f\u8d44\u6e90\u7684\u540c\u65f6\u8bf7\u6c42\u5440\uff0c\u5904\u7406\u6548\u7387\u4e00\u5b9a\u4f1a\u8d8a\u6765\u8d8a\u9ad8\u3002\u6b7b\u5b88\u7740\u67d0\u4e2a\u65f6\u4ee3\u7684\u56fa\u5b9a\u505a\u6cd5\u6ca1\u6709\u610f\u4e49\uff0c\u5c31\u2026\u5e38\u4fdd\u6301\u66f4\u65b0\u5427\u3002</p>"},{"location":"Frontend/Browser/%E5%A4%96%E9%83%A8%E8%B5%84%E6%BA%90/#refs","title":"Refs","text":"<ul> <li>stackoverflow: load image asynchronous</li> <li>chrome Web: render-blocking-css</li> <li>sitepoint: critical-rendering-path-css-fast-loading-website</li> <li>medium: A Link: rel=preload Analysis From the Chrome Data Saver Team\uff1a\u5173\u4e8erel=preload\u7684\u6587\u7ae0\uff0c\u4e0d\u8fc7\u6211\u8fd8\u6ca1\u6b63\u5f0f\u5bf9\u6bd4\u4f7f\u7528\u8fc7</li> </ul>"},{"location":"Frontend/Browser/%E6%9D%82%E8%AE%B0/","title":"\u6742\u8bb0","text":""},{"location":"Frontend/Browser/%E6%9D%82%E8%AE%B0/#_2","title":"\u5b58\u50a8","text":"<p>indexDB: \u4ee5\u4ee5\u7ed3\u6784\u5316\u65b9\u5f0f\u5b58\u50a8\u5927\u91cf\u6570\u636e \u4e0a\u9650200M\u3002\u4e0d\u8fc7\u539f\u751f\u5f88\u96be\u7528\uff0c\u53ef\u4ee5\u7528 idb \u7684\u5305\u6216\u8005 dexie.js</p> <p>sessionStorafe: \u4ece\u672c\u6807\u7b7e\u9875\u5185\u89e6\u53d1\u6253\u5f00\u7684\u6807\u7b7e\u9875\u53ef\u4ee5\u5171\u4eab\u6570\u636e \u5426\u5219\u4e0d\u884c</p>"},{"location":"Frontend/Browser/%E6%9D%82%E8%AE%B0/#api","title":"api","text":"<p>window.getComputedStyle(el)\uff1a\u8fd9\u4e2aapi \u6211\u90fd\u8981\u4e0d\u77e5\u9053\u4e86\uff01<code>$0.clientHeight === $0.getBoundingClientRect().height</code></p> <p>\u4ee5\u53ca\u8fd8\u6709 tab \u5b9e\u4f8b\u7684 postMessage \u548c localStorage \u7684 event</p> <p>meta \u5927\u5168\uff1a<code>&lt;meta http-equiv=\"Content-Type\"          content=\"text/html; charset=utf-8\"&gt;</code> \u5176\u5b9e\u5c31\u76f8\u5f53\u4e8e\u5728http response\u91cc\u8bbe\u7f6e\uff08\u521d\u8877\u662f\u7528\u4e8eoffline\u7684\u9875\u9762\uff09\uff0c\u6ce8\u610fhttp\u91cc\u7684\u76f8\u540c\u5934\u4f18\u5148\u7ea7\u66f4\u9ad8</p>"},{"location":"Frontend/CSS/","title":"anything","text":"<ul> <li>\u6240\u4ee5\u5b9e\u9645\u4e0a\u65e0\u6cd5\u65b9\u4fbf\u7684\u9009\u62e9\u67d0\u4e2aclass\u7684\u6700\u540e\u4e00\u9879\uff1ahttps://stackoverflow.com/questions/6401268/how-do-i-select-the-last-child-with-a-specific-class-name-in-css \uff08\u4f46\u662f\u53ea\u9650\u4e8e\u8fd9\u79cd div.item div div.item div.item div \u65e0\u6cd5\u76f4\u63a5\u9009\u4e2d\u7b2c\u4e09\u4e2a.item\uff09</li> <li>Font-family \u6539\u53d8\u6587\u672c\u7c97\u7ec6\uff1a\u53ef\u4ee5\u7528 --webkit-text-stroke</li> <li> <p>\u4f2a\u7c7b\uff1a\u7684content\u91cc\u4e5f\u53ef\u4ee5\u52a0\u56fe\u7247\uff01\u4f46\u662f\u5982\u679c\u8981\u52a0\u56fe\u7247\u7684\u8bdd\uff0c\u76f4\u63a5\u653ebackground\u91cc\u5c31\u597d\u4e86\u2026\u4f2a\u7c7b\u4e00\u822c\u5c31\u662f\u7528\u6765\u52a0\u52a0utf8\u7684~</p> </li> <li> <p>\u91cd\u7ed8\u4e0e\u56de\u6d41\uff1a</p> </li> <li>\u5f15\u53d1\u56de\u6d41\u7684\u60c5\u51b5\uff1a\u4e00\u822c\u662fdom\u8282\u70b9\u6709\u6539\u53d8\u65f6 Scroll\u65f6 \u9700\u8981\u91cd\u65b0\u7ed8\u5236\u9875\u9762</li> <li>\u907f\u514d\u4e00\u6761\u4e00\u6761\u7684\u6539\u6837\u5f0f\uff1bdom \u79bb\u7ebf\u540e\u4fee\u6539\uff0c\u6bd4\u5982\u5148 display none \u6389\uff1b\u9700\u8981\u603b\u662f\u52a8\u753b\u7684html\u7528absolute\u6216fixed\u3002</li> <li>note: \u83b7\u53d6innerText\u4e5f\u4f1a\u56de\u6d41\uff0c\u800c\u83b7\u53d6textContent\u5219\u4e0d\u4f1a\u3002\u56e0\u4e3a\u524d\u8005\u53ea\u4ecevisible\u7684el\u4e0a\u53d6\u503c\uff0c\u7136\u540e\u8fd8aware of style [ref]</li> </ul>"},{"location":"Frontend/CSS/flex%20%E4%B8%93%E9%A2%98/","title":"flex \u4e13\u9898","text":"<p>\u7236div\u5373flex-container:</p> <ul> <li>flex-direction:     row/column/row-reverse/column-reverse\u3002</li> </ul> <p>\u9ed8\u8ba4main-axis\u662fhorizontal\u7684\u800ccross-axis\u662fvertical\u7684</p> <ul> <li>flex-wrap:</li> <li>flex-flow =     flex-direction+flex-wrap</li> <li>justify-content:     flex-start || flex-end || center || space-between || space-around \uff08\u5b9a\u4e49\u5b50div\u5728main axis\u4e0a\u5982\u4f55\u6392\u5217\uff09</li> <li>align-items:     stretch/flex-start/flex-end/center \uff08\u5b9a\u4e49\u5b50div\u5728cross-axis\u4e0a\u5982\u4f55\u6392\u5217 \u9ed8\u8ba4stretch\uff09</li> </ul> <p>ps. base-line vs flex-start</p> <p></p> <p>base-line\u4f1a\u8ba9\u8fd9\u4e9b\u6587\u5b57\u5185\u5bb9\u5750\u843d\u5728\u6c34\u5e73\u7ebf\u4e0a</p> <ul> <li>align-content: \u9488\u5bf9\u4e8emulti-line     container\u3002\u54c7\u8fd9\u4e2a\u597d\u91cd\u8981\uff01\u4e5f\u5c31\u662f\u53ea\u8981wrap\u72b6\u6001\u4e0b \u8bbe\u7f6eitems\u7684\u7ad6\u5411\u5bf9\u9f50\u7528\u8fd9\u4e2a\u5c31\u597d\u4e86 \u5b83\u4f1a\u5c06\u5b50items\u793a\u4e3a\u4e00\u6574\u5757~</li> </ul> <p>\u5b50div\u5373flex-item</p> <ul> <li>align-self <li>order:\u663e\u793a\u987a\u5e8f \u8d8a\u4f4e\u8d8a\u6392\u524d \u9ed8\u8ba40</li> <li>flex-grow: 0/1+.     how much a item should extend if there are extra spaces\u30020\u7684\u610f\u601d\u76f8\u5f53\u4e8ea trun-off switch 1\u662f\u6253\u5f00\u5f00\u5173 \u6570\u5b57\u5927\u5c0f\u4ee3\u8868\u5206\u5272\u6bd4\u4f8b\u3002\u5728\u8be5\u72b6\u6001\u4e0b \u4e14\u65e0wrap\u7684container\u4e2d\uff0c\u4e00\u6392\u5217\u8868\u662f\u4e0d\u4f1a\u88ab\u538b\u7f29\u7684\uff0c\u800c\u662fcontainer\u88ab\u6491\u5bbd\u3002</li> <li>flex-shrink: ...shrink if     there are not enough spaces</li> <li>flex-basis: \u8bbe\u7f6eflex-item\u7684\u521d\u59cb\u5927\u5c0f default\u662fauto\u30020\u8868\u793agrow the item to     fill the available space, and finally shrink the item whenever     possible\u5373\u8d85\u7ea7\u5f39\u6027\uff01\u3002</li> <p>ps. flex-basis\u7684auto\u4e0e0\u3002\u5728auto\u5e76grow\u7684\u72b6\u6001\u4e0b items\u7684\u53ef\u5206\u914d\u5bbd\u5ea6\u662f\u9664\u53bb\u5b50items\u5185\u5bb9\u5916\u7684\u5bbd\u5ea6( relative flex items)\uff0c\u800c\u57280\u7684\u72b6\u6001\u4e0b\u53ef\u5206\u914d\u5bbd\u5ea6\u662f\u6240\u6709\u5bbd\u5ea6(absolute flex items)\u3002&lt;\u6765\u6e90&gt;</p> <p></p> <p>ps. flex-basis vs width\u3002\u524d\u8005\u5728\u4e3b\u8f74\u7684\u5b9a\u4e49\u4e0b \u53ef\u6307width\u6216height\u3002\u884c\u4e3a\u4e0a\u5e76\u65e0\u4e0d\u540c\u3002\u524d\u8005\u53ef\u4ee5\u52a0\u5165flex\u7b80\u5199\u5927\u793c\u5305 \u800c\u5728\u67d0\u4e9b\u6d4f\u89c8\u5668\u517c\u5bb9\u4e0b \u7528width\u66f4\u4fdd\u9669&lt;\u6765\u6e90&gt;</p> <ul> <li>flex: 0 1 auto\u3002\u4e0a\u8ff0\u7b80\u5199\u3002\u4ea6\u67090 0 auto\u30021 1 auto\u3002'positive number' \u76f8\u5f53\u4e8e'positive number' 1     0\u3002flex:2 \u4e5f\u5c31\u662fflex: 2 1 0.</li> <li>margin: auto\u3002\u6b64\u65f6\u5404\u65b9\u5411margin\u4f1a\u5c3d\u53ef\u80fd\u7684\u5360\u636e\u6389\u7a7a\u95f4\u3002\u4e0b\u56fe\u5c31\u662f\u7b2c\u4e00\u4e2aitem margin-right\u4e3aauto\u7684\u60c5\u51b5\u3002</li> </ul> <p></p> <p>\u5b9e\u9645\u5e94\u7528\uff1a</p> <p></p> <p>\u5de6\u4fa7\u7684\u6b4c\u540d\u90e8\u5206\u548c\u53f3\u4fa7\u7684\u63a7\u5236\u90e8\u5206 \u8fd9\u91cc\u5de6\u4fa7\u6b4c\u540d\u90e8\u5206\u5c31\u52a0\u4e86margin-right-auto\u3002\u6240\u4ee5\u53f3\u4fa7\u63a7\u5236\u90e8\u5206\u5c31\u88ab\u6324\u5230\u6700\u53f3\u4fa7\u5566\uff01\u5f53\u7136\u7ed9\u7236container\u8bbe\u7f6ejustify-content: space-around\u4e5f\u662f\u4e00\u6837\u7684\u6548\u679c\u3002</p> <p>\u4e0d\u7528flex\u7684\u8bdd \u5927\u6982\u9700\u8981float+max-width\u6765\u89e3\u51b3\u4e86\u628a\u3002</p> <p></p> <p>\u4e2d\u95f4\u7684\u9e1f\u4e5f\u53ef\u4ee5\u7528margin-left: auto margin-right:auto\u6765\u89e3\u51b3</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\u4e3a\u4fdd\u6301\u95f4\u9694 \u7ed9\u5b50div\u8bbe\u7f6emargin-left\u662f\u5f88\u6b63\u5e38\u7684\u505a\u6cd5</p> <p>examples</p> <p>\u90e8\u5206\u5b50div\u56fa\u5b9a\u5bbd\u5ea6+\u4e3b\u8981div flex:1\u8bbe\u7f6e\u586b\u5145+\u5229\u7528order\u8bbe\u7f6e\u987a\u5e8f</p> <p>\u9002\u7528\u4e8e\uff1a</p> <ul> <li> <p>\u5723\u676f\u5e03\u5c40\u7684main\u90e8\u5206 \u4e24\u4fa7side\u56fa\u5b9a\u5bbd\u5ea6 \u4e2d\u95f4flex:1</p> </li> <li> <p>\u4e24\u5217\u5e03\u5c40\uff1a\u5de6\u4fa7nav \u53f3\u4fa7\u5168\u90e8</p> </li> <li> <p>\u5e26icon\u7684\u8868\u5355\uff1a\u5de6\u4fa7flex: 1 1 auto\u5373\u53ef\u3002</p> </li> </ul> <p></p> <p>refs:</p> <p>https://medium.freecodecamp.org/the-ultimate-guide-to-flexbox-learning-through-examples-8c90248d4676</p> <p>https://medium.freecodecamp.org/understanding-flexbox-everything-you-need-to-know-b4013d4dc9af</p> <p>http://output.jsbin.com/wubudog/ //\u8fd9\u7bc7\u4f8b\u5b50\u5f88\u9002\u5408\u505a\u53c2\u8003</p> <p>\u5f85\u770b\u5b9e\u8df5\u7bc7\uff1a</p> <p>https://github.com/philipwalton/solved-by-flexbox</p>"},{"location":"Frontend/CSS/grid%20%E4%B8%93%E9%A2%98/","title":"grid \u4e13\u9898","text":"<p>\u660e\u786e\u6574\u4f53\u6982\u5ff5 \u7f51\u683c+\u5185\u5bb9</p> <p>\u4ee5\u53ca\u5ba1\u67e5\u65f6\u4f1a\u6709\u865a\u7ebf\u7f51\u683c\u5e2e\u52a9\u663e\u793a\u5594</p> <p></p> <p>\u660e\u786e\u7f51\u683c <p>\u5217\uff1a</p> <p>grid-template-columns: n\u957f\u5ea6\u5355\u4f4d n\u957f\u5ea6\u5355\u4f4d\u2026 \u8fd9\u6837\u8bbe\u7f6e\u4e00\u5217\u591a\u957f\u5e76\u4e14\u4e00\u76f4\u5ef6\u4f38\u4e0b\u53bb <p>The new fr unit represents a fraction of the available space in the grid container.</p> <p>fr\u5c31\u76f8\u5f53\u4e8eflex\u7684grow/shrink\u7684\u6bd4\u4f8b\u62c9</p> <p>\u8fd8\u6709repeat\u7684\u5173\u952e\u5b57 repeat(3, 1fr) \u4e5f\u53ef\u4ee5\u642d\u914d\u5176\u4ed6track\u4e00\u8d77\u7528</p> <p>\u884c\uff1a</p> <p>grid-auto-rows: minmax(100px, auto); <p>grid-template-areas</p> <p>\u7528\u5b50\u5757\u7684name\u5408\u6210&lt;\u4e0b\u9762\u4f1a\u8bb2\u5230&gt;</p> <p>\u7b80\u5199grid-template = grid-template-areas grid-template-rows / grid-template-column</p> <p>\u6392\u5217\u987a\u5e8f</p> <p><code>grid-auto-flow: row/ column / row dense / column dense</code> <p>\u7ec8\u6781\u7b80\u5199grid\u53ef\u4ee5\u5305\u62ec\u6240\u6709\u4ee5\u4e0a\u2026\u53ef\u662f\u628a\u6211\u771f\u7684\u770b\u6655\u4e86\u2026\u2026</p> <p>grid area</p> <p>\u4ee5\u4e0a\u4f1a\u5f62\u6210\u4e00\u5f20\u865a\u62df\u7684\u7f51\u683c\uff0c\u5982\u679c\u4e0d\u7ed9\u6bcf\u4e2aitem\u8bbe\u7f6e\u957f\u5bbd\u5ea6\u7684\u8bdd\uff0c\u90a3\u4e48\u9ed8\u8ba4\u5c31\u6309\u7f51\u683c\u6392\u5217\u3002\u795e\u5947\u7684\u662f\u53ef\u4ee5position item\u4f7f\u4e4b\u6a2a\u8de8\u591a\u4e2a\u7f51\u683c\uff01\u53ef\u4ee5\u91cd\u53e0\u5e76\u5229\u7528z-index\u6539\u53d8\u5c42\u6b21\uff01 <p>\u5176\u503c\u4e3acolumn line\u548crow line\uff0c</p> <p>\u7528\u6570\u5b57\u8868\u793a\uff1a</p> <p>\u5982\u679c\u6709\u4e24\u4e2a\u7f51\u683c\u7684\u8bdd\u5c31\u662f\u4ece1\u52303\u3002\u4e5f\u53ef\u4ee5\u5012\u7740\u6570\u4ece-3\u5230-1.</p> <p>\u82e5[1/-1]\u5219\u8868\u793a\u4e00\u6574\u884c/\u5217</p> <p>\u4ea6\u6709\u5173\u952e\u8bcdspan\uff0c\u4ee3\u8868\u8de8\u5ea6\uff1a</p> <p>\u82e5\u67092/span 2\u5219\u4ee3\u8868\u7b2c\u4e8c\u4e09\u4e2a\u7f51\u683c\u533a\u57df\u3002</p> <pre><code>{ \n grid-column-start/ grid-column-end\n grid-row-start/ grid-row-end\n}\n</code></pre> <p>\u7b80\u5199\u5f62\u5f0f<code>{grid-column: 1/2; grid-row: 1/4}</code>\u8fd9\u6837</p> <p>\u53ef\u8fdb\u4e00\u6b65\u7b80\u5199\u6210<code>row start/column start/row end/column end {grid-area: 1 1 4 2;}</code></p> <p>https://codepen.io/DearVikki/pen/xWaMpM</p> <p>\u6216\u76f4\u63a5\u7528grid-area\u7684\u540d\u5b57\u6765\u6307\u660e\u3002\u6709\u79cd\u62fc\u56fe\u6e38\u620f\u7684\u611f\u89c9\u5440\uff01</p> <p>https://codepen.io/DearVikki/pen/jzvJWp</p> <p>\u7528grid-column-gap\u548cgrid-row-gap\uff08\u7b80\u5199grid-gap: grid-row-gap grid-column-gap\uff09\u6765\u8bbe\u7f6egrid gap\uff0c\u8fd9\u4e2agap\u53ef\u4ee5\u7406\u89e3\u6210\u5b9e\u5fc3\u65e0\u8272\u7684\u5927\u7c97\u7ebf\u3002</p> <p>nesting grid\u4e5f\u5f88\u597d\u7528 \u7236\u5b50\u4e4b\u95f4\u65e0\u7ee7\u627f\u5173\u7cfb\u3002\u6682\u6709\u672a\u6807\u51c6\u5316\u7684\u89c4\u8303display: subgrid\u6765\u7ee7\u627f\u7236grid\u7684\u7f51\u683c\u7ed3\u6784\u3002</p> <p>grid\u4e0eflexbox:</p> <p>grid\u662f\u53cc\u5411\u7684 \u540e\u8005\u5355\u5411</p> <p>flex\uff1a\u5982\u4e0b \u5141\u8bb8grow\u7684\u60c5\u51b5</p> <p></p> <p>\u5982\u56fe \u4e8b\u5b9e\u4e0a\u6bcf\u884crow\u90fd\u76f8\u5f53\u4e8e\u4e00\u4e2anew flex container\uff0c\u65e0\u6cd5\u63a7\u5236\u5217\uff0c\u6240\u4ee5\u7b2c\u4e8c\u884c\u7684\u6bcf\u4e2a\u5143\u7d20\u4e0d\u4f1a\u5728\u7b2c\u4e00\u884c\u4e4b\u4e0b\u3002</p> <p>\u800c\u7528grid\u7684\u8bdd\u5c31\u662f\u6807\u51c6\u7684\u7f51\u683c\u72b6\u4e86\u3002</p> <p></p> <p>A simple question to ask yourself when deciding between grid or flexbox is:</p> <p>flexbox: \u9700\u8981\u4ec5\u901a\u8fc7\u884c/\u5217\u6765\u63a7\u5236\u3002\u5185\u5bb9\u51b3\u5b9a\u5916\u90e8layout\u3002</p> <p>grid: \u9700\u8981\u540c\u65f6\u901a\u8fc7\u884c\u548c\u5217\u6765\u63a7\u5236\u3002\u5916\u90e8layout\u51b3\u5b9a\u5185\u5bb9\u5b9a\u4f4d\u3002</p> <p>\u8fd9\u4e2a\u597d\u73a9\uff01\u5982\u679c\u8bbe\u7f6egrid\u4e09\u7ad6\u884c\u7684\u8bdd\u90a3\u4e48\u65e0\u8bba\u591a\u7a84\u90fd\u662f\u4e09\u7ad6\u884c\u5e73\u5206\u3002\u4e8b\u5b9e\u4e0a\u662f\u53ef\u4ee5\u8bbe\u7f6eitem\u7684width\u6216min-width\uff0c\u7a7a\u95f4\u4e0d\u591f\u6298\u884c\u7684\u3002</p> <p>\u8bbe\u7f6e\u5bbd\u5ea6+\u7a7a\u95f4\u4e0d\u591f\u6298\u884c\uff1a grid-template-columns: repeat(auto-fill, 200px);</p> <p>\u8bbe\u7f6e\u6700\u5c0f\u5bbd\u5ea6+\u7a7a\u95f4\u4e0d\u591f\u6298\u884c\uff1agrid-template-columns: repeat(auto-fill, minmax(200px, 1fr));</p> <p>\u7ed9item\u8bbe\u7f6eposition:absolute</p> <p>\u53ef\u4ee5\u7684 \u4f46\u662f\u5947\u602a\u7684\u662ftop\u548cleft\u7684\u53c2\u7167\u70b9\u662f\u81ea\u5df1\u672c\u5e94\u8be5\u5728\u7684\u5b9a\u4f4d\u4f4d\u7f6e\uff0c\u800c\u4e0d\u662fgrid container\u7684(0,0\uff09\u3002\u5728\u6211\u770b\u6765\u8fd9\u66f4\u50cf\u662ftransform: translate\u2026</p> <p></p> <p>example:</p> <p>\u9875\u9762\u5e03\u5c40\u5927\u6740\u5668\uff01\uff01https://gridbyexample.com/examples/ \u8fd9\u91cc\u6709\u5404\u7c7b\u5e03\u5c40\u6a21\u62df\u2026</p> <p>another ref: http://labs.jensimmons.com/ </p> <p>refs:</p> <p>https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Grid_Layout/Line-based_Placement_with_CSS_Grid</p>"},{"location":"Frontend/CSS/%E5%BC%B9%E7%AA%97%E6%BB%9A%E5%8A%A8%E7%A9%BF%E9%80%8F/","title":"\u5f39\u7a97\u6eda\u52a8\u7a7f\u900f","text":"<p>PC \u7aef: \u53ef\u76f4\u63a5\u7ed9body\u52a0overflow: hidden\uff1b</p> <p>\u624b\u673a\u7aef\uff1a\u4e0a\u8ff0\u65b9\u6cd5\u4e0d\u884c\uff0c\u56e0\u4e3a\u5f39\u5c42\u5173\u95ed\u540e\u9875\u9762\u6eda\u52a8\u6761\u4f1a\u4e22\u5931\u3002</p> <p>\u82e5\u5f39\u7a97\u5185\u6ca1\u6709\u9700\u8981\u6eda\u52a8\u7684\u5185\u5bb9\uff1a</p> <pre><code>modal.addEventListener('touchmove', function(e) {\n  e.preventDefault();\n}, false);\n</code></pre> <p>\u82e5\u6709\uff1a</p> <pre><code>body.modal-open {\n    position: fixed;\n    width: 100%;\n}\n</code></pre> <p>\u540c\u65f6\u7528js\u624b\u52a8\u7ed9body\u8bbe\u7f6etop</p> <pre><code>var ModalHelper = (function(bodyCls) {\n  var scrollTop;\n  return {\n    afterOpen: function() {\n      scrollTop = document.scrollingElement.scrollTop;\n      document.body.classList.add(bodyCls);\n      document.body.style.top = -scrollTop + 'px';\n    },\n    beforeClose: function() {\n      document.body.classList.remove(bodyCls);\n      // scrollTop lost after set position:fixed, restore it back.\n      document.scrollingElement.scrollTop = scrollTop;\n      //\u8fd9\u91cc\u6211\u89c9\u5f97\u7528window.scrollTo(0, x)\u4e3a\u597d\uff01\n    }\n  };\n})('modal-open');\n</code></pre> <p>---ps \u4ee5\u4e0a\u7528document.scrollingElement.scrollTop\u6765\u8bb0\u5f55\u6eda\u52a8\u6761\u9ad8\u5ea6</p> <p>\u53e6document.documentElement.scrollTop === window.scrollY \u8981\u6bd4\u4e0a\u8ff0\u503c\u7565\u59278px //\u4e3a\u5565\u634f\uff1f</p> <p>\u5bf9\uff01\u5176\u5b9e\u6807\u51c6\u5e94\u8be5\u7528window.scrollY\u62c9\uff01\u5bf9\u5e94\u4e8eIE\u7684window.pageYOffset.</p> <p>\u6240\u4ee5\u6b63\u786e\u7684\u83b7\u53d6\u6eda\u52a8\u6761\u9ad8\u5ea6\u7684\u5199\u6cd5\u5e94\u4e3a\uff1a</p> <p>window.scrollY || window.pageYOffset</p> <p>\u53e6 \u56e0\u4e3a\u4e0d\u540c\u6d4f\u89c8\u5668\u5b9a\u4e49scroll\u7684el\u4e0d\u540c\uff0cchrome\u548cSafari\u662f\u4ee5body\u4e3a\u57fa\u51c6\uff0c\u800cff\u662f\u4ee5html\u5373document.documentElement\u4e3a\u57fa\u51c6</p> <p>//\u867d\u7136\u6211\u62c5\u5fc3\u8fd9\u79cd\u65b9\u6cd5\u4f1a\u5f15\u8d77\u6587\u6863\u7684\u91cd\u7ed8 \u662f\u4e0d\u662f\u4e0d\u5927\u597d\u5440</p> <p>---ps</p> <p>\u5782\u76f4\u5c45\u4e2d\u8fd8\u6709display: table-cell; vertical-align: middle\u8fd9\u6837\u5b50\u7684\u4e07\u80fd\u642d</p>"},{"location":"Frontend/CSS/%E7%80%91%E5%B8%83%E5%9B%BE%E5%A2%99%E5%B0%8F%E8%B0%83%E7%A0%94/","title":"\u7011\u56fe\u5899\u5c0f\u8c03\u7814","text":"<p>\u5982\u9898\uff0c\u4e00\u9053\u6807\u51c6\u7684\u7eb5\u5411\u7011\u5e03\u56fe\u5899&lt;\u6a2a\u5411\u5c31vice versa\u5566&gt;\uff0c\u5927\u4f53\u5206\u4e3a\u4e09\u4e2a\u9636\u6bb5\uff0c\u9700\u6c42\u5ea6\u4f9d\u6b21\u9012\u589e\uff1a  </p> <ul> <li>\u9636\u6bb5\u4e00\uff1a\u5e03\u5c40\u5448\u73b0\u7011\u5e03\u6d41\u3002  </li> <li>\u9636\u6bb5\u4e8c\uff1a\u6bcf\u4e2aitem\u987a\u5e8f\u5e94\u4fdd\u6301\u4e00\u81f4\uff0c\u5148\u4ece\u5de6\u81f3\u53f3\uff0c\u518d\u4ece\u4e0a\u81f3\u4e0b\u3002  </li> <li>\u9636\u6bb5\u4e09\uff1a\u907f\u514d\u67d0\u5217\u8fc7\u957f\u6216\u8fc7\u77ed\u3002\u4e5f\u5c31\u662f\u591a\u5217\u72b6\u6001\u4e0b\uff0c\u80fd\u6839\u636e\u6bcf\u5217\u957f\u5ea6\u786e\u5b9a\u4e0b\u4e00\u4e2aitem\u5e94\u5904\u7684\u5217\u3002</li> </ul> <p>\u5e02\u9762\u4e0a\u89e3\u51b3\u65b9\u6848\uff0c\u4e5f\u5206\u522b\u5bf9\u5e94\u4e86\u4e0d\u540c\u7684\u9700\u6c42\u3002</p>"},{"location":"Frontend/CSS/%E7%80%91%E5%B8%83%E5%9B%BE%E5%A2%99%E5%B0%8F%E8%B0%83%E7%A0%94/#column-count","title":"\u65b9\u6848\u4e00\uff1acolumn-count\u272e","text":"<ul> <li>\u6ee1\u8db3\uff1a\u9636\u6bb5\u4e00  </li> <li>\u4f18\u70b9\uff1a\u5229\u7528\u4e86css\u7684column-count\u5c5e\u6027\uff0c\u65b9\u4fbf\u5feb\u6377\u3002  </li> <li>\u7f3a\u70b9\uff1a\u5e03\u5c40\u987a\u5e8f\u662f\u5148\u4ece\u4e0a\u81f3\u4e0b\uff0c\u518d\u4ece\u5de6\u81f3\u53f3\u3002\u5982\u56fe\uff1a </li> </ul> <p>\u8fd9\u79cd\u6548\u679c\u7c7b\u4f3c\u4e8e\u5c06\u6240\u6709\u5143\u7d20\u4e09\u7b49\u5206\uff0c\u5206\u522b\u4eba\u4e3a\u585e\u5230\u4e09\u4e2acontainer\u91cc\u7684\u611f\u89c9\u3002\u7528\u666e\u901a\u5b9a\u4f4d\u4ea6\u80fd\u591f\u8fbe\u5230\u3002  </p> <p>\u53e6\uff0c\u6211\u89c9\u5f97\u6309MDN\u7684\u4f8b\u5b50\uff0ccolumn-count\u66f4\u9002\u7528\u7684\u573a\u666f\u662f\u7ed9\u6587\u5b57\u6392\u7248\u3002</p> <p>Ref\uff1aHOW TO: Pure CSS masonry layouts</p>"},{"location":"Frontend/CSS/%E7%80%91%E5%B8%83%E5%9B%BE%E5%A2%99%E5%B0%8F%E8%B0%83%E7%A0%94/#flex-flex-flow-column-wrap","title":"\u65b9\u6848\u4e8c\uff1aflex + flex-flow: column wrap \u272e","text":"<ul> <li>\u6ee1\u8db3\uff1a\u9636\u6bb5\u4e00  </li> <li>\u4f18\u70b9\uff1a\u540c\u6837\u65b9\u4fbf\u5feb\u6377\uff0c\u5e76\u4e14\u76f8\u4fe1\u5bf9\u5927\u90e8\u5206\u4eba\u800c\u8a00\uff0cflex\u6bd4column-count\u8981\u66f4\u4eb2\u5207\u4e9b\u3002  </li> <li>\u7f3a\u70b9\uff1acolumn\u662f\u7eb5\u5411\u6392\u5217\uff0c\u6240\u4ee5\u9762\u4e34\u540c\u6837\u7684\u987a\u5e8f\u95ee\u9898\u3002  </li> <li>\u4e0d\u8fc7\uff0c\u52a0\u4e00\u70b9\u5c0f\u5c0f\u7684\u8bc0\u7a8d\u5c31\u53ef\u4ee5\u5316\u8150\u673d\u4e3a\u795e\u5947\u261f\u3002</li> </ul>"},{"location":"Frontend/CSS/%E7%80%91%E5%B8%83%E5%9B%BE%E5%A2%99%E5%B0%8F%E8%B0%83%E7%A0%94/#flex-flex-flow-column-wrap-order","title":"\u65b9\u6848\u4e09\uff1aflex + flex-flow: column wrap + order \u272e\u272e\u272e\u272e","text":"<ul> <li>\u6ee1\u8db3\uff1a\u9636\u6bb5\u4e00\u3001\u9636\u6bb5\u4e8c  </li> <li>\u539f\u7406\uff1a\u4f7f\u7528flex\u7684order\u5c5e\u6027\u5c06\u7eb5\u5411\u987a\u5e8f\u6253\u4e71\u6210\u8ff7\u60d1\u8089\u773c\u7684\u6a2a\u5411\u987a\u5e8f\u3002</li> </ul> <p>_order_\u5c5e\u6027\u89c4\u5b9a\u4e86\u5f39\u6027\u5bb9\u5668\u4e2d\u7684\u53ef\u4f38\u7f29\u9879\u76ee\u5728\u5e03\u5c40\u65f6\u7684\u987a\u5e8f\u3002\u5143\u7d20\u6309\u7167order\u5c5e\u6027\u7684\u503c\u7684\u589e\u5e8f\u8fdb\u884c\u5e03\u5c40\u3002\u62e5\u6709\u76f8\u540corder\u5c5e\u6027\u503c\u7684\u5143\u7d20\u6309\u7167\u5b83\u4eec\u5728\u6e90\u4ee3\u7801\u4e2d\u51fa\u73b0\u7684\u987a\u5e8f\u8fdb\u884c\u5e03\u5c40\u3002</p> <p>\u5173\u952e\u4ee3\u7801\uff1a  </p> <pre><code>/*\u4ee5\u4e09\u7ad6\u5217\u4e3a\u4f8b*/\n.item:nth-child(3n+1) { order: 1; }\n.item:nth-child(3n+2) { order: 2; }\n.item:nth-child(3n+3) { order: 3; }\n</code></pre> <p></p> <p>\u56e0order\u7684\u6743\u91cd\u6700\u9ad8\uff0c\u6240\u4ee5item\u5143\u7d20\u8fdb\u884c\u4e86\u91cd\u6392\u3002\u4ece\u4e0a\u800c\u4e0b\u5e03\u5c40\u65f6\uff0corder\u9ad8\u7684\u5143\u7d20\u90fd\u4f1a\u88ab\u63a8\u5165\u5230\u4e4b\u540e\u8fdb\u884c\u6e32\u67d3\u3002 \u4e00\u4e2a\u5c0f\u95ee\u9898\uff1a </p> <p>\u5982\u4e0a\u56fe\uff0c\u672c\u6765\u5143\u7d203\u5e94\u8be5\u5728\u7b2c3\u884c\u7684\uff0c\u4f46\u662f\u7531\u4e8e\u7b2c\u4e8c\u5217\u8fd8\u6709\u5f88\u591a\u7a7a\u4f4d\uff0c\u5143\u7d203\u5c31\u987a\u52bf\u63d2\u5165\u4e86\u7b2c\u4e8c\u5217\u7ed3\u5c3e\u3002\u95ee\u9898\u5c31\u6765\u4e86\uff0c\u8be5\u5982\u4f55\u5c06\u6bcf\u5217\u7684\u5143\u7d20\u663e\u6027\u5206\u5f00\uff0c\u4e0d\u8ba9\u5b83\u4eec\u987a\u52bf\u586b\u5145\u5462\uff1f \u90a3\u4e48\u6bcf\u5217\u4e2d\u95f4\u5c31\u5e94\u8be5\u5b58\u5728\u4e00\u4e2a\u201c\u5206\u9694\u5217\u201d\uff0c\u5b83\u7684\u5bbd\u5ea6\u4e3a0\uff0c\u9ad8\u5ea6100%\uff0c\u8d77\u9694\u79bb\u4f5c\u7528\u3002  </p> <pre><code>/*\u4f7f\u5206\u9694\u5217\u7684\u9ad8\u5ea6\u6491\u6ee1\u6574\u4e2a\u4e3b\u8f74\uff0c\u4e5f\u5c31\u662f\u9ad8100%*/\n flex-basis: 100%;\n width: 0;\n</code></pre> <p>/*\u4f7f\u5206\u9694\u5217\u7684\u9ad8\u5ea6\u6491\u6ee1\u6574\u4e2a\u4e3b\u8f74\uff0c\u4e5f\u5c31\u662f\u9ad8100%*/  flex-basis: 100%;  width: 0;  </p> <p>\u6b64\u65f6\u6574\u4e2a\u6e32\u67d3\u961f\u5217\u5e94\u4e3a\uff1a1, 4, 7, 10, &lt;.break&gt;, 2, 5, 8, 11, &lt;.break&gt;, 3, 6, 9, 12 \u6e32\u67d3\u7ed3\u679c\u770b\u8d77\u6765\u7c7b\u4f3c\uff1a </p> <p>\u4e0d\u8fc7\u5f53\u7136\uff0c\u5206\u9694\u5217\u7684DOM\u8282\u70b9\u4e5f\u9700\u8981\u4eba\u4e3a\u63d2\u5165\u4e86\u3002  </p> <pre><code>&lt;div class=\"container\"&gt;  \n  &lt;div class=\"item\"&gt;&lt;/div&gt;  \n  &lt;div class=\"item\"&gt;&lt;/div&gt;  \n  &lt;div class=\"item\"&gt;&lt;/div&gt;  \n  &lt;div class=\"item\"&gt;&lt;/div&gt;  \n  ...  \n  &lt;!--\u4eba\u4e3a\u63d2\u5165\u7684\u5206\u9694\u5217--&gt;  \n  &lt;span class=\"item break\"&gt;&lt;/span&gt;  \n  &lt;span class=\"item break\"&gt;&lt;/span&gt;  \n  &lt;span class=\"item break\"&gt;&lt;/span&gt;  \n&lt;/div&gt; \n</code></pre> <p>\u603b\u7684\u8bf4\u6765\uff0c\u8fd9\u4e2a\u65b9\u6848\u6211\u8ba4\u4e3a\u662f\u7eafcss\u5e03\u5c40\u4e2d\u6570\u4e00\u6570\u4e8c\u7684\u65b9\u6848\u4e86\uff0c\u4e0d\u7b97\u8f7b\u677e\uff0c\u4f46\u662f\u80dc\u5728\u6e05\u6670\uff0c\u751a\u81f3\u53ef\u4ee5\u771f\u7684\u5728\u5b9e\u9645\u4e1a\u52a1\u4e2d\u7528\u8d77\u6765\u3002\u56e0\u6b64\u593a\u5f97\u4e86\u56db\u9897\u661f\uff01</p> <p>Ref: CSS masonry with flexbox, :nth-child(), and order</p>"},{"location":"Frontend/CSS/%E7%80%91%E5%B8%83%E5%9B%BE%E5%A2%99%E5%B0%8F%E8%B0%83%E7%A0%94/#grid-grid-row-end","title":"\u65b9\u6848\u56db\uff1agrid + \u52a8\u6001grid-row-end \u272e\u272e\u272e","text":"<ul> <li>\u6ee1\u8db3\uff1a\u9636\u6bb5\u4e00\u3001\u9636\u6bb5\u4e8c  </li> <li> <p>\u539f\u7406\uff1agrid\u5e03\u5c40\u7684\u672c\u8d28\u662f\u7f51\u683c\u5757\uff0c\u90a3\u4e48\u4e0d\u5b9a\u9ad8\u5ea6\u7684\u5143\u7d20\uff0c\u5c31\u53ef\u4ee5\u4ee5\u7ad6\u8de8\u4e0d\u5b9a\u6570\u91cf\u7684\u7f51\u683c\u5757\u5b9e\u73b0(\u4e5f\u5c31\u662f\u52a8\u6001\u8bbe\u7f6egrid-row-end)\u3002\u5f53\u7136\uff0c\u7f51\u683c\u5757\u7684\u9ad8\u5ea6\u8d8a\u5c0f\uff0c\u7ec6\u5ea6\u8d8a\u5927\uff0c\u4e5f\u8d8a\u4e0d\u6d6a\u8d39\u591a\u51fa\u6765\u7684\u7f51\u683c\u7a7a\u95f4\u3002 </p> </li> <li> <p>\u91cd\u70b9\uff1a\u5728\u9875\u9762onLoad\u540e\uff0c\u53d6\u5230\u6bcf\u4e2agrid\u7684\u9ad8\u5ea6\u4ee5\u53ca\u6bcf\u4e2aitem\u5757\u91cc\u5b9e\u9645\u5185\u5bb9\u7684\u9ad8\u5ea6\uff0c\u4e24\u76f8\u4e00\u9664\uff0c\u518d\u52a8\u6001\u8bbe\u7f6eitem\u5757\u5e94\u7ad6\u8de8\u591a\u5c11\u4e2aitem.  </p> </li> <li>\u4f18\u70b9\uff1a\u601d\u8def\u633a\u4e0d\u9519\u7684\uff01\u521b\u65b0\u661f\u7ed9\u4e00\u9897~  </li> <li>\u7f3a\u70b9\uff1a\u6bd4\u8f83\u590d\u6742\uff0c\u53e6\u5916\u56e0\u4e3a\u9700\u8981\u5728\u9875\u9762\u521a\u6e32\u67d3\u5b8c\u6210\u540e\u518d\u64cd\u4f5c\u6837\u5f0f\u7684\u53d8\u5316\uff0c\u6240\u4ee5\u53ef\u4ee5\u8089\u773c\u770b\u89c1\u6574\u4e2a\u56fe\u5899\u88ab\u6491\u5f00\u7684\u8fc7\u7a0b\u3002</li> </ul> <p>Ref: Masonry style layout with CSSGrid</p>"},{"location":"Frontend/CSS/%E7%80%91%E5%B8%83%E5%9B%BE%E5%A2%99%E5%B0%8F%E8%B0%83%E7%A0%94/#_2","title":"\u65b9\u6848\u4e94\uff1a\u7edd\u5bf9\u5e03\u5c40 \u272e\u272e\u272e\u272e","text":"<ul> <li>\u6ee1\u8db3\uff1a\u9636\u6bb5\u4e00\u3001\u9636\u6bb5\u4e8c\u3001\u9636\u6bb5\u4e09  </li> <li>\u611f\u6168\uff1a\u8fd9\u79cd\u65b9\u5f0f\u4e0d\u53ef\u6218\u80dc\u7684\u597d\u5904\u662f\uff1a\u7edd\u5bf9\u4e0d\u4f1a\u51fa\u9519\uff01\u60f3\u600e\u4e48\u5b9a\u4f4d\u600e\u4e48\u5b9a\u4f4d\uff0c\u6bcf\u6b21push\u8fdb\u65b0\u7684item\u65f6\uff0c\u901a\u8fc7\u8ba1\u7b97\u5df2\u6e32\u67d3\u5217\u8868\u7684\u9ad8\u5ea6\uff0c\u65b0item\u60f3\u653e\u54ea\u4e00\u5217\u5c31\u653e\u54ea\u4e00\u5217\u3002  </li> <li>\u5b9e\u9645\u4e1a\u52a1\u573a\u666f\uff1a</li> </ul> <p>\u82b1\u74e3\u7f51: \u7edd\u5bf9\u5b9a\u4f4d\uff0c\u76f4\u63a5\u66f4\u6539top\u53caleft\uff0c\u6bcf\u4e2aitem\u7684\u9ad8\u5ea6\u81ea\u52a8\u6491\u5f00\u3002  </p> <pre><code>/*\u67d0\u4e2a\u56fe\u5899item*/\nposition:absolute;left:504px;top:6223px;\nopacity:1;\n</code></pre> <p>pinterest:&gt; \u7edd\u5bf9\u5b9a\u4f4d\uff0c\u901a\u8fc7translate\u66f4\u6539\u5750\u6807\u3002\u4e0d\u8fc7item\u9ad8\u5ea6\u662f\u5df2\u77e5\u503c\uff0c\u6709\u505a\u61d2\u52a0\u8f7d\u3002\u5728\u7a97\u53e3resize\u65f6\uff0c\u4f1a\u91cd\u65b0\u6e32\u67d3\u3002  </p> <pre><code>/*\u67d0\u4e2a\u56fe\u5899item*/\ntop:0px;left:0px;transform:translateX(260px) translateY(28459px);width:260px; \nheight:695px;\n</code></pre>"},{"location":"Frontend/CSS/%E7%80%91%E5%B8%83%E5%9B%BE%E5%A2%99%E5%B0%8F%E8%B0%83%E7%A0%94/#_3","title":"\u603b\u7ed3","text":"<p>\u603b\u7684\u6765\u8bf4\uff0c\u5982\u679c\u8981\u6211\u81ea\u5df1\u9009\u7684\u8bdd~\u5f53\u5b9e\u73b0\u573a\u666f\u504fui\u65f6\uff0c\u6bd4\u5982\u5b98\u7f51\u7684\u4eba\u7269\u4ecb\u7ecd\u963f\u8fd9\u79cditem\u6709\u9650\u7684\u7011\u5e03\u56fe\uff0c\u7528flex\u662f\u4e0d\u9519\u7684\u9009\u62e9\uff1b\u800c\u5f53\u5b9e\u73b0\u573a\u666f\u504f\u4e1a\u52a1\u65f6\uff0c\u6bd4\u65b9\u65e0\u9650\u4e0b\u62c9\u52a0\u8f7d\u7684\u7011\u5e03\u56fe\u5899\uff0c\u4e3a\u8003\u8651\u517c\u5bb9\u6027\u548c\u66f4\u5927\u7684\u53ef\u64cd\u7eb5\u6027\uff0c\u6211\u4f9d\u7136\u4f1a\u9009\u62e9\u6b7b\u677f\u5374\u4e0d\u4f1a\u9519\u7684\u7edd\u5bf9\u5b9a\u4f4d :P</p> <p>\u53e6\u5916\uff0c\u8611\u83c7\u8857\u9996\u9875\u7684\u4f2a\u7011\u5e03\u56fe\u5899\u5b9e\u73b0\uff0c\u76f4\u63a5\u5c06\u5185\u5bb9\u5206\u6210\u51e0\u5927\u7ad6\u5217\u6765\u6e32\u67d3\uff0c\u4e5f\u662f\u4e00\u79cd\u4e0d\u663e\u5f97\u5f88\u806a\u660e\u4f46\u5b9e\u9645\u5f88\u6709\u6548\u7684\u529e\u6cd5\u5594\uff0c\u79d1\u79d1\u3002  </p> <p></p>"},{"location":"Frontend/Engineering/eslint/","title":"eslint","text":""},{"location":"Frontend/Engineering/eslint/#about","title":"about \u4f5c\u8005","text":"<p>\u54c8\u54c8\u4f5c\u8005\u662f4\u7a7a\u683c+\u5206\u53f7\u6d3e\u54e6\uff01</p> <p>\u53ef\u662f\u770b\u4e86\u4ed6\u7684\u79c1\u4eba\u535a\u5ba2 \u770b\u5230\u8fd9\u51e0\u5e74\u4ed6\u8fd8\u5f97\u548c\u795e\u79d8\u75be\u75c5\u505a\u6597\u4e89\u2026\u597d\u60e8\u54e6</p>"},{"location":"Frontend/Engineering/eslint/#eslintrc","title":".eslintrc","text":"<p>eslint\u5f53\u7136\u652f\u6301\u5f88\u591a\u79cd\u683c\u5f0f\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u6211\u4e60\u60ef\u7528.eslintrc\u7684json\u5f62\u5f0f\u3002</p>"},{"location":"Frontend/Engineering/eslint/#rules","title":"rules","text":"<p>\u5982\u679c\u4e00\u4efd.eslintrc\u7a7a\u7a7a\u5982\u4e5f\uff0c\u90a3\u5b83\u5f53\u7136\u65e0\u6cd5\u5de5\u4f5c\u3002\u901a\u8fc7\u5728rules\u91cc\u914d\u7f6e\u60f3\u8981\u7684\u89c4\u5219\uff0c\u624d\u80fd\u8ba9eslint\u77e5\u9053\u4f60\u9700\u8981\u54ea\u4e9b\u6821\u9a8c\u3002 \u8fd9\u4e5f\u8bf4\u660e\u4e86\uff0ceslint\u672c\u8eab\u7ef4\u62a4\u4e86\u4e00\u4e9b\u6821\u9a8c\u89c4\u5219\u3002\u6240\u4ee5\u6211\u4eec\u624d\u80fd\u65b9\u4fbf\u7684\u4ee5rules\u540d\u79f0\u7684\u65b9\u5f0f\u9009\u62e9\u5f00\u542f\u5176\u4e2d\u7684\u90e8\u5206\u561b\u3002</p>"},{"location":"Frontend/Engineering/eslint/#rules_1","title":"rules\u662f\u5982\u4f55\u5de5\u4f5c\u7684\uff1f","text":"<p>\u4ece\u5927\u65b9\u5411\u800c\u8a00\uff0c\u5927\u5bb6\u90fd\u6e05\u695a\uff0c\u65e0\u975e\u662fAST\u5206\u6790\uff0c\u2013fix\u5c31\u662f\u66ff\u6362\u561b\u3002\u4e0d\u8fc7\u771f\u7684\u8981\u505aAST\u5206\u6790\uff0c\u8fd8\u662f\u89c9\u5f97\u662f\u4e00\u9879dirty work\u2026\u4e00\u4efdjs\u6709\u90a3\u4e48\u591a\u8282\u70b9\uff0c\u800c\u6821\u9a8c\u89c4\u5219\u53c8\u90a3\u4e48\u591a\uff0c\u600e\u4e48\u6765\u5339\u914d\uff0c\u53c8\u600e\u4e48\u786e\u4fdd\u6548\u7387\u5462\uff1f\u4e0d\u53ef\u80fd\u6bcf\u4e2a\u6821\u9a8c\u89c4\u5219\u90fd\u626b\u63cf\u4e00\u6b21\u6240\u6709\u8282\u70b9\u5427\u3002 \u5176\u5b9e\u4eceeslint\u63d0\u4f9b\u7684\u5f00\u53d1\u8005\u5f00\u53d1\u81ea\u5b9a\u4e49rule\u7684\u6587\u6863\u63a5\u53e3\u4e2d\u5c31\u53ef\u4ee5\u5927\u81f4\u770b\u51fa\u4e00\u70b9\u903b\u8f91\u3002\u5728eslint\u4ece\u5916\u5230\u5185\uff0c\u518d\u4ece\u5185\u5230\u5916\u7684\u9605\u8bfb\u4e00\u4efd\u4ee3\u7801\u7684\u8fc7\u7a0b\u4e2d\uff0c\u63d0\u4f9b\u4e86\u65e0\u6570\u4e2a\u94a9\u5b50\uff08\u5305\u62ec\u8fdb\u5165\u9000\u51fa\u6587\u6863\u3001\u8fdb\u5165\u9000\u51fa\u6bcf\u79cd\u7c7b\u578b\u7684\u8282\u70b9\u2026\uff09\u4f9b\u5f00\u53d1\u8005\u6ce8\u518c\u3002\u5728\u8fd9\u4e9b\u94a9\u5b50\u5185\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u901a\u8fc7eslint\u4f20\u5165\u7684\u5f53\u524dnode\u8282\u70b9\u5165\u53c2\uff0c\u4ee5\u53ca\u5168\u5c40\u6302\u8f7d\u5728context\u4e0a\u7684\u5de5\u5177\u65b9\u6cd5\u4eec\uff0c\u8fdb\u884c\u81ea\u5b9a\u4e49\u6821\u9a8c\uff1b\u82e5\u6821\u9a8c\u5931\u8d25\uff0c\u5219\u901a\u77e5eslint\u5931\u8d25\u539f\u56e0\u3002</p> <p>\u6311\u4e24\u4e2a\u6700\u5e38\u7528\u7684rules\u770b\u770b\u683c\u5f0f\u5c31\u7406\u89e3\u4e86~</p>"},{"location":"Frontend/Engineering/eslint/#no-console","title":"\u4f8b\u4e00\uff1ano-console","text":"<p>\u4ee3\u7801\u5730\u5740\uff1aeslint/no-console.js at main \u00b7 eslint/eslint</p> <p>\u8d85\u7ea7\u7b80\u5316\u7248\u5982\u4e0b\uff1a</p> <pre><code>module.exports = {\n meta: {\n        type: \"suggestion\",\n        messages: {\n            unexpected: \"Unexpected console statement.\"\n        }\n    },\n create(context){\n  function isConsole(reference) {\n        const id = reference.identifier;\n        return id &amp;&amp; id.name === \"console\";\n  }\n  function report(reference) {\n        const node = reference.identifier.parent;\n        context.report({\n            node,\n            loc: node.loc,\n            messageId: \"unexpected\"\n        });\n    }\n  return {\n      // \u94a9\u5b50\u8282\u70b9\n          \"Program:exit\"() {\n              const scope = context.getScope();\n        scope.through.filter(isConsole);\n\n                const references = scope.through.filter(isConsole);\n              references.forEach(report);\n      }\n      };\n  }\n }\n</code></pre> <p>\u5173\u952e\u5c31\u5728create\u51fd\u6570\u4e2dreturn\u7684\u5bf9\u8c61\u3002\u8be5\u5bf9\u8c61\u7684\u6bcf\u4e2akey\u90fd\u4ee3\u8868\u8c03\u7528\u68c0\u6d4b\u51fd\u6570\u7684\u94a9\u5b50\u8282\u70b9\u3002\u53ef\u4ee5\u770b\u5230\uff0cno-console\u662f\u5728Program:exit\uff0c\u4e5f\u5c31\u662f\u9605\u8bfb\u5b8c\u6574\u4efd\u8282\u70b9\u6587\u6863\u65f6\u505a\u7684\u6821\u9a8c\uff1b\u5982\u679c\u53d1\u73b0\u6709identifier\u4e3aconsole\u7684\uff0c\u5c31\u901a\u8fc7\u8c03\u7528context.report\u901a\u77e5\u5230eslint\u3002</p>"},{"location":"Frontend/Engineering/eslint/#no-extra-semi","title":"\u4f8b\u4e8c\uff1ano-extra-semi","text":"<p>\u4ee3\u7801\u5730\u5740\uff1aeslint/no-extra-semi.js at main \u00b7 eslint/eslint</p> <p>\u8d85\u7ea7\u7b80\u5316\u7248\u5982\u4e0b\uff1a</p> <pre><code>module.exports = {\n    meta: {\n        fixable: \"code\",\n        messages: {\n            unexpected: \"Unnecessary semicolon.\"\n        }\n    },\n\n    create(context) {\n        const sourceCode = context.getSourceCode();\n\n        function report(nodeOrToken) {\n            context.report({\n                node: nodeOrToken,\n                messageId: \"unexpected\",\n                fix(fixer) {\nreturn new FixTracker(fixer, context.getSourceCode())\n                        .retainSurroundingTokens(nodeOrToken)\n                        .remove(nodeOrToken);\n                }\n            });\n        }\n\n        function checkForPartOfClassBody(firstToken) {\n            for (let token = firstToken;\n                token.type === \"Punctuator\" &amp;&amp; !astUtils.isClosingBraceToken(token);\n                token = sourceCode.getTokenAfter(token)\n            ) {\n                if (astUtils.isSemicolonToken(token)) {\n                    report(token);\n                }\n            }\n        }\n\n        return {\n            EmptyStatement(node) {\n                const parent = node.parent,\n                    allowedParentTypes = [\n                        \"ForStatement\",\n                        \"ForInStatement\",\n                        \"ForOfStatement\",\n                        \"WhileStatement\",\n                        \"DoWhileStatement\",\n                        \"IfStatement\",\n                        \"LabeledStatement\",\n                        \"WithStatement\"\n                    ];\n\n                if (allowedParentTypes.indexOf(parent.type) === -1) {\n                    report(node);\n                }\n            },\n\n            ClassBody(node) {\ncheckForPartOfClassBody(sourceCode.getFirstToken(node, 1)); \n            },\n\n            MethodDefinition(node) {\ncheckForPartOfClassBody(sourceCode.getTokenAfter(node));\n            }\n        };\n    }\n</code></pre> <p>\u5982\u4e0a\uff0c\u53ef\u4ee5\u770b\u5230\u68c0\u6d4bsemi\u7684\u65f6\u673a\u662f\u5728EmptyStatement,ClassBody,MethodDefinition\u4e09\u7c7b\u8282\u70b9\u4e0b\u3002\u8fd9\u91cc\u6bd4\u8f83\u6709\u8da3\u7684\u662f\u770b\u4f3c\u964c\u751f\u7684EmptyStatment\u3002js\u91cc\u65e0\u7279\u6b8a\u610f\u4e49\u7684\u5206\u53f7(\u6bd4\u5982return\u7ed3\u5c3e)\u7684\u8282\u70b9\u7c7b\u578b\u5c31\u662fEmptyStatement\u5662\u3002\uff08\u8fd9\u4e00\u70b9\u6211\u4e4b\u524d\u4ece\u672a\u77e5\u9053\uff01\uff09</p> <p>\u4e0d\u8fc7\u770b\u5230\u8fd9\u91cc\u65f6\uff0c\u5fc3\u91cc\u672a\u514d\u4f1a\u5600\u5495\u8d77\u6765\uff0c\u8fd9\u4e48\u591anode type\uff0c\u9b3c\u77e5\u9053\u4ec0\u4e48\u5bf9\u5e94\u4ec0\u4e48\u963f\u3002\u540e\u6765\u6211\u627e\u5230\u4e86\u4e00\u4e2a\u597d\u529e\u6cd5\u2014\u2014\u53bb astexplorer \u4e0a\u624b\u52a8\u5199\u5199\u627e\u4e0b\u5bf9\u5e94\uff1b\u81f3\u4e8e\u6574\u4f53\u7684AST\u8282\u70b9\u7c7b\u578b\u6709\u54ea\u4e9b\uff0c\u53ef\u4ee5\u53bb estree/es5.md \u7785\u7785\u3002\u5b83\u5217\u4e3e\u4e86\u6700\u57fa\u7840\u7684\u8282\u70b9\u7c7b\u578b\uff0c\u540e\u7eed\u66f4\u65b0\u7684es\u7248\u672c\u90fd\u4f1a\u57fa\u4e8e\u8be5\u7248\u672c\u505a\u4e00\u4e9b\u5ef6\u4f38\u3002</p> <p>\u8fd9\u4efdrule\u8fd8\u6709\u4e00\u4efd\u7279\u522b\u4e4b\u5904\u2014\u2014\u5b83\u652f\u6301\u81ea\u52a8fix\u3002\u5728\u8c03\u7528context.report()\u65f6\u6709\u4f20\u4e00\u4e2afix\u51fd\u6570\uff0c\u4ee5\u8fd4\u56de\u7ecf\u77eb\u6b63\u8fc7\u7684\u8282\u70b9\u4fe1\u606f\u3002</p>"},{"location":"Frontend/Engineering/eslint/#extends","title":"extends","text":"<p>\u8bf4\u5230rules\uff0c\u90a3\u5927\u5bb6\u80af\u5b9a\u4f1a\u6709\u81ea\u5df1\u559c\u6b22\u7684\u4e00\u5957rules\u914d\u7f6e\uff0c\u5f53\u7136\u4e5f\u4f1a\u60f3\u5171\u4eab\u4e00\u5957\u914d\u7f6e\u3002\u8fd9\u5c31\u662fextends\u7684\u4f5c\u7528\u5566\u3002extends\u4e0d\u5149\u53ef\u4ee5\u7ee7\u627frules\uff0c\u8fd8\u53ef\u4ee5\u7ee7\u627f.eslintrc\u91cc\u7684\u6240\u6709\u914d\u7f6e\u9879\u3002extends\u5373\u4ee3\u8868\u4e86\u201d\u6211\u60f3\u7528\u522b\u4eba\u8fd9\u5957.eslintrc config\u7684\u610f\u601d\u201c\u3002</p> <p>eslint-extends\u5305\u540d\u683c\u5f0f\u4e3aeslint-config-xxx\uff0c\u914d\u7f6e\u65f6\u5728.eslintrc\u4e0b\u7684extends\u4e2d\u52a0\u4e0axxx\u5373\u53ef\u4f7f\u7528\u3002</p> <p>Eslint\u91cc\u540c\u6837\u4e5f\u6709\u5185\u7f6e\u7684\u4e00\u5957\u9ed8\u8ba4\u63a8\u8350\u914d\u7f6e\uff0c\u4e5f\u5c31\u662f\u5e38\u89c1\u7684eslint:recommended\uff08\u4ee3\u7801\uff09\u3002\u6240\u4ee5\uff0c\u6700\u7b80\u5355\u7684\u57fa\u7840\u9519\u8bef\u6821\u9a8c\u914d\u7f6e\u65b9\u5f0f\uff0c\u5c31\u662f\u5728.eslintrc\u91cc\u7684extends\u91cc\u914d\u4e0aeslint:recommended\u5c31\u597d\u5566\u3002</p>"},{"location":"Frontend/Engineering/eslint/#plugins","title":"plugins","text":"<p>\u9664\u4e86eslint\u91cc\u5185\u7f6e\u7684\u57fa\u7840\u68c0\u6d4b\u9879\uff0c\u4eba\u4eec\u80af\u5b9a\u8fd8\u4f1a\u6709\u66f4\u591a\u7684\u81ea\u5b9a\u4e49\u9700\u6c42\u3002\u6bd4\u65b9\u5982\u679c\u6211\u60f3\u81ea\u5df1\u5199\u4e00\u5957rules\u6765\u96c6\u6210\u5230eslint\u91cc\u6821\u9a8c\u5462\uff1f\u90a3\u4e48\u5c31\u8be5plugins\u51fa\u573a\u5566\u3002</p> <p>plugin\u7684\u5305\u540d\u683c\u5f0f\u4e3aeslint-plugin-xxx\uff0c\u8be5\u5305\u7684\u5bfc\u51fa\u5bf9\u8c61\u5305\u542brules\u5b57\u6bb5\uff0c\u5176\u503c\u662frules\u540d\u79f0\u548c\u5bf9\u5e94\u6821\u9a8c\u51fd\u6570\u7684\u5927\u5bf9\u8c61\u3002</p> <p>\u793a\u4f8beslint-plugin-import/index.js\uff1a</p> <pre><code>exports.rules = {\n  'no-unresolved': require('./rules/no-unresolved'),\n  'named': require('./rules/named'),\n ...\n}\n</code></pre> <p>\u4f7f\u7528\u65f6\uff0c\u5148\u5728.eslintrc\u91cc\u6ce8\u5165plugin\uff1b\u518d\u5728rules\u6307\u5b9a\u8981\u4f7f\u7528\u7684plugin\u91cc\u7684rule\u540d\u79f0\u3002</p> <p>.eslintrc:</p> <pre><code>{\n \"plugins\": [\"xxx\"],\n \"rules\": {\n  \"xxx/xxx-rule\": \"error\"\n }\n}\n</code></pre> <p>\u4e0d\u8fc7\u8fd9\u65f6\u70e6\u607c\u5c31\u51fa\u73b0\u4e86\uff0c\u603b\u4e0d\u80fd\u8ba9\u7528\u6237\u518d\u6572\u4e00\u904drules\u561b\u3002\u5982\u679c\u6709\u4e9b\u5176\u4f59\u7684\u914d\u7f6e\u4e5f\u5fc5\u987b\u8981\u7528\u6237\u6307\u5b9a\u600e\u4e48\u529e\u3002</p>"},{"location":"Frontend/Engineering/eslint/#plugins_1","title":"plugins\u4e2d\u96c6\u6210\u7684\u914d\u7f6e","text":"<p>\u6240\u4ee5\u4e00\u822cplugin\u91cc\u4e5f\u4f1a\u5bfc\u51fa\u51e0\u5957\u63a8\u8350\u914d\u7f6e\uff0c\u4f46\u662f\u8fd9\u4e9b\u63a8\u8350\u914d\u7f6e\u9ed8\u8ba4\u662f\u4e0d\u4f1a\u751f\u6548\u7684\u5662\u3002\u9700\u8981\u7528\u6237\u5b89\u88c5plugin:xxx/configName\u7684\u6307\u5b9a\u540d\u79f0\u53bbextends\u8be5config\u3002\u56e0\u4e3a\u8fd9\u4e9bconfig\u91cc\uff0c\u4e00\u822c\u4e5f\u4f1a\u914d\u7f6e\u81ea\u5df1\u4e3aplugin\uff0c\u6240\u4ee5\u7528\u6237\u514d\u53bb\u4e86\u9700\u8981\u5728eslintrc\u4e0b\u7279\u522b\u6307\u5b9aplugin\u7684\u64cd\u4f5c\u3002\u4e0d\u8fc7\u9700\u8981\u6ce8\u610f\u4e0bplugin\u91cc\u5bfc\u51fa\u7684config\u6709\u65e0extend\u5176\u4ed6config\u5305\uff0c\u82e5\u6709\uff0c\u4e5f\u8981\u8bb0\u5f97\u5b89\u88c5\u4e0a\u3002</p> <p>\u793a\u4f8b eslint-plugin-import/index.js\uff1a</p> <pre><code>exports.rules = { ... }\nexports.configs = {\n recommended: require('../config/recommended'),\n ...\n}\n</code></pre> <p>\u4f7f\u7528\uff1a</p> <pre><code>// \u539f\uff08\u9700\u5b89\u88c5eslint-plugin-import\u548ceslint-config-import\uff09\uff1a\n{\n \"plugins\": [\"import\"],\n \"extends\": [\"import\"]\n}\n\n// \u66f4\u65b9\u4fbf\uff08\u53ea\u9700\u5b89\u88c5eslint-plugin-import\uff09\uff1a\n{\n \"extends\": [\"plugin: import/recommended\"]\n}\n</code></pre>"},{"location":"Frontend/Engineering/eslint/#parser-parseroptions-processor","title":"parser &amp; parserOptions &amp; Processor","text":"<p>\u8fd9\u4e09\u4e2a\u6211\u4e4b\u524d\u4e00\u76f4\u90fd\u50bb\u50bb\u5206\u4e0d\u592a\u6e05\u3002\u6240\u4ee5\u5c31\u62ce\u5230\u4e00\u8d77\u603b\u7ed3\u4e86\u3002</p>"},{"location":"Frontend/Engineering/eslint/#parser","title":"parser","text":"<p>parser\u6307\u5b9a\u89e3\u6790ast\u7528\u7684\u89e3\u6790\u5668\u3002eslint\u7684\u9ed8\u8ba4parser\u662f\u5185\u7f6e\u7684espree\u3002\u53e6\u5916\u8fd8\u5f88\u5e38\u89c1\u7684\u6709</p> <ul> <li>@typescript-eslint/parser</li> <li>vue-eslint-parser</li> <li>babel-eslint</li> </ul> <p>\u524d\u4e24\u8005\u597d\u7406\u89e3\uff0c\u4ed6\u4eec\u7684\u8bed\u6cd5\u6811\u80af\u5b9a\u6709\u4e9b\u4e0d\u4e00\u6837\uff0c\u6240\u4ee5\u9700\u8981\u5355\u72ecparse\u561b\u3002\u800cbabel-eslint\u4e5f\u5c31\u662fbabel\u5185\u7f6e\u4f7f\u7528\u7684parser\uff0c\u548cespree\u6bd4\u6709\u4ec0\u4e48\u4e0d\u540c\u5462\uff1fespree\u4e0d\u4e5f\u80fd\u6307\u5b9aes\u7248\u672c\u5417\uff1f</p> <p>\u867d\u7136espree\u4e5f\u53ef\u4ee5\u901a\u8fc7parserOptions.ecmaVersion\u6307\u5b9aes\u7248\u672c\uff0c\u4f46\u4ec5\u4ec5\u5c40\u9650\u4e8e\u5199\u8fdbes\u6807\u51c6\u7684\u8bed\u6cd5\uff0c\u6bd4\u5982decorator\u7b49exprimental\u8bd5\u9a8c\u7248\u672c\u5c31\u4e0d\u5927\u80fd\u652f\u6301\u3002babel-eslint\u80fd\u5904\u7406\u7684\u8bed\u6cd5\u66f4\u4e3a\u5168\u9762\uff0c\u6bd5\u7adf\u4eba\u5bb6\u662fbabel\u5440\u3002\u53e6\u5916\uff0c\u53ea\u8981\u6307\u5b9aparse: \"babel-eslint\"\u5c31\u5565\u914d\u7f6e\u90fd\u4e0d\u7528\u4e86\uff0c\u4e5f\u4e0d\u7528\u989d\u5916\u5199parserOptions.ecmaVersion\uff0c\u7528\u8d77\u6765\u4e5f\u66f4\u4e3a\u65b9\u4fbf\u628a\u3002</p> <p>p.s. \u4f7f\u7528\u4e86typescript\u6216\u8005vue\u7684\u63d2\u4ef6\u6216config\u540e\uff0c\u5c31\u6ce8\u610f\u4e0d\u8981\u518d\u5728\u81ea\u5df1\u7684.eslintrc\u5185\u6307\u5b9aparser\u4e86\uff0c\u8fd9\u6837\u4f1a\u8986\u76d6\u6389\u5b83\u4eec\u96c6\u6210\u7684parser\u914d\u7f6e\u62c9\u3002</p>"},{"location":"Frontend/Engineering/eslint/#parseroptions","title":"parserOptions","text":"<p>\u5373\u7ed9parser\u4f20\u7684options\u3002\u9488\u5bf9espree\u800c\u8a00\uff0c\u6211\u4eec\u5e38\u7528\u7684\u4e00\u822c\u6709\u8fd9\u4e48\u51e0\u9879\uff1a</p> <ul> <li>parserOptions.sourceType: \u2018script\u2019/\u2018module\u2019; \u73b0\u5728\u57fa\u672c\u90fd\u662fmodule\u4e86\u3002</li> <li>parserOptions.ecmaVersion\uff1aespree\u652f\u6301\u7684es\u7248\u672c\u3002</li> <li>parserOptions.ecmaFeatures: { globalReturn\u2019, \u2018impliedStrict\u2019, \u2018jsx\u2019} \u3002\u7528jsx\u76f8\u5173\u7684\u6846\u67b6\u65f6\uff0c\u6bd4\u5982React\u6216Vue\uff0cjsx\u90fd\u8981\u8bb0\u5f97\u5199\u4e0a\u3002</li> </ul> <p>\u503c\u5f97\u6ce8\u610f\u7684\u4e00\u70b9\u662f\uff0c\u4f7f\u7528\u5176\u4ed6\u7684parser\u65f6\uff0c\u5176parserOptions\u5f97\u6839\u636e\u5176parser\u7684\u6587\u6863\u6765\uff0c\u6bd4\u5982babel-eslint\u7684parserOptions\u3002</p>"},{"location":"Frontend/Engineering/eslint/#processor","title":"Processor","text":"<p>Processor\u770b\u8d77\u6765\u5c31\u5f88\u5c0f\u4f17\u4e86\uff0c\u5b83\u7684\u4f5c\u7528\u662f:</p> <p>Processors can extract JavaScript code from another kind of files, then lets ESLint lint the JavaScript code. Or processors can convert JavaScript code in preprocessing for some purpose.</p> <p>\u4e5f\u5c31\u662f\u63d0\u4f9b\u9884\u5904\u7406\u67d0\u79cd\u4ee3\u7801\u7684\u529f\u80fd\u3002</p> <p>\u6709\u4e2a\u8eab\u8fb9\u7684\u4f8b\u5b50\uff0ceslint-plugin-vue\u5c31\u9488\u5bf9.vue\u6587\u4ef6\u4f7f\u7528\u4e86\u81ea\u5df1\u5199\u7684processor\u6765\u8fdb\u884c\u8f6c\u6362\u3002</p>"},{"location":"Frontend/Engineering/eslint/#globals-env","title":"globals &amp; env","text":"<p>globals\u7684\u4f5c\u7528\u662f\u6307\u5b9a\u5168\u5c40\u53d8\u91cf\uff0c\u907f\u514d\u88ab\u8bef\u8ba4\u4e3aunused-vars\u3002\u800cenv\u7684\u4f5c\u7528\u662f\u6307\u5b9a\u5728\u8be5\u73af\u5883\u4e0b\u7279\u6709\u7684\u4e00\u7cfb\u5217\u5168\u5c40\u53d8\u91cf\uff0c\u6bd4\u5982node\u7684require, es6\u7684Promise\u3002\u4e0d\u540c\u7684env\u5e76\u4e0d\u4e92\u65a5\uff0c\u6240\u4ee5\u591a\u6307\u5b9a\u51e0\u4e2a\u4e5f\u6ca1\u5173\u7cfb\u3002\u4e00\u822c\u5927\u5bb6\u5e38\u7528\u7684\u914d\u7f6e\u4e3a\uff1a</p> <pre><code>{\n \"env\": {\n  \"browser\": true,\n     \"node\": true,\n     \"es6\": true,\n  \"commonjs\": true,\n }\n}\n</code></pre> <p>\u4ee5\u4e0a\uff0c\u7c97\u6d45\u7684\u77e5\u9053\u4e86eslint\u7684\u5de5\u4f5c\u539f\u7406\uff0c\u5728\u914d\u7f6e\u65f6\u5c31\u4e0d\u4f1a\u518d\u4e00\u5934\u96fe\u6c34\u4e86\u3002\u81f3\u5c11\u77e5\u9053config\u548cplugin\u7684\u539f\u7406\uff0ceslint\u662f\u5982\u4f55\u8bfb\u53d6\u5230\u5176\u4e2d\u7684\u914d\u7f6e\u503c\u7684~</p>"},{"location":"Frontend/Engineering/eslint/#prettier","title":"Prettier","text":"<p>Prettier\u662f\u76f8\u5f53\u5f3a\u5927\u7684\u683c\u5f0f\u5316\u5de5\u5177\u3002Eslint\u867d\u7136\u4e5f\u80fd\u6307\u5b9a\u7ed3\u5c3e\u52a0\u4e0d\u52a0\u5206\u53f7\u5440\uff0c\u7a7a\u51e0\u683c\u5440\uff0c\u4f46\u5b83\u66f4\u504f\u5411\u4e8e\u201c\u8bed\u6cd5\u68c0\u67e5\u201d\uff0c\u53ea\u662f\u540c\u65f6\u9644\u5e26\u4e86\u4e00\u4e9b\u8f7b\u5fae\u683c\u5f0f\u5316\u7684\u529f\u6548\u3002\u800c\u5bf9\u4e8e\u6574\u4e2a\u4ee3\u7801\u7684\u6392\u7248\uff0c\u5f88\u591a\u4eba\u90fd\u662f\u4f9d\u9760\u4ee3\u7801\u7f16\u8f91\u5668\u6765\u7684\u3002\u8fd9\u6837\u4e00\u4e2a\u4eba\u5f00\u53d1\u8fd8\u597d\uff0c\u591a\u4eba\u5f00\u53d1\u65f6\uff0c\u5f88\u5bb9\u6613\u56e0\u4e3a\u4e92\u76f8\u6ca1\u534f\u5546\u597d\u7f16\u8f91\u5668\u683c\u5f0f\u5316\u98ce\u683c\uff0c\u9020\u6210\u98ce\u683c\u5f88\u4e0d\u4e00\u81f4\u7684\u60c5\u51b5\u3002\u518d\u52a0\u4e0a\u5927\u5bb6\u90fd\u5f88\u70ed\u7231\u201dformat on save\u201d\uff0c\u6240\u4ee5ctrl+s\u4e00\u4e0b\uff0c\u6574\u7bc7\u4ee3\u7801\u7684git blame\u90fd\u53d8\u6210\u81ea\u5df1\u4e86\u2026</p> <p>\u6240\u4ee5\u7528\u4e0a\u4e86prettier\u4e4b\u540e\uff0c\u6211\u5929\u5929\u90fd\u5f88\u5f00\u5fc3\u3002</p> <p>\u867d\u7136\u6709\u4eba\u62b1\u6028\u8bf4prettier\u4f1a\u4e71\u6298\u884c\uff0c\u4f46\u662f\u53ea\u8981\u6309\u81ea\u5df1\u7684\u559c\u7231\u914d\u597d\u4e86\uff0c\u7528\u8d77\u6765\u8fd8\u662f\u5f88\u987a\u624b\u7684\u3002</p> <p>Prettier\u7684\u914d\u7f6e\u5f88\u7b80\u5355\uff0c\u6700\u57fa\u7840\u7684\u5c31\u8fd9\u4e48\u51e0\u9879\uff08\u4e0d\u8fc7\u60f3\u60f3\uff0c\u7a0b\u5e8f\u5458\u683c\u5f0f\u5316\u754c\u4e89\u8bba\u6765\u4e89\u8bba\u53bb\u4e0d\u4e5f\u5c31\u8fd9\u4e48\u51e0\u9879\u4e48\uff09\u3002\u4ee5\u4e0b\u662f\u6211\u6700\u559c\u6b22\u7684.prettierrc\u914d\u7f6e\uff1a</p> <pre><code>{\n  \"printWidth\": 100, // \u6bcf\u884c\u6700\u591a\u5b57\uff0c\u6298\u884c\u65f6\u673a\u7684\u5173\u952e~\n  \"singleQuote\": true, // \u5355\u5f15\u53f7\n \"tabWidth\": 2, // \u51e0\u4e2a\u7a7a\u683c\n  \"semi\": false, // \u7ed3\u5c3e\u5206\u53f7\n  \"trailingComma\": \"es5\" // \u8fd9\u4e2a\u5b58\u5728\u611f\u4f4e\u4e00\u70b9\u4f46\u5f88\u5b9e\u7528\uff0c\u8868\u793a\u5bf9\u8c61\u3001\u6570\u7ec4\u7684\u6700\u540e\u4e00\u9879\u4f1a\u8865\u4e0a\u9017\u53f7\n}\n</code></pre> <p>\u53ef\u662f\u5927\u5bb6\u90fd\u8ba8\u538c\u5b89\u88c5\u91cd\u590d\u7684\u65b0\u4e1c\u897f\u5440\u3002\u90fd\u7528\u7740eslint\u4e86\uff0c\u96be\u9053\u8fd8\u8981\u52a0\u4e2aprettier\u547d\u4ee4\u4e48\u3002\u6240\u4ee5prettier\u4e5f\u63d0\u4f9b\u4e86\u96c6\u6210\u5230eslint\u91cc\u7684\u5de5\u5177eslint-plugin-prettier\uff0c\u8fd9\u5c31\u65e0\u6bd4\u65b9\u4fbf\u5566\uff01eslint\u6821\u9a8c\u53cafix\u7684\u65f6\u5019\uff0c\u4e5f\u8ba9prettier\u628a\u81ea\u5df1\u7684\u4e00\u4efd\u68c0\u67e5\u987a\u624b\u505a\u4e86~</p> <p>p.s. \u6709\u4e00\u70b9\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4e3a\u907f\u514d\u548ceslint\u81ea\u5e26\u7684format\u68c0\u9a8c\u649e\u8f66\uff0cprettier\u5728\u81ea\u5df1\u7684\u57fa\u7840\u914d\u7f6e\u4e2d\uff0c\u4f1a\u5148\u628aeslint\u6240\u6709\u81ea\u5e26\u7684\u548c\u683c\u5f0f\u68c0\u67e5\u76f8\u5173\u7684rules\u7ed9\u5173\u6389\u3002\u6240\u4ee5\u5982\u679c\u65e2\u8981\u914deslint: recommended\u53c8\u8981\u914dplugin:prettier/recommended\u7684\u8bdd\uff0c\u8bb0\u5f97plugin:prettier/recommended\u8981\u653e\u5230eslint: recommended\u540e\u9762\u5662\u3002</p> <p>p.p.s. \u8981\u6ce8\u610f\u7f16\u8f91\u5668\u7684format on save\u529f\u80fd\u4e5f\u9700\u8981\u5173\u95ed\uff0c\u907f\u514d\u548ceslint\u7684format on save\u649e\u8f66\u3002</p>"},{"location":"Frontend/Engineering/eslint/#playgroundeslint","title":"playground\uff1a\u5199\u4e00\u4e2a\u81ea\u5df1\u7684eslint\u63d2\u4ef6\u628a~","text":"<p>\u5982\u679c\u60f3\u8981\u5236\u5b9a\u4e00\u5957\u81ea\u5df1\u516c\u53f8\u72ec\u6709\u7684Eslint\u6821\u9a8c\u89c4\u5219\uff0c\u4e5f\u4e0d\u59a8\u6309\u7740eslint\u5f00\u53d1\u8005\u6587\u6863\u4e00\u8bd5\u5662\u3002</p> <p>\u6211\u4eec\u4e3e\u4e2a\u5f88\u7b80\u5355\u7684\u4f8b\u5b50\uff0c\u4e0d\u5141\u8bb8\u4ee3\u7801\u91cc\u7684string\u91cc\u51fa\u73b0foo\uff0c\u9700\u8981\u66ff\u6362\u6210boo\u3002\u90a3\u53ea\u8981\u65b0\u5efa\u4e00\u4e2a\u540d\u4e3aeslint-plugin-myself\u7684\u5305\uff0c\u91cc\u5934\u6709\u4e00\u6761\u540d\u4e3a\u2019foo-to-boo\u2019\u7684\u89c4\u5219\u3002</p> <p>\u5165\u53e3eslint-plugin-myself/index:js\uff1a</p> <pre><code>module.exports = {\n rules: {\n  'foo-to-boo': require('./foo-to-boo')\n },\n configs: {\n  // \u628a\u8fd9\u4efdconfig\u540d\u4e3a\u4e3aall\n  all: {\n   plugins: ['eslint-plugin-myself'],\n   rules: {\n    'myself/foo-to-boo': 'error'\n   }\n  } \n }\n}\n</code></pre> <p>foo-to-boo.js</p> <pre><code>modules.exports = {\n create: function(context) {\n  function validate(node){\n   const val = node.raw;\n   // \u6821\u9a8c\u89c4\u5219\n   if(val.match &amp;&amp; val.match('foo')) {\n     // \u62a5\u544aeslint\n               context.report({\n                   node,\n                   message: 'no foo..',\n       // \u8fd4\u56de\u4fee\u590d\u540e\u7684\u8282\u70b9\u5185\u5bb9 \n                   fix: (fixer) =&gt; fixer.replaceTextRange(node.range, val.replace(/foo/, ()=&gt;'bar');\n                });\n           }\n  }\n  return {\n   // \u6821\u9a8cstring \u5982'hahhfoohh'\n   'Literal': validate,\n   // \u6821\u9a8ctemplate \u5982`hahhfoohh`\n   'TemplateElement': validate\n  }\n }\n}\n\n</code></pre> <p>\u4f7f\u7528:</p> <pre><code>{\n \"extends\": ['plugin: myself/all']\n}\n</code></pre>"},{"location":"Frontend/Engineering/eslint/#bonus-30seslint","title":"Bonus: 30s\u751f\u6210eslint\u5168\u914d\u7f6e~","text":"<p>\u5176\u5b9e\u5728\u65e5\u5e38\u4f7f\u7528\u4e2d\uff0c eslint\u914d\u7f6e\u6700\u597d\u8981\u4f5c\u4e3a\u811a\u624b\u67b6\u521d\u59cb\u5316\u914d\u7f6e\u7684\u4e00\u90e8\u5206\u3002\u4f46\u662f\u603b\u9762\u4e34\u7740\u8981\u7ef4\u62a4\u6ca1\u6709eslint\uff0c\u6216\u662f\u2026\u6ca1\u6709\u4ec0\u4e48\u7528\u7684eslint\u7684\u8001\u9879\u76ee\u7684\u60c5\u51b5\u3002\u6240\u4ee5\u6211\u624b\u64b8\u4e86\u4e00\u4e2a\u5c0f\u811a\u672c\uff0c\u65b9\u4fbf\u4e00\u6b21\u6027\u751f\u6210\u9879\u76ee\u7684eslint+prettier\u7684\u5168\u914d\u7f6e\uff0c\u5305\u62ec.eslintrc\u3001.prettierrc\u53ca\u4f9d\u8d56\u5305\u3002\u652f\u6301nodejs, React\u53caVue\u73af\u5883\uff0c\u4e5f\u652f\u6301\u5bf9\u5e38\u7528extends\u7684\u6781\u5176\u5fae\u5c0f\u7684\u9009\u62e9\u6743\uff1a</p> <p></p> <p>\u4f7f\u7528\u4e5f\u5f88\u65b9\u4fbf\uff1a<code>npx add-eslint-script</code></p>"},{"location":"Frontend/Engineering/jest/","title":"jest","text":""},{"location":"Frontend/Engineering/jest/#config","title":"config","text":"<p>Jest-cli \u6709\u5f88\u591a\u5fc5\u8981\u7684 config\uff0c\u6bd4\u5982\u8bf4</p> <ul> <li>moduleNameMapper: \u81ea\u5b9a\u4e49\u5904\u7406 test \u6587\u4ef6\u91cc\u7684 require</li> <li>transform: \u5728\u8fd9\u91cc\u505a\u6587\u4ef6\u7684\u9884\u5904\u7406</li> <li>setupFiles: \u5728\u8fd9\u91cc\u505a\u7edf\u4e00\u521d\u59cb\u5316\u5904\u7406\uff0c\u6bd4\u5982\u7ed9 global \u6302\u503c</li> </ul>"},{"location":"Frontend/Engineering/jest/#use-timeout","title":"use timeout","text":"<p><code>jest.runAllTimers();</code></p> <pre><code>Object.defineProperty(localModule, 'require', {\n      value: this._createRequireImplementation(localModule, options)\n    });\n</code></pre> <p><code>_transformAndBuildScript(filename, options, instrument, fileSource){}</code></p> <p>originalCode:</p> <p>Code:</p> <pre><code>''use strict';\\n// require('jest-cli/bin/jest');\\nvar _jsxFileName = \"/Users/dearvikki/workspace/fe-libs/react/packages/react-dom/src/__tests__/ReactSmoosh-test.js\";var React;\\nvar ReactDOM;\\nvar ReactDOMServer;\\nvar ReactTestUtils;\\n\\ndescribe('ReactSmoosh', function () {\\n  beforeEach(function () {\\n    // jest.resetModules();\\n    React = require('react');\\n    ReactDOM = require('react-dom');\\n    // ReactDOMServer = require('react-dom/server');\\n    // ReactTestUtils = require('react-dom/test-utils');\\n \u2026\n</code></pre> <p>jest-runtime:</p> <pre><code> constructInjectedModuleParameters() {\n    return [\n      'module',\n      'exports',\n      'require',\n      '__dirname',\n      '__filename',\n      'global',\n      'jest',\n      ...this._config.extraGlobals\n    ];\n  }\n</code></pre>"},{"location":"Frontend/Engineering/sourcemap%E7%9F%A5%E5%A4%9A%E5%B0%91/","title":"sourcemap \u77e5\u591a\u5c11","text":"<p>\u60f3\u5fc5\u5927\u5bb6\u90fd\u5bf9\u8fd9\u4e00\u6bb5\u622a\u56fe\u8033\u719f\u80fd\u8be6\uff1a </p> <p>\u56e0\u4e3a\u68c0\u6d4b\u5e76\u52a0\u8f7d\u4e86sourcemap\uff0c\u6240\u4ee5\u53ef\u4ee5\u76f4\u63a5\u5b9a\u4f4d\u5230\u7f16\u8bd1\u524d\u4ee3\u7801\u7684\u7279\u5b9a\u4f4d\u7f6e\u3002\u6240\u4ee5\u7528\u4e00\u53e5\u8bdd\u89e3\u91casourcemap\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u4e00\u6bb5\u7ef4\u62a4\u4e86\u524d\u540e\u4ee3\u7801\u6620\u5c04\u5173\u7cfb\u7684json\u63cf\u8ff0\u6587\u4ef6\u3002\u4f46\u5982\u679c\u7ec6\u7a76\u5176\u5185\u5bb9\uff0c\u53ef\u4ee5\u6ce1\u676f\u8336\u8bf4\u4e00\u6bb5\u6545\u4e8b\u4e86~</p>"},{"location":"Frontend/Engineering/sourcemap%E7%9F%A5%E5%A4%9A%E5%B0%91/#_1","title":"\u5386\u53f2\u6e0a\u6e90","text":"<p>\u57282009\u5e74google\u7684\u4e00\u7bc7 \u6587\u7ae0 \u4e2d\uff0c\u5728\u4ecb\u7ecdCloure Compiler\uff08\u4e00\u6b3ejs\u538b\u7f29\u4f18\u5316\u5de5\u5177\uff0c\u53ef\u7c7b\u6bd4\u4e8euglify-js\uff09\u65f6\uff0cgoogle\u4e5f\u987a\u4fbf\u63a8\u51fa\u4e86\u4e00\u6b3e\u8c03\u8bd5\u5de5\u5177\uff1afirefox\u63d2\u4ef6Closure Inspector\uff0c\u4ee5\u65b9\u4fbf\u8c03\u8bd5\u7f16\u8bd1\u540e\u4ee3\u7801\u3002\u8fd9\u5c31\u662fsourcemap\u7684\u6700\u521d\u4ee3\u5566\uff01</p> <p>You can use the compiler with Closure Inspector , a Firebug extension that makes debugging the obfuscated code almost as easy as debugging the human-readable source.</p> <p>2010\u5e74\uff0c\u5728\u7b2c\u4e8c\u4ee3\u5373 Closure Compiler Source Map 2.0 \u4e2d\uff0csourcemap\u786e\u5b9a\u4e86\u7edf\u4e00\u7684json\u683c\u5f0f\u53ca\u5176\u4f59\u89c4\u8303\uff0c\u5df2\u51e0\u4e4e\u5177\u6709\u73b0\u5728\u7684\u96cf\u5f62\u3002\u6700\u5927\u7684\u5dee\u5f02\u5728\u4e8emapping\u7b97\u6cd5\uff0c\u4e5f\u662fsourcemap\u7684\u5173\u952e\u6240\u5728\u3002\u7b2c\u4e8c\u4ee3\u4e2d\u7684mapping\u5df2\u51b3\u5b9a\u4f7f\u7528base 64\u7f16\u7801\uff0c\u4f46\u662f\u7b97\u6cd5\u540c\u73b0\u5728\u6709\u51fa\u5165\uff0c\u6240\u4ee5\u751f\u6210\u7684.map\u76f8\u6bd4\u73b0\u5728\u8981\u5927\u5f88\u591a\u3002</p> <p>2011\u5e74\uff0c\u7b2c\u4e09\u4ee3\u5373 Source Map Revision 3.0 \u51fa\u7089\u4e86\uff0c\u8fd9\u4e5f\u662f\u6211\u4eec\u73b0\u5728\u4f7f\u7528\u7684sourcemap\u7248\u672c\u3002\u4ece\u6587\u6863\u7684\u547d\u540d\u770b\u6765\uff0c\u6b64\u65f6\u7684sourcemap\u5df2\u8131\u79bbClousre Compiler\uff0c\u6f14\u53d8\u6210\u4e86\u4e00\u6b3e\u72ec\u7acb\u5de5\u5177\uff0c\u4e5f\u5f97\u5230\u4e86\u6d4f\u89c8\u5668\u7684\u652f\u6301\u3002\u8fd9\u4e00\u7248\u76f8\u8f83\u4e8e\u4e8c\u4ee3\u6700\u5927\u7684\u6539\u53d8\u662fmapping\u7b97\u6cd5\u7684\u538b\u7f29\u6362\u4ee3\uff0c\u4f7f\u7528VLQ\u7f16\u7801\u751f\u6210base64\u524d\u7684mapping\uff0c\u5927\u5927\u7f29\u5c0f\u4e86.map\u6587\u4ef6\u7684\u4f53\u79ef\u3002</p> <p>Sourcemap\u53d1\u5c55\u53f2\u7684\u6709\u8da3\u4e4b\u5904\u5728\u4e8e\uff0c\u5b83\u4f5c\u4e3a\u4e00\u6b3e\u8f85\u52a9\u5de5\u5177\u88ab\u5f00\u53d1\u51fa\u6765\u3002\u6700\u540e\u5b83\u8f85\u52a9\u7684\u5bf9\u8c61\u65e5\u6e10\u5f0f\u5fae\uff0c\u800c\u5b83\u5374\u6210\u4e3a\u4e86\u6280\u672f\u4e3b\u4f53\uff0c\u88ab\u5199\u8fdb\u4e86\u6d4f\u89c8\u5668\u4e2d\u3002</p>"},{"location":"Frontend/Engineering/sourcemap%E7%9F%A5%E5%A4%9A%E5%B0%91/#map","title":".map\u6587\u4ef6","text":"<pre><code>{\n    \"version\": 3,\n    \"sources\": [\"test.es6.js\"],\n    \"names\": [],\n    \"mappings\": \";;AAAA,IAAM,MAAM,GAAG,SAAT,MAAM,CAAI,CAAC;SAAK,CAAC,GAAG,CAAC;CAAA,CAAC\",\n    \"file\": \"test.js\",\n    \"sourcesContent\": [\"const square = (x) =&gt; x * x;\"]\n}\n</code></pre> <p>\u8fd9\u5c31\u662f\u4e00\u6bb5\u7b80\u5355\u7684map\u6587\u4ef6\uff0c\u5176\u4e2d</p> <ul> <li>version\uff1asourcemap\u7248\u672c\uff08\u73b0\u5728\u90fd\u662fv3\uff09</li> <li>sources\uff1a\u6e90\u6587\u4ef6\u5217\u8868\uff08\u5982\u679c\u662f\u6253\u5305\u6210bundle.js\u7684\uff0c\u90a3\u6e90\u6587\u4ef6\u5c31\u6709\u5f88\u957f\u4e00\u5806\u4e86\uff09</li> <li>sourcesContent: \u539f\u6587\u4ef6\u5185\u5bb9\uff08\u5982\u679c\u662fwebpack\u538b\u7f29\u7684\uff0c\u53ef\u4ee5\u770b\u5230\u8fd9\u91cc\u663e\u793a\u7684\u4ee3\u7801\u662f\u7ecfwebpack\u8fde\u63a5\u540e\u7684webpack_require\u90a3\u4e00\u5c42\uff09</li> <li>names: \u539f\u53d8\u91cf\u540d\u4e0e\u5c5e\u6027\u540d\uff08\u538b\u7f29\u65f6\u53ef\u80fd\u4f1a\u6539\u53d8\u53d8\u91cf\u540d\u79f0\uff09</li> <li>mapping\uff1a\u6620\u5c04json</li> <li>file\uff1a\u7f16\u8bd1\u540e\u6587\u4ef6</li> </ul> <p>\u63a5\u4e0b\u6765\uff0c\u5c31\u6765\u8be6\u7ec6\u7785\u7785\u4e3b\u8981\u5143\u7d20mapping\u628a\uff01</p>"},{"location":"Frontend/Engineering/sourcemap%E7%9F%A5%E5%A4%9A%E5%B0%91/#mapping","title":"mapping\u7b56\u7565\u5168\u653b\u7565","text":"<p>\u636e html5rocks\u7684sourcemap\u6559\u7a0b (\u8fd9\u4e5f\u662f\u6700\u7ecf\u5178\u7684\u4e00\u7bc7sourcemap\u535a\u6587\u4e86)\u6240\u8bf4\uff0c</p> <p>sourcemap v1\u6700\u5f00\u59cb\u751f\u6210\u7684sourcemap\u6587\u4ef6\u5927\u6982\u6709\u8f6c\u6362\u540e\u6587\u4ef6\u768410\u500d\u5927\u3002sourcemap v2\u5c06\u4e4b\u51cf\u5c11\u4e8650%\uff0cv3\u53c8\u5728v2\u7684\u57fa\u7840\u4e0a\u51cf\u5c11\u4e8650%\u3002\u6240\u4ee5\u76ee\u524d133k\u7684\u6587\u4ef6\u5bf9\u5e94\u7684sourcemap\u6587\u4ef6\u5927\u5c0f\u5927\u6982\u5728300k\u5de6\u53f3\u3002</p> <p>\u90a3\u4e48\u5b83\u662f\u5982\u4f55\u7528\u6700\u7cbe\u7b80\u7684\u65b9\u5f0f\u7ef4\u62a4\u73b0\u6587\u4ef6\u5230\u6e90\u6587\u4ef6\u7684\u6620\u5c04\u7684\u5462\uff1f\u5bf9\u4e8e\u6574\u4e2a\u6620\u5c04\u800c\u8a00\uff0c\u91cd\u8981\u7684\u51e0\u8981\u7d20\u65e0\u975e\u662f\u201c\u539f\u6587\u4ef6\u3001\u539f\u884c\u6570\u3001\u539f\u5217\u6570\u3001\u539f\u53d8\u91cf\u540d\u201d\uff0c\u6240\u4ee5\u5bf9\u6620\u5c04\u7b97\u6cd5\u7684\u4f18\u5316\uff0c\u5b9e\u8d28\u4e5f\u5c31\u662f\u5bf9\u8fd9\u4e00\u6bb5\u6570\u636e\u7684\u5b58\u50a8\u4f18\u5316\u3002</p> <p>\u6211\u53d1\u73b0\u4e86\u4e00\u7bc7\u975e\u5e38\u597d\u7684\u6587\u7ae0How do source maps work\uff0c\u4f5c\u8005\u901a\u8fc7\u7b80\u5355\u7684\u793a\u4f8b\u89e3\u91ca\u4e86map\u7684\u5927\u81f4\u5de5\u4f5c\u539f\u7406\u3002\u63a5\u4e0b\u6765\u6211\u4f1a\u4ecb(\u6897)\u7ecd(\u6982)\u4e0b\u4f5c\u8005\u7684\u51e0\u4e2a\u8981\u70b9\u3002</p>"},{"location":"Frontend/Engineering/sourcemap%E7%9F%A5%E5%A4%9A%E5%B0%91/#sourcemap_1","title":"sourcemap\u793a\u4f8b\u5206\u6790","text":"<p>\u539f\u4ee3\u7801\uff1a  </p> <p><code>const square = (x) =&gt; x \\* x;</code></p> <p>Babel\u7f16\u8bd1\u540e\u4ee3\u7801\uff1a  </p> <pre><code>\n\"use strict\";  \n\nvar square = function square(x) {  \n  return x \\* x;  \n};  \n\n//# sourceMappingURL=test.js.map\n</code></pre> <p>Mappings\uff08\u63a5\u4e0b\u6765\u7684\u5206\u6790\u90fd\u4f1a\u4ee5\u8fd9\u4efdmapping\u4e3a\u51c6\u5594\uff09\uff1a  </p> <pre><code>\";;AAAA,IAAM,MAAM,GAAG,SAAT,MAAM,CAAI,CAAC;SAAK,CAAC,GAAG,CAAC;CAAA,CAAC\"  \n</code></pre> <p>\u5982\u4e0a\uff0c\u53ef\u4ee5\u770b\u5230\u8fd9\u6bb5mappings\u6709\u51e0\u4e2a\u5173\u952e\u5143\u7d20\uff1a\u5206\u53f7<code>;</code> \u9017\u53f7<code>,</code> \u53ca\u5206\u9694\u51fa\u7684\u4e00\u4e32\u4e00\u773c\u770b\u4e0d\u61c2\u7684\u5b57\u6bcd\u3002\u5176\u4e2d\uff1a</p> <ul> <li>\u5206\u53f7\uff1a\u4ee3\u8868\u5206\u9694\u884c</li> <li>\u9017\u53f7\uff1a\u4ee3\u8868\u5206\u9694\u5217</li> <li>\u4e0a\u6587\u56db\u5b57\u5b57\u6bcd\uff1a\u7ecf\u8fc7base64\u8f6c\u6362\u8fc7\u540e\u7684VLQ\u7f16\u7801\uff0c\u4ee3\u8868\u4e86\u6bcf\u4e2asegment\u7684\u539f\u4f4d\u7f6e\u5b9a\u4f4d\uff0c\u6bd4\u5982var, square, =\u2026</li> </ul> <p>\u9644\uff1a\u3010base64 VLQ\u7f16\u7801 - \u5341\u8fdb\u5236\u8f6c\u6362\u8868 \u3011(\u5148\u4ec5\u4f9b\u53c2\u8003\uff0c\u5177\u4f53\u8f6c\u6362\u89c4\u5219\u89c1\u4e0b\u6587VLQ\u7f16\u7801\u90e8\u5206) </p> <p>\u4e00\u6bb5segment\u4e2d\u7684VLQ\u7f16\u7801\uff0c\u5176\u5b9e\u65e2\u53ef\u4ee5\u662f4\u4f4d\uff0c\u4e5f\u53ef\u4ee5\u662f5\u4f4d\u3002\u6bcf\u4e00\u4f4d\u90fd\u6709\u7279\u5b9a\u542b\u4e49\uff1a</p> <ul> <li>\u7b2c\u4e00\u4f4d[0]\uff1a\u4ee3\u8868\u5728\u8f6c\u6362\u540e\u6587\u4ef6\u7684\u7b2c\u51e0\u5217\uff08\u76f8\u5bf9\u4e8e\u524d\u4e00\u4e2aposition\u7684\u76f8\u5bf9\u4f4d\u7f6e\uff09</li> <li>\u7b2c\u4e8c\u4f4d[1]\uff1a\u4ee3\u8868\u6e90\u6587\u4ef6\u5728sources\u91cc\u5bf9\u5e94\u7684\u6587\u4ef6\u5e8f\u5217// \u4e0a\u8ff0mapping\u7684\u7b2c\u4e8c\u4f4d\u90fd\u662fA\uff0c\u56e0\u4e3a\u539f\u6587\u4ef6\u90fd\u662f\u7b2c0\u4f4d</li> <li>\u7b2c\u4e09\u4f4d[2]: \u4ee3\u8868\u5728\u6e90\u6587\u4ef6\u7684\u7b2c\u51e0\u884c // \u4e0a\u8ff0mapping\u7684\u7b2c\u4e09\u4f4d\u90fd\u662fA\uff0c\u56e0\u4e3a\u6e90\u6587\u4ef6\u90fd\u5728\u4e5f\u53ea\u6709\u7b2c1\u884c</li> <li>\u7b2c\u56db\u4f4d[3]\uff1a\u4ee3\u8868\u5728\u8f6c\u6362\u540e\u6587\u4ef6\u7684\u7b2c\u51e0\u5217\uff08\u76f8\u5bf9\u4e8e\u524d\u4e00\u4e2aposition\u7684\u76f8\u5bf9\u4f4d\u7f6e\uff09</li> <li>\u7b2c\u4e94\u4f4d[4]\uff1a\u4ee3\u8868\u5c5e\u4e8enames\u91cc\u7684\u54ea\u4e00\u4e2a\u53d8\u91cf</li> </ul> <p>\u5e26\u7740\u89e3\u91ca\uff0c\u518d\u770b\u4ee5\u4e0b\u4e24\u4e2a\u95ee\u9898</p>"},{"location":"Frontend/Engineering/sourcemap%E7%9F%A5%E5%A4%9A%E5%B0%91/#mapping_1","title":"\u4e0a\u8ff0mapping\u4e3a\u4ec0\u4e48\u4ee5;;\u5f00\u5934\u5462\uff1f","text":"<p>\u4e0a\u8ff0mapping\u4ee5;;\u5f00\u5934\uff0c\u662f\u56e0\u4e3ababel\u7f16\u8bd1\u540e\u65b0\u589e\u7684use strict\u53ca\u4e0b\u9762\u7a7a\u884c\u6ca1\u6709\u961f\u5bf9\u5e94\u7684\u539f\u6587~</p>"},{"location":"Frontend/Engineering/sourcemap%E7%9F%A5%E5%A4%9A%E5%B0%91/#mappingsegement-aaaa-iaam-map","title":"\u4e0a\u8ff0mapping\u7684\u4e00\u3001\u4e8c\u4e2asegement [AAAA, IAAM] \u662f\u600e\u4e48map\u5230\u539f\u6587\u4ef6\u4f4d\u7f6e\u7684\uff1f","text":"<p>[AAAA,IAAM] \u8f6c\u6362\u4e3aVLQ\u7f16\u7801\u662f[0000, 4006]\u3002\u7b2c\u4e8c\u4e2asegment\u91cc\u76844\u4ee3\u8868square\u5728\u8f6c\u6362\u540e\u6587\u4ef6\u7684\u7b2c4\u5217\uff0c\u800c6\u4ee3\u8868square\u5728\u73b0\u6587\u4ef6\u7684\u7b2c6\u5217\u3002  </p> <pre><code>0|1|2|3|4|    \nv|a|r| |s|q|u|a|r|e|    \n0|1|2|3|4|5|6|    \nc|o|n|s|t| |s|q|u|a|r|e|  \n</code></pre> <p>\u4ee5\u4e0a\uff0c\u76f8\u4fe1\u518d\u770b\u89c1\u4e00\u6bb5mappings\u65f6\uff0c\u4e0d\u8bf4\u80fd\u7acb\u9a6c\u77e5\u9053\u5b83\u4ee3\u8868\u4e86\u54ea\u4e00\u6bb5\u6e90\u6587\u4ef6\uff0c\u4f46\u81f3\u5c11\u4e0d\u4f1a\u4e24\u773c\u4e00\u62b9\u9ed1\u4e86~</p> <p>\u5176\u5b9e\u4ece\u4ee5\u4e0a\u8fc7\u7a0b\u8bfb\u6765\uff0c\u5728\u77e5\u9053\u4e86\u89c4\u5219\u7684\u60c5\u51b5\u4e0b\uff0c\u53cd\u7f16\u8bd1\u4e00\u6bb5\u7f16\u7801\u603b\u662f\u5bb9\u6613\u7684\u3002\u96be\u7684\u5176\u5b9e\u662f\u521b\u9020\u548c\u4f18\u5316\u89c4\u5219\u7684\u8fc7\u7a0b\u3002\u6bd4\u5982\u5c06\u6e90\u6587\u4ef6\u540d\u653e\u5728\u4e00\u4e2a\u6570\u7ec4\u4e2d\uff0c\u901a\u8fc7\u5b58\u50a8\u539f\u6587\u4ef6\u5728\u6570\u7ec4\u4e2d\u7684index\uff0c\u800c\u4e0d\u662f\u6e90\u6587\u4ef6name\u672c\u8eab\uff1b\u6bd4\u5982\u5b58\u50a8\u7684column index\u662f\u76f8\u5bf9\u4f4d\u7f6e\u800c\u4e0d\u662f\u7edd\u5bf9\u4f4d\u7f6e\uff1b\u6bd4\u5982\u901a\u8fc7;\u5206\u9694\u884c\u901a\u8fc7,\u5206\u9694\u5217\uff0c\u800c\u4e0d\u662f\u8bb0\u5f55\u884c\u53f7\u548c\u5217\u53f7\uff1b\u6bd4\u5982\u4e3a\u4ec0\u4e48\u9009\u62e9\u4e86\u7ecfbase64\u8f6c\u6362\u7684VLQ\u7f16\u7801\u2026\u6b63\u662f\u8fd9\u4e9b\u5fae\u5c0f\u7684\u4e00\u70b9\u70b9\u6bd4\u5bf9\u51fa\u6765\u7684\u7ec6\u8282\uff0c\u624d\u80fd\u805a\u6c99\u6210\u5854\uff0c\u5c06mapping\u6587\u4ef6\u6700\u5927\u5316\u7684\u538b\u7f29\u3002</p>"},{"location":"Frontend/Engineering/sourcemap%E7%9F%A5%E5%A4%9A%E5%B0%91/#vlqvariable-length-quantities","title":"VLQ(Variable Length Quantities)\u7f16\u7801","text":"<p>\u8981\u4e86\u89e3VLQ\u7f16\u7801\uff0c\u672c\u6765\u6211\u662f\u62d2\u7edd\u7684\u2026\u6211\u4e5f\u8bb8\u6c38\u8fdc\u4e5f\u4e0d\u4f1a\u7528\u5230\u2026\u4f46\u662f\u4e00\u60f3\u6765\u90fd\u6765\u4e86\uff0c\u4e0d\u5982\u4e5f\u987a\u4fbf\u4e86\u89e3\u4e00\u4e0b\u53ed\uff01\u5c31\u5f53\u505a\u9676\u51b6\u60c5\u64cd\u5462~</p> <p>So..\u4e86\u89e3\u5b8c\u6210\u540e\uff0c\u611f\u89c9\u6587\u672c\u7f16\u7801\u548c\u7f51\u7edc\u6280\u672f\u901a\u5e38\u4f1a\u8bb2\u5230\u4f20\u9012xx\u5305\u8981\u600e\u4e48\u5c01\u88c5\u4e00\u4e32\u6570\u636e\u4e00\u6837\uff0c\u91cd\u70b9\u90fd\u662f\u5dee\u4e0d\u591a\u7684\u3002\u4e00\u662f\u5982\u4f55\u5206\u5272\u6570\u5b57(\u5373\u8868\u793a\u8fde\u7eed)\uff0c\u6bd4\u59821\u548c17\u5728\u4e00\u8d77\u7ec4\u6210117\u7684\u65f6\u5019\uff0c\u600e\u4e48\u6765\u8868\u793a\u8fd9\u662f1\u548c17\u800c\u4e0d\u662f\u4e00\u767e\u4e00\u5341\u4e03\u3002\u4e8c\u662f\u5982\u4f55\u8868\u793a\u6b63\u8d1f\u3002</p> <p>\u4e00\u4e2aVLQ\u5c0f\u8282\u67096\u4f4d\uff08\u6240\u4ee5\u521a\u597d\u9002\u5408\u901a\u8fc7base64\u8f6c\u6362\u6210\u5b57\u7b26\u5440\uff09\uff0c\u7b2c\u4e00\u4f4d\u4ee3\u8868\u8fde\u7eed\uff0c\u6700\u540e\u4e00\u4f4d\u4e00\u822c\u4ee3\u8868\u6b63\u8d1f\uff0c\u6240\u4ee5\u4e2d\u95f4\u81f3\u5c11\u67094\u4f4d\u53ef\u4ee5\u8868\u793avalue\u3002</p> <p></p> <p>\u5982\u4e0a\uff0c\u53ef\u4ee5\u770b\u5230-15~15\u90fd\u53ef\u4ee5\u7528\u4e00\u4e2aVLQ\u5c0f\u8282\u6765\u8868\u793a\u3002\u5f53|Number|&gt;15\u65f6\uff0c\u5219\u9700\u8981\u7528\u5230\u591a\u4e2aVLQ\u5c0f\u8282\u3002\u53e6\u5916\uff0c\u6b63\u8d1f\u53ea\u9700\u7528\u7b2c\u4e00\u5c0f\u8282\u7684\u6700\u540e\u4e00\u4f4d\u8868\u793a\u3002\u6240\u4ee5\u591a\u4e2a\u5c0f\u8282\u65f6\uff0c\u7b2c&gt;1\u4e2a\u5c0f\u8282\u7684\u7b2c6\u4f4d\u53ef\u4ee5\u4e0d\u4ee3\u8868\u6b63\u8d1f\uff0c\u4e5f\u4ee3\u8868\u5185\u5bb9\u3002</p> <p>\u5982\u679c\u81ea\u5df1\u6709\u9700\u8981\u4f7f\u7528VLQ\u7f16\u7801\u7684\u8bdd\uff0c\u5219\u53ef\u4ee5\u53c2\u8003\u5e02\u9762\u4e0a\u73b0\u6210\u7684\u5e93~\u6bd4\u5982GitHub - Rich-Harris/vlq</p>"},{"location":"Frontend/Engineering/sourcemap%E7%9F%A5%E5%A4%9A%E5%B0%91/#webpacksourcemap","title":"\u756a\u5916\uff1awebpack\u7684\u51e0\u79cdsourcemap\u9009\u9879","text":"<p>\u7528webpack\u7684\u4eba\u90fd\u77e5\u9053\uff0c\u5b83\u6709\u597d\u591a\u79cdsourcemap\u9009\u9879Devtool | webpack\u3002\u5728\u6ca1\u4e86\u89e3sourcemap\u7684\u6df1\u5c42\u672c\u8d28\u4e4b\u524d\uff0c\u6211\u5bf9\u8fd9\u51e0\u4e2a\u9009\u9879\u90fd\u4e00\u77e5\u534a\u89e3\uff0c\u5c31\u6b7b\u8bb0\u786c\u80cc\u7740cheap-module-eval-source-map\u662f\u6700\u4f18\u89e3\u256e(\uffe3\u25bd\uffe3\u201d)\u256d</p> <p>\u5176\u5b9e\u8fd9\u51e0\u4e2a\u9009\u9879\uff0c\u90fd\u662f\u5173\u952e\u5b57cheap, module, eval, inline, hidden + sourcemap\u7684\u6392\u5217\u7ec4\u5408\uff0c\u53ea\u8981\u6e05\u695a\u5404\u81ea\u7684\u4f5c\u7528\u53ca\u610f\u4e49\u5c31\u597d\u4e86\u3002</p> <ul> <li>cheap\uff1a\u4e00\u770b\u5c31\u662f\u7b80\u7565\u7248\u7684source-map\uff0ccheap\u4e0d\u5305\u542b\u4e24\u6837\u4e1c\u897f\u3002\u2460\u4e0d\u6620\u5c04\u5217\u540d\u2461\u4e0d\u6620\u5c04loader\u7f16\u8bd1\u524d\u7684\u4ee3\u7801\u3002\u5982\u679c\u5b58\u5728loader\uff0c\u6bd4\u5982babel\u6216\u8005jsx\uff0c\u90a3\u4e48\u5c31\u5b58\u5728\u53cc\u91cdsourcemap\u4e86\u3002\u751f\u6210\u540e\u4ee3\u7801 =&gt; loader\u5904\u7406\u540e\u4ee3\u7801 =&gt; \u6e90\u4ee3\u7801\u3002</li> <li>module\uff1a\u6620\u5c04\u5230loader\u5904\u7406\u524d\u4ee3\u7801\u3002\u4e00\u822c\u548ccheap\u642d\u914d\u4f7f\u7528\uff0c\u8fd9\u6837cheap-module\u5c5e\u6027\u5c31\u4ec5\u4ec5\u662f\u5173\u95ed\u5217\u6620\u5c04\u4e86\u3002</li> <li>eval\uff1aeval\u672c\u8eab\u6307\u901a\u8fc7\u6bcf\u4e00\u4e2a\u6a21\u5757\u4e3b\u4f53\u90fd\u88abeval()\u5305\u88f9\u5e76\u6267\u884c\u3002\u800ceval-source-map\u5219\u610f\u5473\u7740\u5728\u6bcf\u4e2a\u6a21\u5757\u4e0b\uff0csourceMappingUrl\u90fd\u901a\u8fc7DataURI\u7684\u65b9\u5f0f\u52a0\u8f7d\u3002 </li> <li>inline\uff1a\u76f4\u63a5\u653e\u5728\u7f16\u8bd1\u540ejs\u5e95\u90e8\u7684sourceMappingUrl\u4e5f\u662fDataURI\u5f62\u5f0f\u7684\u3002 </li> <li>hidden\uff1a\u9690\u85cf\u5c5e\u6027\u3002\u7f16\u8bd1\u540ejs\u5e95\u90e8\u4e0d\u4f1a\u6807\u660esourceMappingUrl\uff0c\u9700\u8981\u624b\u52a8\u52a0\u8f7d\u3002\u53ef\u7528\u4e8e\u9519\u8bef\u76d1\u63a7\u670d\u52a1\u5668\u4e0a\u62a5\u9519\u8bef\u65e5\u5fd7\u65f6\u786e\u5b9a\u4f4d\u7f6eetc\u3002</li> </ul> <p>\u5bf9\u6211\u800c\u8a00\uff0c\u884c\u6570\u5fc5\u9700\u5217\u6570\u4e0d\u5fc5\u9700\uff0c\u6620\u5c04loader\u7f16\u8bd1\u524d\u7684\u4ee3\u7801\u4e5f\u5fc5\u9700\uff0c\u518d\u52a0\u4e0aeval\u5728\u91cd\u65b0\u6784\u5efa\u65f6\u6bd4\u8f83\u5feb\uff0c\u6240\u4ee5cheap-module-eval-source-map\u786e\u5b9e\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u9009\u62e9\u3002</p> <p>\u53e6\u5916\uff0c\u53ef\u522b\u628asource-map\u5e26\u5230\u7ebf\u4e0a\u53bb\u4e86\u5440\uff0c\u90a3\u4f1a\u7ed9\u4eba\u4eba\u5e26\u6765\u89c6\u5978\u4f60\u4ee3\u7801\u7684\u673a\u4f1a\u3002</p> <p>\u6700\u540e\uff0c\u5f53\u5728\u5f00\u53d1\u6a21\u5f0f\u4e0bdebug\u4ee3\u7801\u65f6\uff0c\u8981\u8bb0\u5f97\u611f\u8c22sourcemap\u548c\u6d4f\u89c8\u5668\u7684\u652f\u6301\u3002\u6bcf\u4e00\u4e2a\u5c0f\u5c0f\u7684\u7ec6\u8282\u548c\u597d\u7528\u4e4b\u5904\uff0c\u90fd\u79bb\u4e0d\u5f00\u524d\u4eba\u957f\u4e45\u7684\u52aa\u529b\u5440\u3002</p>"},{"location":"Frontend/Engineering/sourcemap%E7%9F%A5%E5%A4%9A%E5%B0%91/#refs-recommend-readings","title":"Refs &amp; Recommend Readings","text":"<ul> <li>google sourcemap v3\u6587\u6863</li> <li>html5rocks\u7ecf\u5178\u535a\u6587: sourcemaps</li> <li>\u6df1\u5165\u6d45\u51fa\u4ecb\u7ecd\u539f\u7406\uff1ahow-do-source-maps-work</li> <li>\u81ea\u5df1\u8bd5\u7740\u751f\u6210\u4e00\u4efdmap\u628a\uff1asource-maps-under-the-hood-vlq-base64-and-yoda</li> <li>webpack-source-map-options-quick-guide</li> </ul>"},{"location":"Frontend/Engineering/webpack/","title":"webpack","text":""},{"location":"Frontend/Engineering/webpack/#basic","title":"Basic","text":""},{"location":"Frontend/Engineering/webpack/#manifest","title":"manifest","text":"<pre><code>(function(modules) {\n //webpackJsonp\u88ab\u6302\u8f7d\u5230\u5168\u5c40\u4e86\n  window[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules, executeModules) {\n    var moduleId, result;\n    for (moduleId in moreModules) {\n      if (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n     // \u5b58\u50a8moudleId   \n     modules[moduleId] = moreModules[moduleId];\n      }\n    }\n    if (executeModules) {\n      for (i = 0; i &lt; executeModules.length; i++) {\n        result = __webpack_require__(executeModules[i]);\n      }\n    }\n    return result;\n  };\n  var installedModules = {};\n\n  function __webpack_require__(moduleId) {\n    if (installedModules[moduleId]) {\n      return installedModules[moduleId].exports;\n    }\n    var module = installedModules[moduleId] = {\n      exports: {}\n    };\n    // \u6267\u884c\u3002\u52a0\u8f7d\u540e\u4e5f\u4f1a\u6709\u7f13\u5b58\u3002\n    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n    return module.exports;\n  }\n})([]);\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230 webpack \u5185\u90e8\u662f\u4e00\u4e2aIIFE\u3002webpack \u6253\u5305\u540e\u7684\u6587\u4ef6\uff0c\u5c31\u662f\u901a\u8fc7\u4e00\u4e2a\u4e2a\u51fd\u6570\u9694\u79bb module \u7684\u4f5c\u7528\u57df\uff0c\u4ee5\u8fbe\u5230\u4e0d\u4e92\u76f8\u6c61\u67d3\u7684\u76ee\u7684\u3002</p> <p>Module: an upgraded version of a file. There are entry modules(Each module can be considered as he root module in a tree of modules. -&gt; ModuleGraph.) and normal modules.</p> <p>A module, once created and built, contains a lot of meaningful information besides the raw source code, such as: the loaders used, its dependencies, its exports(if any), its hash and much more</p> <p>Chunk: encapsulates one or module modules. The first chunks are those which defined on the  Entry.</p>"},{"location":"Frontend/Engineering/webpack/#splitchunk","title":"splitChunk","text":"<pre><code>cacheGroupFoo: {\n    // The number of chunks the module must appear in\n    minChunks: 3,\n    // Number of bytes put in a chunk(i.e. the sum of the number of bytes for each constituent module)\n    // For example, if a chunk contains 2 modules, `x` and `w`, then `nrBytesChunk = nrBytes(x) + nrBytes(w)`.\n    minSize: 10,\n    // Which modules are to be considered\n    modulePathPattern: /node_modules/\n}\n</code></pre> <p>chunks = multiple modules AKA. module belong to chunks</p> <p>Based on what we've seen above, a new chunk will be created if all these conditions are met simultaneously:</p> <ul> <li>the module must belong to at least 3 chunks</li> <li>the minimum number of bytes of a chunk must be at least 10</li> <li>the modules that would lead to new chunks being created must come from the node_modules folder</li> </ul>"},{"location":"Frontend/Engineering/webpack/#default-option","title":"default option","text":"<pre><code>optimization: {\n  splitChunks: {\n    cacheGroups: {\n      defaultVendors: {\n        idHint: \"vendors\",\n        reuseExistingChunk: true,\n        test: NODE_MODULES_REGEXP,\n        priority: -10\n        },\n      // default: false, // or disabling default cache group\n      default: {\n        idHint: \"\",\n        reuseExistingChunk: true,\n        minChunks: 2,\n        priority: -20\n        },\n    }\n  },\n},\n</code></pre> <p>the latter cache group has a greater priority and this plays an important role when a module belongs to multiple cache groups. </p> <p>As a side note, a cache group inherits some options if they are not specified in the cache group itself. </p> <p>chunks: 'initial/async' Async means modules that imported by <code>import('')</code></p> <p>ref</p>"},{"location":"Frontend/Engineering/webpack/#babel","title":"babel","text":"<p>\u4e07\u80fd\u5927\u6cd5</p> <pre><code>options: {\n          presets: [\n            ['@babel/preset-env', { loose: true, modules: 'cjs' }],\n            ['@babel/preset-react']\n          ],\n          plugins: [\n            [\n              'import',\n              {\n                libraryName: 'antd',\n                libraryDirectory: 'es',\n                style: 'css'\n              }\n            ]\n          ]\n        }\n</code></pre> <p>\u6ce8\u610f\u6709\u4e9b\u4f7f\u7528 antd \u7684\u573a\u666f\uff0c\u4ec5\u5f15\u5165\u4e86 antd \u7ec4\u4ef6\uff0c\u4f46\u662f\u6ca1\u6709\u663e\u6027\u5f15\u5165 <code>import 'antd/dist/antd.css';</code> \u90a3\u5c31\u80af\u5b9a\u662f\u539f\u6709\u914d\u7f6e\u4e86 babel-plugin-import\uff0c\u56e0\u4e3a\u5b83\u4e0d\u4ec5 handle \u4e86 js \u7684\u5f15\u5165\uff0c\u8fd8 handle \u4e86\u5bf9\u5e94 css \u7684\u5f15\u5165\u3002</p>"},{"location":"Frontend/Engineering/webpack/#v5","title":"v5","text":""},{"location":"Frontend/Engineering/webpack/#single-entry","title":"Single Entry","text":"<pre><code>const path = require('path');\nconst webpack = require('webpack');\nvar pkg = require('./package.json');\n\nmodule.exports = {\n  mode: 'development',\n  entry: './client/index.js',\n  output: {\n    path: path.resolve(__dirname, 'static2'),\n    filename: 'bundle.js'\n  },\n  resolve: {\n    alias: {\n      client: path.resolve(__dirname, 'client/'),\n    },\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.m?js$/,\n        exclude: [/(node_modules\\/(?!_?(nodeMouldesToBeProcessed)))/],\n        loader: 'babel-loader',\n        options: {\n          presets: [['@babel/preset-env', { \n            loose: true, \n            // modules: 'cjs' // if there're some mixed use of cjs and esmodule\n          }], '@babel/preset-react']\n        }\n      },\n      {\n        test: /\\.css$/i,\n        use: ['style-loader', 'css-loader']\n      },\n      {\n        test: /\\.s[ac]ss$/i,\n        use: ['style-loader', 'css-loader', 'sass-loader']\n      },\n      {\n        test: /\\.less$/i,\n        use: ['style-loader', 'css-loader', 'less-loader']\n      },\n      {\n        test: /.(gif|jpg|jpeg|png|woff|woff2|eot|ttf|svg)$/,\n        type: 'asset/resource'\n      }\n    ]\n  },\n  plugins: [\n    new webpack.DefinePlugin({\n      'process.env.version': JSON.stringify(pkg.version),\n    })\n  ],\n  devtool: 'cheap-source-map',\n  devServer: {\n    static: path.join(__dirname, 'client'),\n    compress: true,\n    port: 9000,\n    hot: true,\n    proxy: {\n      '/api': 'http://localhost:3000'\n    },\n    client: {\n      overlay: {\n        warnings: false,\n        errors: true\n      }\n    }\n  }\n};\n\n</code></pre> <p>devServer: use <code>webpack serve</code> to trigger. <code>static</code> means where to locate index.html and other static files.</p> <ul> <li>webpack-dev-server \u7684 index.html \u662f\u600e\u4e48\u6ce8\u5165\u7684\uff1f\u5176\u5b9e\u4e0d\u5b58\u5728\u6ce8\u5165\uff0c\u800c\u662f\u901a\u8fc7 html-webpack-plugin \u5728\u5185\u5b58\u4e2d\u751f\u6210 html\uff0c\u518d\u8bbf\u95ee\u8fd9\u4e2a html\uff0c\u81ea\u7136\u5c31\u6709\u4e86\u3002</li> <li>static \u662f\u4ec0\u4e48\u610f\u601d\uff1f\u7b80\u5355\u8bf4\u6765\uff0c\u5c31\u662f webpack-dev-server \u5f00\u4e86\u4e00\u4e2a static-middleware \u7684\u8def\u7531\u4f5c\u4e3a backup\u3002</li> </ul>"},{"location":"Frontend/Engineering/webpack/#_1","title":"\u5468\u8fb9","text":"<ul> <li>https://www.npmjs.com/package/tapable</li> </ul>"},{"location":"Frontend/Engineering/%E6%89%93%E5%8C%85%E9%80%9A%E8%AF%86/","title":"\u6253\u5305\u901a\u8bc6","text":""},{"location":"Frontend/Engineering/%E6%89%93%E5%8C%85%E9%80%9A%E8%AF%86/#_2","title":"\u57fa\u672c\u6253\u5305\u903b\u8f91","text":"<p>\u57fa\u672c\u5206\u4e24\u7ec4\uff0cJavaScript \u5e93\u4e0e\u5de5\u7a0b\u5316\u9879\u76ee\u3002</p>"},{"location":"Frontend/Engineering/%E6%89%93%E5%8C%85%E9%80%9A%E8%AF%86/#javascript","title":"JavaScript\u5e93","text":"<p>\u5355\u5305\u76ee\u7684\u6bd4\u8f83\u660e\u786e\uff0c\u57fa\u672c\u662f\uff1a</p> <ul> <li>\u81ea\u5b9a\u4e49\u5904\u7406\u6587\u4ef6\uff1a\u6bd4\u5982\u7ed9\u6bcf\u4e2a\u6587\u4ef6\u52a0\u5934\u6ce8</li> <li>babel</li> <li>\u914d\u7f6e\u6253\u5305\u5de5\u5177\u6253\u5305\u6587\u4ef6</li> <li>Loader</li> <li>Plugins</li> <li>Treeshaking</li> <li>\u8f93\u51fa\u4e0d\u540c\u683c\u5f0f</li> </ul> <p>\u5982\u679c\u662f\u591a\u5305\uff0c\u5373\u5f00\u53d1\u76ee\u5f55\u4e0b\u5305\u542b\u591a\u4e2a\u76ee\u5f55\uff0c\u6bcf\u4e2a\u76ee\u5f55\u90fd\u60f3\u8f93\u51fa\u4e3a\u4e00\u4e2a\u4f9d\u8d56\u5305\u3002\u8fd8\u9700\uff1a</p> <ul> <li>\u81ea\u5b9a\u4e49\u751f\u6210\u591a\u5165\u53e3 entry</li> <li>external \u5bf9 peer \u5f00\u53d1\u5305\u7684\u4f9d\u8d56</li> </ul> <p>\u6253\u5305\u6210 xx \u683c\u5f0f\uff1aship a variety of different module formats/ ship your library as..</p>"},{"location":"Frontend/Engineering/%E6%89%93%E5%8C%85%E9%80%9A%E8%AF%86/#_3","title":"\u6253\u5305\u5de5\u5177","text":"<p>webpack: \u987e\u540d\u601d\u4e49\uff0c\u7531\u4e8e web\uff0c\u6240\u4ee5\u5b83\u7684\u6253\u5305\u591a\u4e86\u5f88\u591a\u5bf9 web \u73af\u5883\u4e0b\u7684\u652f\u6301\u3002\u6bd4\u5982 splitChunks, asset management, dev-server, hmr</p> <p>Rollup: \u8f6c\u6362\u5230\u67d0\u79cd standard format + treeShaking</p>"},{"location":"Frontend/Engineering/%E6%89%93%E5%8C%85%E9%80%9A%E8%AF%86/#treeshaking","title":"TreeShaking","text":"<p>prerequisites: </p> <ul> <li>\u5bfc\u51fa\u548c\u5bfc\u5165\u4f9d\u8d56\u5305\u7684\u5f62\u5f0f\u6700\u597d\u662f es/esm\uff08\u76ee\u524d\uff0cwebpack v5 \u4e5f\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u652f\u6301 cjs \u7684 treeshaking.\uff09</li> <li>\u4f9d\u8d56\u5305 pkg.json \u6307\u5b9a module \u5b57\u6bb5\u4f5c\u4e3a esm \u5165\u53e3</li> </ul> <p>why: es/esm are static in their structure(\u4f46\u662f\u50cf class \u4e3a\u4e00\u4e2a\u6574\u4f53\uff0c\u5e76\u4e0d\u80fd shake \u6389\u5185\u90e8\u672a\u7528\u7684\u65b9\u6cd5)</p> <p>WhenInUse:</p> <ul> <li>\u907f\u514d\u5bfc\u5165\u4f9d\u8d56\u5305\u7684 esm \u88ab babel \u91cd\u6784\uff0c\u6bd4\u5982\u901a\u8fc7 <code>[\"@babel/env\", { \"modules\": false }]</code> \u6765\u4fdd\u6709\u539f\u683c\u5f0f</li> </ul>"},{"location":"Frontend/Engineering/%E6%89%93%E5%8C%85%E9%80%9A%E8%AF%86/#sideeffects","title":"sideEffects","text":"<ul> <li> <p>\u60c5\u51b5\u4e00\uff1a<code>export const bar = mayHaveSideEffect(\"Hello\");</code>\uff0cwebpack \u53ef\u4ee5\u4f7f\u7528 /#PURE/ comment</p> </li> <li> <p>\u60c5\u51b5\u4e8c\uff1a<code>Import \"./button.css\"</code> Pkg.json: \"sideEffects\" flag</p> </li> </ul>"},{"location":"Frontend/Engineering/%E6%89%93%E5%8C%85%E9%80%9A%E8%AF%86/#babel","title":"babel \u5230\u4ec0\u4e48\u7248\u672c\uff1f","text":"<p>\u53ef\u53c2\u8003 Deploying ES2015+ Code in Production Today \u2014 Philip Walton \u548c ECMAScript modules in browsers - JakeArchibald.com</p> <p>\u6781\u7aef\u60f3\u4f18\u5316\u7684\u60c5\u51b5\u4e0b\uff0c\u5df2\u7ecf\u53ef\u4ee5\u5728\u5927\u90e8\u5206\u73b0\u4ee3\u6d4f\u89c8\u5668\u4e2d\u4f7f\u7528 es2015+ \u548c es module \u4e86</p> <p>legacy \u7684 tagret: ES5 \u7684\u914d\u7f6e</p> <pre><code>{\nresolve: {\n    target: [\"web\", \"es5\"]\n},\nmodule: {\nrules: [{\n    test: /\\.(js|jsx)$/,\n    exclude: /node_modules/, // \u89c6\u60c5\u51b5\n    use: {\n        loader: 'babel-loader',\n        options: {\n            cacheDirectory: false,\n            presets: [\n                '@babel/preset-env', // \u4e0d\u6307\u5b9a target \u6216 browserlist \u7684\u8bdd\uff0c\u9ed8\u8ba4\u5230 es5\n                '@babel/preset-react'\n            ],\n            plugins: [\n                '@babel/plugin-proposal-class-properties',\n                '@babel/plugin-transform-async-to-generator',\n                '@babel/plugin-transform-runtime', // \u6216\u81ea\u5bfc\u5165 corejs\n            ],\n        },\n    },\n}],\n},\n}\n</code></pre> <p>\u603b\u800c\u8a00\u4e4b\uff0c\u4ea7\u7269 = \u6253\u5305\u5de5\u5177\u7684 runtime + \u88ab\u8f6c\u5316\u7684 code + \u88ab\u8f6c\u5316 code \u7684 runtime\u3002\u8fd9\u4e09\u8005\u90fd\u8981 target ES5 \u624d\u884c\u3002</p> <p>\u5173\u4e8e runtime:</p> <p>For instance,\u00a0<code>@babel/plugin-transform-runtime</code>\u00a0relies on the type of the current document to decide whether to insert an\u00a0<code>import</code>\u00a0declaration, or a\u00a0<code>require()</code>\u00a0call.\u00a0<code>@babel/preset-env</code>\u00a0also does the same for its\u00a0<code>\"useBuiltIns\"</code>\u00a0option.</p>"},{"location":"Frontend/Engineering/%E6%89%93%E5%8C%85%E9%80%9A%E8%AF%86/#_4","title":"\u517c\u5bb9\u591a\u79cd\u6a21\u5757\u89c4\u8303","text":"<pre><code>;(function(name, definition){\n//\u68c0\u6d4b\u73af\u5883\u662f\u5426\u4e3aAMD/CMD\nvar hasDefine = typeof define === 'function',\n    hasExports = typeof module !== 'undefined' &amp;&amp; module.exports;\nif(hasDefine){ // AMD\n    define(definition);\n} else if (hasExports){ // commonjs\n    moudle.exports = definition();\n} else {\n    this[name] = definition(); // UMD\n}\n})('hello', function(){\n    var hello = function(){};\n    return hello;\n})\n</code></pre>"},{"location":"Frontend/Engineering/%E8%87%AA%E5%88%B6%E5%BC%82%E6%AD%A5%E6%A8%A1%E5%9D%97%E5%8A%A0%E8%BD%BD%E5%99%A8/","title":"\u81ea\u5236\u5f02\u6b65\u6a21\u5757\u52a0\u8f7d\u5668","text":"<p>https://github.com/youngwind/blog/issues/98 </p> <p>http://www.ruanyifeng.com/blog/2015/11/circular-dependency.html</p> <p>\u4ece\u962e\u4e00\u5cf0\u7684\u4e0a\u6587\u4e86\u89e3\u5230\uff0ccommonjs\u52a0\u8f7d\u65f6\uff0c\u5b9e\u9645\u4e0a\u6bcfrequire\u65f6\u5c31\u5df2\u7ecf\u5728\u6267\u884c\u90a3\u4e2a\u6587\u4ef6\u4e86\u3002\u5982\u9047\u5faa\u73af\u5f15\u7528\uff0c\u6bd4\u5982a\u5f15\u7528b, b\u518d\u5f15\u7528a\u3002\u90a3\u4e48b\u5f15\u7528a\u65f6\uff0c\u53ea\u4f1a\u8f93\u51fa\u5df2\u7ecf\u6267\u884c\u7684\u90e8\u5206\uff0c\u8fd8\u672a\u6267\u884c\u7684\u90e8\u5206\u4e0d\u4f1a\u8f93\u51fa\u3002\u5e76\u4e14exports\u7684\u7ed3\u679c\u4f1a\u7f13\u5b58\u3002</p> <p>\u800ces6\u7684\u8bdd\uff0c\u5b83\u9047\u5230\u6a21\u5757\u52a0\u8f7d\u547d\u4ee4import\u65f6\uff0c\u4e0d\u4f1a\u53bb\u6267\u884c\u6a21\u5757\uff0c\u800c\u662f\u53ea\u751f\u6210\u4e00\u4e2a\u5f15\u7528\u3002\u7b49\u5230\u771f\u7684\u9700\u8981\u7528\u5230\u65f6\uff0c\u518d\u5230\u6a21\u5757\u91cc\u9762\u53bb\u53d6\u503c\u3002\u4e5f\u4e0d\u4f1a\u7f13\u5b58\u8fd0\u884c\u7ed3\u679c\uff0c\u800c\u662f\u52a8\u6001\u5730\u53bb\u88ab\u52a0\u8f7d\u7684\u6a21\u5757\u53d6\u503c\uff0c\u4ee5\u53ca\u53d8\u91cf\u603b\u662f\u7ed1\u5b9a\u5176\u6240\u5728\u7684\u6a21\u5757\u3002\uff08\u6240\u4ee5\u5b9e\u9645\u4e0a\u73b0\u5728\u6211\u4eec\u4ee3\u7801\u4e2d\u5199\u7684import\u4f1a\u88ab\u7f16\u8bd1\u6210require\uff0c\u6240\u4ee5\u8fd8\u662fcommonjs\u7684\u8868\u73b0\uff1f\u7f13\u5b58js\u4ee5\u53ca\u4e00\u5f00\u59cb\u5c31\u6267\u884c\uff1f\uff09</p> <p>\u800crequirejs\u7684\u8bdd\uff0c\u5982\u679c\u4f60\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5faa\u73af\u4f9d\u8d56(a\u4f9d\u8d56b\uff0cb\u540c\u65f6\u4f9d\u8d56a)\uff0c\u5219\u5728\u8fd9\u79cd\u60c5\u5f62\u4e0b\u5f53b\u7684\u6a21\u5757\u51fd\u6570\u88ab\u8c03\u7528\u7684\u65f6\u5019\uff0c\u5b83\u4f1a\u5f97\u5230\u4e00\u4e2aundefined\u7684a\u3002b\u53ef\u4ee5\u5728\u6a21\u5757\u5df2\u7ecf\u5b9a\u4e49\u597d\u540e\u7528require()\u65b9\u6cd5\u518d\u83b7\u53d6(\u8bb0\u5f97\u5c06require\u4f5c\u4e3a\u4f9d\u8d56\u6ce8\u5165\u8fdb\u6765)\uff1a</p> <p></p> <p>\u8bb2\u5230\u5b9e\u73b0\uff0c\u5173\u952e\u5c31\u662f\u6709\u6a21\u5757\u8fd9\u4e00\u7c7b\uff1a</p> <p></p> <p>\u539f\u6587\u5f88\u597d\u7684\u8fd0\u7528\u4e86setter\uff01</p> <p>\u4ee5ModuleA\u4e3a\u4f8b\u5b50\uff0c\u9996\u5148ModuleA\u5b9a\u4e49\u81ea\u5df1\u7684depCount\uff08\u4f9d\u8d56\u957f\u5ea6\uff09\uff0c\u5982\u679cdepCount===0\u90a3\u4e48\u5219\u5728depCount\u7684setter\u4e2d\u5f00\u59cb\u6267\u884cModuleA\u6a21\u5757\u3002\u6a21\u5757A\u6267\u884c\u6210\u529f\u540e\uff0c\u8bbe\u7f6eModule.STATUS\uff0c\u5e76\u5728STATUS\u7684stter\u4e2d\u8fdb\u884c\u5982\u4e0b\u64cd\u4f5c\uff1a\u8fc7\u5bf9\u8c61mapDepToModule\uff0c\u67e5\u627e\u5230\u4f9d\u8d56\u5305\u62ec\u8be5\u6a21\u5757\u7684\u6240\u6709\u6a21\u5757\uff0c\u90a3\u4e48\u8ba9\u90a3\u4e9b\u6a21\u5757\u90fd\u6267\u884cdepCount--\u3002</p> <p>\u66f4\u591a\u53ef\u65e5\u540e\u518d\u8865\uff1ahttps://www.jianshu.com/p/0505b1718dab</p>"},{"location":"Frontend/Engineering/%E9%83%A8%E7%BD%B2%E9%80%9A%E8%AF%86/","title":"\u90e8\u7f72\u901a\u8bc6","text":""},{"location":"Frontend/Engineering/%E9%83%A8%E7%BD%B2%E9%80%9A%E8%AF%86/#_2","title":"\u9759\u6001\u8d44\u6e90\u7ec4\u7ec7","text":"<ol> <li>\u4e3a\u4e86\u6700\u5927\u7a0b\u5ea6\u5229\u7528\u7f13\u5b58\uff0c\u5c06\u9875\u9762\u5165\u53e3(<code>HTML</code>)\u8bbe\u7f6e\u4e3a\u534f\u5546\u7f13\u5b58\uff0c\u5c06 <code>JavaScript</code>\u3001<code>CSS</code> \u7b49\u9759\u6001\u8d44\u6e90\u8bbe\u7f6e\u4e3a\u6c38\u4e45\u5f3a\u7f13\u5b58\u3002</li> <li>\u4e3a\u4e86\u89e3\u51b3\u5f3a\u7f13\u5b58\u66f4\u65b0\u95ee\u9898\uff0c\u5c06\u6587\u4ef6\u6458\u8981\uff08<code>hash</code>\uff09\u4f5c\u4e3a\u8d44\u6e90\u8def\u5f84(<code>URL</code>)\u6784\u6210\u7684\u4e00\u90e8\u5206\u3002</li> <li>\u4e3a\u4e86\u89e3\u51b3\u8986\u76d6\u5f0f\u53d1\u5e03\u5f15\u53d1\u7684\u95ee\u9898\uff0c\u91c7\u7528 <code>name-hash</code> \u800c\u975e <code>query-hash</code> \u7684\u7ec4\u7ec7\u65b9\u5f0f\uff0c\u5177\u4f53\u9700\u8981\u914d\u7f6e <code>Wbpack</code> \u7684 <code>output.filename</code> \u4e3a <code>contenthash</code> \u3002</li> <li>\u4e3a\u4e86\u89e3\u51b3 <code>Nginx</code> \u76ee\u5f55\u5b58\u50a8\u8fc7\u5927 + \u7ed3\u5408 <code>CDN</code> \u63d0\u5347\u8bbf\u95ee\u901f\u5ea6\uff0c\u91c7\u7528\u4e86 <code>Nginx \u53cd\u5411\u4ee3\u7406</code>+ \u5c06\u9759\u6001\u8d44\u6e90\u4e0a\u4f20\u5230 <code>CDN</code>\u3002</li> <li>\u4e3a\u4e86\u4e0a\u4f20 <code>CDN</code>\uff0c\u6211\u4eec\u9700\u8981\u6309\u73af\u5883\u52a8\u6001\u6784\u9020 <code>publicPath</code> + \u6309\u73af\u5883\u6784\u9020 <code>CDN</code> \u4e0a\u4f20\u76ee\u5f55\u5e76\u4e0a\u4f20\u3002</li> <li>\u4e3a\u4e86\u52a8\u6001\u6784\u9020 <code>publicPath</code> \u5e76\u4e14\u968f\u6784\u5efa\u8fc7\u7a0b\u63d2\u5165\u5230 <code>HTML</code> \u4e2d\uff0c\u91c7\u7528 <code>Webpack-HTML-Plugin</code> \u7b49\u63d2\u4ef6\uff0c\u5c06\u7f16\u8bd1\u597d\u7684\u5e26 <code>hash</code> + <code>publicPath</code> \u7684\u9759\u6001\u8d44\u6e90\u63d2\u5165\u5230 <code>HTML</code> \u4e2d\u3002</li> <li>\u4e3a\u4e86\u4fdd\u8bc1\u4e0a\u4f20 <code>CDN</code> \u7684\u5b89\u5168\uff0c\u6211\u4eec\u9700\u8981\u4e00\u79cd\u673a\u5236\u7ba1\u63a7\u4e0a\u4f20 <code>CDN</code> \u79d8\u94a5\uff0c\u800c\u975e\u7b80\u5355\u7684\u5c06\u79d8\u94a5\u5199\u5230\u4ee3\u7801 / <code>Dockerfile</code> \u7b49\u660e\u6587\u6587\u4ef6\u4e2d\u3002</li> </ol>"},{"location":"Frontend/Engineering/%E9%83%A8%E7%BD%B2%E9%80%9A%E8%AF%86/#_3","title":"\u81ea\u52a8\u5316\u6784\u5efa","text":"<ul> <li>\u62c9\u53d6\u8fdc\u7a0b\u4ed3\u5e93</li> <li>\u5207\u6362\u5230 XX \u5206\u652f</li> <li>\u4ee3\u7801\u5b89\u5168\u68c0\u67e5\uff08\u975e\u5fc5\u9009\uff09\u3001\u5355\u5143\u6d4b\u8bd5\u7b49\u7b49</li> <li>\u5b89\u88c5 <code>npm/yarn</code>\u4f9d\u8d56<ul> <li>\u8bbe\u7f6e <code>node</code> \u7248\u672c</li> <li>\u8bbe\u7f6e <code>npm/yarn</code> \u6e90</li> <li>\u5b89\u88c5\u4f9d\u8d56\u7b49</li> </ul> </li> <li>\u6267\u884c\u7f16\u8bd1 &amp; \u6784\u5efa</li> <li>\u4ea7\u7269\u68c0\u67e5\uff08\u6bd4\u5982\u68c0\u6d4b\u6253\u5305\u540e <code>JS</code> \u6587\u4ef6 / \u56fe\u7247\u5927\u5c0f\u3001\u4ea7\u7269\u662f\u5426\u5b89\u5168\u7b49\uff0c\u4fdd\u8bc1\u4ea7\u7269\u8d28\u91cf\uff0c\u975e\u5fc5\u9009\uff09</li> <li>\u4eba\u5de5\u5361\u70b9\uff08\u975e\u5fc5\u9009\uff0c\u5982\u5fc5\u987b <code>Leader</code> \u5ba1\u6279\u901a\u8fc7\u624d\u80fd\u7ee7\u7eed\uff09</li> <li>\u6253\u5305\u4e0a\u4f20 <code>CDN</code></li> <li>\u81ea\u52a8\u5316\u6d4b\u8bd5\uff08\u975e\u5fc5\u9009\uff0c<code>e2e</code>\uff09</li> <li>\u914d\u5957\u5269\u4f59\u5176\u4ed6\u6b65\u9aa4</li> <li>\u901a\u77e5\u6784\u5efa\u5b8c\u6210</li> </ul>"},{"location":"Frontend/Engineering/%E9%83%A8%E7%BD%B2%E9%80%9A%E8%AF%86/#_4","title":"\u524d\u7aef\u670d\u52a1\u53d1\u5e03 &amp; \u9759\u6001\u8d44\u6e90\u52a0\u5de5","text":"<ul> <li>\u9884\u53d1\u73af\u5883</li> <li>\u7248\u672c\u7ba1\u7406\uff08\u5373\u53ef\u56de\u6eda\uff09</li> <li>\u5c0f\u6d41\u91cf\u7070\u5ea6</li> <li>AB\u6d4b\u8bd5 \u603b\u4e4b\uff0c\u5173\u952e\u8fd8\u662f\u5728\u4e8e\u5165\u53e3 html \u7684\u6784\u9020\u53ca\u5bf9\u8d44\u6e90\u7684\u5f15\u7528 \u51e0\u4e2a\u7ec6\u8282\uff1a</li> <li>\u9759\u6001\u8d44\u6e90\u7ec4\u7ec7\u4e0a\uff0c\u6bcf\u4e2a\u7248\u672c\u5e94\u8be5\u6309\u6587\u4ef6\u5939\u5b58\u50a8\uff0c\u505a\u5230\u8d44\u6e90\u6536\u655b\u3002</li> </ul> <p>ref</p>"},{"location":"Frontend/Mobile/%E5%85%B3%E4%BA%8E%E6%89%8B%E6%9C%BA%E5%B1%8F%E5%B9%95/","title":"\u5173\u4e8e\u624b\u673a\u5c4f\u5e55","text":"<p>\u5c4f\u5e55\u5c3a\u5bf8\uff1a</p> <p>\u624b\u673a\u5bf9\u89d2\u7ebf\u7684\u7269\u7406\u5c3a\u5bf8 \u6bd4\u59825\u5bf86\u5bf8\u8fd9\u79cd\u2026</p> <p>\u5c4f\u5e55\u5206\u8fa8\u7387\uff1a</p> <p>\u624b\u673a\u5728\u6a2a\u5411\u3001\u7eb5\u5411\u4e0a\u7684\u50cf\u7d20\u70b9\u6570\u603b\u548c\uff08\u53ef\u4ee5\u7406\u89e3\u6210\u771f\u5b9e\u957f\u5bbd\uff0c\u5373\u8bbe\u5907\u7684\u7269\u7406\u50cf\u7d20\uff0c\u5373\u8bbe\u5907\u50cf\u7d20\uff0c\u662f\u56fa\u5b9a\u7684&gt;\u3002\u4e00\u822c\u88ab\u63cf\u8ff0\u6210\u5c4f\u5e55\u7684\u5bbdX\u9ad8 \u6bd4\u59821080X1920\u3002\u90a3\u4e48\u5206\u8fa8\u7387\u5176\u5b9e\u662f\u4e58\u8d77\u6765\u7684\u90a3\u4e2a\u7ed3\u679c\uff01</p> <p>4K\u5c4f\u6307\u50cf\u7d20\u5927\u6982\u4e3a4_\uff081024_ 540\uff09\uff0c8K\u5c4f\u540c\u7406\u3002\u6240\u4ee54k8k\u53ea\u8868\u793a\u50cf\u7d20\u70b9\u591a\u5c11\uff0c\u5e76\u4e0d\u8868\u793a\u5bc6\u5ea6\u3002</p> <p>\u5c4f\u5e55\u50cf\u7d20\u5bc6\u5ea6dpi\u6216ppi(dots per inch/ pixel per inch)\uff1a</p> <p>\u8868\u793a\u8bbe\u5907\u50cf\u7d20\u4e0e\u8bbe\u5907\u5c3a\u5bf8\u7684\u5173\u7cfb\uff0c\u610f\u4e49\u4e3a\u6bcf\u82f1\u5bf8\u7684\u50cf\u7d20\u70b9\u6570\u3002</p> <p>A: \u5047\u8bbe\u4e00\u90e8\u624b\u673a\u7684\u5206\u8fa8\u7387\u662f1080x1920\uff08px\uff09\uff0c\u5c4f\u5e55\u5927\u5c0f\u662f5\u5bf8\uff0c\u95ee\u5bc6\u5ea6\u662f\u591a\u5c11\uff1f Q: 2203px\uff08\u7531\u52fe\u80a1\u5b9a\u7406\u6c42\u5f97\u7684\u5bf9\u89d2\u7ebf\u7684\u50cf\u7d20\u70b9\u6570\uff09/5\u5bf8\uff08\u5bf9\u89d2\u7ebf\u5c3a\u5bf8\uff09 = 440dpi</p> <ul> <li>ppi\u4e0edpi\u7684\u7ec6\u5fae\u5dee\u5f02\u5982\u4e0b\uff1a</li> </ul> <p>\u4ece\u6280\u672f\u89d2\u5ea6\u8bf4\uff0c\u201c\u50cf\u7d20\u201d(p)\u53ea\u5b58\u5728\u4e8e\u8ba1\u7b97\u673a\u663e\u793a\u9886\u57df\uff0c\u800c\u201c\u70b9\u201d(d)\u53ea\u51fa\u73b0\u4e8e\u6253\u5370\u6216\u5370\u5237\u9886\u57df\u3002</p> <ul> <li>dpi\u4e00\u5b9a\u662f\u56fa\u5b9a\u503c\uff0c\u56e0\u4e3a\u8fd9\u662f\u5c4f\u5e55\u7684\u5c5e\u6027\uff0c\u5c4f\u5e55\u7684\u7269\u7406\u50cf\u7d20\u5c3a\u5bf8\u548c\u7269\u7406\u5c3a\u5bf8\u90fd\u662f\u56fa\u5b9a\u7684\u3002</li> <li>\u4f55\u8c13retina\u663e\u793a\u5c4f\uff1f\u51e1\u662f\u8089\u773c\u770b\u4e0d\u89c1\u7269\u7406\u50cf\u7d20\u70b9\u7684\u90fd\u53ef\u4ee5\u79f0\u4e4b\u4e3aretina\u5c4f\uff0c\u5927\u6982\u662f360ppi+\u3002\u8bb8\u591a\u4eba\u4f1a\u8bf4\u201c\u56e0\u4e3aiPhone\u662fretina\u663e\u793a\u5c4f\uff0c\u6240\u4ee5dpr\u4e3a2\u62163..\u201d\uff0c\u8fd9\u53e5\u8bba\u65ad\u5728\u6211\u4ee5\u4e3a\u662f\u4e0d\u6210\u7acb\u7684\u3002retina\u6307\u7684\u662f\u5c4f\u5e55\u7684\u5c5e\u6027\uff0c\u800c\u8bbe\u5907\u50cf\u7d20\u6bd4dpr\u4ee3\u8868\u7684\u5b8c\u5168\u662f\u53e6\u4e00\u7801\u4e8b\uff0c\u4e0b\u9762\u4f1a\u8bb2\u5230\u3002</li> </ul> <p>\u5bc6\u5ea6\u65e0\u5173\u50cf\u7d20dp\uff1a</p> <p>\u7ed9\u5b89\u5353\u7684\uff0c\u53ef\u4ee5\u4fdd\u8bc1\u5728\u4e0d\u540c\u5c4f\u5e55\u5bc6\u5ea6\u4e0a\u7684\u8bbe\u5907\u663e\u793a\u76f8\u540c\u7684\u6548\u679c\u3002\u4ee5\u5c4f\u5e55\u5206\u8fa8\u7387\u4e3a320*480\u7684\u4e3a\u57fa\u51c6\uff1a1dp = 1px\uff0c\u90a3\u4e48\u4ee5\u6b64\u7c7b\u63a8\uff0c780\u5206\u8fa8\u7387\u76841dp = 2px\uff1b1080\u5206\u8fa8\u7387\u76841dp = 3px\u3002 //\u611f\u89c9\u5c31\u50cf\u662f\u81ea\u52a8\u8ba1\u7b97html\u7684font-size\u7684rem\u5440\uff01</p> <p>css\u50cf\u7d20/\u903b\u8f91\u50cf\u7d20\uff1a</p> <ul> <li>1\u4e2aCSS\u50cf\u7d20\u5728\u4e0d\u540c\u8bbe\u5907\u4e0a\u53ef\u80fd\u5bf9\u5e94\u4e0d\u540c\u7684\u7269\u7406\u50cf\u7d20\u6570\u3002</li> <li>\u4e0d\u8bba\u6211\u4eec\u8fdb\u884c\u7f29\u5c0f\u6216\u653e\u5927\u64cd\u4f5c\uff0c\u5143\u7d20\u8bbe\u7f6e\u7684CSS\u50cf\u7d20(\u5982width:300px)\u662f\u59cb\u7ec8\u4e0d\u53d8\u7684\uff0c\u800c\u4e00\u4e2aCSS\u50cf\u7d20\u5bf9\u5e94\u591a\u5c11\u4e2a\u8bbe\u5907\u50cf\u7d20\u662f\u6839\u636e\u5f53\u524d\u7684\u7f29\u653e\u6bd4\u4f8b\u6765\u51b3\u5b9a\u7684\u3002</li> <li>css\u50cf\u7d20\u7684px\u662f\u4e00\u4e2a\u76f8\u5bf9\u5355\u4f4d\uff0c\u76f8\u5bf9\u7684\u662f\u8bbe\u5907\u50cf\u7d20\uff08Device Pixels\uff09\u3002\u6bd4\u5982iPhone6\u75282x2\u7684Device Pixel\u4ee3\u88681x1\u7684CSS Pixel\uff0c\u6240\u4ee5\u8bbe\u5907\u50cf\u7d20\u6570\u4e3a750x1136px\uff0c\u800cCSS\u903b\u8f91\u50cf\u7d20\u6570\u4e3a375x568px\u3002</li> <li>\u5f00\u53d1\u65f6\u4e00\u5b9a\u662f\u6309\u7167css\u50cf\u7d20\u6765\u7b97\u7684\uff0c\u4e0d\u7528\u7406\u4f1a\u7269\u7406\u50cf\u7d20\u3002\u5982\u82e5\u5728\u4e0a\u8ff0\u80cc\u666f\u4e0b\uff0cui\u7ed9\u7684\u662f750px\u7269\u7406\u50cf\u7d20\u4e0b\u7684\u56fe\uff0c\u90a3\u4e48\u5f00\u53d1\u65f6\u90fd\u6309\u5404\u9879\u957f\u5ea6/2\u6765\u8ba1\u7b97\u5c31\u597d\u4e86\u3002</li> </ul> <p>\u8bbe\u5907\u50cf\u7d20\u6bd4dpr\uff1a</p> <p>\u8868\u793a\u8bbe\u5907\u50cf\u7d20\u4e0ecss\u50cf\u7d20\u7684\u5173\u7cfb\uff0c\u610f\u4e49\u4e3a\u6ca1\u6709\u7f29\u653e\u60c5\u51b5\u4e0b\uff0c\u8bbe\u5907\u50cf\u7d20\u4e0ecss\u50cf\u7d20\u7684\u6bd4\u503c\uff0c\u53731\u4e2aCSS\u50cf\u7d20\uff08\u5bbd\u5ea6\uff09\u7b49\u4e8e\u51e0\u4e2a\u7269\u7406\u50cf\u7d20\uff08\u5bbd\u5ea6\uff09\u3002\u6bd4\u5982iPhone6\u4e0b\uff1ascreen.width\u4e3a375px\uff0c\u53d6\u5f97window.devicePixelRatio\u4e3a2\uff0c\u2234 iphone6\u7684\u8bbe\u5907\u50cf\u7d20\u4e3a750*\u7eb5\u5411\u540c\u7406\u7b97\u3002</p> <ul> <li> <p>\u5728JavaScript\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7window.devicePixelRatio\u83b7\u53d6\u5230\u5f53\u524d\u8bbe\u5907\u7684dpr\u3002\u800c\u5728CSS\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7-webkit-device-pixel-ratio\uff0c-webkit-min-device-pixel-ratio\u548c -webkit-max-device-pixel-ratio\u8fdb\u884c\u5a92\u4f53\u67e5\u8be2\u3002\u5982<code>@media screen and (-webkit-min-device-pixel-ratio: 2) {}</code>\u3002</p> </li> <li> <p>\u6211\u4e2a\u4eba\u89c9\u5f97\uff0cdpr\u552f\u4e00\u503c\u5f97\u5f15\u8d77\u5f00\u53d1\u8005\u6ce8\u610f\u7684\u5730\u65b9\u5c31\u662f\u9ad8dpr\u8bbe\u5907\u4e0b\u56fe\u7247\u53ef\u80fd\u4e0d\u6e05\u6670\u7684\u95ee\u9898\u3002\u4e00\u822c\u500d\u7387@2\u662f\u4e3b\u6d41\uff0c\u6240\u4ee5\u4e00\u822c\u51c6\u59072\u500d\u5927\u5c0f\u7684\u56fe\u3002\u53ef\u662f\u4e00\u4e9b\u65b9\u6848\u4f1a\u5bf9x2dpr\u7684\u5c4f\u5e55\u4e5f\u4f5c\u5b57\u53f7x2\u5904\u7406\uff0c\u5bf9\u4e8e\u8fd9\u65b9\u9762\u6211\u7684\u8ba4\u77e5\u8fd8\u6709\u5f85\u5b8c\u5584\u3002</p> </li> </ul> <p>\u89c6\u53e3viewport:</p> <p>\u684c\u9762\u4e0a\u89c6\u53e3\u5bbd\u5ea6\u7b49\u4e8e\u6d4f\u89c8\u5668\u5bbd\u5ea6\uff0c\u4f46\u5728\u624b\u673a\u4e0a\u6709\u6240\u4e0d\u540c\u3002</p> <ul> <li>\u5e03\u5c40\u89c6\u53e3: \u624b\u673a\u4e0a\u4e3a\u4e86\u5bb9\u7eb3\u4e3a\u684c\u9762\u6d4f\u89c8\u5668\u8bbe\u8ba1\u7684\u7f51\u7ad9\uff0c\u9ed8\u8ba4\u5e03\u5c40\u89c6\u53e3\u5bbd\u5ea6\u8fdc\u5927\u4e8e\u5c4f\u5e55\u5bbd\u5ea6\uff0c\u4e3a\u4e86\u8ba9\u7528\u6237\u770b\u5230\u7f51\u7ad9\u5168\u8c8c\uff0c\u5b83\u4f1a\u7f29\u5c0f\u7f51\u7ad9\u3002</li> <li>\u89c6\u89c9\u89c6\u53e3: \u5c4f\u5e55\u7684\u53ef\u89c6\u533a\u57df\uff0c\u5373\u7269\u7406\u50cf\u7d20\u5c3a\u5bf8\u3002</li> <li>\u7406\u60f3\u89c6\u53e3: \u5f53\u7f51\u7ad9\u662f\u4e3a\u624b\u673a\u51c6\u5907\u7684\u65f6\u5019\u4f7f\u7528\uff0c\u901a\u8fc7meta\u6765\u58f0\u660e\u3002\u65e9\u671fiPhone\u7406\u60f3\u89c6\u53e3\u4e3a320x480px\u3002\u5728\u6ca1\u6709\u7f29\u653e\u7684\u60c5\u51b5\u4e0b\uff0c\u5c4f\u5e55\u7684CSS\u50cf\u7d20\u5bbd\u5ea6\u5176\u5b9e\u662f\u6307\u7406\u60f3\u89c6\u53e3\u7684\u5bbd\u5ea6\uff0c\u800cmeta\u7684name=viewport\u6807\u7b7e\uff0c\u8d77\u5230\u7684\u6b63\u662f\u6307\u5b9a\u7406\u60f3\u89c6\u53e3\u5927\u5c0f\u7684\u4f5c\u7528\u3002</li> </ul>"},{"location":"Frontend/Mobile/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1%E4%B8%93%E5%88%8A/","title":"\u54cd\u5e94\u5f0f\u8bbe\u8ba1\u4e13\u520a","text":"","tags":["outdated"]},{"location":"Frontend/Mobile/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1%E4%B8%93%E5%88%8A/#_2","title":"\u9002\u914d\u65b9\u6848","text":"<p>\u4e00\u822c\u800c\u8a00\uff0c\u5e38\u7528\u7684\u6709\u4ee5\u4e0b\u51e0\u79cd\u9002\u914d\u65b9\u6848\u3002\u5f53\u7136\u524d\u63d0\u662f\u90fd\u8981\u5148\u8bbe\u7f6e\u597dviewport\uff0c\u4e00\u822c\u662finitial-scale\u4e3a1\u3002\u4e4b\u524d\u4e5f\u6709\u4e86\u89e3\u5b9e\u8df5\u8fc7\u5728dpr\u4e3a2\u62163\u65f6\u8bbe\u7f6einitial-scale\u4e3a.5\u6216\u662f.33\uff0c\u53ef\u662f\u6211\u8fd8\u662f\u89c9\u5f97\u6ca1\u4ec0\u4e48\u5fc5\u8981\u54ce\u2026\u6216\u8bb8\u662f\u6ca1\u6709\u9886\u4f1a\u5230\u8fd9\u6837\u8bbe\u7f6e\u7684\u7528\u9014\u3002</p>","tags":["outdated"]},{"location":"Frontend/Mobile/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1%E4%B8%93%E5%88%8A/#px","title":"\u5168\u519bpx\u7cfb\u5217","text":"<p>\u5373padding\uff0cfont-size\u3002margin\u90fd\u4ee5px\u4e3a\u5355\u4f4d\uff0c\u4f18\u70b9\u662f\u65b9\u4fbf\uff0c\u5728\u5927\u5c4f\u4e0b\u4e5f\u663e\u5f97\u86ee\u4f18\u96c5\u7684\uff0c\u7f3a\u70b9\u662f\u4e0d\u5c11\u5730\u65b9\u4e0d\u80fd\u5199\u6b7b\uff0c\u6bd4\u5982\u5bbd\u5ea6\u5c3d\u53ef\u80fd\u7684\u6309\u767e\u5206\u6bd4\u6765\uff0c\u7b49\u5206\u5b9a\u4f4d\u7684\u8bdd\u53ef\u4ee5\u7528flex\u7b49\u3002</p>","tags":["outdated"]},{"location":"Frontend/Mobile/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1%E4%B8%93%E5%88%8A/#vwvh","title":"\u73b0\u5728\u7684 vw/vh \u7cfb\u5217","text":"<p>px2viewport \u5c31 ok \u65b9\u4fbf\u63a7\u5236\u5176\u4ed6\u7684\u5f15\u5165\u7ec4\u4ef6\u3002</p> <pre><code> module: {\n    rules: [\n      {\n        test: /\\.(less|css)$/,\n        use: [\n          { loader: 'style-loader' },\n          { loader: 'css-loader' },\n          {\n            loader: 'postcss-loader',\n            options: {\n              postcssOptions: {\n                plugins: [\n                  'postcss-preset-env',\n                  {\n                    'postcss-px-to-viewport': {\n                      unitToConvert: 'px',\n                      viewportWidth: 750,\n                      unitPrecision: 6,\n                      propList: ['*'],\n                      viewportUnit: 'vw',\n                      fontViewportUnit: 'vw',\n                      selectorBlackList: ['wrap'],\n                      minPixelValue: 1,\n                      replace: true,\n                      // \u6ce8\uff1a\u4e0b\u9762\u6709\u95ee\u9898\uff0c\u53ea\u5904\u7406\u7ec4\u4ef6\u5305\u5c31 ok \u4e86\n                      // exclude: [/node_modules/],\n                      // include: [/\\/node_modules\\/antd-mobile\\//],\n                      landscape: false,\n                    },\n                  },\n                ],\n              },\n            },\n          },\n          {\n            loader: 'less-loader',\n            options: {\n              lessOptions: { javascriptEnabled: true },\n            },\n          },\n        ],\n      },\n    ],\n  },\n</code></pre> <p>\u6ce8\u610f viewport \u8fd9\u91cc\u662f 750\u3002\u4e00\u822c\u7ec4\u4ef6\u5e93\u4f1a\u4ee5 375 \u4e3a base\uff0c\u50cf antd-mobile \u4ea6\u63d0\u4f9b\u4e86 750 \u4e3a base \u7684\u5f15\u5165\u7248\u672c\u3002</p>","tags":["outdated"]},{"location":"Frontend/Mobile/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1%E4%B8%93%E5%88%8A/#rem","title":"rem\u7cfb\u5217","text":"<p>\u7528rem\u7684\u8bdd\uff0c\u6839\u5b57\u4f53\u5927\u5c0f\u4e00\u822c\u4ee5\u5c4f\u5e55css\u5bbd\u5ea6/10\u6765\u8ba1\u7b97\uff0c\u5f53\u7136\u4e5f\u6709\u4e0d\u540c\u7684\u5b9e\u8df5\u3002\u4f18\u70b9\u662f\u4efb\u4f55\u5b9a\u4f4d\u90fd\u53ef\u4ee5\u6839\u636erem\u5199\u6b7b\u2026\u6bd5\u7adf\u53ef\u4ee5\u7406\u89e3\u6210\u4e0d\u540c\u7684\u5c4f\u5e55\u5927\u5c0f\u6574\u4e2a\u5c31\u662f\u4e00\u7b49\u6bd4\u7f29\u653e\u3002\u5b57\u4f53\u53ef\u4ee5\u6309rem\uff0c\u4e5f\u53ef\u4ee5\u6309px\u3002\u7f3a\u70b9\u662fpad\u4e0b\u4f1a\u663e\u5f97\u8fc7\u4e8e\u5927\u4e86\u3002</p> <p>\u810d\u7099\u4eba\u53e3\u7684flexible.js\u8bbe\u7f6e\u65b9\u6848\u5982\u4e0b\uff1a</p> <pre><code>(function flexible (window, document) {  \n  var docEl = document.documentElement  \n  var dpr = window.devicePixelRatio || 1  \n\n  // adjust body font size  \n  function setBodyFontSize () {  \n    if (document.body) {  \n      document.body.style.fontSize = (12 \\* dpr) + 'px'  \n    }  \n    else {  \n      document.addEventListener('DOMContentLoaded', setBodyFontSize)  \n    }  \n  }  \n  setBodyFontSize();  \n\n  // \u5173\u952e\u62c9 set 1rem = viewWidth / 10  \n  function setRemUnit () {  \n    var rem = docEl.clientWidth / 10  \n    docEl.style.fontSize = rem + 'px'  \n  }  \n\n  setRemUnit()  \n\n  // reset rem unit on page resize  \n  window.addEventListener('resize', setRemUnit)  \n  window.addEventListener('pageshow', function (e) {  \n    if (e.persisted) {  \n      setRemUnit()  \n    }  \n  })  \n\n  // detect 0.5px supports  \n  if (dpr &gt;= 2) {  \n    var fakeBody = document.createElement('body')  \n    var testElement = document.createElement('div')  \n    testElement.style.border = '.5px solid transparent'  \n    fakeBody.appendChild(testElement)  \n    docEl.appendChild(fakeBody)  \n    // offsetHeight\u662f\u5305\u62ecborder\u7684\uff0c\u6240\u4ee5\u7531\u6b64\u5224\u65ad  \n    if (testElement.offsetHeight === 1) {  \n      docEl.classList.add('hairlines')  \n    }  \n    docEl.removeChild(fakeBody)  \n  }  \n}(window, document))\n</code></pre>","tags":["outdated"]},{"location":"Frontend/Mobile/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1%E4%B8%93%E5%88%8A/#ps-border","title":"ps: \u5b9e\u73b0\u6781\u7ec6border","text":"<p>0.5px\u7684border\u53c8\u79f0\u4e3ahairlines\u3002\u90a3\u4e48\u5f53\u7136\u8981\u5148\u5224\u65ad\u5f53\u524d\u6d4f\u89c8\u5668\u8d44\u4e0d\u8d44\u8bcd0.5px\u7684border-width\uff0c\u8fd9\u4e2a\u5728\u4e0a\u9762\u7684flexible.js\u91cc\u5c31\u5305\u62ec\u62c9\uff01\u5982\u4e0d\u652f\u6301\uff0c\u53ef\u901a\u8fc7\u5176\u4ed6\u65b9\u5f0f\u5b9e\u73b0\u6781\u7ec6border\u7684\u65b9\u6848\uff0c\u4e3b\u8981\u6709\u4e24\u79cd\uff1a\u4e00\u662f\u6309border\u6765\u5199\uff0c\u53e6\u4e00\u662f\u4e0d\u6309border\u6765\u5199\u2026</p> <p>\u4f9d\u7136\u6309border\u6765\u5199\u7684\u8bdd\uff0c\u53ef\u4ee5\u2460\u901a\u8fc7border-background\u8bbe\u7f6e\u4e00\u534a\u900f\u660e\u4e00\u534a\u6709\u7ebf\u7684\u80cc\u666f\u3002\u2461\u5c06viewport\u7f29\u5c0f\u4e00\u500d\uff0c\u5373initial-scale=.5\u3002</p> <p>\u4e0d\u6309border\u6765\u5199\u7684\u8bdd\uff0c\u5373\u5404\u79cd\u4f2a\u9020border\u3002\u6bd4\u5982\u5728::after\u91cc\u9762\u653e\u4e00\u4e2a1px\u9ad8\u7684div\u7ebf\u518dscale(0.5)\u963f\uff0c\u901a\u8fc7border-image\u6765\u4e54\u88c5\u963f\u2026\u8fd9\u79cd\u3002</p>","tags":["outdated"]},{"location":"Frontend/Mobile/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1%E4%B8%93%E5%88%8A/#_3","title":"\u5386\u53f2\u8c03\u7814","text":"","tags":["outdated"]},{"location":"Frontend/Mobile/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1%E4%B8%93%E5%88%8A/#_4","title":"\u7f8e\u56e2","text":"<p>375\u5bbd\u5ea6 html\u7684font-size: 31.25px</p> <p>320\u5bbd\u5ea6font-size: 26.67px</p> <p>\u503c\u5f97\u501f\u9274\u4e4b\u5904\uff1a</p> <p>\u6574\u4e2a\u4e3b\u8981\u90e8\u5206\u88ab\u4e00\u4e2awrapper\u5305\u4e86\u8d77\u6765\uff1a\uff08max-width: 12rem \u7ea6414px\uff09/\u2026\u5982\u679c\u6211scale .5\u7684\u8bdd\u5c31\u5927\u6982\u662f820px\u3002\u8fd9\u6837\u53ef\u4ee5\u4fdd\u8bc1pc\u7f51\u9875\u6253\u5f00\u5bbd\u5ea6\u4e5f\u4e0d\u4f1a\u592a\u5bbd\u3002\u90a3\u4e48html\u7684font-size\u5f53\u7136\u5c31\u662f\u4ee5\u8fd9\u4e2awrapper\u7684\u5bbd\u5ea6\u6765\u8ba1\u7b97\u3002</p> <p>----\u6211\u81ea\u5df1\u8bd5\u4e86\u4e86\u4e00\u4e0b \u5176\u4f59\u7684\u633a\u597d \u6709\u4e24\u4e2a\u9700\u8981\u6ce8\u610f\u7684\u70b9</p> <p>\u2460fixed-position\u5b9a\u4f4d\u7684\u5143\u7d20</p> <p>width 100%\u7684\u8bdd\u4f1a\u53d8\u6210\u5168\u5c4f\u90a3\u4e48\u957f</p> <p>\u2461scale\u5fc5\u987b\u662f1\uff01\u56e0\u4e3aviewport\u53ea\u5728\u624b\u673a\u9875\u9762\u4e0a\u624d\u751f\u6548\uff0c\u800c\u8fd9\u4e2awrapper\u7684max-width\u8868\u793a\u7684\u5e94\u8be5\u662fpc\u9875\u9762\u548c\u624b\u673a\u9875\u9762\u7684\u4e34\u754c\u503c\u3002\u800cpc\u9875\u9762\u7684\u663e\u793a\u6548\u679c\u5c31\u662f1:1\u3002\u5982\u679c\u6309\u6211scale .5\u7684\u8bdd \u6362\u7b97\u6210\u624b\u673a\u9875\u9762width \u90fd\u6709\u516d\u4e03\u767e\u5bbd \u5c82\u4e0d\u662f\u90fd\u6bd4414px\u5927\u4e86\uff0c\u5982\u679c\u8fd8\u8981\u518d\u52a0\u4e0a\u4e00\u6761\u533a\u5206\u662f\u5426pc/mobile\u9875\u9762\u7684\u6761\u4ef6\u6765\u52a8\u6001\u6539\u53d8wrapper\u7684max-width\u7684\u8bdd \u53c8\u7565\u663e\u9ebb\u70e6\u4e86</p>","tags":["outdated"]},{"location":"Frontend/Mobile/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1%E4%B8%93%E5%88%8A/#_5","title":"\u77e5\u4e4e","text":"<p>\u91c7\u7528 px \u7684\u65b9\u5f0f\uff0c\u5982\u679c\u662f iPad \u7684\u8bdd\u91c7\u53d6 pc \u7aef\u6837\u5f0f</p> <p>\u6211\u7684\u7591\u60d1\uff1a\u5c82\u4e0d\u662f\u5927\u5c4f\u663e\u793a\u7684\u5b57\u4e00\u884c\u591a \u5c0f\u5c4f\u663e\u793a\u7684\u4e00\u884c\u5b57\u5c11\uff1f\u90a3\u4e48\u505a\u201cxxxx....\u201d\u8fd9\u6837\u622a\u53d6\u67d0\u4e9b\u5b57\u6570\u65f6\uff0c\u5b57\u6570\u8981\u5982\u4f55\u9009\u62e9\u5462\uff1f\u5514\u2026\u679c\u7136\u4e0d\u540c\u5c4f\u5e55\u591a\u5c11\u884c\u4e0d\u56fa\u5b9a\u7684\uff01</p>","tags":["outdated"]},{"location":"Frontend/Mobile/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1%E4%B8%93%E5%88%8A/#_6","title":"\u624b\u6dd8","text":"<p>375\u5bbd\u5ea6\uff1a112.5px \u5c31\u662f10: 1*3\u7684\u5173\u7cfb\uff01\u624b\u6dd8\u6709\u8bbe\u7f6e\u6839font-size\uff0c\u4f46\u662f\u8ba1\u7b97\u65b9\u6848\u6bd4\u8f83\u4e0d\u540c\uff0ciPhone6\u5bf9\u5e94\u7684html\u7684font-size\u662f100px\uff0c\u53e6\u5916\u5e03\u5c40\u4e2d\u7684\u6837\u5f0f\u51e0\u4e4e\u90fd\u662f\u5b9e\u65f6\u8ba1\u7b97\u51fa\u6765\u7684\u884c\u5185\u6837\u5f0f\uff0c\u5355\u4f4dpx\u3002</p> <p>\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u8981\u8bbe\u8ba1\u621033.3% \u610f\u4e3a\u653e\u5927\u4e09\u500d \u90a3\u4e48\u662f\u4e3a\u4e86\u8003\u8651\u5230dpr\u4e3a3\u7684\u6bd4\u5982iphone6\u8fd9\u79cd\u624b\u673a \u5b57\u4f53\u548ccss\u63a7\u5236\u7684\u4e1c\u897f\u4e0d\u4f1a\u6709\u95ee\u9898 \u4f46\u662f\u56fe\u7247\u53ef\u80fd\u5c31\u4f1a\u653e\u5927\u800c\u663e\u5f97\u6a21\u7cca\u4e86\u3002</p> <p>\u8fd9\u6837\u5b50\u8bbe\u8ba1\u7684\u8bdd \u4e00\u4e2a\u5c0flogo\u56fe\u5f88\u53ef\u80fd\u5c31\u662f200px\u591a \u6240\u4ee5\u53ef\u4ee5\u5b9e\u73b0\u5728iphone\u4e0a\u76841:1\u5c55\u793a\u3002</p> <p>\u4e0d\u8fc7\u5176\u5b9e\u561b \u56fe\u7247\u505a\u5927\u4e00\u70b9\u5c31\u597d\u54af\uff01</p>","tags":["outdated"]},{"location":"Frontend/Mobile/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1%E4%B8%93%E5%88%8A/#_7","title":"\u5929\u732b","text":"<p>375\u5bbd\u5ea6\uff1a37.5px \u5c31\u662f10:1\u7684\u5173\u7cfb\uff01</p>","tags":["outdated"]},{"location":"Frontend/Mobile/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1%E4%B8%93%E5%88%8A/#_8","title":"\u624b\u673a\u4eac\u4e1c","text":"<p>https://m.jd.com/ \u7ec8\u4e8e\u627e\u5230\u7528rem\u65b9\u6848\u7684\u4e86\uff01\u5e76\u4e14\u662f\u5168rem\u5f62\u5f0f\u3002\u4e0d\u8fc7\u4eac\u4e1c\u7684\u6839\u5b57\u4f53\u5927\u5c0f\u662f\u6839\u636emedia query\u8bbe\u7f6e\u7684\uff1a</p> <pre><code>@media only screen and (min-width:320PX) and (max-width:360PX){html{font-size:13.65px}}  \n@media only screen and (min-width:360PX) and (max-width:375PX){html{font-size:15.36px}}  \n@media only screen and (min-width:375PX) and (max-width:390PX){html{font-size:16px}}  \n@media only screen and (min-width:390PX) and (max-width:414PX){html{font-size:16.64px}}  \n@media only screen and (min-width:414PX) and (max-width:640PX){html{font-size:17.664px}}  \n@media screen and (min-width:640PX){html{font-size:27.31px}} \n</code></pre>","tags":["outdated"]},{"location":"Frontend/Mobile/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1%E4%B8%93%E5%88%8A/#4-refs","title":"4. Refs","text":"<p>\u5b8c\u5168\u7406\u89e3px,dpr,dpi,dip</p> <p>Android\u5c4f\u5e55\u9002\u914d:\u6700\u5168\u9762\u7684\u89e3\u51b3\u65b9\u6848</p> <p>\u518d\u804a\u79fb\u52a8\u7aef\u9875\u9762\u7684\u9002\u914d</p> <p>\u5982\u4f55\u5728Vue\u9879\u76ee\u4e2d\u4f7f\u7528vw\u5b9e\u73b0\u79fb\u52a8\u7aef\u9002\u914d</p>","tags":["outdated"]},{"location":"Frontend/React/ASmooshCast/","title":"ASmooshCast","text":"<p>smooshCast: React Fiber Deep Dive With Dan Abramov</p> <ul> <li>It looks really intimidating!</li> <li>Is the font-size good?</li> </ul>"},{"location":"Frontend/React/ASmooshCast/#alternative-fiber","title":"alternative fiber","text":"<p>The draft of fiber that can be mutated (They never mutate the current fiber). // Memorized component will not be copied, just be refrenced directly</p> <p>Root fiber: point to the current fiber tree. </p>"},{"location":"Frontend/React/ASmooshCast/#smooshmode","title":"SmooshMode","text":"<p>Skip over the 'div' fibers and only render the other tags.</p> <ul> <li>The Begin work is the descending tree traversal</li> <li>The Complete work is the ascending tree traversal</li> </ul>"},{"location":"Frontend/React/context/","title":"context","text":"<pre><code>const MyContext = React.createContext(defaultValue);\n&lt;MyContext.Provider value={/* \u67d0\u4e2a\u503c */}&gt;\n\n&lt;MyContext.Consumer&gt;\n  {value =&gt; /* \u57fa\u4e8e context \u503c\u8fdb\u884c\u6e32\u67d3*/}\n&lt;/MyContext.Consumer&gt;\n\nconst value = useContext(MyContext);\n// \u76f8\u5f53\u4e8e\u76f4\u63a5\u83b7\u53d6\u5230 value\n</code></pre>"},{"location":"Frontend/React/context/#_1","title":"\u4f8b\u5b50","text":""},{"location":"Frontend/React/context/#_2","title":"\u660e\u663e\u5c5e\u4e8e\u5168\u5c40\u5c42\u9762","text":"<p>\u7ec4\u4ef6\u5e93\u7684\u4e3b\u9898\u3002\u5176\u5b9e\u6700\u672c\u8d28\u7684\u5c31\u662f\u4e00\u4e2a theme object \u561b\uff0c\u7b80\u5355\u505a\u6cd5\uff1a</p> <ul> <li>\u7528\u6237\u76f4\u63a5\u521d\u59cb\u5316\u7ec4\u4ef6\u5e93\u7684\u65f6\u5019\u4f20\u5165</li> <li>\u653e\u5728 css variable \u91cc\uff0c\u7f16\u8bd1\u7684\u65f6\u5019\u8986\u76d6</li> </ul> <p>\u4e0a\u8ff0\u6700\u4e3b\u8981\u7684\u95ee\u9898\u662f\u4e0d\u80fd\u5b9e\u73b0\u52a8\u6001\u6362\u80a4\uff0c\u6837\u5f0f\u662f\u4ece\u4e00\u56fa\u5b9a\u7684\u3002\u6309\u7167 antd-mobile \u7684\u65b9\u6848\uff1a</p> <pre><code>var ThemeContext = React.createContext()\n\n&lt;ThemeProvider value={{\u4f60\u8bbe\u7f6e\u7684theme}} /&gt;\n</code></pre> <p>\u7f16\u5199\u7ec4\u4ef6\u65f6\u5916\u5c42\u7edf\u4e00\u7528 Consumer \u5c01\u88c5\uff0c\u8fd9\u6837\u7ec4\u4ef6\u5185\u90e8\u53ea\u9700\u8bfb\u53d6 props \u4f20\u8fdb\u6765\u7684 style \u5373\u53ef\uff0c\u662f\u4e00\u79cd styleInJS \u7684\u65b9\u6848\u3002</p> <pre><code>function WithStyle({children}) {\n    &lt;ThemeContext.Consumer&gt;\n        {() =&gt; children(format \u540e\u7684 theme)}\n    &lt;/ThemeContext.Consumer&gt;\n}\n</code></pre>"},{"location":"Frontend/React/context/#_3","title":"\u5206\u79bb\u5f0f\u7ec4\u4ef6\u8bbe\u8ba1","text":"<p>\u6bd4\u5982 <code>&lt;Tabs&gt;&lt;TabPane /&gt;&lt;TabPane /&gt;&lt;/Tabs&gt;</code> Tabs \u9700\u8981\u5bf9\u4f20\u5165\u7684 children \u8fdb\u884c\u8d85\u8d8a\u591a\u5c42\u7684\u63a7\u5236\uff0c\u63a8\u8350\u505a\u6cd5</p> <pre><code>function Tabs(props){\n  const tabs = React.useMemo(\n    () =&gt; (props.children || []).filter(item =&gt; item &amp;&amp; typeof item === 'object' &amp;&amp; 'key' in item),\n    [items],\n  );\n  return (\n    &lt;TabContext.Provider value={{ tabs, prefixCls }}&gt;...&lt;/TabContext.Provider&gt;\n  )\n}\n</code></pre>"},{"location":"Frontend/React/notes/","title":"notes","text":""},{"location":"Frontend/React/notes/#debounce-input","title":"\u52a0\u5165 debounce \u7684 input","text":"<pre><code>export default function DebouncedInput(props) {\n  const [value, setValue] = useState(props.value)\n\n  useEffect(() =&gt; {\n    setValue(props.value)\n  }, [props.value])\n\n  const debouncedOnChange = useDebounceFn((val) =&gt; {\n    props.onChange(val)\n  }, { wait: 1000 });\n\n  return &lt;Input {...props} value={value} onChange={e =&gt; {\n    setValue(e.target.value)\n    debouncedOnChange.run(e.target.value)\n  }} /&gt;;\n}\n</code></pre> <p>\u6709\u4e00\u4e2a\u7ec6\u8282\u662f\uff0c\u4e0d\u80fd <code>onChange={debouncedOnChange.run}</code> \uff0c\u56e0\u4e3a\u4f20\u9012\u7684 s \u6253\u5934\u7684\u90a3\u4e2aevent \u662f react \u7ef4\u62a4\u7684\u5bf9\u8c61\uff0c\u7a0d\u540e\u4f1a\u88ab\u91cd\u7f6e\u4e3a null</p>"},{"location":"Frontend/React/react%26ts/","title":"react &amp; ts","text":"<p>\u4e0e typescript \u7684\u6700\u4f73\u5b9e\u8df5</p>"},{"location":"Frontend/React/react%26ts/#_1","title":"\u57fa\u672c","text":"<pre><code>import * as React from 'react';\nimport { render } from 'react-dom';\n\n// Written as a function declaration\nfunction Heading(): React.ReactNode {\n  return &lt;h1&gt;My Website Heading&lt;/h1&gt;\n}\n\ntype Props = {\n  color: string;\n};\n\nconst Comp: React.FC&lt;Props&gt; = () =&gt; &lt;p&gt;hello world&lt;/p&gt;;\n</code></pre>"},{"location":"Frontend/React/react%26ts/#refs","title":"refs","text":"<p>\u8fd9\u7bc7\u8d85\u5165\u95e8 sitepoint: react-with-typescript-best-practices</p> <p>\u5b98\u65b9 github: react-typescript-cheatsheet</p>"},{"location":"Frontend/React/redux/","title":"redux","text":"<p>\u5b97\u65e8\uff1a\u5f88\u7b80\u5355\uff0c\u4e0d\u5141\u8bb8\u7528\u6237 immutate \u6570\u636e\u3002actions \u53ea\u662f\u63cf\u8ff0\uff0creducers \u6839\u636e\u8fd9\u4e9b\u63cf\u8ff0\u8fd4\u56de\u65b0\u7684\u503c\u66ff\u4ee3\u539f\u59cb\u6570\u636e\u3002</p> <p>\u7528\u6237\u901a\u8fc7 dispatch \u6d3e\u53d1 actions\uff0c\u901a\u8fc7 reducers \u6539\u53d8 state\u3002</p> <p>dispatch \u7684\u5b9e\u8d28 \u4e5f\u662f redux \u7684\u5b9e\u8d28:</p> <pre><code>function dispatch(action) {\n    currentState = currentReducer(currentState, action)   \n}\n</code></pre>"},{"location":"Frontend/React/redux/#redux-middleware","title":"Redux middleware","text":"<p>Redux middleware \u786e\u5b9e\u662f\u8fd9\u4e48\u7b80\u5355\u7684\u6982\u5ff5\u4e2d\u62d4\u5730\u800c\u51fa\u7684\u6280\u672f\u4eae\u70b9\u3002\u4f20\u5165 createStore \u7684 storeEnhancer \u9ad8\u9636\u51fd\u6570\uff0c\u4ee5\u53ca middleware \u7684\u8fde\u63a5\u8fc7\u7a0b + \u900f\u4f20\u539f\u751f dispatch\uff0c\u65e0\u4e0d\u4f53\u73b0\u7740\u4f5c\u8005\u5f3a\u5927\u51fd\u6570\u5f0f\u7f16\u7a0b\u529f\u5e95\u2026</p> <p>\u52a0\u5f3a\u8fc7\u7684 <code>store.dispatch</code> \u5df2\u7ecf\u4e0d\u662f\u539f\u751f\u7684 dispatch \u4e86\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u88ab\u94fe\u5f0f monkeyPatching \u8fc7\u540e\u7684 fake dispatch\uff0c\u4e00\u76f4\u5230\u8fd9\u4e9b middlewares \u88ab\u5904\u7406\u5b8c\u6bd5\uff0c\u6700\u540e\u4e00\u4e2a middleware \u624d\u53bb\u6700\u540e\u8c03\u7528\u539f\u751f\u7684 dispatch\u3002</p>"},{"location":"Frontend/React/redux/#_1","title":"\u6e90\u7801\u601d\u8def","text":"<p>\u6ce8\uff1a\u771f\u6b63\u6709\u6548\u7684 redux middleware \u6700\u5916\u9762\u8fd8\u6709\u4e00\u5c42\u63a5\u6536<code>store</code>\u7684\u51fd\u6570\uff0c\u56e0\u4e3a\u8fd9\u5c42\u51fd\u6570\u5728\u521d\u59cb\u5316\u4e2d\u95f4\u4ef6\u64cd\u4f5c\u65f6\u5c31\u5df2\u8c03\u7528\u5265\u79bb\uff0c\u4e0d\u53c2\u4e0e\u5230\u6700\u7ec8\u7684\u94fe\u5f0f\u8c03\u7528\uff0c\u6545\u4e0b\u5217\u7b80\u5199\u4e5f\u5265\u79bb\u6389\u4e86\u3002</p> <pre><code>function compose(funcs) {\n  return funcs.reduce((a, b) =&gt; dispatch =&gt; a(b(dispatch)));\n}\n\nconst fn1 = next =&gt; action =&gt; {\n  console.log('fn1 called', action);\n  return next(action);\n};\nconst fn2 = next =&gt; action =&gt; {\n  console.log('fn2 called', action);\n  return next(action);\n};\nconst fn3 = next =&gt; action =&gt; {\n  console.log('fn3 called', action);\n  return next(action);\n};\nconst fn4 = dispatch =&gt; action =&gt; {\n  console.log('fn4 called', action);\n  return dispatch(action);\n};\n\n// step 1: \u521d\u59cb\u5316 compose \u51fd\u6570\nconst composedFns = compose([fn1, fn2, fn3, fn4]);\n// step 2: \u542f\u52a8 composedFn\nconst composedFnsCalledWithDispatch = composedFns(() =&gt; console.log('real dispatch'));\n// step 3: \u542f\u52a8 action \u7cfb\u5217\u7684\u8c03\u7528\ncomposedFnsCalledWithDispatch('action');\n\n// step 1: \u521d\u59cb\u5316 compose \u51fd\u6570\n// (dispatch) =&gt; fn1(fn2(dispatch))\n// (dispatch) =&gt; ( (dispatch) =&gt; fn1(fn2(dispatch)) )( fn3(dispatch) )\n// (dispatch) =&gt; ( (dispatch) =&gt; ( (dispatch) =&gt; fn1(fn2(dispatch)) )( fn3(dispatch) ) )( fn4(dispatch) )\n\n// step 2: \u542f\u52a8 composedFn\n// ( (dispatch) =&gt; ( (dispatch) =&gt; fn1(fn2(dispatch)) )( fn3(dispatch) ) )( fn4(dispatch) )\n// ( (dispatch) =&gt; fn1(fn2(dispatch)) )(fn3( fn4(dispatch) ))\n// fn1(fn2(fn3(fn4(dispatch)))\n// \u6b64\u65f6 disptach \u5df2\u5b58\u5165\u95ed\u5305\uff0cf1 ~ f4 \u7684\u6700\u5916\u5c42\u90fd\u5df2\u5265\u53bb\uff0c\u4e3b\u4f53 action \u51fd\u6570\u4f5c\u4e3a next \u5012\u4f20\u7ed9\u5de6\u4fa7\u7684\u51fd\u6570\u3002\u8fd9\u4e5f\u662f\u66b4\u9732\u7ed9\u7528\u6237\u7684`store.dispatch`\u65b9\u6cd5\n\n// step 3: \u542f\u52a8 action \u7cfb\u5217\u7684\u8c03\u7528\uff08\u5373\u7528\u6237\u8c03\u7528 store.dispatch('action')\uff09\u3002\n</code></pre> <p>\u6211\u89c9\u5f97\u6700\u590d\u6742\u7684\u4e00\u6b65\u5728\u4e8e\uff0c\u521d\u59cb\u5316 compose \u65f6\u51fd\u6570\u5217\u8868\u662f\u4ece\u5de6\u5230\u53f3\u8c03\u7528\uff0c\u7ed3\u679c\u751f\u6210\u4e86\u4e00\u4e32 IIFE (\u7acb\u5373\u8c03\u7528)\u51fd\u6570\u3002\u542f\u52a8 composedFn \u65f6\u662f\u4ece\u53f3\u5230\u5de6\u6267\u884c\uff0c\u6240\u4ee5\u624d\u53ef\u4ee5\u628a\u53f3\u4fa7\u7684\u51fd\u6570\u4e3b\u4f53\u4f20\u7ed9\u5de6\u4fa7\u3002\u800c\u8fd9\u4efd\u9690\u542b\u7684\u4ece\u53f3\u5230\u5de6\u6267\u884c\uff0c\u662f\u6574\u4e2a\u6b65\u9aa4\u53ef\u884c\u6027\u7684\u5173\u952e\u3002</p> <p>\u800c\u601d\u8def\u4e0a\u6700\u91cd\u8981\u7684\u4e24\u6b65\u5728\u4e8e\uff1a</p> <ul> <li>\u4e3b\u4f53\u51fd\u6570\uff1a\u4e3b\u4f53\u51fd\u6570\u662f <code>params -&gt; next()</code>\u51fd\u6570\u3002<code>next -&gt; action()</code>\u51fd\u6570\u53ea\u662f\u4e3a\u4e86\u95ed\u5305 dispatch\u3002</li> <li>dispatch \u7684\u900f\u4f20\uff1a\u5b9e\u9645\u4e0a\u53ea\u6709\u6700\u540e\u4e00\u4e2a middleware \u63a5\u6536\u5230\u7684 <code>next</code> \u624d\u662f\u771f\u5b9e\u7684\u4ea6\u5373\u542f\u52a8 <code>composedFn</code> \u65f6\u4f20\u5165\u7684 <code>dispatch</code>\uff0c\u524d\u9762\u7684\u4e00\u7cfb\u5217 <code>next</code> \u90fd\u4ee3\u8868\u7740\u4e0b\u4e00\u4e2a\u4e3b\u4f53\u51fd\u6570\u3002</li> </ul>"},{"location":"Frontend/React/redux/#_2","title":"\u7b80\u6613\u7248\u5b9e\u73b0","text":"<p>\u5982\u679c\u7528\u5faa\u73af\u800c\u4e0d\u662f\u9012\u5f52\u5b9e\u73b0\uff0c\u5fae\u8c03\u4e0b api\uff0c\u662f\u66f4\u9002\u5408\u5e38\u4eba\u7684\u65b9\u5f0f\u3002\u8fd9\u4e5f\u662f koa \u7684 <code>compose</code> \u5b9e\u73b0\u673a\u5236\u3002</p> <pre><code>function compose(funcs) {\n  const len = funcs.length;\n\n  return dispatch =&gt; action =&gt; {\n    function next(i, passedAction) {\n      if (i === len - 1) dispatch(passedAction);\n      else {\n        const fn = funcs[i];\n        fn(next.bind(this, i + 1), passedAction);\n      }\n    }\n\n    next(0, action);\n  };\n}\n\nconst fn1 = (next, action) =&gt; {\n  console.log('fn1 called', action);\n  return next(action);\n};\nconst fn2 = (next, action) =&gt; {\n  console.log('fn2 called', action);\n  return next(action);\n};\nconst fn3 = (next, action) =&gt; {\n  console.log('fn3 called', action);\n  return next(action);\n};\nconst fn4 = (next, action) =&gt; {\n  console.log('fn4 called', action);\n  return next(action);\n};\n\nconst dispatch = () =&gt; console.log('real dispatch');\nconst composedFns = compose([fn1, fn2, fn3, fn4]);\nconst composedFnsCalledWithDispatch = composedFns(dispatch);\ncomposedFnsCalledWithDispatch('action');\n</code></pre>"},{"location":"Frontend/React/redux/#_3","title":"\u5176\u4f59","text":"<p>\u53ef\u4ee5\u770b\u51fa redux \u7684\u6570\u636e\u8bbe\u8ba1\u4e5f\u5370\u8bc1\u4e86 OOP\uff0c\u56e0\u4e3a\u5e76\u6ca1\u6709\u9009\u62e9\u66f4\u6539\u5bf9\u8c61\uff0c\u53cd\u800c\u662f\u901a\u8fc7\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u5168\u65b0\u7684\u5bf9\u8c61\u3002</p>"},{"location":"Frontend/React/redux/#react-redux","title":"React-redux","text":"<p>\u7c97\u7565\u770b\u4e86\u770b~maintainer \u8d85\u957f\u6587\u53d1\u5c55\u53f2</p> <p>\u4e3b\u8981\u6d89\u53ca\u5230\u4e86 API \u7f16\u5199\u3001\u5982\u4f55\u66f4\u65b0\u6574\u4e2a\u7ec4\u4ef6\u2026etc \u8fd9\u4e9b\u95ee\u9898 \u76f8\u5173\u6e90\u7801\uff1a</p> <p></p> <p></p> <p>https://zhuanlan.zhihu.com/p/85306555</p> <p>update \u6458\uff1a Most applications deal with multiple types of data, which can be broadly divided into three categories: - Domain data: data that the application needs to show, use, or modify (such as \"all of the Todos retrieved from the server\") - App state: data that is specific to the application's behavior (such as \"Todo #5 is currently selected\", or \"there is a request in progress to fetch Todos\") - UI state: data that represents how the UI is currently displayed (such as \"The EditTodo modal dialog is currently open\")</p> <p>\u7279\u70b9\uff1a - state \u53d8\u5316\uff0c\u4e0d\u4f1a\u9020\u6210 react root \u7684 rerender - \u7ec4\u4ef6\u672a\u6d88\u8d39\u7684 state \u53d8\u5316\uff0c\u4e0d\u4f1a\u9020\u6210\u7ec4\u4ef6 rerender</p> <p>\u6211\u7684\u5e38\u89c1\u8bef\u89e3\uff1a - React-redux \u5b9e\u8d28\u4e5f\u662f\u7528\u4e86 context \u6765\u89e6\u53d1\u7ec4\u4ef6\u91cd\u65b0\u6e32\u67d3 =&gt; \u4e0d\u662f\uff0credux \u53ea\u662f\u5229\u7528 context \u6765\u4f20\u9012 store \u5b9e\u4f8b\u800c\u4e0d\u662f\u5f53\u524d value, the redux context never changes (in 99% of implementations anyway). React-redux \u81ea\u5df1\u4f1a\u6bd4\u8f83\u53d8\u66f4\uff0c\u540c\u65f6\u901a\u8fc7 forceRender / setState \u7684\u65b9\u5f0f\u89e6\u53d1\u5b50\u7ec4\u4ef6\u7684\u6e32\u67d3 - refs\uff1a     - reactjs - redux differentiation with context api - Stack Overflow     - [javascript - The difference between Context API and Redux - Stack Overflow](https://stackoverflow.com/questions/67254562/the-difference-between-context-api-and-redux     - can someone TLDR-explain how react-redux is able to trigger rerenders for only the pieces of state that changed? As opposed to context+useReducer : r/reactjs</p>"},{"location":"Frontend/React/refs/","title":"refs","text":""},{"location":"Frontend/React/sourceCode/","title":"sourceCode","text":""},{"location":"Frontend/React/sourceCode/#overall","title":"overall","text":"<p>React \u8981\u505a\u7684\u4e8b\u60c5\uff0c\u5176\u5b9e\u5c31\u662f\u6570\u636e\u9a71\u52a8\u5206\u5757\u6e32\u67d3\u3002\u5982\u679c\u5355\u60f3\u505a\u5206\u5757\u6e32\u67d3\u5f88\u7b80\u5355\uff0c\u5728\u521d\u6b21\u6e32\u67d3\u65f6\uff0c\u53ef\u4ee5\u77e5\u9053\u6bcf\u4e2a dom \u8282\u70b9\u548c\u5bf9\u5e94\u7684\u6570\u636e/\u51fd\u6570\u7ec4\u4ef6\uff0c\u6570\u636e\u53d8\u52a8\u65f6\uff0c\u91cd\u65b0\u8c03\u7528\u51fd\u6570\u7ec4\u4ef6\u751f\u6210\u65b0\u7684 vdom \u8282\u70b9\uff0c\u518d\u91cd\u65b0\u751f\u6210\u5bf9\u5e94\u7684 dom \u8282\u70b9\u3002\u96be\u70b9\u5728\u4e8e\u6570\u636e\u53d8\u52a8\u751f\u6210\u65b0\u8282\u70b9\u7684\u8fc7\u7a0b\u9700\u8981\u6253\u788e\u5f02\u6b65\u8fdb\u884c\uff0c\u8fd9\u5c31\u9762\u4e34\u7740\u8c03\u5ea6\u53ca\u5176\u4f18\u5316\u3002</p>"},{"location":"Frontend/React/sourceCode/#_1","title":"\u5927\u81f4\u6d41\u7a0b\u56fe","text":"<p>\u7b2c\u4e00\u6b21\u6267\u884c\uff1a</p> <p></p> <p>update:</p> <p></p>"},{"location":"Frontend/React/sourceCode/#lane","title":"lane","text":"<p>Just like lanes on the road, the rule is to drive on different lanes based on your speed, meaning the smaller the lane is the more urgent the work is, the higher priority it is. so SyncLane is 1 here.</p>"},{"location":"Frontend/React/sourceCode/#bitwise-operation","title":"bitwise operation","text":"<pre><code>export function isSubsetOfLanes(set: Lanes, subset: Lanes | Lane) {\n  return (set &amp; subset) === subset;\n}\n\nexport function mergeLanes(a: Lanes | Lane, b: Lanes | Lane): Lanes {\n  return a | b;\n}\n</code></pre>"},{"location":"Frontend/React/sourceCode/#related-methods","title":"related methods","text":"<p><code>requestUpdateLane(fiber):lane</code></p>"},{"location":"Frontend/React/sourceCode/#priority","title":"priority \u76f8\u5173","text":"<p>React \u4e3a\u4e0d\u540c\u7684\u64cd\u4f5c\u8bbe\u7f6e\u4e86\u4e0d\u540c\u7684\u4f18\u5148\u7ea7\uff0c\u6bd4\u5982\u70b9\u51fb\u3001input\u8f93\u5165\u4e3a\u540c\u6b65\u4f18\u5148\u7ea7</p> <p>\u907f\u514d\u9965\u997f\uff1a\u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4\uff1b\u9ad8\u4f18\u5148\u7ea7\u4efb\u52a1\u63d2\u961f</p>"},{"location":"Frontend/React/sourceCode/#anything","title":"anything","text":"<p>:hatched_chick: <code>React.createElement</code> // used by @babel/plugin-transform-react-jsx</p> <p>:hatched_chick: React.createRef:</p> <pre><code>// an immutable object with a single mutable value\nexport function createRef(): RefObject {\n  const refObject = {\n    current: null,\n  };\n  if (__DEV__) {\n    Object.seal(refObject);\n  }\n  return refObject;\n}\n</code></pre> <p>Fiber:</p> <p>// Dependencies (contexts, events) for this fiber, if it has any</p> <p>fiber.dependencies: Dependencies | null</p> <p>\u5f62\u5f0f\u4e0a\u662f\u94fe\u8868\uff0c\u8fd9\u6837\u53ef\u4ee5\u8bb0\u4f4f\u6682\u505c\u7684\u4f4d\u7f6e\uff1b\u50cf\u4e4b\u524d\u7684\u9012\u5f52\u7b97\u6cd5\u5c31\u5f97\u4e00\u53e3\u6c14\u7b97\u5230\u5934</p>"},{"location":"Frontend/React/sourceCode/#hooks","title":"hooks","text":""},{"location":"Frontend/React/sourceCode/#usehooks-only-called-when-function-firstly-called","title":"useHooks only called when function firstly called","text":"<p><code>mountWorkInProgressHook()</code>: \u6784\u9020 workInProgressHook, \u4ee5\u94fe\u8868\u5f62\u5f0f\u4fdd\u5b58 hook</p> <p><code>updateWorkInProgressHook()</code>: \u8fd4\u56de hook\uff0c\u82e5\u662f\u94fe\u8868\u5934\uff0c\u5219\u4ece currentlyRenderingFiber.memoizedState \u4e2d\u8bfb\u53d6 hook \u590d\u5236</p>"},{"location":"Frontend/React/sourceCode/#hooks-can-only-called-within-the-function","title":"hooks can only called within the function","text":"<pre><code>function resolveDispatcher() {\n  const dispatcher = ReactCurrentDispatcher.current;\n  invariant(\n    dispatcher !== null,\n    'Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for' +\n      ' one of the following reasons:\\n' +\n      '1. You might have mismatching versions of React and the renderer (such as React DOM)\\n' +\n      '2. You might be breaking the Rules of Hooks\\n' +\n      '3. You might have more than one copy of React in the same app\\n' +\n      'See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.',\n  );\n  return dispatcher;\n}\n\nexport function useEffect(\n  create: () =&gt; (() =&gt; void) | void,\n  deps: Array&lt;mixed&gt; | void | null,\n): void {\n  const dispatcher = resolveDispatcher();\n  return dispatcher.useEffect(create, deps);\n}\n\n//there are some more dispatchers for other state \nexport const ContextOnlyDispatcher: Dispatcher = {\n  readContext,\n\n  useCallback: throwInvalidHookError,\n  useContext: throwInvalidHookError,\n  useEffect: throwInvalidHookError,\n  useImperativeHandle: throwInvalidHookError,\n  useLayoutEffect: throwInvalidHookError,\n  useMemo: throwInvalidHookError,\n  useReducer: throwInvalidHookError,\n  useRef: throwInvalidHookError,\n  useState: throwInvalidHookError,\n  useDebugValue: throwInvalidHookError,\n  useDeferredValue: throwInvalidHookError,\n  useTransition: throwInvalidHookError,\n  useMutableSource: throwInvalidHookError,\n  useOpaqueIdentifier: throwInvalidHookError,\n\n  unstable_isNewReconciler: enableNewReconciler,\n};\n// In renderWithHooks(), after Component() call executed\nReactCurrentDispatcher.current = ContextOnlyDispatcher;\n</code></pre>"},{"location":"Frontend/React/sourceCode/#other-middle-variables","title":"other middle variables","text":"<pre><code>ReactCurrentOwner.current = workInProgress;\n\nif (__DEV__) {\n    if (current !== null &amp;&amp; current.memoizedState !== null) {\n      ReactCurrentDispatcher.current = HooksDispatcherOnUpdateInDEV;\n    } else if (hookTypesDev !== null) {\n      // This dispatcher handles an edge case where a component is updating,\n      // but no stateful hooks have been used.\n      // We want to match the production code behavior (which will use HooksDispatcherOnMount),\n      // but with the extra DEV validation to ensure hooks ordering hasn't changed.\n      // This dispatcher does that.\n      ReactCurrentDispatcher.current = HooksDispatcherOnMountWithHookTypesInDEV;\n    } else {\n      ReactCurrentDispatcher.current = HooksDispatcherOnMountInDEV;\n    }\n  } else {\n    ReactCurrentDispatcher.current =\n      current === null || current.memoizedState === null\n        ? HooksDispatcherOnMount\n        : HooksDispatcherOnUpdate;\n  }\n</code></pre>"},{"location":"Frontend/React/sourceCode/#hooks-cant-be-nested","title":"hooks cant be nested","text":"<pre><code> useState&lt;S&gt;(\n      initialState: (() =&gt; S) | S,\n    ): [S, Dispatch&lt;BasicStateAction&lt;S&gt;&gt;] {\n      currentHookNameInDev = 'useState';\n      mountHookTypesDev();\n      const prevDispatcher = ReactCurrentDispatcher.current;\n      ReactCurrentDispatcher.current = InvalidNestedHooksDispatcherOnMountInDEV;\n      try {\n        return mountState(initialState);\n      } finally {\n        ReactCurrentDispatcher.current = prevDispatcher;\n      }\n    },\n</code></pre>"},{"location":"Frontend/React/sourceCode/#usestate","title":"useState","text":"<pre><code>function mountWorkInProgressHook(): Hook {\n  const hook: Hook = {\n    memoizedState: null,\n\n    baseState: null,\n    baseQueue: null,\n    queue: null,\n\n    next: null,\n  };\n\n  if (workInProgressHook === null) {\n    // This is the first hook in the list\n    currentlyRenderingFiber.memoizedState = workInProgressHook = hook;\n  } else {\n    // Append to the end of the list\n    // every hooks would be listed \u94fe\u8868\n    workInProgressHook = workInProgressHook.next = hook;\n  }\n  return workInProgressHook;\n}\n\nfunction mountState&lt;S&gt;(\n  initialState: (() =&gt; S) | S,\n): [S, Dispatch&lt;BasicStateAction&lt;S&gt;&gt;] {\n  const hook = mountWorkInProgressHook();\n  if (typeof initialState === 'function') {\n    // $FlowFixMe: Flow doesn't like mixed types\n    initialState = initialState();\n  }\n  hook.memoizedState = hook.baseState = initialState;\n\n  const queue = (hook.queue = {\n    pending: null,\n    dispatch: null,\n    lastRenderedReducer: basicStateReducer,\n    lastRenderedState: (initialState: any),\n  });\n\n  const dispatch: Dispatch&lt;\n    BasicStateAction&lt;S&gt;,\n  &gt; = (queue.dispatch = (dispatchAction.bind(\n    null,\n    currentlyRenderingFiber,\n    queue, // \u4f5c\u7528\u5728\u5b58\u50a8\u591a\u6b21 dispatch\n  ): any)); // \u521d\u59cb\u5316\u65f6\u7684 setXXX \u5c31\u662f function dispatchAction, \u8fd9\u91cc\u7ed1\u5b9a\u4e86 fiber\n  return [hook.memoizedState, dispatch];\n}\n</code></pre> <p>\u901a\u8fc7 dispatchAction \u5b58\u5165\u65b0\u503c\u65f6\uff0c\u5982\u4f55\u89e6\u53d1 update \u6216\u7ec4\u4ef6\u51fd\u6570\u7684\u91cd\u65b0\u6e32\u67d3\u5462\uff1f</p> <p>dispatchAction() -&gt; </p> <ul> <li> <p>const lane = requestUpdateLane(fiber); // \u6839\u636e fiber \u7684 mode, \u9009\u62e9\u4e0d\u540c\u4f18\u5148\u7ea7\u7684 lane \u8fd4\u56de</p> </li> <li> <p>queue.pending = update // update.lane update.action(\u8981\u89e6\u53d1\u7684\u52a8\u4f5c) update.next(\u56de\u73af\u94fe\u8868)</p> </li> <li>scheduleUpdateOnFiber(fiber, lane, eventTime)  -&gt;</li> <li>performSyncWorkOnRoot(root) or schedulePendingInteractions(root, lane);</li> </ul>"},{"location":"Frontend/React/sourceCode/#useeffect","title":"useEffect","text":"<pre><code>function pushEffect(tag, create, destroy, deps) {\n  const effect: Effect = {\n    tag,\n    create,\n    destroy,\n    deps,\n    // Circular\n    next: (null: any),\n  };\n  let componentUpdateQueue: null | FunctionComponentUpdateQueue = (currentlyRenderingFiber.updateQueue: any);\n  if (componentUpdateQueue === null) {\n    componentUpdateQueue = createFunctionComponentUpdateQueue();\n    currentlyRenderingFiber.updateQueue = (componentUpdateQueue: any);\n    componentUpdateQueue.lastEffect = effect.next = effect;\n  } else {\n    const lastEffect = componentUpdateQueue.lastEffect;\n    if (lastEffect === null) {\n      componentUpdateQueue.lastEffect = effect.next = effect;\n    } else {\n      const firstEffect = lastEffect.next;\n      lastEffect.next = effect;\n      effect.next = firstEffect;\n      componentUpdateQueue.lastEffect = effect;\n    }\n  }\n  return effect;\n}\n\nfunction mountEffectImpl(fiberFlags, hookFlags, create, deps): void {\n  const hook = mountWorkInProgressHook();\n  const nextDeps = deps === undefined ? null : deps;\n  currentlyRenderingFiber.flags |= fiberFlags;\n  hook.memoizedState = pushEffect(\n    HookHasEffect | hookFlags,\n    create,\n    undefined,\n    nextDeps,\n  );\n}\n</code></pre> <p>\u90a3\u4ec0\u4e48\u65f6\u5019\u6267\u884c effects \u91cc\u7684\u56de\u8c03\u5462\uff1fflushPassiveEffects(), \u4e3b\u8981\u5728 commit phase \u7684 commitRoot() \u91cc</p>"},{"location":"Frontend/React/vsVue/","title":"vsVue","text":"<p>\u9996\u5148\u8981\u627e\u5230\u6838\u5fc3\u5dee\u5f02\uff1a</p> <p>Vue\u8fdb\u884c\u6570\u636e\u62e6\u622a\uff0c\u6240\u4ee5\u5bf9\u4fa6\u6d4b\u6570\u636e\u7684\u53d8\u5316\u66f4\u7cbe\u786e\uff0c\u5bf9\u540e\u7eed\u7684hooks\u548cfunction based api\u4e5f\u63d0\u4f9b\u4e86\u5f88\u591a\u904d\u5386\u3002</p> <p>React\u63a8\u5d07\u51fd\u6570\u5f0f\uff0c\u76f4\u63a5\u8fdb\u884c\u5c40\u90e8\u91cd\u65b0\u5237\u65b0\uff0c\u5176\u5b9e\u66f4\u7b80\u5355\uff1b\u4f46\u662f\u600e\u4e48\u53bb\u5237\u65b0\u7684\u65f6\u95f4\u5c31\u4ea4\u7ed9\u4e86\u5f00\u53d1\u8005\u3002</p> <p>\u4ee5\u53ca\u6570\u636e\u4f20\u9012\u65b9\u5f0f\uff1aVue\u662f\u53cc\u5411 \u66f4\u4e3a\u65e0\u5e8f\uff1bReact \u662f\u5355\u5411</p> <p>vue3\u53ef\u4ee5\u505a\u5230dom diff\uff0c\u662f\u56e0\u4e3avue\u53ef\u4ee5\u5bf9template\u7684\u9759\u6001\u5206\u6790\uff1b\u4f46React\u638c\u7ba1\u7684\u5b9e\u9645\u5c31\u662f\u4e00\u5806React.createElement\u7684\u5c40\u90e8\u8c03\u7528\uff0c\u65e0\u6cd5\u4ece\u6a21\u677f\u5c42\u9762\u8fdb\u884c\u9759\u6001\u5206\u6790\u3002</p> <p>React\u7684HOC\u5bf9\u5e94\u5230vue\u91cc\u662f\u4ec0\u4e48\uff1f-mixin</p> <p>\u4e0d\u8fc7hoc\u662f\u975e\u4fb5\u5165\u7684 \u800cmixin\u4fb5\u5165\uff0c\u5e76\u4e14\u5982\u679cmixin\u5d4c\u5957\u7684\u8bdd\uff0c\u63a5\u4e0b\u6765\u7684\u4e8b\u60c5\u4e5f\u5f88\u96be\u529e\u3002</p> <p>Vue\u5982\u679c\u7528\u9ad8\u9636\u5199\u7684\u8bdd\uff0c\u597d\u9ebb\u70e6\u54e6\u3002\u9700\u8981\u81ea\u5b9a\u4e49render\u8fd9\u4e9b\u3002</p> <p>\u4f7f\u7528HOC\u7684\u4f18\u52bf\uff1a</p> <ul> <li> <p>\u51cf\u5c11\u5bf9\u539f\u59cb\u7ec4\u4ef6\u7684\u5165\u4fb5\uff0c\u964d\u4f4e\u8026\u5408\u3002HOC\u4e2d\uff0c\u539f\u59cb\u7ec4\u4ef6\u53ea\u7528\u8003\u8651\u81ea\u8eab\u903b\u8f91\uff0c\u4e0d\u7528\u8003\u8651\uff0c\u4e5f\u611f\u77e5\u4e0d\u5230HOC\u5bf9\u5b83\u505a\u4e86\u4ec0\u4e48\u3002\u800cmixin\uff0c\u7ec4\u4ef6\u5728\u5185\u90e8\u9700\u8981\u4f7f\u7528mixin\u7684\u8ba1\u7b97\u5c5e\u6027\uff08\u66f4\u590d\u6742\u7684mixin\u8fd8\u4f1a\u7528\u5230\u751f\u547d\u5468\u671f\u548cmethods\u65b9\u6cd5\uff09.</p> </li> <li> <p>\u6743\u9650\u63a7\u5236\u65b9\u4fbf\u96c6\u4e2d\u7ba1\u7406\uff0c\u76f4\u63a5\u5728routes\u914d\u7f6e\u4e2d\u7ba1\u7406\u5404\u4e2a\u9875\u9762\u914d\u7f6e\uff0c\u800c\u4e0d\u662f\u5206\u6563\u5728\u5404\u4e2a\u9875\u9762\u7ec4\u4ef6\u5185\u90e8\u3002</p> </li> <li> <p>\u907f\u514d\u547d\u540d\u51b2\u7a81\u3002\u5982\u679c\u9875\u9762\u81ea\u5df1\u6709\u81ea\u5df1\u5185\u90e8\u7684\u6743\u9650\u63a7\u5236\uff0c\u521a\u597d\u4e5f\u6709\u4e2acomputed\u5c5e\u6027\u53ebhasRight\u5462\uff1f\u5728HOC\u4e0b\u6ca1\u95ee\u9898\uff0c\u4f46mixin\u5c31\u4e0d\u884c\u4e86\u3002</p> </li> </ul> <p>Vue\u51e0\u4e2a\u5c0f\u5c0f\u7684\u4e0d\u8db3\uff1a</p> <ul> <li>\u9762\u5411\u5bf9\u8c61\u7bc7\uff1a</li> </ul> <p>\u7ec4\u4ef6\u4e0a\u6302\u8f7d\u7684\u5f88\u591a\u5bf9\u8c61\uff0c\u7f16\u8f91\u5668\u4e0d\u80fd\u8ffd\u6eaf\u6765\u6e90</p> <p>\u5b98\u65b9\u914d\u4ef6\uff08router/vuex)\u548c\u793e\u533a\u90fd\u6d41\u884c\u76f4\u63a5\u5f80Vue.prototype\u4e0a\u6302\u4e1c\u897f\uff0cthis.$router this.$store this.$xxx\u6ee1\u5929\u98de\uff0c\u7167\u6837\u4e0d\u5229\u4e8e\u7f16\u8f91\u5668\u7684\u8bed\u4e49\u7406\u89e3\uff0c\u5927\u9879\u76ee\u91cc\u9762\u5f88\u96be\u7b80\u5355\u5730\u505a\u9879\u76ee\u5185\u8de8\u6587\u4ef6\u81ea\u52a8\u641c\u7d22\u5f15\u7528/\u81ea\u52a8\u91cd\u6784\uff08\u8fd8\u662fimport/export\u5bf9\u7f16\u8f91\u5668\u6bd4\u8f83\u53cb\u597d\uff09</p> <p>\u53e6\u5916\uff0c\u50cfegg\u4e5f\u6302\u4e86\u4e1c\u897f\uff0c\u4f46\u662f\u5f97\u76ca\u4e8e\u5b83\u7f16\u5199\u4e86d.ts...</p> <ul> <li>\u6a21\u677f\u5f15\u64ce\u7bc7\uff1a</li> </ul> <p>\u5f88\u591a\u8bed\u6cd5\u7cd6/\u81ea\u5b9a\u4e49\u6307\u4ee4\u8981\u8bb0\uff08\u5b83\u4eec\u5b9e\u9645\u53ef\u4ee5\u6ca1\u6709\uff09\uff0c\u8fd8\u6709\u7ed1\u5b9a\u4e8b\u4ef6\u7684\u5199\u6cd5\u2026\u6bcf\u6b21\u90fd\u8981\u67e5\u6587\u6863 //\u4e0d\u8fc7\u8fd9\u4e5f\u662f\u5b83\u5305\u529e\u4e00\u5207\u7684\u601d\u8def</p> <p>\u6a21\u677f\u5f15\u64ce\u6ca1\u6709\u8bcd\u6cd5\u8303\u56f4\uff0c\u6bd4\u5982\u5f88\u53ef\u80fd\u4e00\u4e2a\u5b57\u7b26\u4e32\u4ee3\u8868\u4e00\u4e2a\u51fd\u6570\u2026</p> <p>v-if/v-for\u4e0d\u652f\u6301\u51fd\u6570\u548cfilters\uff0c\u8fd8\u5f97\u6309computed\u6765\u5199\uff0c\u4e0d\u5982React\u5728render\u4e2d\u7684\u6570\u636e\u9884\u5904\u7406\u8212\u670d</p> <ul> <li>\u5355\u6587\u4ef6\u7684\u7ec4\u4ef6\u5316\u65b9\u6848</li> </ul> <p>vue.js\u6709\u54ea\u4e9b\u8bbe\u8ba1\u7f3a\u9677\uff1f - \u4f0a\u6492\u5c14\u7684\u56de\u7b54 - \u77e5\u4e4e https://www.zhihu.com/question/315734889/answer/621507483</p> <p>\u4e0d\u8fc7\u6211\u786e\u5b9e\u5f88\u559c\u6b22vue\u7684keep-alive\uff01</p>"},{"location":"Frontend/React/%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5/","title":"\u6570\u636e\u540c\u6b65","text":""},{"location":"Frontend/React/%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5/#eventbus","title":"EventBus","text":"<ol> <li>onEvent \u7684\u6ce8\u518c\u653e\u7f6e\u5728 useEffect() \u91cc</li> <li>\u82e5\u9700\u8981 new Event\uff0c\u6302\u8f7d\u5728 ref \u4e0a\uff0c\u6216 useMemo \u91cc</li> <li>\u82e5\u9700\u8981\u5728 onEvent \u7684\u56de\u8c03\u91cc\u8bbe\u7f6e\u548c\u83b7\u53d6\u6570\u636e\uff1asetState \u6ca1\u6709\u95ee\u9898\uff1b\u4f46\u662f\u7531\u4e8e\u5b83\u5b9e\u8d28\u4f4d\u4e8e\u521b\u5efa\u65f6\uff08\u4e5f\u5c31\u662f\u7b2c\u4e00\u4e2a\u7ec4\u4ef6\u51fd\u6570\uff09\u7684\u4e0a\u4e0b\u6587\u91cc\uff0c\u6240\u4ee5\u7b2c\u4e00\u4e2a\u7ec4\u4ef6\u51fd\u6570\u4e0d\u4f1a\u88ab\u56de\u6536\uff08\u76f8\u5f53\u4e8e\u95ed\u5305\uff09\uff0c\u5b83\u83b7\u53d6\u7684\u6570\u636e\u4e5f\u53ea\u662f\u8fd9\u4e2a\u7ec4\u4ef6\u51fd\u6570\u5185\u90e8\u7684\u6570\u636e\u3002\u5982\u8981\u83b7\u53d6\u5230\u6700\u65b0\u7684\u6570\u636e\uff0c\u90a3\u53ea\u80fd\u628a\u8fd9\u4efd\u6570\u636e\u6302\u8f7d\u5230 ref \u4e0a\u53bb\u3002</li> </ol> <p>E.g.</p> <pre><code>const App = props =&gt; {\n  const myEmitterRef = useRef(new EventEmitter());\n  const persistantDataRef = useRef({count: 0});\n  const [counter, setCounter] = useState(0);\n\n  useEffect(() =&gt; {\n    myEmitter.current.on(\"event\", msg =&gt; {\n      console.log(\"Parent received: \" + msg);\n      //count: persistantDataRef.current.count\n    });\n  }, []);\n\n  const Send = () =&gt; {\n    myEmitter.current.emit(\"event\", \"parent sending this message.\");\n    setCounter(counter+1);\n  };\n\n  useEffect(()=&gt;{\n    persistantDataRef.current.count = count+1;\n  }, [count])\n\n  return (\n    &lt;Content&gt;\n      &lt;button onClick={Send}&gt;emit&lt;/button&gt;\n      &lt;Child myEmitter={myEmitterRef.current} /&gt;\n    &lt;/Content&gt;\n  );\n};\n</code></pre>"},{"location":"Frontend/React/%E6%95%B0%E6%8D%AE%E5%90%8C%E6%AD%A5/#react-use-sync-external-store","title":"React \u7684 use-sync-external-store","text":"<p>\u6e90\u7801\uff1a\u539f\u7406\u4e5f\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u63d0\u4f9b checkIfValueChanged \u548c forceUpdate \u65b9\u6cd5\uff0c\u8ba9\u5916\u90e8\u5e93\u5728\u5bf9\u5e94\u7684 value \u6539\u53d8\u540e\uff0c\u53ef\u4ee5\u624b\u52a8\u89e6\u53d1\u5f53\u524d\u6e32\u67d3\u7ec4\u4ef6\u7684 rerender.</p>"},{"location":"Frontend/React/antd/comps/","title":"comps","text":""},{"location":"Frontend/React/antd/comps/#form","title":"form","text":"<p>\u5e03\u5c40\uff1a</p> <p>\u91c7\u7528\u9ed8\u8ba4 layout\uff0c\u7a81\u7136\u6709\u4e00\u884c\u9700\u8981\u8fde\u7eed\u51e0\u4e2a\u8868\u5355\u9879\u65f6\uff0c\u8fd9\u51e0\u4e2a\u8868\u5355\u9879</p> <ol> <li>\u7528 col \u5305\u88f9 // \u5982\u679c\u4e0d\u7528 col \u5305\u88f9\uff0c\u76f4\u63a5\u5b50 item \u4e5f nostyle \u7684\u8bdd\u53ef\u4ee5\u5b8c\u6210 inline \u5e03\u5c40\uff0c\u4f46\u662f error \u4fe1\u606f\u90fd\u4f1a\u5230\u5916\u5c42\u7684 Item \u4e0b\u9762\u53bb\u3002</li> <li>\u518d\u7edf\u4e00\u7528  \u5305\u88f9\u5916\u5c42\uff0c\u5e76\u4e14\u590d\u5199 marginBottom 0\uff0c\u4e0d\u7136\u4f1a\u53cc\u500d\u95f4\u8ddd <pre><code>&lt;Item\n  label=\"sss\"\n  style={{ marginBottom: 0 }}\n&gt;\n    &lt;Row&gt;\n        &lt;Col&gt;&lt;Item&gt;&lt;Input /&gt;&lt;/Item&gt;&lt;Col&gt;\n        &lt;Col&gt;&lt;Item&gt;&lt;Input /&gt;&lt;/Item&gt;&lt;Col&gt;\n    &lt;/Row&gt;\n&lt;/Item&gt;\n</code></pre>"},{"location":"Frontend/React/apis/PureComponent/","title":"PureComponent","text":""},{"location":"Frontend/React/apis/PureComponent/#purecomponent","title":"PureComponent","text":""},{"location":"Frontend/React/apis/PureComponent/#_1","title":"\u51fa\u73b0\u539f\u56e0 &amp;&amp; \u89e3\u51b3\u95ee\u9898","text":"<p>\u4e3a\u907f\u514d\u5d4c\u5957\u4f7f\u7528\u7684\u7ec4\u4ef6\u65e0\u5fc5\u8981\u7684\u8c03\u7528rerender\u4e0b\u53bb\u2026 \u63a8\u51fa <code>shouldComponentUpdate</code> api\uff0c\u540e\u8fdb\u4e00\u6b65\u63a8\u51faPureComponent\uff0c\u53ea\u5728state\u4e0eprops\u53d1\u751f\u6539\u53d8\u65f6\u624d\u53d8\u52a8\u3002</p> <p>// \u8ba9\u6211\u60f3\u5230Vue\uff0c\u5b9e\u5219\u5c31\u662f\u5982\u6b64\u3002\u53ea\u5bf9\u6ce8\u518c\u7684\u53d8\u91cf\u53d8\u5316\u53d1\u751f\u53cd\u5e94\u3002\u4f46\u662fVue\u751f\u6210\u5b8cdom\u8282\u70b9\u540e\u662f\u5426\u4f1a\u518d\u505a\u4e00\u6b21\u6bd4\u8f83\u5462</p>"},{"location":"Frontend/React/apis/PureComponent/#why-not-use-it-everywhere","title":"Why not use it everywhere?","text":"<p>\u601d\u8003\u89d2\u5ea6\u95ee\u9898\u3002\u7ad9\u5728\u4f7f\u7528\u8005\u7684\u7acb\u573a\u4e0a\u8003\u8651\uff0c\u505a\u4e00\u4e0bstate\u4e0eprops\u7684\u6d45\u6bd4\u8f83\u4f3c\u4e4e\u5f88\u7b80\u5355\uff0cstate\u4e0eprops\u6ca1\u53d8\uff0c\u5e95\u4e0b\u7684component\u90fd\u4e0d\u7528\u6539\u53d8 \u591a\u597d\u3002\u4f46\u662fReact\u5f00\u53d1\u8005\u4f1a\u89c9\u5f97\uff0c\u5927\u90e8\u5206\u60c5\u51b5\u4e0bstate\u4e0eprops\u90fd\u662f\u6709\u53d1\u751f\u53d8\u52a8\u7684\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u518d\u6bd4\u8f83state\u4e0eprops\u5c31\u662f\u6d6a\u8d39\u8d44\u6e90\u4e86\u3002\u6bd4\u8f83\u603b\u6bd4\u4e0d\u6bd4\u6162\u3002</p> <p>\u53e6\u5916\uff0cprops\u4e0d\u53d1\u751f\u53d8\u52a8\u9700\u8981\u6ce8\u610f\u4e00\u4e9b\u7ec6\u8282\uff0c\u6bd4\u5982\u675c\u7eddinline-function.</p> <p>https://twitter.com/dan_abramov/status/820668074223353858</p>"},{"location":"Frontend/React/apis/PureComponent/#when-would-a-react-component-not-be-a-pure-component","title":"When would a react component not be a pure component?","text":"<p>\u4efb\u4f55\u8bfb\u53d6\u4e86\u975eprops/state\u53d8\u91cf\u7684\uff0c\u90fd\u4e0d\u80fd100%\u4fdd\u8bc1\u6bcf\u6b21\u6e32\u67d3\u7684\u7ed3\u679c\u5b8c\u5168\u4e00\u81f4\u3002\u6bd4\u5982\u8bfb\u53d6Date.now().</p>"},{"location":"Frontend/React/apis/PureComponent/#purecomponent-vs-reactmemo","title":"PureComponent v.s. React.memo()","text":"<p>\u540e\u8005\u5728props\u76f8\u540c\u7684\u60c5\u51b5\u4e0b \u6574\u4e2aclass\u5b9e\u4f8b\u91cc\u7684\u94a9\u5b50\u90fd\u4e0d\u4f1a\u8c03\u7528 \u76f4\u63a5\u4e0d\u53d8\u3002\u4e0d\u50cfPureComponent \u81f3\u5c11\u8fd8\u6709\u8c03\u7528componentWillReceiveProps.</p>"},{"location":"Frontend/React/apis/context/","title":"context","text":""},{"location":"Frontend/React/apis/context/#context","title":"context","text":""},{"location":"Frontend/React/apis/context/#snippet","title":"snippet","text":"<pre><code>const Context = React.createContext();\n\nclass TodoProvider extends React.Component {\n  state = {todos: [...]};\n  render() {\n    return (\n      &lt;Context.Provider value={this.state.todos}&gt;\n        {this.props.children}\n      &lt;/Context.Provider&gt;\n    );\n  }\n}\n\nclass TodoList extends React.Component {\n    render() {\n      return (\n        &lt;Context.Consumer&gt;\n          {todos =&gt; ....}\n        &lt;/Context.Consumer&gt;\n      );\n    }\n  }\n</code></pre>"},{"location":"Frontend/React/apis/context/#_1","title":"\u539f\u7406","text":"<p>Provider\u4f1a\u5bf9\u4f20\u5165\u7684value\u5c5e\u6027\u8fdb\u884c\u767b\u8bb0\uff0c\u5e76\u901a\u8fc7\u7c7b<code>Object.is()</code>\u7b97\u6cd5\u8fdb\u884c\u662f\u5426\u53d8\u5316\u5bf9\u6bd4\u3002\u53d1\u751f\u53d8\u5316\u540e\u6240\u6709\u7684Consumer\u7ec4\u4ef6\u90fd\u4f1arerender.</p>"},{"location":"Frontend/React/apis/context/#pureconsumerconsumer-rerender","title":"\u5982\u679cpure\u7ec4\u4ef6\u91cc\u6709\u4e2aConsumer\uff0c\u8be5\u7ec4\u4ef6\u80fd\u5426\u5728Consumer rerender\u540e\u8fdb\u884c\u91cd\u65b0\u6e32\u67d3","text":"<p>\u7ec4\u4ef6\u4e0d\u4f1a\uff0c\u4f46\u662fConsumer\u91cc\u7684\u90e8\u5206\u4f1a\u3002Consumer\u6709\u4e2a\u5f88\u795e\u5947\u7684\u5730\u65b9\uff0c\u5982\u679cProvider\u91cc\u7684value\u6539\u53d8\uff0cConsumer\u91cc\u7684\u5185\u5bb9\u4f1a\u81ea\u5df1\u91cd\u65b0\u6e32\u67d3\uff0c\u4e0d\u4f1a\u8d70\u5bbf\u4e3bComponent\u91cc\u7684re-render\u3002</p>"},{"location":"Frontend/React/apis/context/#_2","title":"\u5144\u5f1f\u4ea7\u54c1\u7684\u505a\u6cd5","text":""},{"location":"Frontend/React/apis/context/#vue","title":"Vue","text":"<p>\u91c7\u7528EventBus\u7684\u5f62\u5f0f \u53ea\u662f\u4e00\u4e2a\u89e3\u51b3\u65b9\u6848\u3002\u4f46\u5e76\u672a\u51fa\u76f8\u5173api\u3002</p>"},{"location":"Frontend/React/apis/getDerivedStateFromProps/","title":"static getDerivedStateFromProps","text":"<p>props\u53d8\u52a8\u540e\u7684\u56de\u8c03\uff0c\u66ff\u4ee3\u539f\u6765\u7684<code>componentWillReceiveProps</code>\u3002</p>"},{"location":"Frontend/React/apis/getDerivedStateFromProps/#why-static","title":"why static","text":"<p>\u56e0\u4e3a\u4e0d\u60f3\u8981\u7528\u6237\u53ef\u4ee5\u5728\u8fd9\u4e2a\u65b9\u6cd5\u91cc\u4fee\u6539\u5b9e\u4f8b\u65b9\u6cd5\u3002</p>"},{"location":"Frontend/React/apis/getDerivedStateFromProps/#_1","title":"\u9700\u8981\u5c3d\u91cf\u907f\u514d\u8be5\u79cd\u65b9\u6cd5\u7684\u8c03\u7528","text":"<p>\u5982\u679c\u6d89\u53ca\u5230state\u4e0eprops\u76f8\u5173\uff0c\u5207\u8bb0\u4e0d\u8981\u6bcf\u6b21props\u53d8\u5316\u90fd\u5c06\u503c\u540c\u6b65\u5230state\u53bb\u3002</p> <p>E.g. input\u6846\u8f93\u5165\uff0c\u65e2\u6709\u9ed8\u8ba4\u5c55\u73b0\u503c\uff0c\u7528\u6237\u4e5f\u53ef\u4ee5\u4fee\u6539\u3002</p> <p>\u5982\u679c\u6bcf\u6b21props\u53d8\u5316\u90fd\u901a\u8fc7<code>componentWillReceiveProps</code>\u6216\u662f<code>getDerivedStateFromProps</code>\u5c06\u503c\u540c\u6b65\u5230 state \u53bb\uff0c\u7ec4\u4ef6\u91cc\u7684\u503c\u4f1a\u975e\u5e38\u8f7b\u6613\u7684\u88ab props \u7684\u503c\u8986\u76d6\u3002\u56e0\u4e3a\u4e0a\u8ff0\u94a9\u5b50\u5728\u4ee5\u4e0b\u4e24\u4e2a\u65f6\u673a\u90fd\u4f1a\u88ab\u89e6\u53d1:</p> <ol> <li>\u7236\u7ec4\u4ef6\u5176\u4ed6 prop \u53d8\u52a8</li> <li>\u7236\u7ec4\u4ef6 rerender</li> </ol> <p>\u6240\u4ee5\u5c3d\u91cf\u4e0d\u8981\u8fd9\u4e48\u505a\u3002\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u4fee\u6539:</p> <ul> <li>\u6539\u6210\u5b8c\u5168\u53d7\u63a7\u7684\u7ec4\u4ef6</li> <li>\u5c06\u76f8\u5173\u8fd0\u7b97\u653e\u5230 <code>render</code> \u91cc\u6765\u505a\uff0c\u5c06\u539f\u672c\u7684 state \u53d8\u6210 render \u91cc\u7684\u5c40\u57df\u53d8\u91cf\u3002</li> <li> <p>\u5982\u679c\u76f8\u5173\u8fd0\u7b97\u6bd4\u8f83\u91cd\uff0c\u53ef\u501f\u52a9\u5b98\u65b9\u63a8\u51fa\u7684 <code>memoize-one</code> \u8bb0\u5fc6\u9ad8\u9636\u51fd\u6570\u3002</p> </li> <li> <p>\u4f9d\u7136\u662f\u4e0d\u53d7\u63a7\u7ec4\u4ef6</p> </li> <li>\u521d\u59cb props \u503c\u5e94\u8be5\u547d\u540d\u4e3a <code>defaultValue</code> \u6216\u662f <code>initValue</code>\uff0c\u7c7b\u4f3c antd \u91cc\u7684\u8bbe\u8ba1\u3002</li> <li>\u9700\u8981\u660e\u786e <code>getDerivedStateFromProps</code>\u91cc state \u6d3e\u751f\u503c\u8fdb\u884c\u4fee\u6539\u7684\u5224\u65ad\u4f9d\u636e\uff1a<ul> <li>\u5173\u952e id \u53d1\u751f\u53d8\u5316\uff0c\u76f8\u5f53\u4e8e\u767b\u5f55\u8868\u5355\u91cc\u82e5\u5173\u952e id (email) \u6539\u53d8\uff0cpw\u6846\u91cc\u7684\u503c\u4e5f\u9700\u91cd\u8bbe\u4e3a\u521d\u59cb\u503c\u3002</li> <li>\u66b4\u9732\u4e00\u4e2a <code>forceReset</code> \u65b9\u6cd5\u7ed9\u7236\u7ec4\u4ef6\uff0c\u7531\u7236\u7ec4\u4ef6\u8c03\u7528\u3002</li> </ul> </li> </ul>"},{"location":"Frontend/React/apis/getDerivedStateFromProps/#ref","title":"Ref","text":"<p>react \u6587\u6863</p>"},{"location":"Frontend/React/apis/hooks/","title":"hooks","text":""},{"location":"Frontend/React/apis/hooks/#internal-hooks","title":"internal hooks","text":""},{"location":"Frontend/React/apis/hooks/#usememo-and-usecallback","title":"useMemo and useCallback","text":"<p>Now I finally get it!</p> <p><code>useMemo</code> is for caching repetitive computing, like <code>memoized</code> function in render() of Class component.</p> <pre><code>const Button = React.memo(() =&gt; {\n  console.log(\"Button Rendered!\");\n  window.alert(\"Button Rendered\");\n  return &lt;button onClick=\"\"&gt;Press me&lt;/button&gt;;\n});\n</code></pre> <p><code>useCallback</code> is for passing functional props to children component, in case that everytime the component rerenders there will be a new functional prop so the pureComponent or React.memo of the children component cant work properly.</p> <p>\u4f46\u662f useMemo \u6709\u4e00\u5b9a\u6d88\u8017\uff0c\u8fd8\u662f\u5c3d\u91cf\u9075\u5faa keep useful state within component \u4e3a\u597d</p> <p>react-hook-fetch-data</p> <p>It mentioned that how to extract <code>custom fetch api hook</code> and <code>reducer hook</code> further more.</p> <p>Here's a usecase for<code>reducer hook</code>. We need to set isError, isLoading or data imperatively:</p> <pre><code>setError(false);\nsetLoading(false);\n</code></pre> <p>To improve it, we can collect these actions together as fetchSuccess, which returns the new states descriptively:</p> <pre><code> const dataFetchReducer = (state, action) =&gt; {\n  switch (action.type) {\n    case 'FETCH_SUCCESS':\n      return { isError: false, isLoadding: false };\n  }\n};\n\ndispatch(fetchSuccess)\n</code></pre>"},{"location":"Frontend/React/apis/react-lazy/","title":"react-lazy","text":""},{"location":"Frontend/React/apis/react-lazy/#import","title":"import\u61d2\u52a0\u8f7d","text":"<pre><code>import('xxx/xxx').then()\n</code></pre> <p>Snippet</p> <pre><code>import React, {Suspense, lazy} from 'react';\n\nconst Comp3Lazy = lazy(() =&gt; new Promise((resolve) =&gt; {\n  setTimeout(() =&gt; {\n    resolve(import('./components/Comp3'));\n  }, 3000);\n}));\n\n&lt;Suspense fallback={&lt;div&gt;Loading...&lt;/div&gt;}&gt;\n  &lt;Route path=\"/comp3-lazy\" component={Comp3Lazy}&gt;&lt;/Route&gt;\n&lt;/Suspense&gt;\n</code></pre>"},{"location":"Frontend/React/react-router/","title":"index","text":""},{"location":"Frontend/React/react-router/#basic-snippet","title":"basic snippet","text":"<pre><code>import { HashRouter, Route, Link } from 'react-router-dom';\nimport { withRouter } from 'react-router';\n\nfunction CompInComp(props) {\n  //props.history\n}\n\nfunction Comp(props){\n  // props.history\n  return withRouter(&lt;CompInComp&gt;&lt;/CompInComp&gt;);\n}\n\nfunction App(){\n  return (\n    &lt;div className=\"app\"&gt;\n      &lt;HashRouter&gt;\n        &lt;Link to=\"path1\"&gt;go to path1&lt;/Link&gt;\n        &lt;Route path=\"/path1\" component={Comp} /&gt;\n      &lt;/HashRouter&gt;\n    &lt;/div&gt;\n  )\n}\n</code></pre>"},{"location":"Frontend/React/react-router/#notes","title":"notes","text":""},{"location":"Frontend/React/react-router/#router-vs-route","title":"Router v.s. Route","text":"<p>Router\u542b\u8def\u7531\u5668\u4e4b\u610f\uff0c\u5373\u7ba1\u7406\u8def\u7531\u7684\u8bbe\u5907\uff1b\u800cRoute\u6307\u67d0\u4e00\u5355\u4e00\u7684\u9053\u3002 \u6ce8\u610f\u8bfb\u97f3\uff0c\u82f1\u5f0f\u53d1/u:/\uff0c\u800c\u7f8e\u5f0f\u53d1/au/.</p>"},{"location":"Frontend/React/react-router/#_1","title":"\u5206\u5305\u903b\u8f91","text":"<p>\u7ec4\u4ef6\u76f8\u5173\u7684\u4ecereact-router-dom\u91cc\u51fa\uff0c\u800c\u5355\u7eaf\u65b9\u6cd5\u4ecereact-router\u91cc\u51fa\u3002</p>"},{"location":"Frontend/ReactNative/Android/","title":"Android","text":""},{"location":"Frontend/ReactNative/Android/#_1","title":"\u5ba1\u6838\u76f8\u5173","text":"<ul> <li> <p>\u9690\u79c1\u534f\u8bae</p> </li> <li> <p>\u672a\u540c\u610f\u9690\u79c1\u534f\u8bae\uff0c\u4e0d\u8fd0\u884c\u8fdb\u884c\u4efb\u4f55\u64cd\u4f5c\uff0c\u6bd4\u5982\uff1a</p> </li> <li> <p>\u53d1\u9001\u9a8c\u8bc1\u7801</p> </li> <li> <p>\u8bfb\u53d6 wifi \u4fe1\u606f ip\u4fe1\u606f\uff0c\u8fd9\u5c31\u5bfc\u81f4\u9690\u79c1\u534f\u8bae\u8981\u5185\u5d4c\u5728 app \u4e2d\uff0c\u4e0d\u80fd\u901a\u8fc7 webview \u6253\u5f00</p> </li> <li> <p>\u6743\u9650\u5ba1\u6838\u65f6\uff0c\u9700\u8981\uff1a</p> </li> <li> <p>\u5f39\u51fa\u7533\u8bf7\u5f39\u6846\u65f6\uff0c\u8bf4\u660e\u76ee\u7684</p> </li> <li> <p>\u6388\u6743\u88ab\u62d2\u7edd\u65f6\uff0c\u518d\u6b21\u5f39\u51fa\u76ee\u7684\u5f39\u6846\uff0c\u53ca\u8df3\u8f6c\u8bbe\u7f6e\u6309\u94ae</p> </li> </ul>"},{"location":"Frontend/ReactNative/Android/#permissions","title":"Permissions","text":"<ul> <li> <p>\u666e\u901a\u6743\u9650v.s.\u5371\u9669\u6743\u9650\uff0c\u5176\u4e2d\u666e\u901a\u6743\u9650\u5b89\u88c5\u65f6\u5373\u53ef\u7533\u8bf7\uff0c\u5371\u9669\u6743\u9650\u4f7f\u7528\u65f6\u624d\u4f1a\uff0c\u4e3b\u8981\u5305\u62ec READ_WRITE, CAMERA \u8fd9\u4e9b</p> </li> <li> <p>\u5ba1\u6838\u8981\u6c42\uff0c\u5f39\u51fa\u6743\u9650\u8bf7\u6c42\u65f6\uff0c\u8fd8\u9700\u8981\u8bf4\u660e\u539f\u56e0\u3002Android \u6709 requestRational \u7c7b\u4f3c\u7684\u914d\u7f6e\uff0c\u53c2\u8003 Request runtime permissions  |  Android Developers\uff0c\u4f46\u662f\u5b83\u53ea\u4f1a\u5728\u7528\u6237\u7b2c\u4e00\u6b21\u62d2\u7edd\u540e\uff0c\u540e\u53c8\u8be2\u95ee\u65f6\u624d\u751f\u6548\u3002\u6240\u4ee5\u8fd8\u5f97\u81ea\u5df1\u5305\u88c5\u65b9\u6cd5\uff0c\u8bf7\u6c42\u65f6\u624b\u52a8\u5f39\u8bf4\u660e\u5f39\u6846\u3002</p> </li> </ul> <p>refs: Android 6.0 \u8fd0\u884c\u65f6\u6743\u9650\u7ba1\u7406\u6700\u4f73\u5b9e\u8df5_com.yanzhenjie:permission_\u4e25\u632f\u6770\u7684\u535a\u5ba2-CSDN\u535a\u5ba2</p>"},{"location":"Frontend/ReactNative/IOS/","title":"IOS","text":""},{"location":"Frontend/ReactNative/IOS/#universallinks-sdk","title":"UniversalLinks \u4e0e\u5fae\u4fe1 sdk \u63a5\u5165","text":"<ul> <li>\u6ce8\u518c\u7684 link \u9700\u4e3a\u57df\u540d\u672c\u8eab\uff0c\u4e0d\u80fd\u5e26\u76f8\u5bf9\u8def\u5f84</li> <li>apple-app-site-association \u8981\u6309\u7167\u6700\u65b0\u6587\u6863\u6765\uff0c\u548c\u4e4b\u524d\u7684\u6709\u51fa\u5165</li> </ul> <pre><code>{\n    \"applinks\": {\n        \"details\": [\n             {\n               \"appIDs\": [ \"xxx.babylon.lianmeihu.com\" ],\n               \"components\": [{\n                        \"/\": \"/\",\n                        \"comment\" : \"anything\"\n                    },{\n                        \"/\": \"/*\",\n                        \"comment\" : \"anything\"\n                }]\n             }\n        ]\n    }\n}\n</code></pre> <ul> <li>\u624b\u673a\u6d4b\u8bd5<ul> <li>\u4f7f\u7528 Safari \u6d4f\u89c8\u5668</li> <li>\u6253\u5f00\u624b\u673a\u7684 \u300c\u5f00\u53d1\u8005 &gt; \u5173\u8054\u57df\u5f00\u53d1\u300d</li> </ul> </li> <li>ios \u8def\u7531\u5524\u8d77<ul> <li>\u56e0\u4e3a ReactNative \u5b9e\u8d28\u5728\u4e00\u5f20\u9875\u9762\u4e0b\uff0c\u6240\u4ee5\u9700\u8981\u4ece initialUrl \u5904\u5206\u6790</li> </ul> </li> </ul> <pre><code>componentDidMount(){\n    // this handles the case where the app is closed and is launched via Universal Linking.\n    Linking.getInitialURL()\n        .then((url) =&gt; {\n          if (url) {\n            // Alert.alert('GET INIT URL','initial url  ' + url)\n            this.resetStackToProperRoute(url)\n          }\n        })\n        .catch((e) =&gt; {})\n           // This listener handles the case where the app is woken up from the Universal or Deep Linking\n       Linking.addEventListener('url', this.appWokeUp);\n    }\n\n  componentWillUnmount(){\n    // Remove the listener\n    Linking.removeEventListener('url', this.appWokeUp);\n  }\n\n  appWokeUp = (event) =&gt; {\n    // this handles the use case where the app is running in the background and is activated by the listener...\n    // Alert.alert('Linking Listener','url  ' + event.url)\n    this.resetStackToProperRoute(event.url)\n  }\n\n  resetStackToProperRoute = (url) =&gt; {\n    // Do Whatever you need to do within your app to redirect users to the proper route\n  }\n</code></pre>"},{"location":"Frontend/ReactNative/%E5%8E%9F%E7%94%9F/","title":"\u539f\u751f","text":""},{"location":"Frontend/ReactNative/%E5%8E%9F%E7%94%9F/#app","title":"\u5224\u65ad\u662f\u5426\u5df2\u5b89\u88c5 APP","text":"<p>ios \u5224\u65ad</p> <p>ios url schema</p> <p>\u5b89\u5353\u5224\u65ad</p> <p>(\u5b89\u5353 apk \u5305\u540d)[https://blog.csdn.net/zhuchenglin830/article/details/82879342]</p>"},{"location":"Frontend/ReactNative/%E5%9F%BA%E7%A1%80/","title":"\u57fa\u7840","text":""},{"location":"Frontend/ReactNative/%E5%9F%BA%E7%A1%80/#_2","title":"\u5b89\u88c5","text":"<p><code>react-native init AwesomeToptalProject</code> instead of <code>create-react-native-app</code>, because the latter will be bootstraped with expo and cant add native code.</p> <ul> <li>\u9ed8\u8ba4 flex \u5e03\u5c40</li> <li>CSS doesnt cascade, so text color has to be set to Text Element</li> </ul>"},{"location":"Frontend/ReactNative/%E5%9F%BA%E7%A1%80/#_3","title":"\u95ee\u9898\u6c47\u603b","text":"<p>https://stackoverflow.com/questions/61922174/react-native-on-android-cannot-run-program-node-error-2-no-such-file-or-dir</p> <p>https://www.geeksforgeeks.org/different-ways-to-fix-error-type-3-error-activity-class-does-not-exist-in-android-studio/</p> <p></p> <p></p> <p>\u592a\u5f00\u5fc3\u5566\uff01AndroidStudio \u771f\u7684\u6bd4 Xcode \u53cb\u597d\u8bb8\u591a\u2026\u81f3\u5c11\u6bcf\u4e2a\u6309\u94ae\u4e0a\u90fd\u6709\u60ac\u6d6e\u63d0\u793a\u2026</p> <p>\u6211\u9047\u5230\u7684\u95ee\u9898\u5982\u4e0b\uff1a</p> <ul> <li>Gradle sync \u65f6\u663e\u793a\u4e0d\u77e5\u9053 node\uff0c\u6240\u4ee5\u9700\u8981\u7528\u547d\u4ee4\u884c\u65b9\u5f0f\u6253\u5f00 AndroidStudio \u6216\u5199\u5230 AndroidStudio \u8ba4\u8bc6\u7684 PATH \u91cc</li> <li>\u8fd0\u884c\u65f6\u95ea\u9000\uff0c\u53ef\u4ee5\u76f4\u63a5\u770b\u5230\u4f9d\u8d56 sdk \u7684\u62a5\u9519\uff0c\u539f\u6765\u662f\u6211\u5728 MainActivity \u91cc\u5c11\u5199\u4e86\u4e00\u884c sdk \u7684\u521d\u59cb\u5316\u4ee3\u7801</li> </ul>"},{"location":"Frontend/ReactNative/%E5%9F%BA%E7%A1%80/#_4","title":"\u517c\u5bb9\u6027","text":"<p>ios13 scrollbar center</p>"},{"location":"Frontend/ReactNative/%E5%9F%BA%E7%A1%80/#_5","title":"\u901a\u7528\u7ec4\u4ef6","text":"<ul> <li>global modal: Globally control Modals on React Native (using refs) - DEV Community</li> </ul>"},{"location":"Frontend/ReactNative/%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81/","title":"\u6d88\u606f\u63a8\u9001","text":""},{"location":"Frontend/ReactNative/%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81/#_2","title":"\u8bbe\u8ba1","text":"<p>PC \u548c APP \u540c\u65f6\u5728\u7ebf\uff0c\u667a\u80fd\u63a8\u9001\uff1a\u5173\u952e\u5728\u4e8e\u662f\u5426\u53ef\u4ee5\u5b9a\u4e49PC\u7684\u79bb\u7ebf\u72b6\u6001\uff0c\u6bd4\u5982\u952e\u76d8\u7684\u63a5\u53e310\u5206\u949f\u5185\u672a\u51fa\u73b0\u901a\u4fe1\uff0c\u6bd4\u5982PC\u5df2\u7ecf\u8fdb\u5165\u9501\u5c4f\u6a21\u5f0f\u7b49\u7b49\uff0c\u5982\u679c\u5224\u5b9aPC\u662f\u79bb\u5f00\u72b6\u6001\uff0c\u5728APP\u6d88\u606f\u63a8\u9001\u5fc5\u987b\u5b8c\u6574\uff0c\u82e5PC\u662f\u6d3b\u8dc3\u72b6\u6001\uff0c\u90a3\u4e48APP\u9501\u5c4f\u5185\u6d88\u606f\u5185\u5bb9\u53ef\u4ee5\u95ea\u73b01-2\u79d2\u540e\u6d88\u5931\u64a4\u56de\u3002</p> <p>\u63a8\u9001\u7684\u4e3b\u8981\u7c7b\u578b\uff1a\u63a8\u9001\u7684\u8bdd\u76ee\u524d\u4e3b\u8981\u6709push\uff0c\u77ed\u4fe1\uff0c\u5fae\u4fe1\u670d\u52a1\u53f7\u63a8\u9001\u4e09\u79cd\u5f62\u5f0f\uff0c\u90a3\u4e48\u4ea7\u54c1\u548c\u8fd0\u8425\u5728\u8bbe\u8ba1\u65f6\u5019\u6700\u597d\u80fd\u591f\u7ec4\u5408\u534f\u540c\uff0c\u63d0\u9ad8\u5de5\u5177\u7684\u6700\u5927\u6548\u7387\u3002\u5982\u679c\u8fd0\u7528\u7b2c\u4e09\u65b9\u5de5\u5177\uff0c\u4ece\u6210\u672c\u4e0a\u6765\u8bf4\uff0c\u77ed\u4fe1\u7684\u6210\u672c\u6700\u9ad8\uff0c\u5176\u6b21\u662fpush\uff0c\u5fae\u4fe1\u670d\u52a1\u53f7\u662f\u514d\u8d39\u7684\uff0c\u6211\u4eec\u62ff\u4e92\u8054\u7f51\u91d1\u878d\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u6d89\u53ca\u7528\u6237\u8d44\u91d1\u8fdb\u51fa\u94f6\u884c\u5361\u6700\u597d\u80fd\u591f\u7528\u77ed\u4fe1\uff0c\u56e0\u4e3a\u8fd9\u79cd\u89e6\u8fbe\u7387\u6700\u9ad8\uff0c\u5bf9\u7528\u6237\u5b9e\u540d\u6210\u529f\uff0c\u7ed1\u5361\u6210\u529f\uff0c\u4f18\u60e0\u5238\u5230\u671f\u7b49\u7b49\uff0c\u53ef\u4ee5\u5c1d\u8bd5push\u548c\u670d\u52a1\u53f7\u63a8\u9001\uff0c\u50cf\u6d3b\u52a8\u7c7b\u7684\u5c31\u76f4\u63a5\u91c7\u7528push\u5373\u53ef\u4e86\uff0c\u6240\u4ee5\u52a8\u52a8\u8111\u7b4b\uff0c\u68b3\u7406\u4e00\u4e0b\u8fd93\u79cd\u63a8\u9001\u4fe1\u606f\u9002\u5408\u7684\u573a\u666f\uff0c\u534f\u540c\u7ec4\u5408\uff0c\u63d0\u9ad8\u6548\u7387\u3002</p> <p>\u63a8\u9001\u673a\u5236\uff1a</p> <ul> <li> <p>ios: iOS \u5728\u7cfb\u7edf\u5c42\u9762\u4e0e\u82f9\u679c APNs\uff08Apple Push Notification service\uff09\u670d\u52a1\u5668\u5efa\u7acb\u8fde\u63a5</p> </li> <li> <p>Android: Android \u7684 C2DM\uff08Android Cloud to Device Messaging\uff09\u91c7\u53d6\u4e0e iOS \u7c7b\u4f3c\u7684\u673a\u5236\uff0c\u90fd\u662f\u7531\u7cfb\u7edf\u5c42\u9762\u6765\u652f\u6301\u6d88\u606f\u63a8\u9001\uff0c\u4f46\u662f\u7531\u4e8e Google \u7684\u670d\u52a1\u5728\u56fd\u5185\u4e0d\u80fd\u7a33\u5b9a\u7684\u8bbf\u95ee\uff0c\u6b64\u65b9\u6848\u5bf9\u4e8e\u4e2d\u56fd\u7528\u6237\u6765\u8bf4\u57fa\u672c\u65e0\u6cd5\u4f7f\u7528\u3002\u9664\u4e86 Google \u5b98\u65b9\u63d0\u4f9b\u7684\u65b9\u6848\uff0c\u4e2d\u56fd\u4f17\u591a\u7684\u624b\u673a\u5382\u5546\u5728\u5176\u5b9a\u5236\u7684\u7cfb\u7edf\u4e2d\u4e5f\u5185\u7f6e\u4e86\u63a8\u9001\u529f\u80fd\uff0c\u5982\u5c0f\u7c73\u3001\u534e\u4e3a\u7b49\uff0c\u79f0\u4e3a\u5382\u5546\u901a\u9053\u3002\u4e0d\u8fc7\u5728\u5efa\u7acb\u63a8\u9001\u670d\u52a1\u4e4b\u524d\uff0c\u9700\u8981\u7533\u8bf7\u5f00\u53d1\u8005\u8d26\u53f7\u5e76\u7ed1\u5b9aApp\uff0c\u5728\u5f00\u653e\u5e73\u53f0\u5f00\u901a\u5382\u5546\u901a\u9053\u63a8\u9001\u7684\u6743\u9650\u3002\u8fd9\u7c7b\u5382\u5546\u673a\u578b\u652f\u6301\u5728\u7ebf\u79bb\u7ebf\u72b6\u6001\u7684\u6d88\u606f\u63a8\u9001\u3002</p> </li> <li> <p>\u81ea\u5efa\u63a8\u9001\u670d\u52a1: \u957f\u8fde\u63a5\u7ef4\u62a4</p> <p></p> </li> <li> <p>\u63a8\u9001\u8054\u76df\uff1a\u5e76\u4e14\u5404\u4e2a APP \u4f7f\u7528\u4e86\u540c\u4e00\u4e2a\u5e73\u53f0\u7684\u63a8\u9001\u670d\u52a1\u65f6\uff0c\u5ba2\u6237\u7aef\u90fd\u662f\u96c6\u6210\u540c\u4e00\u4e2a\u7b2c\u4e09\u65b9\u63a8\u9001\u5e73\u53f0\u7684 SDK\uff0c\u56e0\u6b64\u5f62\u6210\u4e86\u4e00\u4e2a\u63a8\u9001\u8054\u76df\uff0c\u5f53\u8054\u76df\u4e2d\u7684\u5176\u4e2d\u4e00\u4e2a APP \u7684\u6d88\u606f\u8fdb\u7a0b\u6ca1\u6709\u88ab\u6740\u6b7b\u7684\u65f6\u5019\uff0c\u5176\u4ed6\u7684 APP \u4e5f\u53ef\u4ee5\u5229\u7528\u8fdb\u884c\u901a\u77e5\u7528\u6237\uff0c\u5f62\u6210\u4e86\u76f8\u4e92\u5524\u8d77\uff0c\u63d0\u9ad8\u89e6\u8fbe\u7387\u3002</p> </li> </ul>"},{"location":"Frontend/ReactNative/reactnative-guide/","title":"index","text":""},{"location":"Frontend/ReactNative/reactnative-guide/#internals","title":"Internals","text":""},{"location":"Frontend/ReactNative/reactnative-guide/#architecture","title":"Architecture","text":"<p>React Native Bridge: React Native bridge is a C++/Java bridge which is responsible for communication between the native and Javascript thread. A custom protocol is used for message passing.</p> <p>Now, the spawned[\u88ab\u4ea7\u751f\u7684] Javascript thread starts issuing instructions to the native thread via the RN Bridge. The instructions include what views to load, what information is to be retrieved from the hardware, etc. For example, if the JS thread wants a view and text to be created it will batch the request into a single message and send it across to the Native thread to render them.</p> <p>serialized Information: [ [2,3,[2,'Text',{...}]] [2,3,[3,'View',{...}]] ]</p> <ul> <li> <p>Main thread: Touch Event</p> </li> <li> <p>Javascript thread</p> </li> <li> <p>Layout</p> </li> </ul> <p></p> <p>ShadowTree == Layout</p> <p>Notes\uff1a</p> <p>IOS has butil-in JS VM while ANDORID need to be parcled with.</p>"},{"location":"Frontend/Security/csrf/","title":"index","text":""},{"location":"Frontend/Security/csrf/#csrf","title":"csrf","text":"<p>Cross-site request forgery</p> <p>\u4e0e cookie \u76d7\u7528\u76f8\u5173\uff0c\u8981\u6ce8\u610f set-cookie \u7b56\u7565, \u4e0d\u8fc7\u73b0\u5728\u9ed8\u8ba4\u7684 lax \u4e5f\u5f88\u5b89\u5168\u4e86</p> <p>\u6709\u4e9b\u60c5\u51b5\u8981\u4e0e xss \u7ed3\u5408\uff0c\u6bd4\u5982\u5728\u5728\u7ebf\u804a\u5929\u7f51\u9875\uff0c\u901a\u8fc7\u804a\u5929\u7a97\u53e3\u53d1\u6765\u4e00\u6bb5\u53ef\u6267\u884c script\uff0c\u8fd9\u65f6\u5c31\u6ee1\u8db3\u300c\u5728\u5f53\u524d\u57df\u540d\u53d1\u9001\u8bf7\u6c42\u300d\u7684\u8981\u6c42\u4e86</p>"},{"location":"Frontend/Security/csrf/#xss","title":"XSS","text":"<p>Cross-site scripting: \u5373\u4e0e scripting \u76f8\u5173</p>"},{"location":"Frontend/Security/csrf/#_1","title":"\u5206\u7c7b","text":"<p>\u3010\u53cd\u5c04\u578b\u3011</p> <p>non-persistent === reflected === client-side</p> <p>basic example\uff1a\u641c\u7d22\u65f6\u76f4\u63a5\u628a queryString \u91cc\u7684\u67e5\u8be2\u5173\u952e\u5b57\u663e\u793a\u5230\u9875\u9762\u7684\u8f93\u5165\u6846\u91cc </p> <p>\u6d4b\u8bd5\u6848\u4f8b\uff1a</p> <p>case 1:</p> <p>case 2:</p> <pre><code>var scr = document.createElement('script');\n\nscr.innerHTML = 'alert(\"boom\")';\n\ndocument.body.appendChild(scr);\n</code></pre> <p>\u3010\u5b58\u50a8\u578b\u3011</p> <p>persistent === store === server-side </p> <p>\u3010\u7be1\u6539\u65b9\u5f0f\u3011</p> <p>\u66f4\u6539\u5934\u91cc\u7684 http-equ \u4e3a refresh \u4f1a\u81ea\u52a8\u8df3\u8f6c </p> <p>\u3010\u89e3\u51b3\u3011</p> <p>https://www.acunetix.com/blog/articles/preventing-xss-attacks/</p> <p>https://www.acunetix.com/blog/web-security-zone/how-to-prevent-dom-based-cross-site-scripting/</p> <p>owasp cheat sheet</p> <p>p.s. OWASP(open web application security project)\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u3001\u975e\u76c8\u5229\u7684\u5168\u7403\u6027\u5b89\u5168\u7ec4\u7ec7</p> <p>js-xss</p> <p></p> <p>=&gt; \u4f1a\u88ab\u7f16\u8bd1\u6210"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD/","title":"\u4e0a\u4f20\u4e0b\u8f7d","text":""},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD/#_2","title":"\u56fe\u7247","text":""},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD/#canvas","title":"Canvas \u8f6c\u56fe\u7247\u7cfb\u5217","text":"<pre><code>function getBase64Image(chart) {  \n    return chart.getDataURL();  \n}\n\nfunction dataURItoBlob(dataURI) {  \n    const byteString = atob(dataURI.split(',')[1]);  \n    const ab = new ArrayBuffer(byteString.length);  \n    const ia = new Uint8Array(ab);  \n    for (let i = 0; i &lt; byteString.length; i++) {  \n       ia[i] = byteString.charCodeAt(i);  \n    }    return new Blob([ab], { type: 'image/png' });  \n}\n\nchart.on('finished', () =&gt; {\n    // \u64cd\u4f5c\n})\n</code></pre>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD/#_3","title":"\u76f4\u63a5\u53e6\u5b58\u4e3a\u56fe\u7247","text":"<pre><code>function downloadImage() {\n   const link = document.createElement('a');  \n   link.setAttribute('download', 'MintyPaper.png');  \n   link.setAttribute('href', getBase64Image(chart).replace(\"image/png\", \"image/octet-stream\"));  \n    link.click();\n}\n</code></pre>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD/#formdata","title":"\u901a\u8fc7 formData \u4e0a\u4f20","text":"<pre><code>const formData = new FormData();  \nformData.append('image1', dataURItoBlob(getBase64Image(chart)), 'image1.png');  \nfetch('http://localhost:8080/ZTEMAS/riskevaluation.do?method=exportAssessmentDoc', {  \n    method: 'POST',  \n    body: formData,  \n});\n</code></pre>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD/#_4","title":"\u83b7\u53d6\u8fd4\u56de\u7684\u4e8c\u8fdb\u5236\u6d41\u5e76\u5524\u8d77\u4e0b\u8f7d","text":"<pre><code>fetch('...').then(response =&gt; response.blob())  \n          .then(blob =&gt; URL.createObjectURL(blob))  \n          .then(url =&gt; {  \n             // window.open(url, '_blank');  \n             // URL.revokeObjectURL(url); // \u8fd9\u6837\u5524\u8d77\u4e0b\u8f7d\u65f6\u4f1a\u7f3a\u5c11\u6587\u4ef6\u540d  \n             Object.assign(document.createElement('a'), {  \n                href: url,  \n                download: 'final.docx',  \n             }).click();  \n          });})\n</code></pre>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD/#_5","title":"\u540e\u7aef","text":""},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD/#_6","title":"\u83b7\u53d6\u56fe\u7247","text":"<pre><code>@PostMapping(params = \"method=exportAssessmentDoc\")  \npublic void exportAssessmentDoc(HttpServletRequest request, HttpServletResponse response,  \n        @RequestParam(\"image1\") MultipartFile image1  \n) throws IOException {\n    String contentType = image1.getContentType();\n    // byte array to base64\n    String base64String = Base64.getEncoder().encodeToString(image1.getBytes());\n    // base64 to byte array\n     byte[] imageBytes = Base64.getDecoder().decode(base64String);\n}\n</code></pre>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD/#url","title":"\u901a\u8fc7 url \u83b7\u53d6\u56fe\u7247","text":"<pre><code>URL url = new URL(\"https://img-home.csdnimg.cn/images/20201124032511.png\");  \nURLConnection conn = url.openConnection();  \nconn.setConnectTimeout(5000);  \nconn.setReadTimeout(5000);  \nconn.connect();  \nByteArrayOutputStream baos = new ByteArrayOutputStream();  \nIOUtils.copy(conn.getInputStream(), baos);  \nString base64url = Base64.getEncoder().encodeToString(baos.toByteArray());  \nfor (int i = 0; i &lt; sceneNameList.size(); i++) {  \n    scenePicList.add(base64url);  \n}\n</code></pre>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD/#filepath","title":"\u901a\u8fc7 filepath \u83b7\u53d6\u56fe\u7247","text":"<pre><code>File file = new File(CommonUtil.getAttachmentServerPath(request) + workScenario.getUrl());  \nif (file.exists()) {  \n    scenePicList.add(Base64.getEncoder().encodeToString(FileUtils.readFileToByteArray(file)));  \n} else {  \n    scenePicList.add(\"\");  \n}\n</code></pre>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD/#_7","title":"\u5524\u8d77\u4e0b\u8f7d","text":"<pre><code>// \u4e0b\u8f7d\u56fe\u7247\n// Set response headers  \nresponse.setContentType(contentType);  \nresponse.setContentLength(imageBytes.length);  \nresponse.setHeader(\"Content-Disposition\", \"attachment; filename=image.png\"); \n\n// \u5982\u679c\u662f\u4e0b\u8f7d\u5176\u4ed6\u9644\u4ef6\nString title = \"test.doc\";  \nresponse.reset();  \nresponse.setContentType(\"application/octet-stream;charset=UTF-8\");// \u6587\u4ef6\u7c7b\u578bcontenttype  \nresponse.setHeader(\"Content-Disposition\",  \n        \"attachment; filename=\\\"\" + new String(title.getBytes(\"GBK\"), \"ISO8859_1\") + \"\\\"\");\n\n// Write the byte array to the response output stream  \nresponse.getOutputStream().write(imageBytes);  \nresponse.getOutputStream().flush();\n</code></pre>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E5%90%8E%E5%8F%B0prototype/","title":"\u540e\u53f0prototype","text":"<ul> <li>\u901a\u7528 utils</li> <li>\u8bf7\u6c42</li> <li>\u767b\u5f55</li> <li>\u672a\u767b\u5f55\u81ea\u52a8\u8df3\u8f6c</li> <li>\u5168\u5c40\u767b\u5f55\u6570\u636e</li> <li>\u767b\u5f55\u5931\u6548</li> <li>\u8def\u7531</li> <li>\u6743\u9650</li> <li> <p>\u52a8\u6001\u8def\u7531</p> </li> <li> <p>Layout</p> </li> <li>\u4e3b\u9898\u6837\u5f0f</li> </ul>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E5%90%8E%E5%8F%B0prototype/#_1","title":"\u6846\u67b6\u9009\u62e9","text":"<p>\u6574\u4f53\uff1a\u6211\u9009\u62e9 umi \u7cfb\u5217\uff0c\u5927\u578b\u590d\u6742\u6570\u636e\u6d41\u7528 dva-plugin, \u5c0f\u578b\u5168\u5c40\u6570\u636e\u7ba1\u7406\u7528 model-plugin</p> <p>\u7ec4\u4ef6\u6846\u67b6\uff1aantd-pro</p> <p>\u8868\u5355\uff1aformly</p>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E5%90%8E%E5%8F%B0prototype/#_2","title":"\u7ecf\u5178\u9875\u9762","text":""},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E5%90%8E%E5%8F%B0prototype/#_3","title":"\u8868\u5355+\u5206\u9875\u8868\u683c\u6a21\u5f0f","text":"<p>\u5e93\u9009\u62e9\uff1a</p> <ul> <li>\u8868\u5355\uff1aformily(\u6211\u4e00\u822c\u9009\u62e9 jsx)</li> <li>\u8868\u683c\uff1aantd table + useAntTable (\u80fd\u8f83\u597d\u7684\u914d\u5408\u5206\u9875\u3001\u91cd\u65b0\u67e5\u8be2)</li> </ul> <p>\u8bbe\u8ba1\u4e0a\u6ce8\u610f\uff1a</p> <ul> <li>label-value \u952e\u503c\u5bf9\u7684\u663e\u793a\u548c\u53d6\u503c\u914d\u7f6e\u5e94\u5355\u72ec\u7ef4\u62a4\u3002\u5982 <code>{CarPlate: {label:'\u8f66\u724c\u53f7', key:'carPlate', getValueFromRecord: (record, recordIndex) =&gt; string }]</code>\uff0c\u56e0\u4e3a\u81f3\u5c11\u6709\u4e09\u5904\u90fd\u9700\u8981\u6d88\u8d39\u952e\u503c\u5bf9\uff1a\u8868\u5355\u3001\u8868\u683c\u3001\u8868\u683c\u8be6\u60c5\u5c55\u793a\u3001\u5bfc\u51fa\uff08\u5982\u679c\u662f\u524d\u7aef\u751f\u6210\u7684\u8bdd\uff09</li> <li>\u8868\u5355\uff1a</li> <li>\u533a\u5206\u9ed8\u8ba4\u9009\u62e9 \u548c \u540e\u7eed\u9009\u62e9\u3002\u8868\u5355\u91cd\u7f6e\uff0c\u4e00\u822c\u9700\u8981\u91cd\u7f6e\u56de\u9ed8\u8ba4 value\uff0c\u800c\u4e0d\u662f\u6e05\u7a7a\u6240\u6709 value\u3002</li> <li>\u9700\u5f02\u6b65\u5904\u7406\u7684\u6570\u636e\uff0c\u5982\u52a8\u6001\u4e0b\u62c9\u9879\uff0c\u521d\u59cb\u5316\u65f6\u673a\u5e94\u653e\u5728 routeChange \u91cc</li> </ul>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E6%9D%83%E9%99%90/","title":"\u6743\u9650","text":"<ul> <li>\u8def\u7531\u6743\u9650 v.s. \u529f\u80fd\u70b9\u6743\u9650</li> <li>\u672c\u8d28\u4e00\u6837\uff0c\u90fd\u662f\u9700\u8981\u63a7\u5236\u67d0\u4e2a\u529f\u80fd\u7684\u663e\u793a\u3002\u5982\u679c\u662f\u8def\u7531\u6743\u9650\uff0c\u5219\u4ea4\u7531 router \u6e32\u67d3\u65b9\uff08layout\uff09\u63a7\u5236\uff1b\u5982\u679c\u662f\u529f\u80fd\u70b9\uff0c\u5f80\u5f80\u9700\u8981\u5728\u9875\u9762\u4e0a\u505a\u4e00\u5bf9\u4e00\u7684\u5224\u65ad\u3002</li> <li>\u6743\u9650\u9700\u8981\u7531\u540e\u7aef\u63d0\u4f9b\uff0c\u5728\u767b\u5f55\u65f6\u91cd\u65b0\u6784\u9020\u524d\u7aef\u7684\u8def\u7531\u7ed3\u6784</li> <li>\u7528\u597d\u8def\u7531\u8df3\u8f6c\u524d\u7684\u94a9\u5b50\uff0c\u5728\u8fd9\u4e2a\u94a9\u5b50\u91cc\u53ef\u5bf9\u5b50\u9875\u9762\u4fe1\u606f\u505a\u4e00\u4e9b\u6536\u96c6</li> <li>\u5bf9\u4e8e\u540e\u7aef\u4fdd\u5b58\u6570\u636e\u800c\u8a00\uff0c\u529f\u80fd\u70b9\u6743\u9650\u53ef\u4ee5\u8bf4\u662f\u8def\u7531\u6743\u9650\u7684\u66f4\u7ec6\u5206\u5316\u573a\u666f(\u529f\u80fd\u5c42\u7ea7)\uff0c\u8fd9\u4e9b\u6570\u636e\u53ef\u4ee5\u6253\u5e73\u653e\u5728\u4e00\u5f20\u8868\u91cc\u3002\u533a\u5206\u6240\u5c5e\u9875\u9762 uri\u3001\u529f\u80fd\u6807\u5fd7/id\u3001\u529f\u80fd\u5c42\u7ea7\u3002</li> </ul>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E7%99%BB%E5%BD%95/","title":"\u767b\u5f55","text":""},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E7%99%BB%E5%BD%95/#_2","title":"\u540e\u53f0\u524d\u7aef\u8bbe\u8ba1","text":"<p>\u53d1\u8d77\u767b\u5f55/\u83b7\u53d6\u7528\u6237\u6570\u636e</p> <ul> <li>\u524d\u7aef\u7387\u5148\u5224\u65ad\u662f\u5426\u767b\u5f55(\u975e\u5fc5\u987b)</li> </ul> <p>\u5b9e\u9645\u4e0a\uff0c\u5728\u6e32\u67d3\u9875\u9762\u65f6\uff0c\u5148\u7ecf\u7531\u8def\u7531\u903b\u8f91\u3002\u6240\u4ee5\u7b2c\u4e00\u6b21\u83b7\u53d6\u65f6\u673a\u80af\u5b9a\u5728\u8def\u7531\u5c42\u9762\u8fdb\u884c\uff0c\u53ef\u4ee5\u8003\u8651\u653e\u5728 router.beforeEach \u4e2d\u3002\u524d\u7aef\u5728\u6b64\u65f6\u7387\u5148\u5224\u65ad\u7f13\u5b58\u4e2d\u662f\u5426\u6709 token\uff0c\u6ca1\u6709\u76f4\u63a5\u8df3\u8f6c\u767b\u5f55\u9875\u3002</p> <ul> <li>\u540e\u7aef\u5224\u65ad\u767b\u5f55\u662f\u5426\u5931\u6548</li> </ul> <p>\u8bf7\u6c42\u53ef\u653e\u7f6e\u5728\u521d\u59cb\u5316\u8c03\u7528\u7684 common.js \u6216 commonLayout \u91cc</p> <p>\u5168\u5c40\u7528\u6237\u6570\u636e</p> <ul> <li>\u672a\u5224\u65ad\u5b8c\u767b\u5f55\u60c5\u51b5/\u672a\u83b7\u53d6\u5230\u5168\u5c40\u7528\u6237\u6570\u636e\u524d\uff0c\u4f1a\u6709\u4e00\u5c0f\u6bb5\u7a7a\u767d\u65f6\u95f4\uff0c\u9700\u8981\u7528 loading \u586b\u8865\uff1b\u6216\u4e5f\u53ef\u4ee5\u63d0\u524d\u7f13\u5b58\u4e00\u4efd\u7528\u6237\u6570\u636e\u5230 localStorage \u91cc\uff0c\u5148\u5c55\u793a\u7f13\u5b58\u6570\u636e</li> </ul> <p>\u672a\u767b\u5f55\u81ea\u52a8\u8df3\u8f6c</p> <ul> <li>\u901a\u7528\u8bf7\u6c42\u5e93\u5904\u7406</li> </ul> <p>\u591a\u4e2a\u540e\u53f0\u62bd\u79bb\u767b\u5f55\u7ec4\u4ef6</p> <ul> <li>\u524d\u63d0\uff1a\u62bd\u79bb request \u5e93</li> <li>\u62bd\u79bb login \u5e93\u53ca\u767b\u5f55\u9875\uff0c\u5904\u7406\u767b\u5f55\u5224\u65ad\u3001\u767b\u5f55\u3001\u9000\u51fa\u7684\u903b\u8f91</li> <li>\u62bd\u79bb\u5c55\u793a\u7528\u6237\u6570\u636e\u7684 HeaderLayout</li> </ul> <p>\u767b\u5f55\u5931\u6548</p> <ul> <li>\u6bd4\u5982\u79bb\u5f00\u592a\u4e45\uff0c\u524d\u7aef\u5f39\u7a97\u9700\u91cd\u65b0\u8f93\u5165\u5bc6\u7801\uff08\u8f93\u5165\u540e\u8d70\u666e\u901a\u767b\u5f55\u903b\u8f91\uff09: \u53ef\u4ee5\u548c\u540e\u7aef\u4fdd\u6301\u4e00\u4e2a\u5fc3\u8df3\u8fde\u63a5</li> </ul>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E7%99%BB%E5%BD%95/#_3","title":"\u540e\u7aef\u8bbe\u8ba1","text":""},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E7%99%BB%E5%BD%95/#_4","title":"\u57fa\u672c\u6982\u5ff5","text":"<p>Authentication(\u8d26\u5bc6\u767b\u5f55) \u4e0e Authorization(\u540e\u7eed\u7684\u81ea\u52a8\u767b\u5f55)</p> <p>SSO: Single Sign On</p> <p>Cookie-Session \u6a21\u5f0f\uff08\u6216token\u5b58\u653e\u670d\u52a1\u7aef\u6a21\u5f0f\uff09\uff1a</p> <ul> <li> <p>\u4f1a\u8bdd\u4fe1\u606f\u5b58\u81f3\u5185\u5b58/redis\u4e2d</p> </li> <li> <p>\u5982\u679c\u4e8c\u7ea7\u57df\u540d\u76f8\u540c\uff0c\u90a3 cookie \u8fd8\u53ef\u4ee5\u5171\u4eab\u3002\u5982\u679c\u662f\u591a\u57df\u540d\uff0c\u5982\u4f55\u5b9e\u73b0\u5355\u70b9\u767b\u5f55\u5462\uff1f\u53ef\u4ee5\u591a\u57df\u540d\u8df3\u8f6c\u95f4\u643a\u5e26token</p> </li> </ul> <p>JWT(json-web-tokens) Token\uff08\u6216token\u5b58\u653e\u5ba2\u6237\u7aef\u6a21\u5f0f\uff09:</p> <ul> <li>\u672c\u8eab\u5c31\u5305\u542b\u4e86\u7528\u6237\u4fe1\u606f</li> <li>\u89e3\u51b3\u7684\u95ee\u9898\uff1a\u4e0d\u7528\u8bfb\u53d6\u6570\u636e\u5e93\u7684\u7528\u6237\u4fe1\u606f\u3001\u5206\u5e03\u5f0f\u670d\u52a1\u53ef\u4ee5\u5404\u81ea\u89e3\u6790</li> <li>\u7f3a\u9677\uff1a\u65e0\u6cd5\u5728\u670d\u52a1\u7aef\u9500\u6bc1\uff0c\u56e0\u6b64\u65e0\u6cd5\u5728\u5230\u671f\u524d\u4e3b\u52a8 invalidate \uff08\u6bd4\u5982\u9700\u8981\u9ed1\u540d\u5355\u3001\u7528\u6237\u89d2\u8272\u53d8\u5316</li> <li>RefreshToken: refreshToken \u7684\u7b56\u7565\uff08ref\uff09\u8fd9\u6837 access-token \u7684\u5931\u6548\u65f6\u95f4\u53ef\u4ee5\u8bbe\u77ed\u4e00\u4e9b</li> </ul> <p>\u5728\u5fae\u670d\u52a1\u7cfb\u7edf\u4e2d\uff0c\u4e5f\u6709\u7ed3\u5408\u4f7f\u7528\u7684\u60c5\u51b5\uff1a</p> <p>\u7528\u6237-&gt;\u7f51\u5173\u8d70cookie-session, \u7f51\u5173\u8f6c\u53d1\u5230\u5404\u9886\u57df\u5fae\u670d\u52a1\u8d70 jwt\uff08\u6b64\u65f6\u5728\u5185\u90e8\u4f20\u9012\u7684\u662f JWT \u51ed\u8bc1\uff0c\u800c\u975e JWT token\uff09</p>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E8%8A%82%E6%B5%81/","title":"\u8282\u6d41","text":"<p>debounce:</p> <p>throttle:</p> <p>\u8fd8\u6709 batch\uff0c\u4e0a\u4f20\u6570\u636e\u65f6\u5e38\u7528\uff1a</p> <pre><code>function batch(fn) {\n  var cache = [], timer;\n  return function() {\n    cache.put(arguments);\n    if(timer) return;\n    timer = setTimeout(()=&gt;{\n      cache.forEach(args =&gt; fn(args));\n      timer = null;\n      cache.length = 0;\n    }, 2000);\n  }\n}\n</code></pre>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E9%97%AE%E5%8D%B7%E7%9B%B8%E5%85%B3/","title":"\u95ee\u5377\u76f8\u5173","text":""},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E9%97%AE%E5%8D%B7%E7%9B%B8%E5%85%B3/#_2","title":"\u8bbe\u8ba1","text":""},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E9%97%AE%E5%8D%B7%E7%9B%B8%E5%85%B3/#_3","title":"\u6570\u636e\u5e93\u8bbe\u8ba1","text":"<ul> <li>\u95ee\u5377\u8868\uff1a\u95ee\u5377\u57fa\u7840\u4fe1\u606f</li> <li>\u9898\u76ee\u8868\uff1a\u7c7b\u578b\u3001\u6807\u9898\u3001\u4e0e\u95ee\u5377\u5173\u8054</li> <li>\u9898\u76ee\u9009\u9879\u8868\uff1a\u4e0e\u9898\u76ee\u5173\u8054</li> <li>\u7b54\u6848\u8868\uff1a\u4e0e\u9898\u76ee\u5173\u8054</li> </ul>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E9%97%AE%E5%8D%B7%E7%9B%B8%E5%85%B3/#_4","title":"\u4e00\u4e9b\u7591\u70b9","text":""},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E9%97%AE%E5%8D%B7%E7%9B%B8%E5%85%B3/#_5","title":"\u4fee\u6539\u95ee\u5377","text":"<p>\u601d\u8003\uff1a - \u7f16\u8f91\u95ee\u5377\uff1a\u9700\u8981\u91cd\u65b0\u751f\u6210\u95ee\u5377 - \u7f16\u8f91\u9898\u76ee\uff1a\u65b0\u589e\u9009\u9879\u3001\u5220\u9664\u9009\u9879\u5982\u4f55\u64cd\u4f5c\uff1f     - \u6bcf\u6b21\u90fd\u91cd\u65b0\u751f\u6210\u6240\u6709\u9009\u9879 - \u95ee\u5377\u4e00\u65e6\u53d1\u5e03\uff0c\u5c31\u65e0\u6cd5\u7f16\u8f91\u3002\u56e0\u4e3a\u5df2\u56de\u7b54\u7684\u5185\u5bb9\u662f\u4e0e\u9898\u76ee\u76f8\u5173\u7684\u3002 \u53c2\u8003\u95ee\u5377\u661f\u65b9\u6848\uff1a\u4e09\u79cd\u95ee\u5377\u4fee\u6539\u6a21\u5f0f\u3002 - \u4fdd\u7559\u7b54\u5377\uff1a\u53ea\u80fd\u4fee\u6539\u9898\u5e72\uff0c\u589e\u52a0\u9009\u9879 - \u5220\u9664\u6240\u6709\u7b54\u5377\uff1a\u4fee\u6539\u4e0d\u53d7\u9650\u5236 - \u4ece\u539f\u95ee\u5377\u590d\u5236\u65b0\u5efa</p>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/%E9%97%AE%E5%8D%B7%E7%9B%B8%E5%85%B3/#_6","title":"\u7b80\u5355\u70b9\u505a\u4e0e\u590d\u6742\u70b9\u505a","text":"<ul> <li>\u5982\u679c\u53ea\u662f\u4e00\u6b21\u6027\u9700\u6c42\uff0c\u95ee\u5377\u7684\u6240\u6709\u9898\u76ee\u5df2\u7ecf\u786e\u5b9a\uff0c\u5982\u4f55\u7b80\u5316\u8bbe\u8ba1\uff1f<ul> <li>\u53ef\u4ee5\u820d\u5f03\u95ee\u5377\u8868\u4e0e\u9898\u76ee\u8868\uff1b\u95ee\u5377\u4fe1\u606f\u4e0e\u9898\u76ee\u4fe1\u606f\u5b58 json</li> <li>\u6bcf\u4efd\u95ee\u5377\u7b54\u6848\u4e5f\u5168\u5b58\u6210json\uff0c\u9700\u8981\u5165\u5e93\uff1b\u7f3a\u70b9\u4e0d\u652f\u6301\u6570\u636e\u5206\u6790\uff0c\u652f\u6301\u5355\u4efd\u67e5\u770b\u4e0e\u5bfc\u51fa\uff1b\u9002\u5408\u4ee5\u95ee\u7b54\u4e3a\u4e3b\u7684\u95ee\u5377</li> </ul> </li> </ul>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/ancient/about%20%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A/","title":"about \u6570\u636e\u7ed1\u5b9a","text":"<p>\u4e5f\u5c31\u662f\u7528data\u5c5e\u6027\u5728html\u91cc\u6307\u660e\u7ed1\u5b9a\u7684</p> <p>http://www.html-js.com/article/Study-of-twoway-data-binding-JavaScript-talk-about-JavaScript-every-day</p>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/ancient/about%20%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A/#jquery-triggeron","title":"\u7528 jQuery \u7684trigger\u548con\u6765\u8fdb\u884c","text":"<p>\u8868\u9762\u4f53\u73b0\uff1a</p> <p>\u67d0\u5bf9\u8c61id\u6709{attr_name1: val1, attr_name2: val2}</p> <p>\u90a3\u4e48\u5728dom\u4e0a\u7684\u4f53\u73b0\u4e3a <code>&lt;input data-bind-id=attr_name1 value=val1&gt;</code>\u53ca<code>&lt;input data-bind-id=attr_name2 value=val2&gt;</code>\u8fd9\u6837\u3002</p> <p>\u6df1\u5c42\u4f53\u73b0\uff1a</p> <p>\u6709\u4e24\u4e2atrigger\uff0c\u4e00\u4e2a\u662fview\u7684trigger\uff08\u901a\u8fc7dom\u7684\u8f93\u5165\u64cd\u4f5c\uff09\uff0c\u4e00\u4e2a\u662fdata\u7684tigger\uff08\u901a\u8fc7data.set\uff09\u3002\u540c\u65f6\u4e5f\u6709\u4e24\u4e2aonmsg\uff0c\u4e00\u4e2a\u662fdata trigger\u65f6\u7528\u6765\u540c\u6b65\u6539\u53d8view\uff08\u7b80\u79f0onmsg.view\uff09\uff0c\u53e6\u4e00\u4e2a\u662fview trigger\u65f6\u7528\u6765\u540c\u6b65\u6539\u53d8data\uff08\u7b80\u79f0onmsg.data\uff09\u3002\u3002</p> <p>DataBind(id)\u51fd\u6570:</p> <p>\u5b9a\u4e49pubSub: \u4e00\u4e2a\u7a7a$({})\u3002\u76ee\u7684\uff1a\u4e3a\u4e86trigger\u548c\u76d1\u542c\u3002</p> <p>\u5b9a\u4e49msg: id:change</p> <p>\u5b9a\u4e49data_attr: bind-id\u3002</p> <p>\u5728html\u4e0a\u76d1\u542c\u4efb\u4f55\u5192\u6ce1\u7684 \u4ea7\u81eadata-data_attr\u7684dom\u5185\u5bb9\u53d8\u5316 =&gt;</p> <p>\u76d1\u542c\u5230\u540e pubSub trigger name\u4e3amsg value\u4e3a[data-data_attr\u7684\u503c\uff0cdom\u65b0\u5185\u5bb9] \u7684\u4e8b\u4ef6</p> <p>=&gt; \u76ee\u7684\uff1aview\u6539\u53d8\u65f6\u5bf9\u5e94\u6539\u53d8\u6570\u636e\u7684\u503c</p> <p>pubSub.onmsg =&gt; \u5728\u8fd9\u9879\u76d1\u542c\u56de\u8c03\u4e2d\u5904\u7406view\uff0c\u5c06\u5bf9\u5e94dom\u7684\u503c\u4fee\u6539\u4e3a\u65b0\u503c</p> <p>=&gt; \u76ee\u7684\uff1a\u6570\u636e\u6539\u53d8\u65f6\u5bf9\u5e94\u6539\u53d8view\u91cc\u7684\u503c</p> <p>return pubSub\u3002</p> <p>\u81ea\u5b9a\u4e49User(id)\u6784\u9020\u51fd\u6570\uff1a</p> <p>\u5b9a\u4e49bind: \u4e3anew DataBind(id)\u3002</p> <p>\u5b9a\u4e49user: \u5305\u62ec\u4e86\u6570\u636e\u672c\u8eab\uff0cset\uff0cget\u53ca\u4e00\u4e2a\u5185\u90e8\u7684bind\u3002</p> <p>\u6570\u636e\u672c\u8eab\uff1auser.attributes : {}</p> <p>get(attr_name): \u8fd4\u56dethis.attributes(attr_name)\u5c31\u597d\u3002</p> <p>set(attr_name): \u624b\u52a8\u8c03\u7528bind.trigger \u6ce8\u610f\u8fd9\u91cc\u7684value\u8981\u9664\u53bb\u4ee5\u4e0a\u4e24\u9879\u5e38\u89c4\u540e\u65b0\u52a0\u4e00\u4e2athis!!</p> <p>=&gt; \u76ee\u7684: \u53bb\u4e0a\u9762onmsg\u53bb\u6539\u53d8view\u7684\u503c\u3002\u540c\u65f6\u52a0\u4e0athis, \u56e0\u4e3a\u5e95\u4e0bonmsg.data\u91cc\u9700\u8981\u5224\u65ad\u53d1\u8d77\u8005\u662f\u4e0d\u662fuser\u3002\u56e0\u4e3a\u5982\u679c\u672c\u5c31\u662fuser.set\u6539\u53d8\u7684\u6570\u636e\u7684\u503c\uff0c\u800c\u76d1\u542c\u65f6\u4ee3\u7801\u53c8\u901a\u8fc7user.set\u5c06\u6570\u636e\u503c\u6539\u6210\u4e86\u521a\u81ea\u5df1\u6539\u7684\u503c\uff0cuser.set\u53c8trigger\u4e86\u5e95\u4e0b\u7684onmsg...\u5c31\u4f1a\u65e0\u9650\u5faa\u73afoverflow\u7684\uff01</p> <p>\u8fd9\u91cc\u9700\u8981\u7279\u6b8a\u5904\u7406\u7684\u6839\u6e90\u5c31\u5728\u4e8eonmsg.data\u91cc\u53c8\u9700\u8981\u7528user.set\u53bb\u6539\u53d8\u6570\u636e\u7684\u503c\uff01</p> <p>\u5443ps: \u6211\u7a81\u7136\u53d1\u73b0\u3002\u3002onmsg.data\u91cc\u4e0d\u7528\u5224\u65ad\u53d1\u8d77\u8005\u4e5f\u662f\u5b8c\u5168\u53ef\u4ee5\u7684\u963f\u3002\u3002\u53ea\u8981\u4e0d\u901a\u8fc7user.set(attr_name, val)\u6765\u8bbe\u7f6e\u65b0\u503c \u76f4\u63a5\u8bbe\u7f6euser.attributes.attr_name = val\u4e0d\u5c31\u597d\u4e86\u3002\u3002</p> <p>bind.onmsg =&gt; \u8fd9\u91cc\u6539\u53d8\u6570\u636e\u5bf9\u5e94\u7684\u503c\uff01</p> <p>pps: \u6211\u611f\u89c9\u4ee5\u4e0a\u4e24\u4e2a\u51fd\u6570\u5b8c\u5168\u53ef\u4ee5\u6574\u5408\u6210\u4e00\u4e2a\u963f\u2026\u800c\u4e14User\u7684\u547d\u540d\u4e5f\u5f88\u5177\u6709\u6b67\u4e49\u3002\u6bd5\u7adf\u8fd9\u91cc\u7684User\u5728\u6211\u770b\u6765\u6beb\u65e0\u610f\u4e49 \u9700\u8981\u7ed1\u5b9a\u7684\u6570\u636e\u4e00\u9879\u5c31\u662f\u4e00\u9879 \u53c8\u65e0\u9700\u5206\u7c7b\u522b\u7684\u3002</p> <p>\u4f7f\u7528\uff1a</p> <pre><code>var user = new User(123);\nuser.set('name', 'boom');\n\n// &lt;input data-bind-123=\"name\"/&gt; \n</code></pre> <p>ps:</p> <p>\u5173\u4e8eobj\u7684set \u5982\u679c\u73b0\u503c\u548c\u539f\u503c\u4e00\u6837 \u5219\u4e0d\u4f1a\u518d\u6b21\u89e6\u53d1set\u4e8b\u4ef6\u3002\u540chtml\u5185\u5bb9\u7684change\u4e00\u6837\u3002</p> <p>\u90a3\u5982\u4f55\u907f\u514d\u76d1\u542c\u4e2d view\u53d8\u5316-&gt;\u518d\u6b21\u89e6\u53d1view\u53d8\u5316 \u6216\u662f data\u53d8\u5316-&gt;\u518d\u6b21\u89e6\u53d1data\u53d8\u5316 \u8fd9\u6837\u5b50\u7684\u60c5\u51b5\u5462</p> <p>=&gt; \u5514 \u4e0d\u4f1a\u8fd9\u6837\u7684 \u6ca1\u6709\u53d8\u5316\u5c31\u4e0d\u4f1a\u89e6\u53d1</p> <p>pps:</p> <p>\u6211\u771f\u662f\u592a\u68d2\u565c\uff01\u603b\u7ed3\u51fa\u4e86\u6709domPubSub\u548cobjPubSub\u4e24\u79cd\u65b9\u5f0f\uff01</p> <p>\u90fd\u5f88\u597d\u7528\uff01</p>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/ancient/loadMore/","title":"loadMore","text":"<p>\u6784\u9020\u51fd\u6570 update \u7248~\uff08\u52a0\u5165\u76d1\u542c\u67d0\u4e2adiv\u4e2d\u7684\u6eda\u52a8\u5230\u5e95\u5566~\uff09</p> <pre><code>function LoadMoreUpdate(config){\n    this.el = config.el || '';\n    this.cb = config.cb || function(){};\n    this.loading = false;\n    loadMoreUpdate.prototype.toEnd = function(){\n        var scrollTop = this.el.scrollTop || document.body.scrollTop,\n            pageHeight = this.el ? this.el.getBoundingClientRect().height : window.innerHeight,\n            scrollHeight = this.el ? this.el.scrollHeight : document.body.scrollHeight;\n        if(scrollTop + pageHeight &gt; scrollHeight - 5) {\n            if(this.loading) return;\n            this.loading = true;\n            this.cb();\n        }\n    }\n    loadMoreUpdate.prototype.open = function(){\n        this.listener = this.toEnd.bind(this);\n        this.el ? this.el.addEventListener('scroll', this.listener, false) : window.addEventListener('scroll', this.listener, false);\n    }\n    loadMoreUpdate.prototype.close = function(){\n        this.el ? this.el.removeEventListener('scroll', this.listener, false) : window.removeEventListener('scroll', this.listener, false);\n    }\n}\n\n// \u4f7f\u7528\u65f6\uff1a\nvar i = 0;\nfunction addDIV(){\n  setTimeout(function(){\n    i++;\n    //...\n    SE.loading = false;\n    if( i === 3) SE.close();\n  },1000)\n}\nvar SE = new LoadMoreUpdate(addDIV);\nSE.open();\n</code></pre> <p>observer \u7248\u672c:</p> <pre><code>// IntersectionObserver\u7684\u4e0b\u62c9\u5237\u65b0\nfunction observeLoadMore(el, cb) {\n    this.el = el;\n    this.isLoading = false;\n    var option = {\n        threshold: 0\n    }\n    this.observer =  new IntersectionObserver(() =&gt; {\n      if(this.isLoading) return;\n      else {\n        this.loading = true;\n        cb();\n      }\n    }, option);\n    observeLoadMore.prototype.bind = () =&gt; this.observer.observe(this.el);\n    observeLoadMore.prototype.unbind = () =&gt; this.observer.unobserve(this.el);\n}\n\n</code></pre> <p>-----update:</p> <p>React \u7248\u672c\uff1a</p> <pre><code>\n/* \u4e0a\u62c9\u52a0\u8f7d\u7684\u65b9\u6cd5 */\nconst scrollMethod = () =&gt; {\n    if (loading || loadingMore || !containerRef || !containerRef.current) {\n        return;\n    }\n\n    if (containerRef.current.scrollHeight - containerRef.current.scrollTop &lt;= containerRef.current.clientHeight + threshold) {\n        loadMore();\n    }\n};\n\n// \u5982\u679c\u4e0d\u7528 ref\uff0c\u800c\u7528\u4e4b\u524d\u7684 useCallbak\uff0c\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u4f1a\u51fa\u95ee\u9898\uff0c\u9020\u6210\u62ff\u5230\u7684 loading \u4e0d\u662f\u6700\u65b0\u7684\u3002\nconst scrollMethodRef = useRef(scrollMethod);\nscrollMethodRef.current = scrollMethod;\n\n/* \u5982\u679c\u6709 ref\uff0c\u5219\u4f1a\u4e0a\u62c9\u52a0\u8f7d\u66f4\u591a */\nuseEffect(() =&gt; {\n    if (!containerRef || !containerRef.current) {\n        return () =&gt; {};\n    }\n\n    const scrollTrigger = () =&gt; scrollMethodRef.current();\n    containerRef.current.addEventListener('scroll', scrollTrigger);\n\n    return () =&gt; {\n        if (containerRef &amp;&amp; containerRef.current) {\n            containerRef.current.removeEventListener('scroll', scrollTrigger);\n        }\n    };\n}, [scrollMethodRef]);\n</code></pre>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/ancient/progressiveLoading/","title":"progressive loading","text":"<p>How Medium dose progressive image loading</p> <ul> <li>\u63a7\u5236\u56fe\u7247\u52a0\u8f7d\u7684\u597d\u5904\uff1a</li> </ul> <p>lazy loading: the large images are only requests when they are within the viewport.</p> <p>tailored</p> <ul> <li> <p>\u5173\u4e8e\u6a21\u7cca\u6548\u679c\u7684\u8ba8\u8bba</p> </li> <li> <p>canvas\u7ec4 \uff08\u6765\u6e90\uff09\u8fd0\u7528 ctx.globalAlpha \uff080\u52301\u4e4b\u95f4\uff09\u52a0\u4e0arequestAnimationFrame</p> </li> <li> <p>filter\u7ec4\uff08css3\u7684filter: 50px\u7cfb\u5217\uff09\u52a0\u4e0atransition\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u6d41\u7545\u8fc7\u5ea6</p> </li> <li> <p>\u5176\u4ed6\u56fe\u7247\u52a0\u8f7d\u65b9\u6848</p> </li> <li>\u641c\u7d22\u5f15\u64ce\u7684\u7528\u56fe\u7247\u4e3b\u8272\u5f00\u59cb\u52a0\u8f7d</li> </ul> <p>\u2764 demo: https://jsfiddle.net/DearVikki/g8L1zd9v/3/</p> <p>\u2764 \u81ea\u6211\u611f\u89c9\uff1acss\u548ccanvas\u90fd\u662f\u63a7\u5236filter~\u4f46\u611f\u89c9css\u7684\u5199\u8d77\u6765\u7b80\u5355\u8bb8\u591a\uff01\uff01canvas\u4f1a\u6709\u4e00\u70b9\u66f4\u6d41\u7545\u2026\u4e48\uff1f\u256e\uff08\u00b4\u25d4\u0c6a\u25d4\uff09\u256d</p> <p>Speaking at CSSConf Australia 2016</p> <ul> <li>\u6709\u4e9b\u56fe\u7247\u67d0\u4e9b\u60c5\u51b5\u4e0b\u9700\u8981\u5c55\u793a\u67d0\u4e9b\u60c5\u51b5\u4e0b\u4e0d\u9700\u8981\uff0c\u90a3\u4e48\u8fd9\u4e9b\u56fe\u7247\u6700\u597d\u653e\u5728background-image\u4e86\uff0c\u5426\u5219\u76f4\u63a5\u7528img\u6807\u7b7e\u7684\u8bdddisplay: none\u6d4f\u89c8\u5668\u4f9d\u7136\u8fd8\u662f\u4f1a\u4e0b\u56fe\u7247\u7684\u5594\uff01~</li> <li>\u5bf9\u4e8e\u90fd\u662f\u5c55\u793a\u56fe\u7247\u7684\u7f51\u9875 \u65e0\u9700\u5728\u7528\u6237\u62c9\u5230\u56fe\u7247\u53ef\u89c6\u533a\u57df\u4e4b\u524d\u5c31\u52a0\u8f7d\u56fe\u7247~</li> <li>\u5173\u4e8ethumbnails\u5e94\u8be5\u7528\u4ec0\u4e48\u683c\u5f0f\u624d\u6700\u597d\uff08\u6839\u636efacebook \u63a7\u5236\u572842px*42px&lt;200 Bytes\uff09\u4f5c\u8005\u6d4b\u8bd5\u5f97\u5230WebP\u4f1a\u6bd4jpeg\u5c0f\u5c06\u8fd13/4\u5594\uff01</li> </ul> <p>\u8fc7\u7a0b\u4e2d\u7684\u5c0f\u53d1\u73b0\uff1a</p> <ul> <li> <p>el\u7684padding-top(y\u8f74)\u548cpadding-left(x\u8f74)\u90fd\u662f\u4ee5\u81ea\u5df1\u7684width\u4f5c\u4e3a\u4f9d\u636e\u7684\u2026\u867d\u7136\u6709\u70b9\u5947\u602a \u4f46\u662f\u60f3\u60f3el\u7684\u9ad8\u5ea6\u4e00\u822c\u51b3\u5b9a\u5176parent\u7684\u9ad8\u5ea6 \u5982\u679cel\u4e00\u65b9\u9762\u7684padding-top\u53f3\u5176parent\u7684\u9ad8\u5ea6\u6307\u5bfc \u53c8\u8fdb\u800c\u51b3\u5b9a\u4e86\u81ea\u5df1\u7684height \u90a3\u4e48\u53c8\u5f97\u53cd\u8fc7\u6765\u5f71\u54cdparent\u7684\u9ad8\u5ea6\u4e86 \u7531\u6b64\u60c5\u51b5\u4f1a\u5f88\u5faa\u73af\u2026https://stackoverflow.com/questions/11003911/why-are-margin-padding-percentages-in-css-always-calculated-against-width</p> </li> <li> <p>\u5f88\u591a\u56fe\u7247\u50a8\u5b58\u7684cdn\u670d\u52a1\u5546\u4f1a\u81ea\u5e26\u56fe\u7247\u538b\u7f29\u529f\u80fd\uff08\u5916\u90e8\u8d44\u6e90\u6700\u597d\u653e\u5728cdn\u670d\u52a1\u5546\u4e0a \u8fd9\u6837\u4e0d\u540c\u5730\u57df\u6253\u5f00\u7684\u7f51\u9875\u4f1a\u4ece\u6700\u8fd1\u7684\u670d\u52a1\u5668\u4e0a\u4e0b\u8f7d\u8d44\u6e90 \u901f\u5ea6\u4f1a\u66f4\u5feb\uff09</p> </li> </ul> <p>\u5df2\u9605\u8bfb\u7684References:</p> <ul> <li> <p>The technology behind preview photos By Facebook</p> </li> <li> <p>Speaking at CSSConf Australia 2016 By Jose M. Perez</p> </li> <li> <p>How to lazy-load images to improve loading time and save bandwith By Jose M. Perez</p> </li> </ul>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/ancient/%E5%89%8D%E7%AB%AF%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9/","title":"\u524d\u7aef\u56fe\u7247\u538b\u7f29","text":""},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/ancient/%E5%89%8D%E7%AB%AF%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9/#_2","title":"\u6b65\u9aa4","text":"<p>Step 1: \u7ed8\u5236\u56fe\u7247</p> <p>\ud83d\udc93 \u5c06\u56fe\u7247\u7ed8\u5236\u5230canvas\u4e0a\u3002</p> <ul> <li>\ud83d\udc7b\u5173\u952e\u4ee3\u7801\uff1a</li> </ul> <p><code>ctx.drawImage(img, [\u526a\u5207img\u7684x, \u526a\u5207img\u7684y, \u526a\u5207img\u7684width, \u526a\u5207img\u7684height], \u653e\u7f6eimg\u7684x, \u653e\u7f6eimg\u7684y, \u653e\u7f6eimgWidth, \u653e\u7f6eimgHeight);</code></p> <ul> <li> <p>\ud83d\udc49\u56e0\u4e3a\u900f\u660epng\u8f6c\u5316\u65f6\u900f\u660e\u533a\u57df\u9ed8\u8ba4\u663e\u793a\u9ed1\u8272\uff0c\u6240\u4ee5\u8981\u7ed9canvas\u8499\u4e0a\u767d\u8272\u5e95\u8272\u5148\u3002</p> </li> <li> <p>\ud83d\udc49\u563f\u563f\u8d60\u9001\u5c0f\u95ee\u9898\u4e00\u4e2a\u3002\u5982\u4f55\u7528canvas\u8fdb\u884c\u74e6\u7247\u7ed8\u5236\u5462\uff1f</p> </li> </ul> <p>Step 2: \u5bfc\u51fa\u56fe\u7247</p> <p>\ud83d\udc93 \u5c06canvas\u4e0a\u7684\u56fe\u7247\u6570\u636e\u5bfc\u51fa\uff0c\u6b64\u65f6\u53ef\u4ee5\u81ea\u5b9a\u4e49\u5bfc\u51fa\u683c\u5f0f\u548c\u8d28\u91cf\u3002</p> <ul> <li> <p>\ud83d\udc7b\u5173\u952e\u4ee3\u7801\uff1a  <code>var data = canvas.toDataURL(type, [encoderOption]);</code></p> </li> <li> <p>\ud83d\udc49type\u9ed8\u8ba4\u4e3aimage/png\u3002\u4f46\u662f\u5982\u679c\u662fpng\u7684\u8bdd\u56fe\u7247\u8fd8\u662f\u5f88\u5927\uff0c\u6240\u4ee5\u8fd8\u662f\u90fd\u538b\u7f29\u6210jpg\u597d\u4e86\u5594\u3002</p> </li> <li> <p>\ud83d\udc49encoderOption\u8868\u793a\u56fe\u7247\u538b\u7f29\u8d28\u91cf\uff0c\u53ef\u9009\u8303\u56f40~1\uff0c\u9ed8\u8ba40.92</p> </li> <li>\ud83d\udc49\u4ee5\u4e0a\u8fd4\u56de(\u9644\u2460)Data URLs\u3002</li> <li>\ud83d\udc49\u3010\u4e0d\u5408\u4f5c\u7684ios\u3011\u5f53\u56fe\u7247\u8fc7\u5927\uff08&gt;=300\u4e07\u50cf\u7d20\uff09\u65f6\uff0cios\u7684toDataURL()\u4e0d\u4f1a\u62a5\u9519\uff0c\u4f46\u5f97\u5230\u7684\u7ed3\u679c\u4e3a\u7a7a\u3002\u6240\u4ee5\u6211\u5728\u5904\u7406\u65f6\u5148\u9650\u5236\u4e86\u56fe\u7247\u5bf9\u5e94canvas\u7684max-width\u4e3a\u624b\u673a\u7684\u663e\u793a\u5c4f\u5e55\u5bbd\u5ea6\uff0c\u4ee5\u6b64\u6765\u9650\u5236\u56fe\u7247\u5927\u5c0f\u3002\u6bd5\u7adf\u624b\u673a\u62cd\u6444\u7684\u7167\u7247\u4e00\u822c\u5c3a\u5bf8\u5de8\u5927\u3002</li> </ul> <p>Step 3: \u6570\u636e\u8f6c\u6362</p> <p>\ud83d\udc93 \u5c06\u7b2c\u4e8c\u6b65\u5bfc\u51fa\u7684base64\u6570\u636e\u8f6c\u6210\u4e8c\u8fdb\u5236blob\u6570\u636e\u3002</p> <ul> <li> <p>\ud83d\udc7b\u5173\u952e\u4ee3\u7801\uff1a</p> </li> <li> <p>\u2460<code>data = dataURL.split(',')[1];</code></p> </li> <li>\u2461<code>data = data.replace(/\\s/g, '');</code></li> <li>\u2462<code>var text = (\u9644\u2461)atob(data);</code></li> <li>\u2463<code>var buffer = (\u9644\u2462)new ArrayBuffer(text.length);</code></li> <li> <p>\u2464<code>var ubuffer = (\u9644\u2463)new Uint8Array(buffer);for (var i = 0; i &lt; text.length; i++) {     ubuffer[i] = text.(\u9644\u2464)charCodeAt(i);}\u2465var blob = new Blob([buffer], {type: type});blob.lastModifiedDate = new Date();</code></p> </li> <li> <p>\ud83d\udc49\u3010\u4e0d\u5408\u4f5c\u7684ios\u3011ios\u4e0b\u7684atob()\u91cc\u4e0d\u63a5\u53d7\u7a7a\u683c\uff0c\u6240\u4ee5\u5e94\u5148\u5c06\u6570\u636e\u5185\u7684\u7a7a\u683c\u5904\u7406\u6389\uff0c\u89c1\u2461\u3002</p> </li> <li> <p>\ud83d\udc49\u3010\u4e0d\u5408\u4f5c\u7684ios\u3011\u672c\u6765\u5b8c\u6574\u7248\u5e94\u8be5\u518d(\u9644\u2466)new File\u4e00\u4e0bblob\u7684\uff0c\u6bd5\u7adf\u4eceFile\u5bf9\u8c61\u91cc\u6765\u4e5f\u60f3\u538b\u7f29\u5b8c\u56de\u5230File\u5bf9\u8c61\u91cc\u53bb\u3002\u53ef\u60dcios\u4e0d\u600e\u4e48\u652f\u6301File()\u51fd\u6570\u3002\u5728ios 10.8\u7cfb\u7edf\u4e0bnew File([blob], \u201cname.JPG\u201d, {type:\u201dimage/jpeg\u201d})\u4e0d\u4f1a\u62a5\u9519\uff0c\u4f46\u5f97\u5230\u7684file\u5bf9\u8c61\u6709\u83ab\u540dbug \u53f9\u6c14</p> </li> <li>\u5b89\u5353\u673a\u4e0b\uff1a </li> <li>ios\u4e0b\uff1a </li> </ul> <p>\u5982\u4e0a\u56fe \u867d\u7136ios\u4e0a\u4f20file\u65f6\u4e5f\u53ef\u4ee5\u8bfb\u5230file\u7684size\u548cname\u7b49\u4fe1\u606f \u4f46\u5bf9\u5e94value\u4e3a\u7a7a\u3002 \u6240\u4ee5\u53ea\u53ef\u4ee5\u76f4\u63a5\u4f20blob\u3002\u5176\u5b9e\u6211\u4e2a\u4eba\u89c9\u5f97file\u5c31\u53ea\u662f\u52a0\u4e0a\u540d\u5b57\u548c\u521b\u5efa\u65e5\u671f\u548ctype\u7684blob\u62c9\u2026\u6bd5\u7adf\u90fd\u662f\u4e8c\u8fdb\u5236\u6587\u4ef6\u800c\u5df2\u3002</p> <p>Step 4: \u4e0a\u4f20\u56fe\u7247</p> <p>\ud83d\udc93 \u5b8c\u5de5\u5927\u5409!</p> <ul> <li>\ud83d\udc7b\u5173\u952e\u4ee3\u7801\uff1a <code>formdata.append('img', blob, 'name.jpg');</code></li> </ul>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/ancient/%E5%89%8D%E7%AB%AF%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9/#_3","title":"\u9644\u5f55","text":"<p>\u2460Data URLs</p> <ul> <li>\u5b9a\u4e49\uff1aURLS prefixed with \u2018data:\u2019</li> <li>\u683c\u5f0f\uff1a\u2019data: [] [; \u7f16\u7801\u65b9\u5f0f], \u2018</li> <li>\u4f8b\u5b50\uff1a \u2018data:image/jpeg; base64, data\u2019</li> <li>\u6240\u4ee5DataURL.split(\u2018,\u2019)[1]\u53ef\u4ee5\u62ff\u5230\u5bf9\u5e94\u6587\u4ef6\u6570\u636e\u3002</li> </ul> <p>\u2461window.atob()\uff1a\u89e3\u7801base64\u7f16\u7801\u7684\u6570\u636e</p> <p>\u2462new ArrayBuffer(length)\uff1a\u4ee3\u8868\u56fa\u5b9a\u957f\u5ea6\u7684\u4e8c\u8fdb\u5236\u6570\u636e</p> <p>\u2463Unit8Array: represents an array of 8-bit unsigned integers</p> <p>\u2464String.charCodeAt()\uff1a\u8fd4\u56de\u6307\u5b9a\u5b57\u7b26\u5bf9\u5e94\u7684utf-16 code</p> <p>\u2466file = new File([blob], \u201cname.JPG\u201d, {type:\u201dimage/jpeg\u201d})</p> <p>\u2467\u7528canvas\u8fdb\u884c\u4e00\u5927\u5f20\u56fe\u7247img\u74e6\u7247\u7ed8\u5236\u7684\u7b54\u6848\uff1a</p> <p>\u5047\u8bbe\u6709\u4e00\u5f20img\u5c31\u662f\u5f88\u65e0\u804a\u3002\u5b83\u5e0c\u671b\u81ea\u5df1\u7684x\u8f74\u88ab\u5206\u4e3anx\u90e8\u5206\uff0cy\u8f74\u88ab\u5206\u4e3any\u90e8\u5206\uff0c\u88ab\u6253\u788e\u4ee5\u540e\u518d\u62fc\u5230canvas\u4e0a\u53bb\u2026  </p> <p><code>var nw = img.width/nx, nh = img.height/ny; for(var i = 0; i &lt; nx; i++) { for(var j = 0; j &lt; ny; i++) {  ctx.drawImage(img,  nw*i, nh*j, nw*h, nh*j, nw, nh) }}</code></p> <p>\u6700\u540e\u524d\u7aef\u538b\u7f29\u56fe\u7247\u2026\u771f\u7684\u771f\u7684\u8d85\u7ea7\u8d85\u7ea7\u6f2b\u957f\u7684\uff01\uff01\u4f1a\u5bb9\u6613\u7ed9\u4eba\u8fd9\u4e2a\u7f51\u9875\u70c2\u6389\u4e86\u7684\u9519\u89c9\u2026\u6240\u4ee5\u5e94\u8be5\u5c3d\u91cf\u8fd8\u662f\u907f\u514d\u8fd9\u6837\u5b50\u7684\u64cd\u4f5c\u628a\u6069\ud83e\udd26\ud83e\udd26\ud83e\udd26</p> <p>\u4e00\u5982\u65e2\u5f80\u7684\u5c0fdemo</p>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/ancient/%E5%89%8D%E7%AB%AF%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9/#refs","title":"Refs","text":"<p>\u79fb\u52a8\u524d\u7aef\u2014\u56fe\u7247\u538b\u7f29\u4e0a\u4f20\u5b9e\u8df5 By W.Axes</p> <p>new File fails on ie 11.0.15 / safari github</p>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/ancient/%E6%AD%A3%E5%88%99%E8%A6%81%E5%8D%95%E7%8B%AC%E5%BC%80%E4%B8%80%E7%AB%A0/","title":"\u6b63\u5219\u8981\u5355\u72ec\u5f00\u4e00\u7ae0","text":""},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/ancient/%E6%AD%A3%E5%88%99%E8%A6%81%E5%8D%95%E7%8B%AC%E5%BC%80%E4%B8%80%E7%AB%A0/#new-regexp","title":"\u5584\u7528new RegExp","text":"<p>\u7528\u5b83\u6709\u4e24\u4e2a\u597d\u5904\uff0c\u4e00\u662f\u907f\u514d\u91cd\u590d\u521d\u59cb\u5316regxp\uff1b\u4e8c\u662f\u53ef\u4ee5\u4ee5string\u7684\u5f62\u5f0f\u6765\u5199\uff0c\u659c\u6760\u7b49\u4e0d\u7528\u52a0\u53cd\u4e49\u3002</p>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/ancient/%E6%AD%A3%E5%88%99%E8%A6%81%E5%8D%95%E7%8B%AC%E5%BC%80%E4%B8%80%E7%AB%A0/#groups","title":"\u5339\u914d\u4e0egroups","text":"<p>\u67e5\u8be2\u5e76\u66ff\u6362 {{xxx}}</p> <p>\u539f\uff1a</p> <pre><code>const reg = /\\{\\{(.+)\\}\\}/\nreturn str.replace(reg, (m, $1) =&gt; console.log(m, $1))\n// {{aaa}} =&gt; {{aaa}} aaa\n// {{aaa}}hhh{{bbb}} =&gt; {{aaa}}hhh{{bbb}} aaa}}hhh{{bbb \uff08\u00d7\uff09\n</code></pre> <p>\u6b63\u786e\uff1a</p> <pre><code>const reg =/\\{\\{((?:.|\\n)+?)\\}\\}/g\n</code></pre> <p>// \u5176\u5b9e\u6700\u5173\u952e\u7684\u662f\u52a0\uff1f\u5566 \u628a\u8d2a\u5a6a\u6a21\u5f0f\u66ff\u6362\u4e3a\u61d2\u60f0\u6a21\u5f0f</p> <p>\u9ed8\u8ba4match\u7684\u5185\u5bb9\u662f\u6574\u4e2a\u5339\u914d\u9879\uff0c\u5982\u679c\u53ea\u9700\u8981\u90e8\u5206\u5185\u5bb9\u7684\u8bdd\uff0c\u7528group\u3002</p> <pre><code>'111{{aaa}}222'.match(/{{(.+?)}}/)  \n// =&gt; \\[\"{{aaa}}\", \"aaa\", index: 3, input: \"111{{aaa}}222\", groups: undefined\\]  \n</code></pre> <p>\u4e0d\u8fc7\u6b64\u65f6\u7684groups\u8fd8\u662fundefined\u3002\u8981\u663e\u793agroup\u7684\u5185\u5bb9(named captured groups)\uff0c\u53ef\u4ee5\u4ee5<code>?&lt;groupName&gt;</code>\u7684\u65b9\u5f0f\u663e\u6027\u547d\u540d\uff08\u8d85\u597d\u7528\uff09\uff1a</p> <pre><code>'111{{aaa}}222'.match(/{{(?&lt;mustache&gt;.+?)}}/)  \n// =&gt; \\[\"{{aaa}}\", \"aaa\", index: 3, input: \"111{{aaa}}222\", groups: {mustache: \"aaa\"}\\]  \n</code></pre> <p>\u4e0d\u8fc7\uff0c\u5168\u5c40match\u6709\u4e2a\u5c0f\u5751\uff1a</p> <pre><code>'111{{aaa}}222'.match(/{{(.+?)}}/g)  \n// =&gt; \\[\"{{aaa}}\"\\]  \n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\u6b64\u65f6\u6ca1\u6709\u5355\u4e2amatch\u4e2d\u989d\u5916\u7684\u5185\u5bb9\u4e86\u3002\u4e0d\u8fc7stage-4\u91cc\u6709\u4e2a\u65b0api<code>string.prototype.matchAll</code>\uff0c\u4f1a\u8fd4\u56de\u4e00\u4e2a<code>iterator</code>\uff08\u4e3a\u4ec0\u4e48\u662fiterator\u800c\u4e0d\u5c31\u662f\u4e00\u4e2a\u6570\u7ec4\u5462\uff0c\u56e0\u4e3ajs\u671f\u671b\u904d\u5386\u64cd\u4f5c\u7531\u7528\u6237\u6765\u63a7\u5236\uff0c\u907f\u514d\u65e0\u6548\u904d\u5386\uff09\uff0c\u6267\u884c\u540e\u5f97\u5230\u7684\u503c\u548c<code>match</code>\u5355\u4e2a\u65f6\u4e00\u6a21\u4e00\u6837\uff1a</p> <pre><code>\\[...'111{{aaa}}222'.matchAll(/{{(.+?)}}/g)\\]  \n// =&gt; \\[\\[\"{{aaa}}\", \"aaa\", index: 3, input: \"111{{aaa}}222\", groups: {mustache: \"aaa\"}\\]\\]  \n</code></pre> <p>\u5982\u679c\u5728\u5b9e\u9645\u60c5\u51b5\u4e2d\u4f7f\u7528\uff0c\u9700\u8981\u5f15\u5165babel-polyfill\u6216\u8005es-shim\u3002</p>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/ancient/%E6%AD%A3%E5%88%99%E8%A6%81%E5%8D%95%E7%8B%AC%E5%BC%80%E4%B8%80%E7%AB%A0/#_2","title":"\u6362\u884c\u76f8\u5173","text":"<ul> <li>\u5982\u4f55 match line breaks?     Linux\u548c\u65b0Mac use\u00a0<code>\\n</code>\u00a0for a new-line; Windows\u00a0<code>\\r\\n</code>\u00a0and old Macs\u00a0<code>\\r</code>. \u6240\u4ee5\u53ef\u4ee5\u7528 <code>(\\r\\n|\\r|\\n)</code></li> <li>(.+) Couldn't match \u542b\u6709 line break \u7684 text     \u4f7f\u7528 <code>[^.]+</code></li> </ul>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/ancient/%E6%AD%A3%E5%88%99%E8%A6%81%E5%8D%95%E7%8B%AC%E5%BC%80%E4%B8%80%E7%AB%A0/#_3","title":"\u8f6c\u8bd1","text":"<p>\u5728\u5904\u7406\u7528\u6237\u8f93\u5165\u7684\u5b57\u7b26\u4e32\u65f6\uff0c\u4e00\u5b9a\u8981\u5148\u8f6c\u8bd1\u3002\u7528MDN\u4e0a\u7684\u8fd9\u4e00\u4e32\u7b80\u5355\u66ff\u6362\u5c31\u597d\u4e86~</p> <pre><code>function escapeRegExp(string) {  \n  return string.replace(/\\[.\\*+?^${}()|\\[\\\\\\]\\\\\\\\\\]/g, \"\\\\\\\\$&amp;\");   \n  //$&amp;\u8868\u793a\u6574\u4e2a\u88ab\u5339\u914d\u7684\u5b57\u7b26\u4e32  \n}\n</code></pre>"},{"location":"Frontend/Vikki%20%E7%9A%84%E5%9B%BA%E5%AE%9A%E6%A8%A1%E5%BC%8F/ancient/%E6%AD%A3%E5%88%99%E8%A6%81%E5%8D%95%E7%8B%AC%E5%BC%80%E4%B8%80%E7%AB%A0/#refs","title":"Refs","text":"<ul> <li>regexp-groups</li> </ul>"},{"location":"Frontend/Vue/","title":"index","text":""},{"location":"Frontend/Vue/#_1","title":"\u5468\u8fb9","text":"<p>pinia</p>"},{"location":"Frontend/Vue/#vs","title":"\u8fd0\u884c\u65f6 v.s. \u6784\u5efa\u65f6","text":"<p>https://cn.vuejs.org/v2/guide/installation.html#%E5%AF%B9%E4%B8%8D%E5%90%8C%E6%9E%84%E5%BB%BA%E7%89%88%E6%9C%AC%E7%9A%84%E8%A7%A3%E9%87%8A</p> <p>\u4e5f\u5c31\u662fhtml =&gt; virtual dom\u7684\u7f16\u8bd1\u662f\u8fd0\u884c\u65f6\u505a\u8fd8\u662f\u6784\u5efa\u65f6\u505a</p> <p>\u56e0\u4e3a\u8fd0\u884c\u65f6\u7248\u672c\u76f8\u6bd4\u5b8c\u6574\u7248\u4f53\u79ef\u8981\u5c0f\u5927\u7ea6 30%\uff0c\u6240\u4ee5\u5e94\u8be5\u5c3d\u53ef\u80fd\u4f7f\u7528\u8fd9\u4e2a\u7248\u672c\u3002\u5982\u679c\u4f60\u4ecd\u7136\u5e0c\u671b\u4f7f\u7528\u5b8c\u6574\u7248\uff0c\u5219\u9700\u8981\u5728\u6253\u5305\u5de5\u5177\u91cc\u914d\u7f6evue\u7684\u522b\u540d\u3002\u56e0\u4e3a\u9ed8\u8ba4\u5f15\u5165\u7684vue\u662f</p> <pre><code>\"main\": \"dist/vue.runtime.common.js\",\n\"module\": \"dist/vue.runtime.esm.js\", \n</code></pre> <p>\u53e6\u5916\uff0cvue1\u8fd8\u662f\u7528\u7684\u8fd0\u884c\u65f6\u7528fragmentDocument\u53bb\u66ff\u6362\u6a21\u677f\u7684\u65b9\u5f0f\uff0c\u6240\u4ee5\u4e25\u683c\u610f\u4e49\u4e0a\u800c\u8a00\uff0cvue1\u5230vue2\u662f\u5b8c\u6574\u7684\u8dc3\u8fdb\u3002</p> <p>\u524d\u8005\u8fd8\u662f\u539f\u6765\u6a21\u677f\u6e32\u67d3\u7684\u601d\u60f3\uff0c\u800c\u540e\u8005\u5219\u610f\u5473\u7740virtual dom\u4e86\u3002</p>"},{"location":"Frontend/Vue/#vue-vs-react","title":"Vue v.s. React","text":"<p>\"Vue automatically performs optimizations to update specific parts of the component tree but doesn\u2019t offer a manual way to prevent re-renders. In React, it\u2019s up to the developer to decide when and where to manually prevent them.\"</p> <p>\u4e5f\u5c31\u662fvue\u4f1a\u63a7\u5236\u8981\u91cd\u65b0\u6e32\u67d3dom\u6570\u7684\u54ea\u4e00\u90e8\u5206 \u4f46react\u53ef\u80fd\u4f1a\u628a\u9009\u62e9\u6743\u66f4\u591a\u7684\u4ea4\u7ed9\u4f7f\u7528\u8005</p>"},{"location":"Frontend/Vue/#vuex-vs-redux","title":"Vuex v.s. Redux","text":"<p>\u5176\u5b9e\u6211\u611f\u89c9\u4e24\u8005\u5927\u5dee\u4e0d\u5dee\u3002\u4e0d\u540c\u70b9\u6709\u4e8c\uff1a</p> <ul> <li>vuex\u662f\u4e3b\u52a8\u66f4\u6539\uff0c\u800credux\u662f\u8fd4\u56de\u65b0\u7684\u5b8c\u6574\u7ed3\u6784(\u68c0\u6d4b\u65b9\u5f0f\u4e0d\u540c\u6240\u81f4)</li> <li>vuex\u7684mutations+actions = redux\u7684 reducer+redux-thunk //\u771f\u7684\u4e00\u6a21\u4e00\u6837\u3002\u5982\u679credux\u4e0d\u82db\u6c42\u5b83\u7684\u8fd4\u56de\u7eaf\u51fd\u6570\u7684\u601d\u8def\u7684\u8bdd\uff0c\u4e5f\u5b8c\u5168\u53ef\u4ee5\u8ba9actions\u652f\u6301\u5f02\u6b65\u3002</li> </ul> <p>\"\u5728\u6709\u9650\u7a0b\u5ea6\u4e0a\uff0cReact + Mobx \u4e5f\u53ef\u4ee5\u88ab\u8ba4\u4e3a\u662f\u66f4\u7e41\u7410\u7684 Vue\uff0c\u6240\u4ee5\u5982\u679c\u4f60\u4e60\u60ef\u7ec4\u5408\u4f7f\u7528\u5b83\u4eec\uff0c\u90a3\u4e48\u9009\u62e9 Vue \u4f1a\u66f4\u5408\u7406\u3002\"</p>"},{"location":"Frontend/Vue/%E6%A1%86%E6%9E%B6%E7%BB%93%E6%9E%84/","title":"\u6846\u67b6\u7ed3\u6784","text":"<ol> <li>\u54cd\u5e94\u7cfb\u7edf</li> <li>\u4f9d\u8d56\uff1a<ul> <li>\u81ea\u52a8\u6536\u96c6: \u5f52\u6839\u5230\u5e95\u8fd8\u662f\u9012\u5f52\u5faa\u73af\u3002\u4e3a\u907f\u514d\u65e0\u9650\u5faa\u73af\uff0c\u8981\u505a\u6bcf\u4e00\u4e2a\u5143\u7d20\u52a0\u5165\u65f6\u7684\u662f\u5426\u5df2\u52a0\u5165\u5224\u5b9a(deps)\u3002</li> <li>Proxy \u5728\u5404\u79cd\u7c7b\u578b\u3001\u539f\u59cb\u503c\uff08\u5305\u88c5\u6210obj\uff09\u4e0b\u7684\u52ab\u6301\u8bbe\u8ba1</li> <li>effect \u65f6\u4f1a\u9047\u5230\u5d4c\u5957\u573a\u666f\uff0c\u5d4c\u5957effect\uff1b\u5f53\u6709\u5d4c\u5957\u60c5\u51b5\uff0c\u53c8\u9700\u8981\u4fdd\u5b58\u5f53\u524d\u4e0a\u4e0b\u6587\u65f6\uff0c\u6700\u9002\u5408\u7684\u4f7f\u7528\u7b97\u6cd5\u5c31\u662f\u6808\u4e86\u3002</li> </ul> </li> <li>\u56de\u8c03\u51fd\u6570\uff1a<ul> <li>\u56de\u8c03\u51fd\u6570\u7684\u6267\u884c\u65f6\u673a\u4ea4\u56de\u7ed9\u7528\u6237(schedule)</li> <li>\u56de\u8c03\u6267\u884c\u7684\u7ade\u6001\u95ee\u9898</li> </ul> </li> <li>\u6e32\u67d3\u5668</li> <li>\u7c7b\u578b\u3001\u6302\u8f7d\u4e0e\u66f4\u65b0</li> <li>vnode \u6bd4\u8f83\u65f6\u7684 diff \u7b97\u6cd5</li> <li>\u7ec4\u4ef6</li> <li>\u5f02\u6b65\u7ec4\u4ef6</li> <li>\u5185\u5efa\u7ec4\u4ef6</li> </ol>"},{"location":"Frontend/Vue/ancient/%E6%B8%B2%E6%9F%93%E5%87%BD%E6%95%B0%26jsx/","title":"\u6e32\u67d3\u51fd\u6570&amp;jsx","text":"<p>\u5440\uff01\u5728\u8fd9\u91cc\u770b\u5230\u4e86\uff01 https://cn.vuejs.org/v2/guide/render-function.html</p> <p>\u9644\uff1a\u5728ScriptOJ\u4e0a\u770b\u5230\u5982\u4f55\u7f16\u5199\u53ef\u6e32\u67d3\u7684VNode\u7c7b\u7684\u9898~ https://scriptoj.com/problems/95/standardSolution</p> <p><code>return createElement('h1', this.blogTitle)</code></p> <p>\u5176\u53c2\u6570\uff1a</p> <p></p> <p>\u8fd9\u6837\u6240\u6709template\u7684\u529f\u80fd\u90fd\u53ef\u4ee5\u88abjs\u76f4\u63a5\u590d\u5199\u4e86~</p> <p>\u539f\uff1a</p> <p></p> <p>(\u4ee5\u4e0a\u7684\u95ee\u9898\u5728\u4e8e\u9700\u5b9e\u73b0\u5f88\u591a\u4e2a\u65f6 \u4f1a\u663e\u5f97\u5de8\u957f) \u6240\u4ee5\u53ef\u4ee5\u5c06\u4e4b\u8f6c\u6362\u4e3a\u865a\u62dfnode</p> <p></p> <p>\u81f3\u4e8e\u6a21\u677f\u8bed\u53e5v-if/v-for\u8fd9\u4e9b \u5c31\u8981\u50cfreact\u4e00\u6837\u7528if/else\u53camap\u6765\u590d\u5199\u4e86(vue\u7684\u6a21\u677f\u6b63\u662f\u88ab\u7f16\u8bd1\u6210\u4e86render\u51fd\u6570)</p> <p>\u53ef\u662f\u5982\u679c\u5168\u90fd\u7528createElement\u6765\u5199\u5462 \u5f53\u7136\u4f1a\u8d85\u75db\u82e6\u7684 \u6240\u4ee5\u53ef\u4ee5\u4f7f\u7528JSX\u8bed\u6cd5 vue\u91cc\u7528\u4e86babel-plugin-transform-vue-jsx\u8fd9\u4e2ababel\u63d2\u4ef6\u3002\u8fd9\u4e2ababel\u63d2\u4ef6\u53ef\u4ee5\u5c06\u524d\u8005JSX\u8f6c\u6362\u4e3a\u540e\u8005\uff1a</p> <p>\u524d\uff1a{this.text}</p> <p>\u540e\uff1a</p> <p>\u6ce8\u610fh\u662f\u6700\u597d\u8981\u5199\u7684\u3002\u867d\u7136\u6587\u6863\u91cc\u63d0\u5230\u5728\u5f62\u5982render(){...}\u7684\u72b6\u6001\u4e0bh\u4f1a\u88ab\u81ea\u52a8\u63d2\u5165\u3002</p>"},{"location":"Frontend/Vue/ancient/%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0/","title":"\u6e90\u7801\u5b66\u4e60","text":""},{"location":"Frontend/Vue/ancient/%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0/#_2","title":"\u5982\u4f55\u76d1\u542c\u4e00\u4e2a\u5bf9\u8c61\u7684\u53d8\u5316","text":"<p>\u4ee5\u4e0a \u8fd8\u662f\u5f88\u7b80\u5355\u7684\u3002</p> <p>\u518d\u5de9\u56fa\u4e00\u4e0bget\u548cset\uff0c\u7528\u4e86\u4ee5\u540e\u5bf9\u8c61\u7684writable\u5c5e\u6027\u53ef\u5c31\u4e48\u6709\u4e86\u54df\u3002</p> <p>\u4e24\u4e2a\u7f3a\u9677 \u4e00\u65e0array \u4e8c\u5bf9\u8c61\u7684\u503c\u82e5\u88ab\u8bbe\u7f6e\u6210\u4e86object\u5219\u8be5object\u7684\u503c\u4e0d\u4f1a\u88abobserve\u5230</p> <p>\u547d\u540d\u771f\u662f\u4e2a\u95ee\u9898\u2026\u6240\u6709\u7684\u9012\u5f52\u5faa\u73af\u90fd\u53ef\u4ee5\u53ebwalk\u3002\u4e0d\u8981\u53ebgetDeepObjs\u8fd9\u4e48\u8822\u7684\u5566\u2026</p> <p>\u601d\u8def\u4e0a\u4e5f\u6709\u4e0d\u540c\u3002\u4ed6\u7684\u662f\u9012\u5f52\u5faa\u73af\u65f6 \u6bcf\u5230\u4e00\u4e2a\u5bf9\u8c61\u90fd\u53bbobserve\u8fd9\u4e2a\u5355\u72ec\u7684\u5bf9\u8c61\u3002\u800c\u6211\u7684\u662f\u5148\u5c06\u5bf9\u8c61\u6241\u5e73\u5316\u518d\u53bb\u5faa\u73afobserve...</p> <p>\u5f53\u7136\u6211\u4e5f\u662f\u6709\u81ea\u5df1\u7684\u8003\u8651\u7684\u5566\uff01</p>"},{"location":"Frontend/Vue/ancient/%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0/#emitterjs","title":"emitter.js","text":"<p>\u4e00\u4e2a Emit \u6784\u9020\u51fd\u6570\uff0c\u5176\u539f\u578b\u4e0a\u62e5\u6709 on\u3001off\u3001once\u3001emit\u3001applyEmit \u8fd9\u4e9b\u65b9\u6cd5</p> <pre><code>/**\n* Simple event emitter based on component/emitter.\n*\n* @constructor\n* @param {Object} ctx - the context to call listners with.\n*/\nfunction Emitter (ctx) {\n    this._ctx = ctx || this\n}\nvar p = Emitter.prototype\n/**\n* Listen on the given `event` with `fn`.\n*\n* @param {String} event\n* @param {Function} fn\n* @return {Emitter}\n*/\np.on = function (event, fn) {\nthis._cbs = this._cbs || {}\n//\u4e0b\u884c\u7684\u521d\u59cb\u5316\u65b9\u5f0f\u86ee\u559c\u6b22\u7684\uff01\n;(this._cbs[event] || (this._cbs[event] = []))\n.push(fn)\n    return this\n}\n/**\n* Adds an `event` listener that will be invoked a single\n* time then automatically removed.\n*\n* @param {String} event\n* @param {Function} fn\n* @return {Emitter}\n*/\np.once = function (event, fn) {\n  var self = this\n  this._cbs = this._cbs || {}\n  function on () {\n    self.off(event, on)\n    fn.apply(this, arguments)\n  }\n  on.fn = fn\n  this.on(event, on)\n  return this\n}\n/**\n* Remove the given callback for `event` or all\n* registered callbacks.\n*\n* @param {String} event\n* @param {Function} fn\n* @return {Emitter}\n*/\n//off\u5904\u503c\u5f97\u6ce8\u610f\u7684\u662f\u6709\u89e3\u7ed1\u5168\u90e8\u56de\u8c03\u51fd\u6570\uff0c\u89e3\u7ed1\u67d0\u4e8b\u4ef6\u7684\u5168\u90e8\u56de\u8c03\u51fd\u6570\uff0c\u89e3\u7ed1\u67d0\u4e8b\u4ef6\u7684\u67d0\u56de\u8c03\u51fd\u6570\u4e4b\u5206\u3002\u5e76\u4e14\u6307\u9488\u76f8\u540c\u7684\u5bf9\u8c61\u662f\u53ef\u4ee5\u7528===\u6765\u6bd4\u8f83\u7684\uff01\np.off = function (event, fn) {\n  this._cbs = this._cbs || {}\n  // all\n  if (!arguments.length) {\n    this._cbs = {}\n    return this\n  }\n    // specific event\n  var callbacks = this._cbs[event]\n  if (!callbacks) return this\n  // remove all handlers\n  if (arguments.length === 1) {\n    delete this._cbs[event]\n    return this\n  }\n  // remove specific handler\n  var cb\n  for (var i = 0; i &lt; callbacks.length; i++) {\n    cb = callbacks[i]\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1)\n      break\n    }\n  }\n  return this\n}\n/**\n* The internal, faster emit with fixed amount of arguments\n* using Function.call.\n*\n* @param {Object} event\n* @return {Emitter}\n*/\np.emit = function (event, a, b, c) {\n  this._cbs = this._cbs || {}\n  var callbacks = this._cbs[event]\n  if (callbacks) {\n    callbacks = callbacks.slice(0)\n    for (var i = 0, len = callbacks.length; i &lt; len; i++) {\n      callbacks[i].call(this._ctx, a, b, c)\n    }\n  }\n  return this\n}\n/**\n* The external emit using Function.apply, used\n* by Vue instance event methods.\n*\n* @param {Object} event\n* @return {Emitter}\n*/\np.applyEmit = function (event) {\n  this._cbs = this._cbs || {}\n  var callbacks = this._cbs[event], args\n  if (callbacks) {\n    //!!!\u8fd8\u597d\u6211\u67e5\u4e86\u4e00\u4e0barr.slice(0)\u6709\u4ec0\u4e48\u7528 \u539f\u6765\u8fd9\u662f\u4e00\u4e2a\u4ece\u524dduplicate array\u7684cheap way\u5440\uff01\n    callbacks = callbacks.slice(0)\n    args = callbacks.slice.call(arguments, 1)\n    for (var i = 0, len = callbacks.length; i &lt; len; i++) {\n      callbacks[i].apply(this._ctx, args)\n    }\n  }\n  return this\n}\nmodule.exports = Emitter\n</code></pre>"},{"location":"Frontend/Vue/ancient/%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0/#utilsjs","title":"utils.js","text":"<pre><code>/**\n* Mix properties into target object.\n*\n* @param {Object} to\n* @param {Object} from\n*/\nexports.mixin = function (to, from) {\n  for (var key in from) {\n    if (to[key] !== from[key]) {\n        to[key] = from[key]\n    }\n  }\n}\n/**\n* Mixin including non-enumerables, and copy property descriptors.\n*\n* @param {Object} to\n* @param {Object} from\n*/\nexports.deepMixin = function (to, from) {\n  Object.getOwnPropertyNames(from).forEach(function (key) {\n    var descriptor = Object.getOwnPropertyDescriptor(from, key)\n    Object.defineProperty(to, key, descriptor)\n  })\n}\n/**\n* Proxy a property on one object to another.\n*\n* @param {Object} to\n* @param {Object} from\n* @param {String} key\n*/\nexports.proxy = function (to, from, key) {\n  if (to.hasOwnProperty(key)) return\n  Object.defineProperty(to, key, {\n    enumerable: true,\n    configurable: true,\n    get: function () {\n        return from[key]\n    },\n    set: function (val) {\n        from[key] = val\n    }\n  })\n}\n/**\n* Object type check. Only returns true\n* for plain JavaScript objects.\n*\n* @param {*} obj\n* @return {Boolean}\n*/\nexports.isObject = function (obj) {\n    return Object.prototype.toString.call(obj) === '[object Object]'\n}\n/**\n* Array type check.\n*\n* @param {*} obj\n* @return {Boolean}\n*/\nexports.isArray = function (obj) {\n    return Array.isArray(obj)\n}\n/**\n* Define a non-enumerable property\n*\n* @param {Object} obj\n* @param {String} key\n* @param {*} val\n* @param {Boolean} [enumerable]\n*/\nexports.define = function (obj, key, val, enumerable) {\n  Object.defineProperty(obj, key, {\n    value : val,\n    enumerable : !!enumerable,\n    writable : true,\n    configurable : true\n  })\n}\n/**\n* Augment an target Object or Array by either\n* intercepting the prototype chain using __proto__,\n* or copy over property descriptors\n*\n* @param {Object|Array} target\n* @param {Object} proto\n*/\nif ('__proto__' in {}) {\n    exports.augment = function (target, proto) {\n    target.__proto__ = proto\n  }\n  } else {\n    exports.augment = exports.deepMixin\n}\n</code></pre> <p>\u5176\u5b9e\u770b\u5230\u91cc\u9762\u7528\u7684\u6700\u5e7f\u7684\u662fdefine\u548caugment\u3002\u524d\u8005\u662f\u7ed9\u5bf9\u8c61\u6dfb\u52a0\u65b0\u7684\u503c\uff0c\u540e\u8005\u662f\u7ed9\u5bf9\u8c61\u6307\u5b9a\u539f\u578b\u94fe&lt;\u76f8\u5f53\u4e8e\u5bf9\u8c61\u7684\u7ee7\u627f&gt;\u3002</p> <p>\u6709\u8da3\u7684\u662f\u5728Array\u4e2d\uff0c\u4f7f\u7528arr.proto=another obj\u8fd9\u6837\u6307\u5b9a\u4e86\u539f\u578b\u94fe\u540e\uff0carr\u4e0d\u4ec5\u62e5\u6709\u4e86\u539f\u578b\u94fe\u4e0a\u7684\u65b9\u6cd5\uff0cArray.isArray(arr)\u8fd8\u662ftrue\u3002</p>"},{"location":"Frontend/Vue/ancient/%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0/#observerjs","title":"observer.js","text":"<p>Observer.create\u505a\u4e86\u4ec0\u4e48\uff1f</p> <ul> <li>\u4e3a\u4e00\u4e2avalue\u6dfb\u52a0$observer\u5c5e\u6027&lt;\u5373new Observer()&gt;\u3002 </li> </ul> <p>new Observer()\u65f6\u53d1\u751f\u4e86\u4ec0\u4e48&lt;\u5373$observer\u7684\u6784\u6210&gt;\uff1f</p> <ul> <li>\u7ed9Emitter\u7ed1\u5b9athis\u5e76\u6267\u884c&lt;\u7ed3\u679c\uff1athis._ctx=this&gt;\u3002</li> <li>\u5b9a\u4e49\u4e86this.value, type\u548cparents\u3002</li> </ul> <p>Object\u90e8\u5206</p> <ul> <li>\u201c _.augment(value,     objectAugmentations)\u201d\uff1a\u7ed9value\u52a0\u4e0a\u4e86$add\u548c$delete\u7684\u7ee7\u627f\u65b9\u6cd5\u3001\u5728$add\u65f6\u4f1a\u53bbobserve\u548cconvert\u8fd9\u4e9b\u5c5e\u6027\u3002</li> <li>\u201cthis.walk(value)\u201d\uff1a\u904d\u5386value\u7684\u6240\u6709\u5c5e\u6027\uff0c\u5206\u522b\u8c03\u7528observe\u65b9\u6cd5\u548cconvert\u65b9\u6cd5\uff0c\u53bbobserve\u548cconvert\u8fd9\u4e9b\u5c5e\u6027\u3002</li> <li>observe\u65b9\u6cd5: \u5165\u53c2&lt;\u952e\u503c\u5bf9&gt;</li> </ul> <p>\u7ee7\u7eed\u7ed9\u503c&lt;\u4ea6\u5373\u5b50value&gt;\u6dfb\u52a0$observer\u5c5e\u6027\u3002\u5373\u5bf9\u503c\u800c\u8a00\u91cd\u590d\u4e0a\u8ff0\u6240\u6709\u6b65\u9aa4\u3002</p> <p>\u7ed9\u5b50value\u7684parents\u5c5e\u6027\u4e0a\u6dfb\u52a0{ob:\u81ea\u5df1\u7684\u8fd9\u4e2athis\uff0ckey: \u952e\u540d}</p> <p>// \u8fd9\u91cc\u6709\u4e2a\u70b9\u3002\u4e00\u5f00\u59cb\u6211\u4e0d\u786e\u5b9a\u4e3a\u4ec0\u4e48\u5b50value\u7684parents\u5c5e\u6027\u662f\u4e2a\u6570\u7ec4\u800c\u4e0d\u662f\u4ec5\u4e00\u4e2a\u503c\uff0c\u540e\u77e5\u540e\u89c9\u5b50value\u662f\u53ef\u80fd\u6709\u591a\u4e2aparents\u7684\u3002\u56e0\u4e3a\u4e0d\u540c\u5730\u65b9\u7684\u952e\u503c\u53ef\u4ee5\u6307\u5411\u540c\u4e00\u4e2a\u5bf9\u8c61\u5440\uff01</p> <ul> <li>convert\u65b9\u6cd5\uff1a\u5165\u53c2&lt;\u952e\u503c\u5bf9&gt;</li> </ul> <p>\u8fd9\u91cc\u5c31\u662f\u4f20\u7edf\u610f\u4e49\u4e0a\u901a\u8fc7Object.defineProperty\u5bf9\u503c\u7684\u53d8\u5316\u8fdb\u884c\u8ba2\u9605\u7684\u90e8\u5206\u3002get\u7684\u8bdd\u76f4\u63a5\u8fd4\u56devalue\u3002set\u7684\u8bdd\uff0c\u5148unobserve value\uff0c\u518dobserve\u65b0\u7684value\u3002</p> <ul> <li>unobserve\u65b9\u6cd5\uff1a\u5165\u53c2&lt;\u503c&gt;</li> </ul> <p>\u8fd9\u91cc\u7684unobserve\u8fd8\u86ee\u5de7\u5999\u7684\uff0c\u5176\u5b9e\u5c31\u662f\u79fb\u9664\u201c\u503c.$observer\u201d\u91cc\u7684parents\u91cc\u7684ob === this\u9879\u3002&lt;\u6240\u4ee5\u5176\u5b9e\u503c\u8fd8\u662f\u5728\u7684\uff0c\u53ea\u662f\u5207\u65ad\u4e86\u5b83\u548c\u67d0\u4e2akey\u7684\u8054\u7cfb\u800c\u5df2&gt;</p> <p>Arrray\u90e8\u5206</p> <ul> <li>\u201c _.augment(value, arrayAugmentations)\u201d\uff1a\u5173\u4e8e\u6570\u7ec4\u7684\u6b65\u9aa4\u5c31\u6bd4\u8f83\u591a\u4e00\u70b9\u4e86\u3002</li> </ul> <p>\u9996\u5148\u662f\u5b9a\u4e49\u53ef\u64cd\u4f5c\u65b9\u6cd5\u6570\u7ec4\u3002\u6267\u884c\u64cd\u4f5c\u65f6\u4e00\u65b9\u9762\u901a\u8fc7Array.prototype[method].apply(this, arguments)\u83b7\u5f97\u6b63\u786e\u7b54\u6848\uff0c\u53e6\u4e00\u65b9\u9762\u8981\u5bf9\u6539\u53d8\u7684index\u4ee5\u53ca\u53d8\u52a8\u7684items\u8fdb\u884c\u8ba2\u9605\u66f4\u65b0\u3002\u5927\u5934\u620f\u5176\u5b9e\u662f\u66f4\u65b0\uff1a</p> <p>\u6bcf\u6b21\u6570\u7ec4\u88ab\u64cd\u4f5c\u540e\uff0c\u53ef\u5f97\u5230index&lt;\u53d1\u751f\u53d8\u5316index&gt;, inserted&lt;\u88ab\u63d2\u5165items&gt;,removed&lt;\u88ab\u79fb\u9664items&gt;\u8fd9\u4e09\u4e2a\u5173\u952e\u5b57\uff1b</p> <p>\u82e5\u6709inserted\uff0c\u5219\u6267\u884c$observer.link(index, inserted)\uff1b</p> <p>\u82e5\u6709removed\uff0c\u5219\u6267\u884c$observer.unlink(index, removed)\uff1b</p> <p>\u6700\u540e\uff0c\u8fd8\u8bb0\u5f97\u6bcf\u4e00\u4e2a$observer.parents\u5c5e\u6027\u5417\uff1f\u6570\u7ec4\u53ef\u4ee5\u89c6\u4e3aindex-item\u7684\u952e\u503c\u5bf9\u5bf9\u8c61\uff0c\u5bf9\u4e8e\u6570\u7ec4\u7684item\u800c\u8a00\uff0cparent\u7684key\u662f\u6570\u7ec4\u7684index\uff0c\u6240\u4ee5\u5982\u679c\u6570\u7ec4\u7684index\u4e0eitem\u7684\u6620\u5c04\u53d1\u751f\u6539\u53d8\u7684\u8bdd\uff0c\u4e5f\u9700\u8981\u5bf9\u6bcf\u4e2aitem\u7684parent\u91cc\u8bb0\u5f55\u7684key\u8fdb\u884c\u66f4\u65b0\u3002\u9664\u4e86push\u4e0epop\u5916\uff0c\u5176\u4f59\u64cd\u4f5c\u90fd\u4e00\u5b9a\u4f1a\u6539\u53d8\u6620\u5c04\uff0c\u6240\u4ee5\u5224\u65ad\u4f9d\u636e\u662fif (method !== 'push' &amp;&amp; method !== 'pop') {ob.updateIndices()}</p> <p>\u9664\u53bb\u4ee5\u4e0a\u66f4\u65b0\u5916\uff0c\u8fd8\u53e6\u5b9a\u4e49\u4e86.\\$set\u4e0e.$remove&lt;\u5b9e\u8d28\u4e3a\u8c03\u7528splice&gt;\u7684\u8bed\u6cd5\u7cd6\u3002</p> <ul> <li>link\u65b9\u6cd5\uff1a\u5165\u53c2 <p>\u904d\u5386\u6bcf\u4e2aitem, \u5e76\u4e14\u8c03\u7528observe\u65b9\u6cd5\uff0c\u4f20\u5165\u7684\u952e\u503c\u5bf9\u4e3a <ul> <li>unlink\u65b9\u6cd5\uff1a \u540c\u4e0a \u8c03\u7528unobserve\u65b9\u6cd5</li> <li>updateIndices\u65b9\u6cd5\uff1a</li> </ul> <p>\u901a\u8fc7this.\\$observer.value\u53d6\u5230\u5f53\u524darr\u3002\u904d\u5386arr\uff0c\u5bf9\u4e8e\u6bcf\u4e2aitem\uff0c\u5b9a\u4f4d\u5230\u5176$observer.parents\u4e2d\u6307\u5411this\u7684parent\uff0c\u66f4\u65b0\u8be5parent\u7684key</p>"},{"location":"Frontend/misc/microservice/","title":"microservice","text":"<p>https://single-spa-workshop.com/</p> <p>css \u9694\u79bb: \u6bcf\u4e2a\u5e94\u7528\u90fd\u6709\u81ea\u5df1\u7684 html \u677f\u5757</p> <p>window \u53d8\u91cf\u9694\u79bb\uff1a\u8fdb\u5165\u65f6\u4fdd\u5b58\u526f\u672c\uff0c\u9000\u51fa\u540e\u6062\u590d</p> <p>\u4e8b\u4ef6\u9694\u79bb\uff1a\u9700\u8981\u4ee3\u7406\u5168\u5c40\u4e8b\u4ef6\u76d1\u542c\uff0c\u65b9\u4fbf\u5378\u8f7d</p> <p>\u300a\u5bf9\u6bd4\u591a\u79cd\u5fae\u524d\u7aef\u65b9\u6848\u300b \u00b7 efoxTeam/emp Wiki</p>"},{"location":"Frontend/misc/rxjs/","title":"rxjs","text":""},{"location":"Frontend/misc/rxjs/#_1","title":"\u5b9a\u4f4d","text":"<p>A javascript implementation for ReactiveX. \u786e\u5b9e\u662f\u4e8b\u4ef6\u754c\u7684 lodash.</p>"},{"location":"Frontend/misc/rxjs/#_2","title":"\u672f\u8bed","text":"<p>Its all about streams: The values/events that emitted over time</p>"},{"location":"Frontend/misc/rxjs/#_3","title":"\u6982\u5ff5","text":""},{"location":"Frontend/misc/rxjs/#observable","title":"observable","text":"<p>\u4e8b\u4ef6\u6e90 source / stream\uff0c\u65e2\u53ef\u4ee5\u901a\u8fc7<code>new Observable</code>\u76f4\u63a5 create\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7<code>fromEvent</code>\u7b49\u65b9\u6cd5\u8f6c\u6362\u3002</p>"},{"location":"Frontend/misc/rxjs/#subject","title":"subject","text":"<p>\u5728\u6211\u5fc3\u4e2d\u4f1a\u89c9\u5f97\u5c31\u662f EventEmitter\uff0c\u5373\u65e2\u53ef\u4ee5\u89e6\u53d1\u4e8b\u4ef6\uff0c\u53c8\u53ef\u4ee5\u76d1\u542c\u4e8b\u4ef6\u3002 \u6709\u4e00\u4e9b\u7ec6\u5206 \u6bd4\u5982  <code>replaySubject</code> \u53ef\u4ee5\u6536\u5230\u4e0a\u4e00\u6b21 source \u7684\u6240\u6709\u89e6\u53d1\u6d88\u606f\u3002</p>"},{"location":"Frontend/misc/rxjs/#subscribtion","title":"subscribtion","text":"<p>\u901a\u8fc7<code>observable.subscribe()</code>\u8fdb\u884c\u8ba2\u9605\uff0c\u8fd9\u4e2a\u8ba2\u9605\u7ed3\u679c\u5c31\u53eb subscribtion.</p>"},{"location":"Frontend/misc/rxjs/#operators","title":"operators","text":"<p>\u4e5f\u662f rxjs \u7684\u5356\u70b9\uff0c\u6709\u52a9\u4e8e\u5904\u7406\u590d\u6742\u7684\u903b\u8f91\u3002</p> <p>\u5b9e\u4f8b operator: \u5e2e\u52a9\u5bf9\u4e8b\u4ef6\u6e90 emit \u7684 value \u505a\u4e00\u4e9b\u53d8\u66f4\uff0c\u6bd4\u5982\u6700\u5e38\u7528\u7684 map\u3002 \u9759\u6001 operator: \u4e00\u822c\u662f\u521b\u9020\u65b0\u7684 observable\uff0c\u6bd4\u5982\u5408\u5e76\u591a\u4e2a observable\u3002</p> <p>operator \u7684\u4f7f\u7528\u8fd8\u86ee\u4f18\u96c5\u7684\uff0c\u901a\u8fc7\u7c7b\u4f3c\u4e8e connect \u7684pipe\u94fe\u5f0f\u8c03\u7528</p> <pre><code>click$\n  .pipe(map(event =&gt; event.code))\n  .subscribe(console.log);\n</code></pre>"},{"location":"Frontend/misc/rxjs/#_4","title":"\u57fa\u7840\u4f7f\u7528","text":"<pre><code>const observable = new Observable(subscriber =&gt; {\n  subscriber.next(1);\n  subscriber.complete();\n});\n\nobservable.subscribe({\n  next(x) { console.log('got value ' + x); },\n  error(err) { console.error('something wrong occurred: ' + err); },\n  complete() { console.log('done'); }\n});\n\n</code></pre> <p>\u62d6\u52a8\u65b9\u5757\uff1a\u901a\u8fc7\u4e00\u4e2a\u51fd\u6570\u5c31\u4e32\u901a\u4e86\u89e6\u53d1\u6761\u4ef6 mousedown, \u7ed3\u675f\u6761\u4ef6 mouseup\uff0c\u540c\u65f6\u6839\u636e mousemove \u505a\u64cd\u4f5c\uff0c\u5f88\u597d\u770b\u4e86~</p> <pre><code>const $box = document.getElementById('box');\nconst mousedown$ = fromEvent($box, 'mousedown');\nconst mouseup$ = fromEvent($box, 'mouseup');\nconst mousemove$ = fromEvent($box, 'mousemove');\n\nmousedown$\n  .pipe(\n    concatMap((startEvent: MouseEvent) =&gt; {\n      const initialLeft = $box.offsetLeft;\n      const initialTop = $box.offsetTop;\n      // mousemove$\u624d\u662f\u6700\u7ec8\u76d1\u542c\u7684\u4e1c\u897f\n      return mousemove$.pipe(\n        takeUntil(mouseup$),\n        map((evt: MouseEvent) =&gt; ({ x: evt.x - startEvent.x + initialLeft, y: evt.y - startEvent.y + initialTop })),\n      );\n    }),\n  )\n  .subscribe((evt: MouseEvent) =&gt; {\n    $box.style.left = `${evt.x}px`;\n    $box.style.top = `${evt.y}px`;\n  });\n</code></pre>"},{"location":"Frontend/misc/rxjs/#_5","title":"\u4f7f\u7528\u76ee\u7684 / \u573a\u666f","text":""},{"location":"Frontend/misc/rxjs/#operator","title":"operator\u6709\u5f88\u591a\u5305\u88c5\u597d\u7684\u529f\u80fd\u51fd\u6570","text":"<p>\u7528\u539f\u751f JS \u5199\u4e00\u4e2a\u804a\u5929\u5ba4\uff0c\u4f60\u9700\u8981\u7ef4\u62a4\u4e00\u4e2a\u961f\u5217\u6c60\uff0c\u548c\u4e00\u4e2a\u5b9a\u65f6\u5668\uff0c\u6536\u5230\u6d88\u606f\uff0c\u5148\u653e\u8fdb\u961f\u5217\u6c60\uff0c\u7136\u540e\u5b9a\u65f6\u5668\u8d1f\u8d23\u628a\u6d88\u606f\u6e32\u67d3\u51fa\u6765\u3001\u4f46\u662f rxjs \u5c31\u6709 buffer \u7684 operator:</p> <pre><code>Rx.Observable\n    .fromEvent(ws, 'message')\n    .bufferTime(1000)\n    .subscribe(messages =&gt; render(messages))\n</code></pre> <p>\u597d\u770b\u7684\u5b9a\u65f6\u5668</p> <pre><code>Observable.interval(1000).subscribe(() =&gt; {\n  ...\n})\n</code></pre> <p>\u5c24\u5176\u50cf<code>cancatMap</code>\u3001<code>switchMap</code>\u8fd9\u79cd\u9ad8\u9636 operator\uff0c\u5f88\u597d\u505a\u300c\u901a\u8fc7\u4e00\u4e2a\u4e8b\u4ef6\u6d41\u8fd4\u56de\u53e6\u4e00\u4e2a\u4e8b\u4ef6\u6d41\u7684\u4e8b\u300d\u3002</p>"},{"location":"Frontend/misc/rxjs/#_6","title":"\u517c\u5bb9\u6240\u6709\u4e8b\u4ef6\u6e90\uff0c\u62b9\u5e73\u8ba2\u9605\u5dee\u5f02","text":"<p>\u6240\u6709\u7684 DOM \u4e8b\u4ef6\u3001ajax \u8bf7\u6c42\u3001WebSocket\u3001\u6570\u7ec4\u7b49\u7b49\u6570\u636e\uff0c\u7edf\u7edf\u53ef\u4ee5\u5c01\u88c5\u6210\u540c\u4e00\u79cd\u6570\u636e\u7c7b\u578b\u3002\u8fd9\u5c31\u610f\u5473\u7740\uff0c\u5bf9\u4e8e\u6709\u591a\u4e2a\u6765\u6e90\u7684\u6570\u636e\uff0c\u6211\u4eec\u53ef\u4ee5\u6bcf\u4e2a\u6570\u636e\u6765\u6e90\u90fd\u5305\u88c5\u6210 Observable\uff0c\u7edf\u4e00\u7ed9\u89c6\u56fe\u5c42\u53bb\u8ba2\u9605\u3002</p>"},{"location":"Frontend/misc/rxjs/#_7","title":"\u5408\u5e76\u521d\u59cb\u5316\u4e0e\u4e8b\u4ef6\u8ba2\u9605","text":"<p>\u8fd9\u4e2a\u6211\u8fd8\u5f97\u518d\u4ed4\u7ec6\u770b\u770b\u600e\u4e48\u505a~g</p>"},{"location":"Frontend/misc/rxjs/#_8","title":"\u7f13\u5b58\u6570\u636e","text":"<p>\u901a\u8fc7behaviorSubject\uff0c\u53ef\u4ee5\u4f7f\u5f97\u540e\u7eed\u8ba2\u9605\u5b83\u7684\u90e8\u5206\u90fd\u80fd\u62ff\u5230\u6700\u65b0\u7684\u6570\u636e</p>"},{"location":"Frontend/misc/rxjs/#excersize","title":"Excersize","text":"<p>Plain Observables are unicast, meaning every subscription is independent. To create multicast, you need to use Subject. (If you\u2019re closing over a shared reference to a producer in your observable, it\u2019s \u201chot\u201d which refers to multicast; if you\u2019re creating a new producer in your observable, it\u2019s \u201ccold\u201d, which refers to unicast)</p> <pre><code>// default behavior with plain Observable\nconst observable = from([1,2,3])\nobservable.subscribe(console.log)\nobservable.subscribe(console.log)\n</code></pre> <p>with Subject, it works like Event Listeners in DOM world.</p> <pre><code>const subject = new Subject()\nsubject.subscribe(console.log)\nsubject.subscribe(console.log)\n\nconst observable = from([1, 2, 3])\nobservable.subscribe(subject)\n</code></pre>"},{"location":"Frontend/misc/rxjs/#refs","title":"Refs","text":"<p>\u5165\u95e8: Gary Simon\u7684\u8fd9\u4e2a60min\u8bfe\u7a0b\u4e0d\u9519 Youtube: Learn RxJS in 60 Minutes for Beginners</p> <p>\u77e5\u4e4e\u4e13\u680f\uff1aDaoCloud \u57fa\u4e8e RxJS \u7684\u524d\u7aef\u6570\u636e\u5c42\u5b9e\u8df5</p>"},{"location":"Frontend/misc/swr/","title":"swr","text":""},{"location":"Frontend/misc/swr/#preface","title":"Preface","text":"<p>Thx BFE.dev for introducing this perfect request library to me from https://bigfrontend.dev/react/useSWR-1</p> <p>A main thought occurs to me is that we would like the first render to me 'valued' or 'cached with last value' instead of 'undefined but then valued', in this case a bunch of robust code can be avoided.</p>"},{"location":"Frontend/misc/%E5%89%8D%E7%AB%AF%E7%9B%91%E6%8E%A7/","title":"\u76d1\u63a7","text":""},{"location":"Frontend/misc/%E5%89%8D%E7%AB%AF%E7%9B%91%E6%8E%A7/#_2","title":"\u76d1\u63a7\u5185\u5bb9","text":"<ul> <li>\u8bbf\u95ee\u6570\u636e</li> <li>Pv\u3001uv</li> <li>\u6027\u80fd\u6570\u636e</li> <li>\u9519\u8bef\u6570\u636e</li> <li>Js \u62a5\u9519<ul> <li>\u7f51\u9875\u5d29\u6e83\u68c0\u6d4b\u601d\u8def\uff08seviceworker &gt;&gt; webworker\uff09 \u5982\u4f55\u76d1\u63a7\u7f51\u9875\u5d29\u6e83\uff1f - \u77e5\u4e4e</li> </ul> </li> <li>\u540e\u7aef\u63a5\u53e3\u62a5\u9519\uff08\u7531\u540e\u7aef\u76d1\u63a7</li> <li>\u540e\u7aef\u7684\u63a5\u53e3\u9700\u8981\u600e\u6837\u8bb0\u5f55\uff0c\u624d\u80fd\u5c06\u7528\u6237\u6d41\u4e32\u8d77\u6765\uff1f</li> <li>\u524d\u7aef\u89e6\u53d1\u5f02\u5e38\u903b\u8f91</li> </ul>"},{"location":"Frontend/misc/%E5%89%8D%E7%AB%AF%E7%9B%91%E6%8E%A7/#_3","title":"\u4e0a\u62a5\u5185\u5bb9","text":"<p>\u5982\u4f55\u5b9a\u4e49\u7528\u6237\u524d\u53f0\u7684\u4e00\u4e32\u64cd\u4f5c\uff1f</p> <ul> <li>\u8fdb\u5165\u7f51\u9875orApp\u65f6\uff0c\u751f\u6210\u4e00\u6b21\u8bbf\u95eeid // \u4f1a\u8bdd\u6807\u8bb0</li> <li>\u7f51\u9875\uff1a\u8fdb\u5165\u7f51\u9875\u6709\u5f88\u591a\u79cd\u65b9\u5f0f\uff0c\u6bd4\u5982\u8df3\u8f6c\u3001\u91cd\u5237\u3002\u8df3\u8f6c\u7f51\u9875\u65f6\uff0c\u628a\u524d\u4e00\u4e2a\u7f51\u9875\u7684\u8bbf\u95eeid\u5e26\u4e0a\u3002</li> <li>\u5c0f\u7a0b\u5e8f\uff1aonLaunch\u5373\u7b97\u4e00\u6b21\u8bbf\u95ee</li> </ul> <p>\u5982\u4f55\u5c06\u524d\u53f0\u64cd\u4f5c\u548c\u540e\u7aef\u63a5\u53e3\u4e32\u8054\u8d77\u6765</p> <ul> <li>\u524d\u7aef\u53d1\u8bf7\u6c42\u65f6\uff0c\u9700\u8981\u8bb0\u5f55\u8bbf\u95eeid</li> </ul> <p>\u4e0a\u62a5\u5b57\u6bb5</p> <ul> <li> <p>\u8bbf\u95eeid</p> </li> <li> <p>\u9519\u8befname - \u5982\u6709</p> </li> <li>\u7528\u6237id</li> <li> <p>Extra</p> </li> <li> <p>\u8bbe\u5907\u3001\u7528\u6237\u8fd9\u4e9b\u5728\u4e00\u6b21\u4f1a\u8bdd\u4e2d\u90fd\u662f\u4e00\u81f4\u7684\u5185\u5bb9\uff0c\u662f\u5426\u9700\u8981\u91cd\u590d\u4e0a\u4f20\uff1f</p> </li> </ul>"},{"location":"Frontend/misc/%E5%89%8D%E7%AB%AF%E7%9B%91%E6%8E%A7/#_4","title":"\u4e0a\u62a5\u65b9\u5f0f","text":"<ul> <li>\u5408\u5e76\u4e0a\u4f20</li> <li> <p>\u8bf7\u6c42\u65b9\u5f0f\uff1apost \u8fd8\u662f new Image()</p> </li> <li> <p>\u540e\u7aef\u63d0\u4f9b\u5355\u72ec\u7684\u670d\u52a1\u548c\u6570\u4ed3\uff0c\u7b80\u5355\u70b9\u505a\uff0c\u6211\u5148\u5199log\u5b58\u5728\u65e5\u5fd7\u91cc\u5e94\u8be5\u4e5fok\u628a\uff1f</p> </li> </ul> <p>\u53cb\u76df</p> <p>https://juejin.cn/post/7107539513378865188</p> <p>\u540e\u53f0or\u5927\u6570\u636e\u6846\u67b6\uff1ahttps://juejin.cn/post/7155396322676178952</p>"},{"location":"Frontend/misc/%E5%89%8D%E7%AB%AF%E7%9B%91%E6%8E%A7/#_5","title":"\u6d88\u8d39\u4e0e\u5c55\u793a","text":"<ul> <li> <p>\u6570\u636e\u5904\u7406\u3001\u6d88\u8d39</p> </li> <li> <p>\u9519\u8bef\u805a\u5408</p> </li> </ul>"},{"location":"Frontend/misc/%E5%89%8D%E7%AB%AF%E7%9B%91%E6%8E%A7/#refs","title":"refs","text":"<p>\u817e\u8baf\u603b\u7ed3\u6587\uff08\u5f88\u5168\u9762\uff09\uff1ahttps://cdc.tencent.com/2018/09/13/frontend-exception-monitor-research/</p> <p>\u5e02\u9762\u4e0a\u7684\u51e0\u6b3e\u76d1\u63a7\u5de5\u5177\uff1a</p> <p>frontjs: https://www.frontjs.com/demo/618a098dca715b5a19634abeeed9c168/</p> <p>fundebug: https://www.fundebug.com/product</p>"},{"location":"Frontend/misc/%E6%95%B0%E6%8D%AE%E6%8A%95%E6%94%BE/","title":"\u6570\u636e\u6295\u653e","text":"<p>\u6700\u57fa\u672c\u7684\u6a21\u5f0f\uff1a\u6570\u636e schema \u7ed3\u6784 + \u4e00\u7cfb\u5217\u6570\u636e\u5b9e\u4f53\u3002\u6bcf\u4e00\u4efd schema \u5bf9\u5e94\u7684\u6700\u65b0\u5185\u5bb9\uff0c\u53ef\u53d1\u5e03\u5728 oss.json \u6587\u4ef6\u91cc</p> <p>\u95ee\u9898\uff1a</p> <ul> <li>\u5982\u4f55\u5b58\u50a8\u66f4\u6539\u5386\u53f2\uff08\u4f1a\u5b58\u51e0\u4e2a\u7248\u672c\uff1f</li> <li>\u6570\u636e shema \u7ed3\u6784\u548c\u6570\u636e\u5b9e\u4f53\uff0c\u7528\u4ec0\u4e48\u6765\u5b58\uff0csql \u7684 json \u8fd8\u662f mongodb \u5462\uff1f</li> <li>\u56de\u5230 oss \u5c42\uff0c\u5982\u679c\u5185\u5bb9\u53d8\u5316\uff0c\u5982\u4f55\u4fdd\u8bc1\u8bf7\u6c42\u5373\u4f7f\u751f\u6548\uff1f\uff08\u9664\u4e86\u524d\u7aef\u7684\u6d4f\u89c8\u5668\u7f13\u5b58\uff0coss \u81ea\u5df1\u7684\u7f51\u5173\u5c42\u7f13\u5b58\u5e94\u8be5\u4f1a\u4e3b\u52a8\u66f4\u65b0\u6389\u7684\u628a\uff09</li> <li>\u524d\u7aef\u5982\u4f55\u66f4\u65b0\u5185\u5bb9 -</li> <li>\u6700\u7b80\u5355\u7684\u65b9\u5f0f\uff0c\u6bcf\u6b21\u90fd\u8bf7\u6c42</li> <li>\u5176\u6b21\uff0c\u52a0\u8f7d\u4e00\u4e2a\u6279\u7ba1\u7406\u5de5\u5177\uff0c\u8be5\u5de5\u5177\u4f1a\u6279\u91cf\u8bf7\u6c42\u6240\u6709\u6d89\u53ca\u5230\u7684\u8d44\u6e90\u4f4d id\uff0c\u5224\u65ad\u5176\u8fd4\u56de\u7684\u6700\u65b0\u65f6\u95f4\u70b9\u548c\u672c\u5730\u5bf9\u6bd4\u7684\u65b0\u65e7\u3002\u65e7\u7684\u6570\u636e\uff0c\u8be5\u5de5\u5177\u4f1a<ul> <li>\u5355\u72ec\u8bf7\u6c42\u5355\u4f4d\u8d44\u6e90 =&gt; \u8bf7\u6c42\u65f6\u9700\u8981\u5e26\u4e0a\u65f6\u95f4\u6233/hash \u6765\u5f3a\u5236\u83b7\u53d6\u6700\u65b0\u6570\u636e</li> <li>\u6279\u91cf\u8bf7\u6c42\u6700\u65b0\u7684\u8d44\u6e90=&gt;\u9700\u8981\u63d0\u4f9b\u4e00\u4e2a\u4e2d\u95f4\u5c42\u6765\u62fc\u63a5\u8fd9\u4e9b\u8d44\u6e90</li> </ul> </li> </ul>"},{"location":"Frontend/misc/%E9%A1%B5%E9%9D%A2%E6%90%AD%E5%BB%BA/","title":"\u9875\u9762\u642d\u5efa","text":"<p>\u8fd9\u7bc7\u6587\u7ae0 \u9875\u9762\u53ef\u89c6\u5316\u642d\u5efa\u5de5\u5177\u6280\u672f\u8981\u70b9 | AlloyTeam \u5206\u6790\u7684\u5f88\u4e0d\u9519\uff0c\u5176\u4e2d\u63d0\u5230\u7684\u4e24\u4e2a\u7ec6\u8282\uff1a</p> <ul> <li>\u7ec4\u4ef6\u662f\u5426\u53ef\u5d4c\u5957\u3002\u5982\u679c\u662f\u6d41\u6c34\u5f0f\u5e03\u5c40\u5219\u66f4\u7b80\u5355</li> <li>\u9884\u89c8\u3002\u524d\u7aef\u751f\u6210\u8fd8\u662f\u540e\u7aef\u751f\u6210\uff0c\u5404\u6709\u5404\u7684\u7279\u70b9</li> </ul>"},{"location":"Frontend/visualization/common-sense/","title":"common sense","text":"<p>The purpose of visualization is insight, not pictures. \u2014\u2014 ben shneiderman</p>"},{"location":"Frontend/visualization/d3/","title":"d3 \u63a5\u89e6\u8bb0\u5f55","text":""},{"location":"Frontend/visualization/d3/#svg","title":"svg \u6458\u5f55","text":"<p>text - dx(\u76f8\u5bf9from a previous text element) - x(\u7edd\u5bf9)</p> <p>path -</p> <ul> <li>Mx,y: Move to \u76f8\u5f53\u4e8e\u8d77\u59cb\u70b9</li> <li>Cx1,y1,x2,y2,x,y: Bezier Curves \u524d\u4e24\u4e2a\u4e3a\u63a7\u5236\u70b9 \u540e\u4e00\u4e2a\u4e3a\u7ec8\u70b9</li> </ul>"},{"location":"Frontend/visualization/d3/#viewport-viewbox","title":"viewPort \u548c viewBox","text":"<p>\u524d\u8005\u662f svg \u7684\u957f\u5bbd\uff0c\u540e\u8005\u662f svg \u8981\u300c\u900f\u300d\u51fa\u6765\u7684\u5185\u5bb9\u3002\u5173\u4e8e viewBox[x,y,width,height], \u4e0b\u9762\u8fd9\u7bc7\u6587\u7ae0\u8bf4\u5f97\u5f88\u597d\uff0c\u524d\u4e00\u5bf9\u7528\u4f5c panning\uff0c\u540e\u4e00\u5bf9\u7528\u4f5c zoomming.</p> <p>SVG Viewport and viewBox (For Complete Beginners)</p>"},{"location":"Frontend/visualization/d3/#_1","title":"\u9996\u5148","text":"<p>d3 \u8ba9\u6211\u89c9\u5f97\u5f88\u50cf jQuery, \u63d0\u4f9b\u4e86\u5f88\u591a\u6279\u5904\u7406\u6837\u5f0f\u7684\u5de5\u5177\uff01</p> <p>\u975e\u5e38\u597d\u7684\u4ecb\u7ecd\uff1aEnter, Update, Exit. An Introduction to D3.js, The Web\u2019s\u2026 | by Christian Behrens | Medium</p> <p>\u975e\u5e38\u597d\u7684\u5165\u95e8\u8bfe\u7a0b\uff1a25 Days of d3 / Tyler Wolf | Observable</p>"},{"location":"Frontend/visualization/d3/#tree","title":"tree","text":"<p>d3.hierarchy / D3 | Observable d3-hierarchy/README.md at main \u00b7 d3/d3-hierarchy</p> <p>\u901a\u8fc7 <code>d3.hierarchy(data, children)</code> \u53ef\u4ee5\u8fd4\u56de\u683c\u5f0f\u5316\u597d\u7684 tree\\, \u6ce8\u610f\u8be5 tree \u4e5f\u6302\u8f7d\u4e86\u5f88\u591a\u65b9\u4fbf\u8ba1\u7b97\u7684\u65b9\u6cd5\u6bd4\u5982 node.descendants, node.each... <p>About nodeSize: javascript - D3 Tree Layout Separation Between Nodes using NodeSize - Stack Overflow</p>"},{"location":"Frontend/visualization/d3/#common-case","title":"common case","text":""},{"location":"Frontend/visualization/d3/#text","title":"\u6539\u53d8\u67d0 text \u7684\u503c","text":"<ul> <li>\u5982\u679c\u662f click \u4e8b\u4ef6\uff0c\u53ef\u4ee5\u76f4\u63a5 <code>d3.select(this).text(\"xxx\")</code></li> <li>\u6216\u8005\u4e5f\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u5668\u9009\u62e9</li> </ul> <p>ref</p>"},{"location":"Frontend/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/","title":"FP","text":"<p>https://mostly-adequate.gitbooks.io/mostly-adequate-guide/</p> <p>https://github.com/llh911001/mostly-adequate-guide-chinese</p>"},{"location":"Frontend/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/#fp_1","title":"\u6211\u5fc3\u4e2d\u7684FP","text":"<ul> <li>\u76f8\u6bd4\u4e8e OOP \u524d\u8005\u6ce8\u91cd\u6570\u636e\u7684\u4e0d\u53ef\u53d8\u6027\uff0c\u5565\u90fd\u662f\u8fd4\u56de\u4e00\u4efd\u65b0\u7684\uff0c\u800c\u540e\u8005\u662f\u76f4\u63a5\u66f4\u6539\u6570\u636e\u4e0a\u7684\u5185\u5bb9</li> <li>FP \u6ca1\u6709 for \u5faa\u73af\u8fd9\u4e9b\uff0c\u4f1a\u4e25\u91cd\u4f9d\u8d56\u4e8e reduce \u548c map</li> <li>\u6bd4\u65b9\u8bf4\u8bfb\u53d6\u67d0\u4e2a\u5bf9\u8c61\u4e0a\u7684\u67d0\u4e2a\u952e\u503c\uff0cOOP \u76f4\u63a5\u53d6 \u5bf9\u8c61.key1.key2 \u5c31\u597d\uff0cFP \u5c31\u4f1a\u5199\u6210 compose(prop(key1), prop(key2)) \u7684\u5f62\u5f0f\u2026</li> </ul>"},{"location":"Frontend/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/#chap-2-first-class-functions","title":"Chap 2: First Class Functions","text":"<p>\u8bb2\u5230\u5927\u5bb6\u7684\u5197\u4f59\u574f\u4e60\u60ef:</p> <pre><code>arg =&gt; fn(arg) \u5b9e\u9645\u5c31\u662f fn\n</code></pre>"},{"location":"Frontend/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/#chap-3-pure-happiness-with-pure-functions","title":"Chap 3: Pure Happiness with Pure Functions","text":"<p>\u7eaf\u51fd\u6570\u7684\u597d\u5904:</p> <ul> <li>\u53ef cache</li> <li>\u6613\u4e8e\u590d\u7528 </li> <li>\u6613\u4e8e\u6d4b\u8bd5 testable</li> <li>\u53ef\u4ee5\u540c\u6b65\u6267\u884c (parallel code)</li> </ul>"},{"location":"Frontend/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/#chap-4-curry","title":"Chap 4: Curry","text":"<pre><code>function customCurry(fn) {\n  const arity = fn.length;\n\n  return function curried(...args) {\n    curried.name = fn.name;\n    if (args.length &lt; arity) {\n      return curried.bind(this, ...args);\n    }\n\n    return fn(...args);\n  };\n}\nconst curriedFn = customCurry(testFn);\n\ncurriedFn(1)(2)(3);\ncurriedFn(1, 2)(3);\ncurriedFn(1, 2, 3);\n</code></pre> <p>\u91cd\u70b9\u5c31\u5728\u4e8e\u5229\u7528\u4e86 bind \u95ed\u5305\u4f4f\u4e86\u524d\u671f\u4f20\u5165\u7684 args \u5165\u53c2\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u51fd\u6570\u3002</p>"},{"location":"Frontend/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/#chap-5-compose","title":"Chap 5: Compose","text":"<pre><code>function compose(...fns) {\n  return function composed(...args) {\n    return fns.reduceRight((res, fn) =&gt; fn(res), args);\n  };\n}\n\n// \u2193\u2193\nconst compose = (...fns) =&gt; (...args) =&gt; fns.reduceRight((res, fn) =&gt; fn(res), args);\n</code></pre> <p>\u91cd\u70b9\u5728\u4e8e\u904d\u5386\u51fd\u6570\uff0c\u524d\u8005\u7684\u5165\u53c2\u662f\u540e\u8005\u7684\u51fa\u53c2\uff0c\u5e76\u4e14\u6709\u4e14\u53ea\u6709\u4e00\u4f4d\uff0c\u6240\u4ee5\u4e0d\u7528 spread args\u3002</p>"},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93/","title":"\u4e00\u4e9b\u603b\u7ed3","text":""},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93/#_2","title":"\u5185\u5b58/\u6027\u80fd\u65b9\u9762","text":""},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93/#_3","title":"\u9ed1\u5757\u548c\u95ea\u9000","text":"<p>\u6ce8\u610f\u6709\u65e0\u5185\u5b58\u6cc4\u6f0f\uff1b\u5b9a\u65f6\u5668\u8981\u8bb0\u5f97\u5173\uff1b\u6709\u9ad8\u6d88\u8017\u3001\u6216\u9700\u8981\u53cd\u590d\u6e32\u67d3\u7684\u5730\u65b9\uff0c\u4e0d\u5728\u5c55\u793a\u533a\u65f6\u53ef\u4ee5\u505c\u6b62\u64cd\u4f5c\u3002</p>"},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93/#_4","title":"\u6253\u5f00\u6162\u3001\u64cd\u4f5c\u5361\u987f","text":"<p>\u9996\u9875\u6253\u5f00\u6162\u8981\u533a\u5206\u662f\u4e0b\u8f7d\u5305\u6162\u8fd8\u662f\u9996\u5c4f\u6162\uff0c\u524d\u8005\u9700\u8981\u5206\u5305\uff0c\u540e\u8005\u5219\u9700\u8981\u6253\u70b9\u7559\u610f\u6162\u5728\u54ea\u3002\u4ee5\u4e0b\u51e0\u70b9\u95ee\u9898\u4e00\u5b9a\u8981\u675c\u7edd\u53d1\u751f\uff1a\u56fe\u7247\u672a\u538b\u7f29\u3001\u4e00\u6b21\u6027\u52a0\u8f7d\u592a\u591a\u56fe\u7247\u3001\u91cd\u590d\u53d1\u9001\u8bf7\u6c42\u3002\u53e6\u5916\uff0c\u5bf9\u4e8e\u521d\u59cb\u5316\u6570\u636e\u7684\u65f6\u673a\u4e5f\u8981\u628a\u63e1\u597d\uff0c\u6bd4\u5982\u6211\u66fe\u53d1\u73b0ios\u7684<code>onReady</code>\u5728\u9996\u6b21\u6e32\u67d3\u4e4b\u524d\u6267\u884c\uff0c\u800c\u5b89\u5353\u7684<code>onReady</code>\u5374\u5728\u4e4b\u540e\uff0c\u7ed9\u6362\u6210<code>onLoad</code>\u540e\u6709\u660e\u663e\u597d\u8f6c\u3002</p> <p>\u64cd\u4f5c\u5361\u987f\u5219\u610f\u5473\u7740\u5f53\u9875\u6709\u6267\u884c\u7684\u5176\u4ed6\u9ad8\u6d88\u8017\u7684\u4efb\u52a1\u963b\u585e\u4e86\u6e32\u67d3\u884c\u4e3a\uff0c\u6bd4\u5982\u6211\u4eec\u7684\u5546\u54c1\u5217\u8868\u6709\u4e2a\u8f6e\u64ad\u5934\u50cf\u7ec4\u4ef6\u4f1a\u6301\u7eed\u8f6e\u64ad\uff0c\u4e0b\u62c9\u52a0\u8f7d\u5546\u54c1\u5217\u8868\u8d8a\u591a\uff0c\u6240\u9020\u6210\u7684\u6d88\u8017\u8d8a\u5927\u3001\u4ea4\u4e92\u8d8a\u5361\u987f\uff0c\u540e\u6765\u6539\u6210\u4ec5\u5728\u89c6\u7a97\u53e3\u7684\u5546\u54c1\u624d\u5f00\u542f\u8f6e\u64ad\u540e\u8981\u597d\u5f88\u591a\u3002</p>"},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93/#api","title":"\u5c0f\u7a0b\u5e8fapi\u95ee\u9898/\u517c\u5bb9","text":""},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93/#_5","title":"\u521d\u6b21\u6253\u5f00\u5c0f\u7a0b\u5e8f\u7f51\u7edc\u8bf7\u6c42\u5f88\u6613\u5931\u8d25","text":"<p>\u6240\u4ee5\u2026\u524d\u7aef\u9519\u8bef\u5c55\u793a\u4e00\u5b9a\u8981\u505a\u597d/\u533a\u5206\u597d\u54e6\u3002\u5982\u679c\u662f\u7f51\u7edc\u95ee\u9898\u9020\u6210\u8bf7\u6c42\u5931\u8d25\u7684\u60c5\u51b5\uff0c\u52a1\u5fc5\u7ed9\u51fa\u660e\u786e\u8baf\u606f\u548c\u91cd\u8bd5\u6309\u94ae\u3002</p>"},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93/#consoletime","title":"\u66fe\u7ecf\u5b89\u5353\u4e0b\u6ca1\u6709console.time\uff0c\u76f4\u63a5\u5b95\u673a","text":"<p>\u8fd9\u4e2a\u60c5\u51b5\u672c\u6765\u5c31\u4e0d\u5e94\u8be5\u53d1\u751f\u963f\uff0c\u5e94\u8bbe\u7f6edebug\u7ea7\u522b\uff0c\u7ebf\u4e0a\u4e0d\u5e94\u8c03\u7528console\u3002</p>"},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93/#api_1","title":"\u83b7\u53d6\u5730\u7406\u4f4d\u7f6eapi\u76f4\u63a5\u6ca1\u56de\u8c03","text":"<p>\u9047\u5230\u4e5f\u6ca1\u529e\u6cd5\u5566\u3002\u540e\u6765\u524d\u7aef\u7ed9\u52a0\u4e86\u4e00\u4e2a\u8d85\u65f6\u63a7\u5236\uff0c\u5c3d\u91cf\u4e0d\u5f71\u54cd\u5bf9\u4e8e\u5730\u7406\u4f4d\u7f6e\u5f3a\u4f9d\u8d56\u7684\u540e\u7eed\u6d41\u7a0b\u3002</p>"},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93/#_6","title":"\u4f1a\u91cd\u590d\u63a8\u5165\u76f8\u540c\u9875\u9762","text":"<p>\u6069\u2026\u8fd9\u4e2a\u4e5f\u4e0d\u80fd\u8bf4\u662f\u95ee\u9898\u3002\u53ea\u662f\u4f7f\u7528\u8005\u9700\u6ce8\u610f\uff0c\u5728\u9875\u9762\u8df3\u8f6c\u524d\u4e00\u5b9a\u8981\u505a\u70b9\u51fb\u63a7\u5236\u3002</p>"},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93/#nav","title":"nav\u9875\u8df3\u8f6c\u65e0\u6cd5\u643a\u5e26\u53c2\u6570","text":"<p>\u8981\u4e48\u5b58\u5168\u5c40\u53d8\u91cf\uff1b\u8981\u4e48\u7528reLaunch\u5230nav\u9875\uff0c\u53ef\u4ee5\u5e26\u53c2\u6570\u3002</p>"},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93/#_7","title":"\u7248\u672c\u9002\u914d","text":"<p>\u5c0f\u7a0b\u5e8fapi\u8fed\u4ee3\u8fd8\u633a\u5feb\u7684\uff0c\u5e76\u4e14\u5fae\u4fe1\u5404\u7248\u672c\u5bf9\u5c0f\u7a0b\u5e8f\u7684\u652f\u6301\u80fd\u529b\u5dee\u5f02\u5f88\u5927\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u592a\u8001\u7684\u7248\u672c\uff08\u6bd4\u5982\u4e00\u5e74\u524d\uff09\u7ed9\u4e0e\u5f3a\u5236\u7248\u672c\u66f4\u65b0\u5f39\u7a97\u3002\u6bd4\u8f83\u65b0\u7684\u3001\u53c8\u5b58\u5728api\u9002\u914d\u95ee\u9898\u7684\u60c5\u51b5\u4e0b\uff0c\u5c31\u5f97\u624b\u52a8\u505a\u597d\u517c\u5bb9\u5566\uff08\u53ef\u4ee5\u5bf9\u6709\u5f71\u54cd\u7684api\u8fdb\u884c\u5148\u884c\u5305\u88c5\uff09\u3002</p>"},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93/#_8","title":"\u6570\u636e\u5904\u7406","text":""},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93/#setdata","title":"setData\u6570\u636e\u8fc7\u591a\u65f6\u53ef\u80fd\u4e0d\u6210\u529f","text":"<p>\u666e\u901a\u60c5\u51b5\u4e0b\u4e0d\u4f1a\u51fa\u73b0\u3002\u4f46\u662f\u7531\u4e8e\u6211\u4eec\u7684setData\u505a\u4e86\u5305\u88c5\uff0c\u4f1a\u5728\u4e00\u4e2a\u4e8b\u4ef6\u5faa\u73af\u4e4b\u540e\u5f02\u6b65\u5408\u5e76\u6267\u884c\uff0c\u6240\u4ee5\u9047\u5230\u6d3b\u52a8\u9875\u6e32\u67d3\u8d85\u591a\u56fe\u5899\u7684\u60c5\u51b5\u4e0b\u2026\u8981\u5c0f\u5fc3\u4e86\u3002\u8fd8\u662f\u90a3\u53e5\u8001\u8bdd~\u5c3d\u91cf\u51cf\u5c0f\u66f4\u65b0\u6570\u636e\u7684\u91cf\u3002</p>"},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93/#_9","title":"\u5168\u5c40\u6570\u636e","text":"<p>\u6211\u4eec\u4e00\u5f00\u59cb\u5e76\u6ca1\u6709\u5bf9\u6570\u636e\u505a\u7279\u6b8a\u5904\u7406\uff0c\u5168\u5c40\u6570\u636e\u5c31\u62ff\u4e2a\u5168\u5c40\u53d8\u91cf\u5b58\u7740\uff0c\u6bcf\u6b21\u8fdb\u9875\u9762\u65f6\u90fd\u9700\u8981\u624b\u52a8\u540c\u6b65\u3002\u6700\u540e\u975e\u5e38\u6df7\u4e71\u3002</p> <p>\u6709\u4e00\u4e2a\u573a\u666f\u662f\u53ef\u52a0\u8d2d\u7684\u5546\u54c1\u5217\u8868\uff0c\u5176\u5df2\u52a0\u8d2d\u5546\u54c1\u6570\u91cf\u9700\u8981\u5728\u5404\u4e2a\u9875\u9762\u4fdd\u6301\u540c\u6b65\u3002\u6211\u6700\u540e\u7684\u505a\u6cd5\u4eff\u7167flux\uff0c\u5efa\u4e86\u4e00\u4e2a\u57fa\u4e8eEvent\u7684\u5546\u54c1\u4e2a\u6570store\uff0c\u5728\u9875\u9762onShow\u65f6\u8ba2\u9605store\u53d8\u66f4\uff0conHide\u65f6\u505c\u6b62\u8ba2\u9605\u3002</p> <p>\u540e\u6765\u6709\u770b\u5230westore\u5e93\uff0c\u5b83\u7684\u7b2c\u4e00\u76ee\u6807\u5176\u5b9e\u662fsetData\u524d\u5bf9data\u7684diff\uff0c\u4ee5\u6b64\u6765\u4fdd\u8bc1setData\u7684\u6700\u5c0f\u9897\u7c92\u5ea6\u3002\u540c\u65f6\u4e5f\u4fdd\u8bc1\u4e86\u4e0d\u540c\u9875\u9762\u5bf9\u5168\u5c40data\u7684\u672c\u5730\u6620\u5c04\u6570\u636e\u7684\u7edf\u4e00\u3002westore\u6709\u4e2a\u5c0f\u95ee\u9898\u662f\uff0c\u5168\u5c40\u6570\u636e\u53ea\u8981\u53d1\u751f\u6539\u53d8\uff0c\u6240\u6709\u8ba2\u9605\u4e86\u8be5\u4efd\u6570\u636e\u7684\u9875\u9762\u672c\u5730\u6570\u636e\u90fd\u4f1a\u8fdb\u884c\u66f4\u65b0\uff08\u4e0d\u663e\u793a\u7684\u9875\u9762\u4e0d\u5e94\u62a2\u7528\u8d44\u6e90\u8fdb\u884csetData\u7684\uff09\uff0c\u6240\u4ee5\u5b83\u5bf9\u5168\u5c40\u6570\u636e\u91cf\u7684\u8981\u6c42\u4f1a\u66f4\u52a0\u4e25\u683c\u3002</p>"},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93/#_10","title":"\u6d4b\u8bd5","text":"<p>\u5927\u81f4\u5206IDE\u3001\u5b89\u5353\uff08\u8001oppo\u3001\u8001\u9b45\u65cf\u3001\u65b0\u6b3e\u534e\u4e3a\uff09\u3001ios\uff08\u4ee5X\u548c\u7cfb\u7edf10\u4f5c\u4e3a\u5206\u754c\u7ebf\uff09\u8fd9\u51e0\u7c7b\u3002\u5b89\u5353\u4e0b\u6781\u6613\u51fa\u73b0\u6027\u80fd\u95ee\u9898\u3001ios10\u4e0b\u5219\u517c\u5bb9\u95ee\u9898\u8f83\u591a\u3002</p>"},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E5%8A%A8%E6%80%81%E5%88%86%E4%BA%AB%E5%9B%BE/","title":"\u6253\u5305\u5b8c\u6210\u52a8\u6001\u5206\u4eab\u56fe\u4e00\u6761\u9f99\u670d\u52a1","text":"<p>\u524d\u4e00\u9635\u6709\u5b8c\u6210\u5728\u5c0f\u7a0b\u5e8f\u5185\u52a8\u6001\u751f\u6210\u56fe\u7247\u518d\u8fdb\u884c\u5206\u4eab\u7684\u9700\u6c42\uff0c\u662f\u5f88\u5e38\u89c1\u7684\u573a\u666f\uff0c\u56e0\u6b64\u6211\u62bd\u51fa\u4e86\u4e00\u4e2a\u5c0f\u5de5\u5177CanvasPainter.js\uff0c\u56ca\u62ec\u5728\u5c0f\u7a0b\u5e8f\u5185canvas\u753b\u56fe\u57fa\u672c\u9700\u6c42\uff1a</p> <ul> <li>\u7528\u914d\u7f6e\u5f62\u5f0f\u7ed8\u56fe(\u6682\u652f\u6301\u5355\u884c\u53ca\u591a\u884c\u6587\u672c\uff0c\u77e9\u5f62\uff0c\u5706\u5f62\uff0c\u56fe\u7247\u53ca\u5706\u5f62\u56fe\u7247\u7c7b\u578b)\uff0c\u4ee5\u53ca\u652f\u6301\u540e\u7eed\u9884\u89c8\u53ca\u4fdd\u5b58\u6210\u56fe\u7247\uff0c\u4e14\u7686\u4e3aPromise\u683c\u5f0f\u3002</li> <li>canvas\u5c3a\u5bf8\u4ee5\u4e00\u822c\u8bbe\u8ba1\u7a3f\u7684750px\u4e3a\u51c6(\u53ef\u914d)\uff0c\u5728\u4e0d\u540c\u5c4f\u5e55\u673a\u578b\u4e0b\u7b49\u6bd4\u7f29\u653e\u3002</li> <li>\u751f\u6210\u56fe\u7247\u65f6\uff0c\u652f\u6301\u56fe\u7247\u9884\u4e0b\u8f7d\uff0c\u53ca\u5728\u4e00\u4e2a\u5c0f\u7a0b\u5e8f\u5468\u671f\u5185\u7f13\u5b58\u56fe\u7247\u4e0b\u8f7d\u7684tmp\u8def\u5f84\u3002</li> </ul> <p>demo\u5730\u5740</p> <p></p>","tags":["blog"]},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E5%8A%A8%E6%80%81%E5%88%86%E4%BA%AB%E5%9B%BE/#_2","title":"\u7528\u6cd5","text":"<p>\u4f7f\u7528\u4e5f\u5f88\u7b80\u5355~\u65e0\u9700\u67d3\u6307\u5230<code>wx.\u5404\u79cdapi</code>\uff0c\u76f4\u63a5\u914d\u7f6e\u521d\u59cb\u5316+\u8c03\u7528\u5bf9\u5e94\u65b9\u6cd5\u5373\u53ef\uff0c\u4e00\u6761\u9f99\u670d\u52a1\u7f8e\u6ecb\u6ecb~</p> <pre><code>import CanvasPainter from './CanvasPainter';  \n\nconst config = [  \n{type:'rect, width: 640, height: 560, x: 0, y: 0, color: '#fff'},  \n{type: 'text', text: '\u6d4b\u8bd5\u6587\u672c', color: '#1499f8',size: 50, x: 30,y: 100}  \n]  \n\n// \u521d\u59cb\u5316  \nconst painter = new CanvasPainter({  \n    canvasId: `canvasId`,  \n    context: this, // \u7ec4\u4ef6\u5185\u4f7f\u7528\u9700\u4f20this  \n    config //\u753b\u56fe\u8def\u5f84  \n});  \npainter.loadImgInAdvance(); //\u9884\u4e0b\u8f7d\u56fe\u7247\u5230\u672c\u5730\uff1b\u5982\u4e0d\u4e3b\u52a8\u8c03\u7528\uff0c\u5219draw\u7684\u65f6\u5019\u4f1a\u518d\u4e0b\u8f7d\u3002  \n\n// \u66f4\u65b0\u753b\u56fe\u8def\u5f84  \npainter.resetConfig(newConfig);  \n\n// \u753b\u56fe  \npainter.draw().then(() =&gt; {  \n    console.log('\u753b\u56fe\u5b8c\u6210');     \n}).catch(e =&gt; {  \n    console.log('\u751f\u6210\u56fe\u7247\u5931\u8d25', e);  \n});  \n\n// \u9884\u89c8  \npainter.preview();  \n\n// \u4fdd\u5b58  \npainter.save().then(() =&gt; {  \n    console.log('\u4fdd\u5b58\u5b8c\u6210');     \n}).catch(e =&gt; {  \n    console.log('\u4fdd\u5b58\u5931\u8d25', e);  \n});  \n</code></pre> <p>\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u9047\u5230\u7684\u8981\u70b9\u8bb0\u5f55\u5982\u4e0b\uff1a</p> <ul> <li> <p>\u5982\u4f55\u7b49\u6bd4\u7f29\u653e</p> <p>\u56e0\u4e3acanvas\u7ed8\u56fe\u65f6\u7684\u957f\u5ea6\u5355\u4f4d\u4e3apx\uff0c\u6240\u4ee5\u53ef\u4ee5\u5229\u7528\u5c0f\u7a0b\u5e8f\u7684canvas.scale()\u6765\u89e3\u51b3\u3002</p> </li> </ul> <pre><code>\nconst scale = wx.getSystemInfoSync().windowWidth / 750;  \nthis.ctx.scale(scale, scale); // \u8fd9\u6837\u53ef\u4ee5\u5b9e\u73b0\u4ee5750px\u5c3a\u5bf8\u7684ui\u56fe\u7b49\u6bd4\u7f29\u653e  \n</code></pre> <ul> <li> <p>\u7ed8\u5236\u56fe\u7247\u9884\u4e0b\u8f7d\u53ca\u7f13\u5b58</p> <p>\u8c03\u7528<code>ctx.drawImage()</code>\u65f6\uff0c\u56fe\u7247\u9700\u8981\u5148\u4e0b\u8f7d\u5230\u672c\u5730\u4e34\u65f6\u8def\u5f84\uff0c\u8fd9\u4e00\u6b65\u8017\u65f6\u8f83\u957f\uff0c\u6240\u4ee5\u5efa\u8bae\u524d\u7f6e\u8fdb\u884c\u3002\u4e34\u65f6\u8def\u5f84\u7684\u6709\u6548\u671f\u4e3a\u4e00\u4e2a\u5c0f\u7a0b\u5e8f\u5468\u671f\uff0c\u6240\u4ee5\u5b8c\u5168\u53ef\u4ee5\u7f13\u5b58\u672c\u5730\u4e34\u65f6\u8def\u5f84\u3002\u8fd9\u6837\u91cd\u590d\u751f\u6210canvas\u65f6\u53ea\u4f1a\u4e0b\u8f7d\u52a8\u6001\u56fe\u7247\uff0c\u590d\u7528\u56fa\u5b9a\u56fe\u7247\u8def\u5f84\uff0c\u907f\u514d\u91cd\u590d\u4e0b\u8f7d~</p> <p>\u53e6\u5916\u56fe\u7247\u57df\u540d\u9700\u914d\u7f6e\u5728\u5c0f\u7a0b\u5e8f\u540e\u53f0\uff0c\u4e3a\u907f\u514d\u610f\u5916\uff0c\u4e0b\u8f7d\u56fe\u7247\u524d\u5e94\u5148\u5bf9\u56fe\u7247url\u505a\u4e00\u6b21\u6821\u9a8c\uff0c\u6821\u9a8c\u5931\u8d25\u76f4\u63a5\u8df3\u8fc7\u4e0b\u8f7d\u6216\u6362\u7528\u515c\u5e95\u56fe\u3002</p> </li> <li> <p>\u4e0b\u8f7d\u56fe\u7247\u5230\u672c\u5730</p> <p>\u5728save\u56fe\u7247\u524d\uff0c\u9700\u8981\u5148\u8c03\u7528<code>wx.getSetting()</code>\u6765\u83b7\u53d6\u7528\u6237\u662f\u5426\u5df2\u5141\u8bb8\u4e0b\u8f7d\u56fe\u7247\u5230\u672c\u5730\u6743\u9650\uff0c\u6216\u662f\u5524\u8d77\u8bf7\u6c42\u6743\u9650\u5f39\u7a97\u3002\u5982\u679c\u6743\u9650\u88ab\u62d2\u7edd\uff0c\u5219\u6700\u597d\u7ed9\u51fatoast\u63d0\u793a\uff0c\u540c\u65f6\u628a\u4e0b\u8f7d\u6309\u94ae\u91cd\u7f6e\u4e3a<code>open-type=\"openSetting\"</code>\uff0c\u7528\u6237\u518d\u6b21\u70b9\u51fb\u65f6\uff0c\u5f15\u5bfc\u8df3\u8f6c\u81f3\u6388\u6743\u9875\u9762\u3002</p> </li> </ul> <p>\u53e6\u5916\u4f7f\u7528\u65f6\u4e5f\u6709\u4e24\u70b9\u4e0d\u6e29\u99a8\u63d0\u793a\uff1a</p> <ul> <li> <p>canvas\u7ec4\u4ef6\u663e\u9690\u63a7\u5236</p> <p>\u4e0d\u5efa\u8bae\u5c06canvas\u7ec4\u4ef6\u7528wx:if\u63a7\u5236\u663e\u9690\uff0c\u56e0\u4e3a\u5c06canvas\u7ec4\u4ef6\u6302\u8f7d\u81f3\u9875\u9762\u540e\uff0c\u8981\u7ecf\u8fc7200ms\u5de6\u53f3\u7684\u5ef6\u8fdf\u624d\u80fddraw()\u6210\u529f\u3002\u5efa\u8bae\u76f4\u63a5\u7528display:none/block\u6765\u63a7\u5236\uff0c\u8fd9\u6837\u4e5f\u65b9\u4fbf\u5b9e\u73b0\u56fe\u7247\u9884\u4e0b\u8f7d\u3002</p> </li> <li> <p>\u7ed3\u5408\u4e1a\u52a1\u62bd\u79bb\u7ec4\u4ef6</p> <p>\u5efa\u8bae\u7ed3\u5408\u5f53\u524d\u4e1a\u52a1\u5c06\u751f\u6210\u5206\u4eab\u56fe\u529f\u80fd\u8fdb\u4e00\u6b65\u62bd\u79bb\u6210\u7ec4\u4ef6\uff0c\u5305\u62ec\u5185\u5d4c\u70b9\u51fbcanvas\u9884\u89c8\u56fe\u7247\uff0c\u4fdd\u5b58canvas\u4e3a\u56fe\u7247\u6309\u94ae(\u517c\u5bb9\u672a\u6388\u6743\u4e0b\u8f7d\u56fe\u7247\u8df3\u8f6c\u6388\u6743\u9875\u60c5\u51b5)\u7b49\u3002\u4ea6\u53ef\u66f4\u7075\u6d3b\u7684\u81ea\u7531\u63a7\u5236\u753b\u56fe\u53ca\u66f4\u65b0\u753b\u56fe\u7684\u65f6\u673a\u3002</p> </li> </ul> <p>\u6ce8\u610f\u5230\u8fd9\u4e24\u70b9\u540e\uff0c\u5c31\u53ef\u4ee5\u5206\u5206\u949f\u64b8\u51fa\u4e00\u4e2a\u52a8\u6001\u751f\u6210\u56fe\u5566~</p>","tags":["blog"]},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E5%8A%A8%E6%80%81%E5%88%86%E4%BA%AB%E5%9B%BE/#api","title":"\u9644\uff1a\u5b8c\u6574API","text":"","tags":["blog"]},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E5%8A%A8%E6%80%81%E5%88%86%E4%BA%AB%E5%9B%BE/#_3","title":"\u521d\u59cb\u5316","text":"<p><code>new CanvasPainter(options)</code></p> <p><code>options</code></p> <ul> <li> <p><code>canvsId</code>: canvas-id\u3002</p> </li> <li> <p><code>context</code>: canvas\u4f7f\u7528\u65f6\u4e0a\u4e0b\u6587\uff0c\u5728\u7ec4\u4ef6\u5185\u4f7f\u7528\u65f6\u4f20\u5165this\u5373\u53ef\u3002</p> </li> <li> <p><code>config</code>: Array[]\u3002\u7ed8\u56fe\u8def\u5f84\u3002\u652f\u6301\u7c7b\u578b\u5982\u4e0b\uff1a</p> </li> <li> <p>rect \u77e9\u5f62</p> <p>```javascript</p> <pre><code>\u5b8c\u6574\u914d\u7f6e\uff1a{  \n type: 'rect',  \n width: 640,  \n height: 560,  \n x:0,  \n y:0,  \n color: '#fff', // fill\u4e0b\u4e3a\u586b\u5145\u989c\u8272\uff0cstorke\u4e0b\u4e3a\u7b14\u8ff9\u989c\u8272  \n stroke(\u53ef\u9009): true, // \u4ee3\u8868\u6a21\u5f0f\u4e3afill\u8fd8\u662fstroke\u3002\u9ed8\u8ba4false\uff0c\u5373fill\u72b6\u6001\u3002  \n round(\u53ef\u9009): true, // \u4ee3\u8868\u662f\u5426\u4e3a\u5706\u5f62\u3002\u9ed8\u8ba4false\u3002  \n}  \n```\n</code></pre> <ul> <li> <p>text \u6587\u672c</p> <p><code>javascript \u5b8c\u6574\u914d\u7f6e\uff1a{    type: 'text',    x:0,    y:30,    color: '#fff', // \u5b57\u8272    font: 'xx', // \u5b57\u4f53    size: 20, //\u5b57\u53f7    align: 'center', //\u5bf9\u9f50\u3002\u9ed8\u8ba4left\u3002    decoration(\u53ef\u9009): 'line-through', // \u6682\u65f6\u53ea\u6709\u4e2d\u5212\u7ebf\u6a21\u5f0f\u54c8\u54c8\u54c8   }</code></p> </li> <li> <p>multiline_text \u591a\u884c\u6587\u672c</p> <p><code>javascript \u5b8c\u6574\u914d\u7f6e\uff1a{    type: 'multiline\\_text',    line\\_limit: 30, //\u6bcf\u884c\u5b57\u6570    line\\_height: 20, //\u884c\u9ad8    ... //\u5176\u4f59\u90fd\u4e0etext\u4e00\u81f4   }</code>     *   image \u56fe\u7247</p> <p><code>javascript \u5b8c\u6574\u914d\u7f6e\uff1a{    type: 'image',    url: '', //\u56fe\u7247\u8def\u5f84    x: '', y: '', width: '', height:'',    round(\u53ef\u9009): true, // \u5706\u5f62\u3002\u9ed8\u8ba4false\u3002   }</code></p> </li> </ul> </li> <li> <p><code>saleBase(\u53ef\u9009)</code>: \u6309\u8bbe\u8ba1\u7a3f\u5c3a\u5bf8\u6765\uff0c\u9ed8\u8ba4750\u3002</p> </li> </ul>","tags":["blog"]},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E5%8A%A8%E6%80%81%E5%88%86%E4%BA%AB%E5%9B%BE/#_4","title":"\u9884\u4e0b\u8f7d\u56fe\u7247","text":"<p><code>canvasPainter.loadImgInAdvance()</code>\u3002\u53ef\u5728\u5b9e\u4f8b\u5316CanvasPainter\u540e\u7acb\u5373\u8c03\u7528\u3002</p>","tags":["blog"]},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E5%8A%A8%E6%80%81%E5%88%86%E4%BA%AB%E5%9B%BE/#_5","title":"\u7ed8\u56fe","text":"<p><code>canvasPainter.draw()</code></p>","tags":["blog"]},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E5%8A%A8%E6%80%81%E5%88%86%E4%BA%AB%E5%9B%BE/#_6","title":"\u9884\u89c8\u5927\u56fe","text":"<p><code>canvasPainter.preview()</code></p>","tags":["blog"]},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E5%8A%A8%E6%80%81%E5%88%86%E4%BA%AB%E5%9B%BE/#_7","title":"\u4fdd\u5b58\u6210\u56fe\u7247","text":"<p><code>canvasPainter.save()</code></p>","tags":["blog"]},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E5%8A%A8%E6%80%81%E5%88%86%E4%BA%AB%E5%9B%BE/#config","title":"\u66f4\u6539config","text":"<p><code>canvasPainter.resetConfig(newConfig)</code></p>","tags":["blog"]},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E5%8E%9F%E7%90%86/","title":"\u539f\u7406","text":"<p>https://developers.weixin.qq.com/ebook?action=get_post_info&amp;docid=000a8806958588cb00862bd5851c0a</p> <p>\u5728\u5927\u90e8\u5206\u5f00\u53d1\u8005\u770b\u6765\uff0cECMAScript\u548cJavaScript\u8868\u8fbe\u7684\u662f\u540c\u4e00\u79cd\u542b\u4e49\uff0c\u4f46\u662f\u4e25\u683c\u7684\u8bf4\uff0c\u4e24\u8005\u7684\u610f\u4e49\u662f\u4e0d\u540c\u7684\u3002ECMAScript\u662f\u4e00\u79cd\u7531Ecma\u56fd\u9645\u901a\u8fc7ECMA-262\u6807\u51c6\u5316\u7684\u811a\u672c\u7a0b\u5e8f\u8bbe\u8ba1\u8bed\u8a00\uff0c JavaScript \u662f ECMAScript \u7684\u4e00\u79cd\u5b9e\u73b0\u3002\u7406\u89e3 JavaScript \u662f ECMAScript \u4e00\u79cd\u5b9e\u73b0\u540e\uff0c\u53ef\u4ee5\u5e2e\u52a9\u5f00\u53d1\u8005\u7406\u89e3\u5c0f\u7a0b\u5e8f\u4e2d\u7684 JavaScript\u540c\u6d4f\u89c8\u5668\u4e2d\u7684 JavaScript \u4ee5\u53ca NodeJS \u4e2d\u7684 JavaScript \u662f\u4e0d\u76f8\u540c\u7684\u3002</p> <ul> <li>\u6d4f\u89c8\u5668\u7684JavaScript = ECMScript + BOM(browser object model) + DOM</li> <li>NodeJS\u7684JavaScript = ECMScript + NPM +Native(fs / http )</li> <li>\u5c0f\u7a0b\u5e8f\u7684JavaScript = ECMScript + \u5c0f\u7a0b\u5e8f\u6846\u67b6 + \u5c0f\u7a0b\u5e8fAPI</li> </ul> <p>\u5c0f\u7a0b\u5e8f\u5728\u4e0d\u540c\u5e73\u53f0\u7684\u8868\u73b0\u4e0d\u540c\u4e3b\u8981\u5728\u4e8e\u4e09\u5927\u5e73\u53f0\u5b9e\u73b0\u7684 ECMAScript \u7684\u6807\u51c6\u6709\u6240\u4e0d\u540c\uff0c\u6bd4\u5982 iOS9\u548ciOS10 \u6240\u4f7f\u7528\u7684\u8fd0\u884c\u73af\u5883\u5e76\u6ca1\u6709\u5b8c\u5168\u7684\u517c\u5bb9\u5230 ECMAScript 6 \u6807\u51c6\u3002</p> <p>\u7ed3\u6784</p> <p>wxml &gt; \u6e32\u67d3\u5c42 &gt; webview | \u591a\u4e2awebview\u7ebf\u7a0b</p> <p>js &gt;\u903b\u8f91\u5c42 &gt; jsCore | \u5355\u7ebf\u7a0b\uff0c\u6574\u4e2aAPP\u5b9e\u4f8b\u90fd\u662f\u5355\u4f8b\u7684\uff08\u5f97\u76ca\u4e8e\u5ba2\u6237\u7aef\u7cfb\u7edf\u6709JavaScript \u7684\u89e3\u91ca\u5f15\u64ce\u3002ios javascriptCore\u6846\u67b6 \u5b89\u5353\u4e0b\u817e\u8bafx5\u63d0\u4f9b\uff09</p> <p>note:</p> <ul> <li>\u53ef\u4ee5\u628awxml\u60f3\u6210jsx     \u540c\u6837\u53ea\u662f\u8bed\u6cd5\u7cd6\u800c\u5df2 \u672c\u8d28\u662fjs\u3002\u9700\u8981\u6e32\u67d3\u5230DOM\u4e0a\u624d\u662f\u771f\u7684html</li> <li>setData:     \u628a\u6570\u636e\u4ece\u903b\u8f91\u5c42\u4f20\u5230\u6e32\u67d3\u5c42\uff0c\u518d\u7ecf\u8fc7\u5bf9\u6bd4\u524d\u540e\u5dee\u5f02\uff0c\u628a\u5dee\u5f02\u5e94\u7528\u5728\u539f\u6765\u7684Dom\u6811\u4e0a</li> <li>\u6bcf\u4e2a\u9875\u9762\u90fd\u6709\u4e00\u4e2awebview\u7ebf\u7a0b\u63a7\u5236\u6e32\u67d3</li> <li>onReady\u89e6\u53d1\u65f6\uff0c\u8868\u793a\u903b\u8f91\u5c42\u5df2\u7ecf\u53ef\u4ee5\u548c\u6e32\u67d3\u5c42\u4ea4\u4e92\u4e86</li> <li>setData\u7684\u539f\u5219\uff1a\u8bbe\u7f6e\u9700\u8981\u6539\u53d8\u7684\u6700\u5c0f\u5355\u4f4d\u6570\u636e</li> <li>currentTarget\u4e3a\u5f53\u524d\u4e8b\u4ef6\u6240\u7ed1\u5b9a\u7684\u7ec4\u4ef6\uff0c\u800ctarget\u5219\u662f\u89e6\u53d1\u8be5\u4e8b\u4ef6\u7684\u6e90\u5934\u7ec4\u4ef6\u3002 </li> </ul> <p>\u91cd\u70b9\uff1a\u53cc\u7ebf\u7a0b\u6a21\u578b </p> <p>Q\uff1a\u4e3a\u4ec0\u4e48\u4e0d\u9009\u62e9\u7f51\u9875\u5f62\u5f0f\uff1f</p> <p>A\uff1a\u6280\u672f\u4e0a\u800c\u8a00 ui\u6e32\u67d3\u548cjs\u811a\u672c\u90fd\u5728\u4e00\u4e2a\u7ebf\u7a0b\u91cc\u6267\u884c \u53ef\u80fd\u4f1a\u88ab\u62a2\u5360\u8d44\u6e90\u3002\u5b89\u5168\u800c\u8a00\uff0c\u4e3a\u4e86\u9632\u6b62\u81ea\u7531\u8df3\u8f6c\uff0cDOM\u64cd\u4f5c\u7684\u5f00\u653e\u6027\uff0c\u5fc5\u987b\u63d0\u4f9b\u4e00\u4e2a\u6c99\u7bb1\u73af\u5883\u6765\u8fd0\u884c\u5f00\u53d1\u8005\u7684JavaScript \u4ee3\u7801\u3002\u8fd9\u4e2a\u6c99\u7bb1\u73af\u5883\u4e0d\u80fd\u6709\u4efb\u4f55\u6d4f\u89c8\u5668\u76f8\u5173\u63a5\u53e3\uff0c\u53ea\u63d0\u4f9b\u7eafJavaScript \u7684\u89e3\u91ca\u6267\u884c\u73af\u5883\u3002 </p> <p>\u53cc\u7ebf\u7a0b\u6a21\u578b\u5e26\u6765\u7684\uff1a\u5929\u751f\u5f02\u6b65</p> <p>\u56e0\u4e3a\u901a\u4fe1\u90fd\u53d8\u6210\u4e86\u4e0d\u540c\u7ebf\u7a0b\u95f4\u7684\u901a\u4fe1\uff0c\u5305\u62ec\u6e32\u67d3\u5c42\u4e0ejs\u903b\u8f91\u5c42\u4e4b\u95f4\u7684\u987a\u5e8f\u9700\u8981\u4fdd\u8bc1\uff0cjs\u903b\u8f91\u5c42\u4e0e\u5fae\u4fe1\u4e3b\u7ebf\u7a0b\u7684\u901a\u4fe1\u4e5f\u6709\u65f6\u5ef6\uff0c\u6240\u4ee5\u5927\u90e8\u5206\u63a5\u53e3\u90fd\u662f\u5f02\u6b65\u7684\u3002 </p> <p>\u7ec4\u4ef6</p> <p>\u5c0f\u7a0b\u5e8f\u7684Exparser\u6846\u67b6\u6709\u53c2\u8003DOM\u7684shadow dom \u539f\u6765\u5982\u6b64\uff01\u602a\u4e0d\u5f97\u7ec4\u4ef6\u5185\u7684css\u4e0d\u4f1a\u5f71\u54cd\u5230\u5916\u9762~</p> <p>https://developer.mozilla.org/zh-CN/docs/Web/Web_Components/%E5%BD%B1%E5%AD%90_DOM</p> <p>https://aotu.io/notes/2016/06/24/Shadow-DOM/index.html </p> <p>\u5fae\u4fe1\u5f00\u53d1\u8005\u5de5\u5177 \u5f88\u6709\u7528 \u503c\u5f97\u590d\u770b\uff01</p> <p>https://developers.weixin.qq.com/ebook?action=get_post_info&amp;docid=000e22a89849d81b0086384a25b40a</p> <p>\u903b\u8f91\u5c42\u6a21\u62df</p> <p>\u6e32\u67d3\u5c42\u6a21\u62df</p> <p>\u5ba2\u6237\u7aef\u6a21\u62df</p> <p>\u901a\u4fe1\u6a21\u62df(websocket) </p> <p>Q: \u5982\u4f55\u907f\u514d\u7528\u6237\u5728\u5f00\u53d1\u8005\u5de5\u5177\u4e2d\u4e0d\u4f7f\u7528\u672c\u53ef\u4ee5\u4f7f\u7528\u7684BOM?</p> <p>A: \u5c06\u5f00\u53d1\u8005\u7684\u4ee3\u7801\u5305\u88f9\u5728define\u91cc\u65f6 \u4f7f\u4e4b\u5c40\u90e8\u53d8\u91cf\u5316</p> <p>https://developers.weixin.qq.com/ebook?action=get_post_info&amp;docid=000a80769707d86b008602a955b80a</p>"},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E6%9D%82%E7%A2%8E/","title":"\u6742\u788e","text":"<ul> <li> <p>Scroll-view: \u6a2a\u5411\u6eda\u52a8white-space: nowrap; \u6240\u4ee5\u5728\u6a2a\u5411\u6eda\u52a8\u91cc\u7684\u82e5\u6709\u7701\u7565\u53f7\u6216\u8005\u6362\u884c\u7701\u7565\u53f7\u5c31\u4e0d\u884c\u4e86\u2026\u9700\u8981\u518d\u590d\u52a0\u4e00\u4e0bwhite-space:pre-wrap;</p> </li> <li> <p>\u5c0f\u6280\u5de7\uff1a\u7ed9\u957f\u5217\u8868 setData \u7684\u65f6\u5019 \u4e0d\u8981setData\u90a3\u4e48\u957f\u4e00\u6bb5\uff01\u9700\u8981\u91c7\u7528\u5947\u6280\u6deb\u5de7\uff1ahttps://mjd507.github.io/2017/09/02/WeApp-1024k-Solution/ \u539f\u7406\u662f\uff1a\u6570\u7ec4\u652f\u6301\u901a\u8fc7\u6539\u53d8\u6570\u7ec4\u89d2\u6807\u5bf9\u5e94\u7684\u503c\u6765\u6539\u53d8\u6570\u636e</p> </li> <li> <p>\u6253\u5305\u63a2\u7d22\uff1ahttp://bbs.meili-inc.com/forum.php?mod=viewthread&amp;tid=10105&amp;page=1#pid111430</p> </li> <li> <p>\u5730\u7403\u5b9a\u4f4d&amp;\u706b\u661f\u5b9a\u4f4d</p> </li> </ul> <p>\u8d77\u56e0\uff1a\u5199\u7684\u5c0f\u7a0b\u5e8f\u6709\u63a5\u5230\u53cd\u9988\u8bf4\u5b9a\u4f4d\u5230\u7684\u6700\u8fd1\u5c0f\u533a\u4e0e\u5b9e\u9645\u8ddd\u79bb\u6709\u51e0\u767e\u7c73\u7684\u5dee\u8ddd\u3002\u81ea\u5df1\u6d4b\u4e86\u6d4b\uff0c\u679c\u7136\u5982\u6b64\u3002</p> <p>\u539f\u6765\uff0c\u5199\u5c0f\u7a0b\u5e8f\u83b7\u53d6\u7528\u6237\u5f53\u524d\u5b9a\u4f4d\u8c03\u7528\u7684wx.getLocation api\uff0c\u6709\u4e00\u4e2a\u4ece\u672a\u8ba4\u771f\u7ec6\u770b\u7684\u5c5e\u6027type\uff0c\u5176\u63cf\u8ff0\u4e3a\u201cwgs84 \u8fd4\u56de gps \u5750\u6807\uff0cgcj02 \u8fd4\u56de\u53ef\u7528\u4e8e <code>wx.openLocation</code> \u7684\u5750\u6807\u201d\u3002\u9ed8\u8ba4\u662fwgs84\uff0c\u4e5f\u5c31\u662f\u666e\u901agps\u5750\u6807\u3002</p> <p>\u4e8e\u662f\uff0c\u6211\u957f\u8fd9\u4e48\u5927\u624d\u7ec8\u4e8e\u77e5\u9053\u4e86\u5730\u7403\u5750\u6807\u7cfb\uff08wgs84\uff09\u548c\u706b\u661f\u5750\u6807\u7cfb\uff08gcj02\uff09~</p> <p>\u524d\u8005\u56fd\u9645\u901a\u7528\uff0c\u5373\u6807\u51c6\u5b9a\u4f4d\uff1b\u540e\u8005\u4e2d\u56fd\u901a\u7528\uff0c\u662f\u524d\u8005\u52a0\u5bc6\u52a0\u504f\u79fb\u8fc7\u540e\u7684\u7ed3\u679c\uff0c\u6240\u4ee5\u503c\u8981\u7a0d\u5fae\u4e0d\u4e00\u6837\uff0c\u5927\u7ea6500m\uff0c\u56e0\u4e3a\u5b9a\u4f4d\u5e76\u975e\u51c6\u786e\u5b9a\u4f4d\uff0c\u6545\u88ab\u620f\u79f0\u4e3a\u706b\u661f\u5750\u6807\u3002\u56fd\u5185\u9664\u4e86\u767e\u5ea6\u5730\u56fe\uff08\u5355\u72ec\u7684\u767e\u5ea6\u5750\u6807\u7cfb\uff09\uff0c\u5176\u4f59\u7684\u90fd\u8981\u4ee5\u706b\u661f\u5750\u6807\u4e3a\u51c6\u3002</p> <p>\u6240\u4ee5\u56fd\u9645\u548c\u56fd\u5185\u5730\u56fe\u5b9a\u4f4d\uff0c\u8fd8\u8981\u5148\u6362\u7b97\u4e00\u4e0b\uff01</p> <p>p.s. \u5b89\u5353\u4f7f\u7528\u7684\u9ad8\u5fb7\u5730\u56fe\u5b9a\u4f4d\uff0c\u76f4\u63a5\u5b9a\u4f4d\u7684\u7ecf\u7eac\u5ea6\u5c31\u662f\u706b\u661f\u5750\u6807\u7cfb\uff0c\u800ciOS\u4f7f\u7528\u7684\u662f\u82f9\u679c\u81ea\u5e26\u7684\u5b9a\u4f4d\u7cfb\u7edf\uff0c\u5b9a\u4f4d\u7684\u5750\u6807\u4f7f\u7528\u7684\u662f\u5730\u7403\u5750\u6807\u7cfb\uff0c\u6ca1\u6709\u8f6c\u6362\u3002</p> <p>\u8fd4\u56de\u5230\u6211\u4eec\u7684\u60c5\u51b5\uff0c\u540e\u7aef\u8ba1\u7b97\u9644\u8fd1\u5c0f\u533a\u65f6\u4f9d\u6258\u817e\u8baf\u5730\u56fe\uff0c\u56e0\u6b64\u9700\u8981\u7684\u5b9a\u4f4d\u4e3a\u706b\u661f\u5750\u6807\uff0c\u4e5f\u5c31\u662fwx.getLocation()\u5e94\u8bbe\u7f6etype\u4e3agcj02\u624d\u51c6\u786e~</p>"},{"location":"Frontend/%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E7%99%BB%E5%BD%95%E9%80%BB%E8%BE%91/","title":"\u767b\u5f55\u903b\u8f91","text":"<p>\u4e3b\u8981\u6d41\u7a0b\u6b63\u5982\u5b98\u7f51\u4e0a\u7684\u8fd9\u5f20\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u5176\u4e2d\u6709\u4e24\u70b9\u662f\u6211\u66fe\u7ecf\u6709\u7591\u60d1\u7684~</p> <ol> <li> <p>\u540e\u7aef\u901a\u8fc7code\u5411\u5fae\u4fe1\u8bf7\u6c42\u56de\u6765\u7684session-key\u6709\u4ec0\u4e48\u4f5c\u7528\u5462\uff1f\u4ee5\u53ca\u4e3a\u4ec0\u4e48\u524d\u7aef\u9700\u8981\u5728\u6253\u5f00\u5c0f\u7a0b\u5e8f\u65f6\u5148\u786e\u8ba4\u5c0f\u7a0b\u5e8f\u5bf9\u5fae\u4fe1\u7684session\u662f\u5426\u5931\u6548\uff1f</p> <p>session_key\u662f\u540e\u7aef\u548c\u5fae\u4fe1\u7aef\u4e4b\u95f4\u7684\u4f1a\u8bdd\u79d8\u94a5\u3002\u5fae\u4fe1\u7aef\u5411\u540e\u7aef\u4f20\u9012\u7684\u7528\u6237\u6570\u636e\uff0c\u90fd\u4f1a\u9700\u8981\u7528session_key\u89e3\u5bc6\u3002\u5982\u679c\u5c0f\u7a0b\u5e8f\u5bf9\u5fae\u4fe1\u7684session\u5931\u6548\uff0c\u5bf9\u5e94\u7740\u8be5\u4efdsession_key\u4e5f\u4f1a\u5931\u6548\uff0c\u540e\u7aef\u5c31\u89e3\u4e0d\u51fa\u5fae\u4fe1\u53d1\u56de\u7684\u6570\u636e\u4e86~</p> <p>\u5173\u952e\u662f\u8981\u8bb0\u4f4f\uff1a<code>wx.checkSession()</code> === \u5224\u65ad\u4e0a\u6b21\u7684<code>wx.login()</code>\u662f\u5426\u8fd8\u6ca1\u8fc7\u671f === \u5224\u65ad\u540e\u7aef\u7684<code>session_key</code>\u662f\u5426\u8fd8\u6ca1\u8fc7\u671f === \u7528\u6237\u4e8e\u5fae\u4fe1\u662f\u4e0d\u662f\u8fd8\u662f\u767b\u9646\u72b6\u6001</p> </li> <li> <p>\u540e\u7aef\u548c\u524d\u7aef\u5e94\u4ee5\u4ec0\u4e48\u6570\u636e\u4f5c\u4e3a\u7528\u6237\u6807\u5fd7\uff1f</p> <p>\u5176\u5b9e\u548c\u6b63\u5e38\u4e0b\uff0c\u540e\u7aef\u4e0e\u524d\u7aef\u7684\u7528\u6237\u6807\u5fd7\u4e00\u6837\uff0c\u4e00\u4e2a\u6709\u8fc7\u671f\u65f6\u95f4\u7684\u5b57\u6bb5\u5373\u53ef\u3002</p> <p>\u6240\u4ee5\u5c0f\u7a0b\u5e8f\u5185\u4e0d\u80fd\u4ee5openid\uff0c\u53ea\u80fd\u4ee5\u7b2c\u4e09\u65b9session\u4f5c\u4e3a\u7528\u6237\u6807\u5fd7\u3002\u56e0\u4e3aopenid\u7684\u503c\u662f\u6c38\u8fdc\u6709\u6548\u7684\uff0c\u4ee5\u6b64\u4e3a\u7528\u6237\u6807\u5fd7\u660e\u663e\u4f1a\u5e26\u6765\u8f7b\u6613\u76d7\u7528\u7684\u95ee\u9898\u3002\u7b2c\u4e09\u65b9session\u7684\u6709\u6548\u671f\u53ef\u4ee5\u548c\u5fae\u4fe1session\u7684\u6709\u6548\u671f\u4e0d\u76f8\u5173(\u56e0\u4e3a\u5fae\u4fe1session\u7684\u6709\u6548\u671f\u5e76\u672a\u66b4\u9732)\uff0c\u82e5\u7b2c\u4e09\u65b9session\u7684\u6709\u6548\u671f\u5148\u5230\u671f\u4e86\uff0c\u5237\u65b0\u5373\u53ef\uff1b\u82e5\u5fae\u4fe1session\u5148\u5230\u671f\uff0c\u5219\u524d\u7aef\u9700\u8981\u518d\u6b21\u8c03\u7528<code>wx.login</code>\uff0c\u5237\u65b0\u5fae\u4fe1session\u53ca\u7b2c\u4e09\u65b9session\u53ca\u540e\u7aef\u7684session_key\u3002</p> </li> </ol>"},{"location":"Frontend/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E4%BB%A3%E7%90%86/","title":"\u4ee3\u7406","text":""},{"location":"Frontend/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E4%BB%A3%E7%90%86/#_2","title":"\u4ee3\u7406","text":"<p>\u5176\u5b9e\u5c31\u662f\u9ad8\u9636\u51fd\u6570\u4e5f\u53ef\u4ee5\u7406\u89e3\u6210\u4ee3\u7406\u5566\u3002</p>"},{"location":"Frontend/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E4%BB%A3%E7%90%86/#_3","title":"\u8fed\u4ee3\u5668","text":"<p>\u5185\u90e8\u8fed\u4ee3\u5668\u4e0e\u5916\u90e8\u8fed\u4ee3\u5668\u3002\u50cf generator \u7684\u8fd9\u79cd\u53ef\u4ee5\u8bf4\u662f\u5916\u90e8\u8fed\u4ee3\u3002 </p> <p>\u767d\u8272\u3001\u6d45\u7c89\u3001\u6c34\u7ea2\u3001\u6843\u7ea2\u3001\u8367\u5149\u7d2b</p>"},{"location":"Frontend/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%8D%95%E4%BE%8B/","title":"\u5355\u4f8b","text":"<p>E.g. \u7ebf\u7a0b\u6c60\u3001\u5168\u7a0b\u7f13\u5b58\u3001 request \u5e93\uff08\u5176\u4ed6\u7ec4\u4ef6\u53ef\u80fd\u4f9d\u8d56\u8be5\u5e93\uff0c\u5e76\u4e14\u8be5\u5e93\u7684 interceptor \u901a\u7528\uff09\uff0c\u7f13\u5b58\u67d0\u4e2a request</p> <ul> <li>\u666e\u901a\u52a0\u8f7d</li> </ul> <p>\u5bfc\u51fa\u7684\u5bf9\u8c61\u5373\u4e3a\u5b9e\u4f8b\u5316\u5bf9\u8c61\uff0c\u5728\u5bf9\u8c61\u4e0a\u53ef\u9644\u7740\u63d0\u4f9b createInstance \u7684\u65b9\u6cd5\uff0c\u53c2\u8003\uff1a</p> <pre><code>function createInstance(defaultConfig) {\n  const context = new Axios(defaultConfig);\n  const instance = bind(Axios.prototype.request, context); // \u5b9e\u73b0 axios({})\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults);\nexport default axios;\n</code></pre> <ul> <li>\u60f0\u6027\u52a0\u8f7d</li> </ul> <p>\u6bd4\u5982\u7f13\u5b58\u67d0\u4e2a request \u7684\u60c5\u51b5\u3002\u90a3\u5f53\u7136\u53ea\u80fd\u4f7f\u7528\u53d8\u91cf+\u95ed\u5305\u4e86\u3002</p>"},{"location":"Frontend/%E9%87%8D%E5%AD%A6%E5%89%8D%E7%AB%AF/","title":"index","text":"<p>\u8bed\u8a00\u7684\u4ea7\u6210\u5f0f</p>"},{"location":"Frontend/%E9%87%8D%E5%AD%A6%E5%89%8D%E7%AB%AF/#js","title":"JS \u8bed\u6cd5\u7279\u6027","text":""},{"location":"Frontend/%E9%87%8D%E5%AD%A6%E5%89%8D%E7%AB%AF/#_1","title":"\u56fe\u7075\u5b8c\u5907\u6027","text":"<ul> <li>\u547d\u4ee4\u5f0f - \u56fe\u7075\u673a</li> <li>goto</li> <li>if \u548c while</li> <li>\u58f0\u660e\u5f0f - lambda</li> <li>\u9012\u5f52</li> </ul>"},{"location":"Frontend/%E9%87%8D%E5%AD%A6%E5%89%8D%E7%AB%AF/#js_1","title":"JS \u8bcd\u6cd5\u3001\u7c7b\u578b","text":""},{"location":"Frontend/%E9%87%8D%E5%AD%A6%E5%89%8D%E7%AB%AF/#unicode","title":"\u9884\u5907\u77e5\u8bc6\uff1aunicode \u5b57\u7b26\u96c6","text":"<ul> <li> <p>Blocks \u7f16\u7801\u7ec4</p> </li> <li> <p>0 ~ U+007F\uff1a\u5e38\u7528\u62c9\u4e01\u5b57\u7b26</p> <ul> <li><code>String.fromCharCode(num)</code></li> </ul> </li> <li>U+4E00 ~ U+9FFF\uff1aCJK ChineseJapaneseKorean\u4e09\u5408\u4e00<ul> <li>\u6709\u4e00\u4e9b\u589e\u8865\u533a\u57df\uff08extension\uff09</li> </ul> </li> <li> <p>U+0000 - U+FFFF\uff1aBMP \u57fa\u672c\u5e73\u9762</p> </li> <li> <p>Categories</p> </li> <li> <p>space\u7a7a\u683c\u7cfb\u5217</p> </li> <li> <p>\u5b9e\u8df5</p> </li> <li> <p>\u4e2d\u6587\u53d8\u91cf\u540d</p> <p>\u56e0\u6d89\u53ca\u5230\u6587\u4ef6\u7684\u7f16\u7801\u4fdd\u5b58\u65b9\u5f0f\uff0c\u4f7f\u7528 <code>\\u\u5341\u516d\u8fdb\u5236unicode</code>\u8f6c\u8bd1\uff08<code>'\u5389'.codeCodeAt().toString(16)</code>\uff09</p> </li> </ul>"},{"location":"Frontend/%E9%87%8D%E5%AD%A6%E5%89%8D%E7%AB%AF/#atom","title":"Atom \u8bcd","text":""},{"location":"Frontend/%E9%87%8D%E5%AD%A6%E5%89%8D%E7%AB%AF/#inputelement","title":"InputElement","text":"<ul> <li>whiteSpace</li> </ul> <p>\u53ef\u67e5\u9605 unicode space\u5217\u8868</p> <ul> <li>Tab\uff1a\u5236\u8868\u7b26\uff08\u6253\u5b57\u673a\u65f6\u4ee3\uff1a\u5236\u8868\u65f6\u9694\u5f00\u6570\u5b57\u5f88\u65b9\u4fbf\uff09</li> <li>VT\uff1a\u7eb5\u5411\u5236\u8868\u7b26</li> <li>FF: FormFeed</li> <li>SP: Space</li> <li>NBSP: NO-BREAK SPACE\uff08\u548c SP \u7684\u533a\u522b\u5728\u4e8e\u4e0d\u4f1a\u65ad\u5f00\u3001\u4e0d\u4f1a\u5408\u5e76\uff09</li> <li> <p>...</p> </li> <li> <p>LineTerminator \u6362\u884c\u7b26</p> </li> <li> <p>LF: Line Feed <code>\\n</code></p> </li> <li>CR: Carriage Return <code>\\r</code></li> <li> <p>...</p> </li> <li> <p>Comment \u6ce8\u91ca</p> </li> <li> <p>Token \u8bb0\u53f7\uff1a\u4e00\u5207\u6709\u6548\u7684\u4e1c\u897f</p> </li> <li> <p>Punctuator: \u7b26\u53f7 \u6bd4\u5982 <code>&gt; = &lt; }</code></p> </li> <li>Keywords\uff1a\u6bd4\u5982 <code>await</code>\u3001<code>break</code>... \u4e0d\u80fd\u7528\u4f5c\u53d8\u91cf\u540d\uff0c\u4f46\u50cf getter \u91cc\u7684 <code>get</code>\u5c31\u662f\u4e2a\u4f8b\u5916<ul> <li>Future reserved Keywords: <code>eum</code></li> </ul> </li> <li>IdentifierName\uff1a\u6807\u8bc6\u7b26\uff0c\u53ef\u4ee5\u4ee5\u5b57\u6bcd\u3001_ \u6216\u8005 $ \u5f00\u5934\uff0c\u4ee3\u7801\u4e2d\u7528\u6765\u6807\u8bc6\u53d8\u91cf\u3001\u51fd\u6570\u3001\u6216\u5c5e\u6027\u7684\u5b57\u7b26\u5e8f\u5217<ul> <li>\u53d8\u91cf\u540d\uff1a\u4e0d\u80fd\u7528 Keywords</li> <li>\u5c5e\u6027\uff1a\u53ef\u4ee5\u7528 Keywords</li> </ul> </li> <li>Literal: \u76f4\u63a5\u91cf<ul> <li>Number</li> <li>\u5b58\u50a8 Uint8Array\u3001Float64Array</li> <li>\u5404\u79cd\u8fdb\u5236\u7684\u5199\u6cd5<ul> <li>\u4e8c\u8fdb\u52360b</li> <li>\u516b\u8fdb\u52360o</li> <li>\u5341\u8fdb\u52360x</li> </ul> </li> <li>\u5b9e\u8df5<ul> <li>\u6bd4\u8f83\u6d6e\u70b9\u662f\u5426\u76f8\u7b49\uff1aMath.abs(0.1 + 0.2 - 0.3) &lt;= Number.EPSILON</li> <li>\u5982\u4f55\u5feb\u6377\u67e5\u770b\u4e00\u4e2a\u6570\u5b57\u7684\u4e8c\u8fdb\u5236\uff1a(97).toString(2)</li> </ul> </li> <li>String</li> <li>Character</li> <li>Code Point</li> <li>Encoding<ul> <li>unicode\u7f16\u7801 - utf</li> <li>utf-8 \u53ef\u53d8\u957f\u5ea6 \uff08\u63a7\u5236\u4f4d\u7684\u7528\u5904\uff09</li> </ul> </li> <li>Grammar<ul> <li><code>''</code>\u3001<code>\"\"</code>\u3001<code>``</code></li> </ul> </li> <li>Boolean</li> <li>Null</li> <li>Undefind</li> </ul> </li> </ul> <p>\u5176\u4f59\u64cd\u4f5c</p> <ul> <li>\u7528 about:blank \u6253\u5f00\u7a7a\u767d\u6807\u7b7e\u9875</li> </ul> <p>\u5c0f\u4f5c\u4e1a</p> <ul> <li>\u5199\u4e00\u4e2a\u6b63\u5219 \u5339\u914d\u6240\u6709Number\u76f4\u63a5\u91cf</li> <li>\u5b8c\u6210 UTF8__Encoding \u7684\u51fd\u6570</li> <li>\u5199\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u5339\u914d\u5b57\u7b26\u4e32</li> </ul>"},{"location":"Frontend/%E9%87%8D%E5%AD%A6%E5%89%8D%E7%AB%AF/#grammer","title":"Grammer","text":""},{"location":"Frontend/%E9%87%8D%E5%AD%A6%E5%89%8D%E7%AB%AF/#expression","title":"Expression","text":"<p>P201/12.3</p> <ul> <li>Member\uff08\u53d6\u5c5e\u6027\uff09</li> <li>New</li> </ul> <p>A Boolean object can be coerced to a Boolean value. \u53ef\u4ee5\u88ab\u8f6c\u6362\u2026</p> <p>defines the notational conventions used throughout the specification. \u5b9a\u4e49\u4e86\u5728\u672c\u89c4\u8303\u4e2d\u4f7f\u7528\u7684\u4e00\u4e9b\u7b26\u53f7\u6216\u8005\u8bed\u6cd5\u7684\u7ea6\u5b9a\u3002</p> <p>Notational Conventions \u7b26\u53f7\u7ea6\u5b9a</p> <p>Syntactic and Lexical Grammars \u53e5\u6cd5\u548c\u8bcd\u6cd5</p> <p>Context-Free Grammars \u4e0a\u4e0b\u6587\u65e0\u5173\u8bed\u6cd5</p> <p>\u4ea7\u6210\u5f0f productions</p> <p>These tokens are the reserved words, identifiers, literals, and punctuators of the ECMAScript language. \u8fd9\u4e9b tokens \u662f ECMAScript \u8bed\u8a00\u7684\u4fdd\u7559\u5b57\uff0c\u6807\u8bc6\u7b26\uff0c\u5b57\u9762\u91cf\uff0c\u6807\u70b9\u7b26\u53f7\u3002</p> <p>Productions of the lexical and RegExp grammars are distinguished by having two colons \u201c::\u201d as separating punctuation. The lexical and RegExp grammars share some productions. \u4e24\u4e2a\u5192\u53f7 \"::\" \u4f5c\u4e3a\u5206\u9694\u7b26\u5206\u5272\u8bcd\u6cd5\u548c\u6b63\u5219\u7684\u6587\u6cd5\u4ea7\u751f\u5f0f\u3002\u8bcd\u6cd5\u548c\u6b63\u5219\u7684\u6587\u6cd5\u5171\u4eab\u67d0\u4e9b\u4ea7\u751f\u5f0f\u3002</p> <p>The Syntactic Grammar \u53e5\u6cd5/\u8bed\u6cd5 Lexical Grammars \u8bcd\u6cd5  grammer \u8bed\u6cd5 semantics \u8bed\u4e49</p> <p>Internal methods and internal slots are identified within this specification using names enclosed in double square brackets [[ ]]. p32</p> <p>Ref\uff1aES5\u4e2d\u6587\u7248 ES6\u4e2d\u6587\u4e0d\u5b8c\u5168\u7248</p> <p>\u3010\u8bcd\u6cd5 lexical\u3011</p> <p>The source text of an ECMAScript Script or Module is first converted into a sequence of input elements, which are tokens, line terminators, comments, or white space. </p> <p>ECMAScript \u7a0b\u5e8f\u7684\u6e90\u6587\u672c\u5148\u8f6c\u6362\u6210\u4e00\u4e2a\u7531 Token\u3001\u884c\u7ec8\u6b62\u7b26\u3001\u6ce8\u91ca\u3001\u7a7a\u767d\u5b57\u7b26 \u7ec4\u6210\u7684\u8f93\u5165\u5143\u7d20\u5e8f\u5217\uff1b\u6e90\u6587\u672c\u88ab\u4ece\u5de6\u5230\u53f3\u5730\u626b\u63cf\uff0c\u53cd\u590d\u83b7\u53d6\u5c3d\u53ef\u80fd\u957f\u7684\u5b57\u7b26\u5e8f\u5217\u6765\u4f5c\u4e3a\u4e0b\u4e00\u4e2a\u8f93\u5165\u5143\u7d20\u3002</p> <p></p> <p>\u6ce8\u610ftoken\u6700\u91cd\u8981\u7684\u4e24\u5927\u5757\uff0cidentifierName(\u53d8\u91cf\u540d) \u548c Literal(\u76f4\u63a5\u91cf)</p> <p>However, unlike white space code points, line terminators have some influence over the behaviour of the syntactic grammar. P161</p> <p>\u7a7a\u767d\u5b57\u7b26 v.s. \u884c\u7ec8\u6b62\u7b26 \u4e00\u4e2a\u5bf9\u4ee3\u7801\u65e0\u5f71\u54cd\u4e00\u4e2a\u6709 es5</p> <p>\u3010expression \u8868\u8fbe\u5f0f\u3011</p> <ul> <li>\u521d\u59cb\u5316\u6570\u7ec4\u3001\u5bf9\u8c61</li> <li>\u5de6\u503c\u8868\u8fbe\u5f0f\uff1a\u5c5e\u6027\u8bbf\u95ee\u3001new\u3001\u51fd\u6570\u8c03\u7528 p201</li> <li>update expression\uff1a\u81ea\u589e\u3001\u81ea\u51cf p210</li> <li>unary \u4e00\u5143\u8868\u8fbe\u5f0f\uff1a\u5982 delete\u3001void\u3001typeof \u3001\uff01\u3001void</li> <li>\u8ba1\u7b97\u7b26\uff1a+-*/</li> <li>Rational(\u5173\u7cfb\u8fd0\u7b97\u7b26)\uff1a&gt; &lt; instanceof \u62bd\u8c61\u5173\u7cfb(\u4f1a\u6697\u6697\u8c03\u7528toPrimitive) in</li> <li>equality\uff1a\u4e00\u4e9b\u6bd4\u8f83\u3001\u62bd\u8c61\u6bd4\u8f83\uff08\u5c45\u7136\u7b49\u4e8e\u548c\u5927\u4e8e\u5c0f\u4e8e\u662f\u5c5e\u4e8e\u4e24\u7c7b\u7684\uff01\uff09</li> <li>Binary logical operators\uff1a\u4e8c\u5143\u8868\u8fbe\u5f0f</li> <li>conditional operator\uff1a\uff1f:</li> <li>\u8d4b\u503c assignment</li> <li>\u89e3\u6784</li> <li>\u9017\u53f7\uff01</li> <li>\u6267\u884c\u51fd\u6570</li> </ul> <p>\u3010statement \u8bed\u53e5\u3011</p> <p>\u5c31\u662f\u6307\u7684 block\u5440 if\u5440 switch break try debugger \u8fd9\u79cd\u63a7\u5236\u6d41</p> <p>[[type]]: normal break continue return throw</p> <p>[[value]]: Types =&gt; \u5c31\u662f\u6307\u8fd4\u56de\u503c</p> <p>\u5206\u7c7b\uff1a</p> <p>\u7b80\u5355\u8bed\u53e5</p> <ul> <li>expressionStatement //\u4e5f\u5c31\u662f\u6bcf\u4e2a expression \u4e5f\u53ef\u4ee5\u662f statement</li> <li>Empty~ \u5206\u53f7</li> <li>Debugger~</li> <li>Throw~...</li> </ul> <p>\u590d\u5408\u8bed\u53e5</p> <ul> <li>BlockStatement\uff08\u53ef\u4ee5\u628a\u591a\u4e2a\u8bed\u53e5\u5408\u8d77\u6765 \u4f46\u662f\u53ea\u8981\u9047\u89c1\u5927\u62ec\u53f7 compiler \u8ba4\u4e3a\u5176\u662fblock statement\u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e\u7406\u89e3\u6210\u5bf9\u8c61\uff09\u8fd9\u5c31\u89e3\u91ca\u4e86 const fn = () =&gt; ({a: 1}) \u5f97\u7528\u62ec\u53f7\u5305\u8d77\u6765\u7684\u9053\u7406\u5566</li> </ul> <p>\u3010functions \u548c classes\u3011</p> <p>\u5305\u62ec\u7bad\u5934\u51fd\u6570\u3001\u65b9\u6cd5\u51fd\u6570\u3001async\u3001async class\u3001class</p> <p>\u3010script \u548c module\u3011</p> <p>\u3010Global object\u3011</p> <p>\u5168\u5c40\u5bf9\u8c61\u548c\u5404\u79cd\u5bf9\u8c61\u7684\u5c5e\u6027\u3001\u65b9\u6cd5\u90fd\u5728\u8fd9\u91cc\u5566\uff01</p> <p></p>"},{"location":"Frontend/%E9%87%8D%E5%AD%A6%E5%89%8D%E7%AB%AF/js%E8%BF%90%E8%A1%8C/","title":"js\u8fd0\u884c","text":"<p>\u5b8f\u4efb\u52a1/\u5fae\u4efb\u52a1</p> <p></p> <p>\u6ce8\u610f undefined \u5c31\u662f\u5206\u9694\u4e24\u4e2a\u5b8f\u4efb\u52a1\u7684~</p> <p>\u6240\u6709\u4ee3\u7801\u90fd\u662f\u5fae\u4efb\u52a1 \u591a\u4e2a\u5fae\u4efb\u52a1\u805a\u96c6\u6210\u4e00\u4e2a\u5b8f\u4efb\u52a1 \u8fd9\u53e5\u8bdd\u5f88\u6709\u9053\u7406</p>"},{"location":"Langs/general/","title":"general","text":"<p>\u5bb9\u5668\uff1a\u53d8\u91cf\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u80fd\u6ee1\u8db3\u51fd\u6570\u53ca\u4ee3\u7801\u8981\u6c42\u3002\u5982\u679c\u7f16\u5199\u4e00\u4e9b\u590d\u6742\u7b97\u6cd5\u3001\u7ed3\u6784\u548c\u903b\u8f91\uff0c\u5c31\u9700\u8981\u66f4\u590d\u6742\u7684\u7c7b\u578b\u6765\u5b9e\u73b0\u3002\u8fd9\u7c7b\u590d\u6742\u7c7b\u578b\u4e00\u822c\u60c5\u51b5\u4e0b\u5177\u6709\u5404\u79cd\u5f62\u5f0f\u7684\u5b58\u50a8\u548c\u5904\u7406\u6570\u636e\u7684\u529f\u80fd\uff0c\u5c06\u5b83\u4eec\u79f0\u4e3a\u201c\u5bb9\u5668\uff08container\uff09\u201d\u3002</p> <p>Premature optimization is the root of all evil after all.</p>"},{"location":"Langs/C/","title":"c","text":"<p>\u89e3\u91ca\u578b\u8bed\u8a00\u4e0e\u7f16\u8bd1\u578b\u8bed\u8a00</p> <p>\u524d\u8005\u76f8\u5f53\u4e8e\u8fb9\u7ffb\u8bd1\u8fb9\u6267\u884c\uff0c\u53ef\u4ee5\u6709\u70b9\u7279\u522b\u7684\u529f\u80fd\uff0c\u6bd4\u5982\u52a8\u6001\u6539\u5230\u540e\u9762\u7684\u4ee3\u7801\uff1b</p> <p>\u540e\u8005\u76f8\u5f53\u4e8e\u5148\u7edf\u4e00\u7f16\u8bd1\uff0c\u7684\u597d\u5904\u662f\u7a33\u5b9a\u3002</p> <p>\u5176\u5b9e\u8bed\u8a00\u662f\u4e0d\u5206\u89e3\u91ca\u578b\u8fd8\u662f\u7f16\u8bd1\u578b\u7684\uff0c\u53ea\u770b\u5e38\u7528\u7684\u662f\u89e3\u91ca\u5668\u8fd8\u662f\u7f16\u8bd1\u5668\u3002</p> <p>\u6bd4\u5982python\u5e38\u7528\u89e3\u91ca\u578b\uff0cc\u5e38\u7528\u7f16\u8bd1\u578b\u3002</p> <p>\u4f60\u8981\u7ed9\u5b83\u4eec\u5199\u7f16\u8bd1\u5668\u548c\u89e3\u91ca\u5668\u90fd\u662f\u53ef\u4ee5\u7684\u3002</p> <p>\u5bf9\u4e8e\u9762\u5411\u5bf9\u8c61\u7684\u8bed\u8a00\u6765\u8bf4\u5c31\u662f\u7c7b\u5e93\uff0c\u5bf9\u4e8eC\u6765\u8bf4\u5c31\u662f\u51fd\u6570\u5e93\u3002</p> <p>c\u8bed\u8a00\u6765\u6e90\u4e8e1969\u5e74\u7684\u590f\u5929 \u54c8\u54c8\u54c8\u662f\u4ece B \u8bed\u8a00\u53d1\u5c55\u8fc7\u6765\u7684</p> <p>\u662f\u9ad8\u7ea7\u8bed\u8a00\u7684\u5e95\u5c42\u8bed\u8a00</p> <p>c\u4e5f\u662f\u8d1d\u5c14\u5b9e\u9a8c\u5ba4\u53d1\u660e\u7684\u5594\uff01</p> <p>\u539f\u6765 C9 9\u5c31\u662f\u73b0\u5728\u6700\u901a\u7528\u7684 C \u7684\u7248\u672c</p> <p>mac\u4e0a\u53ef\u4ee5\u7528\u7f16\u8bd1\u5668 gcc</p> <pre><code>\\#include &lt;stdio.h&gt;\n\n*int* main(){\n\nprintf(\"%d\", 22+55);\n\nreturn 0;\n\n}\n</code></pre> <p>\u5b9a\u4e49\u53d8\u91cf\u5c31\u76f4\u63a5\u662fint xx = xx\u5c31\u597d\u4e86\u3002</p> <p><code>int price;</code></p> <p>\u6c42\u8f93\u5165\uff1a<code>scanf('%d', &amp;price);</code>//\u7b2c\u4e8c\u4e2a\u53c2\u6570\u9700\u8981\u4e3a\u4e00\u4e2a\u53d8\u91cf\u5730\u5740\u3002 //\u8fd9\u91cc\u7684f\u4ee3\u8868formatted</p> <p>&amp;\u662f\u4e00\u4e2a\u53d6\u5730\u5740\u8fd0\u7b97\u7b26\uff0c&amp;a \u662f\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u5176\u529f\u80fd\u662f\u6c42\u53d8\u91cf\u7684\u5730\u5740\u3002</p> <p>\u800c %d \u8868\u793a\u8f93\u5165\u7684\u7c7b\u578b</p> <p></p> <p>\u540c\u65f6\u4e5f\u53ef\u52a0\u4e0a\u957f\u5ea6\u683c\u5f0f\uff1a\u957f\u5ea6\u683c\u5f0f\u7b26\u4e3al\u548ch\uff0cl\u8868\u793a\u8f93\u5165\u957f\u6574\u578b\u6570\u636e\uff08\u5982%ld\uff09\u548c\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\uff08\u5982%lf\u5373double\uff09\u3002h\u8868\u793a\u8f93\u5165\u77ed\u6574\u578b\u6570\u636e\u3002</p> <p>\u6ce8\u610f \u8fd9\u6837\u5b50\u8f93\u5165\u7c7b\u578b\u662f\u5f88\u4e25\u683c\u7684 \u5982\u679c\u662fd\u7684\u8bdd\uff0c\u90a3\u5c0f\u6570\u90e8\u5206\u5c31\u4f1a\u88ab\u820d\u5f03\u6389\uff1a</p> <p>int a = 4; a = 2.5; //\u5b9e\u9645a\u7b49\u4e8e2</p> <p>int a = 'a';</p> <p>int const A = 'a'; //\u8fd9\u5c31\u662fC\u8bed\u8a00\u5b9a\u4e49\u5e38\u91cf\u7684\u65b9\u6cd5 \u63a8\u8350\u5927\u5199</p> <p>\u5f88\u6709\u8da3\u7684\u8bf4\u6cd5\uff1a\u5982\u679c\u4e00\u5f00\u59cbint a; \u4f46\u662f\u5e76\u6ca1\u6709\u7ed9a\u8d4b\u503c\uff0c\u5c31\u76f8\u5f53\u4e8e\u4f4f\u8fdb\u4e86\u4e00\u95f4\u8fd8\u6ca1\u6709\u88ab\u6253\u626b\u8fc7\u7684\u5c4b\u5b50\uff0c\u6b64\u65f6\u7684a\u662f\u8001\u6570\u636e\u7684\u503c //\u60f3\u5fc5js\u5b9a\u4e49\u7684\u65f6\u5019\u4f1a\u5148\u6e05\u626b\u5c4b\u5b50\u5427~</p> <p>\u6bd4\u8f83</p> <p>\u6709\u4e2a\u8981\u6ce8\u610f\u7684\u70b9\u662f\u6bd4\u8f83\u8fd0\u7b97\u7b26\u7684\u8fd0\u7b97\u7ed3\u679c\u7684\u503c\u662f1\u6216\u80050\uff01\uff01 //\u8fd0\u7b97\u4f18\u5148\u7ea7\u7684\u6982\u5ff5\u4e00\u65e6\u77e5\u9053\u4e86\u5c31\u5f88\u6709\u7528</p> <p>\u6240\u4ee5if ( 1&lt;=n&lt;=10 ); \u5176\u5b9e\u662f\u6052\u6210\u7acb\u7684 \u56e0\u4e3a1&lt;=n\u4e0d\u662f1\u5c31\u662f0</p> <p>\u5faa\u73af</p> <p>\u91cd\u70b9 while\u5faa\u73af == for\u5faa\u73af\uff1b</p> <p>\u4ee5\u53ca while\u5faa\u73af\u7684\u5199\u6cd5\u548cif\u662f\u4e00\u6837\u7684\uff1b</p> <p>\u4ee5\u53ca\u6bcf\u53e5\u7a0b\u5e8f\u7684\u7ed3\u5c3e\u5fc5\u987b\u662f;\u6216\u8005{}\uff0c\u56e0\u4e3ado\u5faa\u73af\u7684\u7ed3\u5c3e\u662f..()\uff0c\u6240\u4ee5\u8981\u6253;\u53f7\u3002</p> <p>\u6211\u7684\u4e00\u4e9b\u7591\u60d1</p> <ul> <li>\u4e3a\u4ec0\u4e48 printf \u91cc\u7528 % \u8fd9\u4e48\u5947\u602a\u7684\u5360\u4f4d\u7b26\uff1f</li> </ul> <p>\u56e0\u4e3a prinf \u6765\u81ea\u4e8e b \u8bed\u8a00\u7684 writef\uff0c\u91cc\u9762\u4e5f\u662f\u7528 %\uff0c\u4e5f\u8bb8\u662f\u4f5c\u8005\u4ee5\u4e3a % \u5728\u8bed\u53e5\u4e2d\u7528\u5f97\u6bd4\u8f83\u5c11\u628a~</p> <ul> <li>C\u662f\u600e\u4e48\u77e5\u9053\u65b0\u5efa\u4e00\u4e2afunction\uff0c\u8981\u5f00\u8f9f\u591a\u5927\u7684stack\u7684\uff1f</li> </ul> <p>https://stackoverflow.com/questions/21021223/how-does-the-gcc-determine-stack-size-the-function-based-on-c-will-use \u4ee5\u53ca\uff1a\u4e00\u4e2a\u7a0b\u5e8f\u5b9e\u9645\u53ea\u6709\u4e00\u4e2astack\uff0cmain\u5728stack\u7684\u6700\u5e95\u5c42</p>","tags":["old-time"]},{"location":"Langs/GoGoGo/Concurrency%20in%20Go/","title":"Concurrency in Go","text":""},{"location":"Langs/GoGoGo/Concurrency%20in%20Go/#contents","title":"Contents","text":""},{"location":"Langs/GoGoGo/Concurrency%20in%20Go/#chap-1","title":"Chap. 1","text":"<p>livelock v.s. deadlock // livelock \u5f88\u597d\u73a9\uff0c\u5b9e\u9645\u4e0a\u751f\u6d3b\u4e2d\u5f88\u591a\u5c40\u9762\u5e38\u5e38\u4f1a\u9677\u5165 livelock \u4e2d starvation: \u5f80\u5f80\u662f\u67d0\u6bb5 (greedy) \u7a0b\u5e8f too broaden its lock beyond its critical sections, \u4ee5\u81f3\u4e8e\u522b\u7684\u7a0b\u5e8f\u6267\u884c\u673a\u4f1a\u5927\u5927\u51cf\u5c11\u3002</p>"},{"location":"Langs/GoGoGo/Concurrency%20in%20Go/#chap-2","title":"Chap. 2","text":"<p>Concurrency is a property of the code, parallelism is a property of the running program. - We do not write parallel code, only concurrent code that we hope will run in parallel. - \u7136\u540e\u8bb2\u5230\u4e86 Go concurrency \u7406\u5ff5\u6765\u81ea\u4e8e CSP: communicating sequential processes. process \u7684\u6982\u5ff5\u4e5f\u662f\u8fd9\u7bc7\u8bba\u6587\u91cc\u63d0\u51fa\uff0c\u5176\u5b9e\u8868\u793a\u7684\u610f\u601d\u5c31\u662f function.</p>"},{"location":"Langs/GoGoGo/Concurrency%20in%20Go/#use-cases","title":"use cases","text":"<p>Channel Use Cases -Go 101 A Simple MapReduce in Go. Hadoop MapReduce is a software\u2026 | by Wei Huang | Level Up Coding Building a Distributed MapReduce System in Go | by Sahil Malhotra | Better Programming(\u5bf9\u6bd4 finance \u7684 mapreduce) tunny/tunny.go at master \u00b7 Jeffail/tunny</p>"},{"location":"Langs/GoGoGo/Concurrency%20in%20Go/#gracefully-shutdown","title":"Gracefully shutdown","text":"<pre><code>ctx, cancel := context.WithCancel(context.Background())\nselect { \ncase &lt;-sigCh: \n    cancel() \ncase err := &lt;-httpErrCh: \n    log.Printf(\"http server stopped unexpectedly: %v\", err)\n    cancel() \ncase err := &lt;-grpcErrCh: \n    log.Printf(\"grpc server stopped unexpectedly: %v\", err) cancel() \n} \n\n// Wait for servers to be closed gracefully. \nwg.Wait()\n</code></pre>"},{"location":"Langs/GoGoGo/Concurrency%20in%20Go/#map","title":"Map","text":"<ul> <li>sync.Map: \u9002\u5408\u5199\u5c11\u8bfb\u591a\uff0c\u5b9e\u8d28\u4e5f\u7528\u4e86 mutex + atomic \u5e76\u8fdb\u884c\u4e86\u90e8\u5206\u4f18\u5316     &gt;The Map type is optimized for two common use cases: (1) when the entry for a given key is only ever written once but read many times, as in caches that only grow, or (2) when multiple goroutines read, write, and overwrite entries for disjoint sets of keys. In these two cases, use of a Map may significantly reduce lock contention compared to a Go map paired with a separate Mutex or RWMutex.</li> <li>RW mutex</li> </ul>"},{"location":"Langs/GoGoGo/Concurrency%20in%20Go/#data-sharing","title":"Data sharing","text":"<p>Best way to share read intensive data across goroutines : r/golang</p>"},{"location":"Langs/GoGoGo/basic/","title":"basic","text":""},{"location":"Langs/GoGoGo/basic/#_1","title":"\u7406\u5ff5","text":"<p>\u7ec4\u5408 \u800c\u975e\u7ee7\u627f</p>"},{"location":"Langs/GoGoGo/basic/#about-commmander","title":"About commmander","text":"<p>go install \u5168\u5c40 \u90a3\u4e48\u88c5\u5230\u54ea\u91cc\u4e86\u5462\uff1f</p> <p>\u8bb0\u5f97\u7528 go help install</p> <p>Executables are installed in the directory named by the GOBIN environment variable, which defaults to \\$GOPATH/bin  or  $HOME/go/bin if the GOPATH environment variable is not set</p> <p>echo $GOPATH \u54e6</p> <p>\u540c\u65f6\u4e5f\u8981\u628a $GOPATH/bin \u52a0\u5230\u5168\u5c40 PATH \u91cc \u6211\u7528 iterm2 \u76f4\u63a5 ~/.zshrc \u91cc\u65b0\u589e\u5c31\u597d\u4e86</p> <p>\u8bb0\u5f97 PATH \u7528 : \u9694\u5f00</p> <p>\u76f4\u63a5 Export \u53ea\u5bf9 \u5f53\u524d shell \u53ca\u5176\u5b50 shell \u6709\u6548\uff01\uff01</p>"},{"location":"Langs/GoGoGo/basic/#about-time","title":"About time","text":"<pre><code>time.getMonth() // from 1\ntime.Format(\"15:04:00\")\n</code></pre>"},{"location":"Langs/GoGoGo/basic/#about-print","title":"About print","text":"<p>\u5982\u679c\u76f4\u63a5 print \u4e00\u4e2a struct \u5230 output \u91cc\uff0c\u4f1a\u662f\u6700\u539f\u59cb\u7684 struct \u7684\u7ed3\u6784\uff0c\u4e0d\u663e\u793a\u952e\u503c\u5bf9\uff0c\u5f88\u96be\u770b\u61c2\u3002\u6240\u4ee5 print \u51fa\u53bb\u7684\u5185\u5bb9\u4e00\u822c\u8981\u662f\u4e00\u4e2a string\uff0cjson.Marshal \u8be5\u5bf9\u8c61\u518d string() \u4e0b\u5373\u53ef\u3002E.g.</p> <pre><code>buf, _ := json.MarshalIndent(ret, \"\", \" \")\nlog.Println(string(buf))\n</code></pre>"},{"location":"Langs/GoGoGo/grammar/","title":"grammar","text":""},{"location":"Langs/GoGoGo/grammar/#string","title":"String","text":"<p>\u8fd9\u7bc7\u4e13\u680f\u8bb2\u7684\u5f88\u597d</p> <ul> <li>\u600e\u4e48\u7406\u89e3\uff1fC\u8bed\u8a00\u6ca1\u6709 \u5b57\u7b26\u4e32 \u8fd9\u4e2a\u6570\u636e\u7c7b\u578b\u3002\u5b57\u7b26\u4e32\u662f\u4ee5 \u5b57\u7b26\u4e32\u5b57\u9762\u503c \u6216\u8005 \u4ee5\u2019\\0\u2019\u7ed3\u5c3e\u7684\u5b57\u7b26\u7c7b\u578b\u6570\u7ec4\u5448\u73b0\u3002</li> </ul> <pre><code>const char *s1 = \"xxxx\"\nchar s2[] = \"i love to go\"\n</code></pre> <p>\u5e26\u6765\u95ee\u9898\uff1a</p> <p>\u4e0d\u662f\u539f\u751f\u7c7b\u578b\uff0c\u7f16\u8bd1\u5668\u4e0d\u4f1a\u5bf9\u5b83\u8fdb\u884c\u7c7b\u578b\u6821\u9a8c\uff0c\u5bfc\u81f4\u7c7b\u578b\u5b89\u5168\u6027\u5dee\uff1b\u5b57\u7b26\u4e32\u64cd\u4f5c\u65f6\u8981\u65f6\u523b\u8003\u8651\u7ed3\u5c3e\u7684\u2019\\0\u2019\uff0c\u9632\u6b62\u7f13\u51b2\u533a\u6ea2\u51fa\uff1b\u4ee5\u5b57\u7b26\u6570\u7ec4\u5f62\u5f0f\u5b9a\u4e49\u7684\u201c\u5b57\u7b26\u4e32\u201d\uff0c\u5b83\u7684\u503c\u662f\u53ef\u53d8\u7684\uff0c\u5728\u5e76\u53d1\u573a\u666f\u4e2d\u9700\u8981\u8003\u8651\u540c\u6b65\u95ee\u9898\uff1b\u83b7\u53d6\u4e00\u4e2a\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u4ee3\u4ef7\u8f83\u5927\uff0c\u901a\u5e38\u662f O(n) \u65f6\u95f4\u590d\u6742\u5ea6\uff1bC \u8bed\u8a00\u6ca1\u6709\u5185\u7f6e\u5bf9\u975e ASCII \u5b57\u7b26\uff08\u5982\u4e2d\u6587\u5b57\u7b26\uff09\u7684\u652f\u6301\u3002 </p> <p>Go \u8bed\u8a00\u6e90\u6587\u4ef6\u9ed8\u8ba4\u91c7\u7528\u7684\u662f Unicode \u5b57\u7b26\u96c6\uff0cUnicode \u5b57\u7b26\u96c6\u662f\u76ee\u524d\u5e02\u9762\u4e0a\u6700\u6d41\u884c\u7684\u5b57\u7b26\u96c6\uff0c\u5b83\u56ca\u62ec\u4e86\u51e0\u4e4e\u6240\u6709\u4e3b\u6d41\u975e ASCII \u5b57\u7b26\uff08\u5305\u62ec\u4e2d\u6587\u5b57\u7b26\uff09\u3002Go \u5b57\u7b26\u4e32\u4e2d\u7684\u6bcf\u4e2a\u5b57\u7b26\u90fd\u662f\u4e00\u4e2a Unicode \u5b57\u7b26\uff0c\u5e76\u4e14\u8fd9\u4e9b Unicode \u5b57\u7b26\u662f\u4ee5 UTF-8 \u7f16\u7801\u683c\u5f0f\u5b58\u50a8\u5728\u5185\u5b58\u5f53\u4e2d\u7684\u3002 </p> <p>Unicode:</p> <ul> <li>unicode \u7801\u70b9\u5728 go \u4e2d\u7528 rune \u7c7b\u578b\u8868\u793a\uff0c\u672c\u8d28\u662f int32\u3002\u7531\u6b64\uff0c\u4e00\u4e2a rune \u5b9e\u4f8b\u5c31\u662f\u4e00\u4e2a Unicode \u5b57\u7b26\uff0c\u4e00\u4e2a Go \u5b57\u7b26\u4e32\u4e5f\u53ef\u4ee5\u88ab\u89c6\u4e3a rune \u5b9e\u4f8b\u7684\u96c6\u5408\u3002</li> <li>unicode \u7684\u7f16\u7801\uff1a\u5373\u5982\u4f55\u5b58\u50a8 unicode\u3002</li> <li>utf-32: \u76f4\u63a5\u5b58\u7801\u70b9\uff0c\u56fa\u5b9a\u4f7f\u75284\u4e2a\u5b57\u8282\uff08\u987e\u540d\u601d\u4e4932\u4f4d\u561b\uff09</li> <li>\u2705\u00a0 utf-8\uff1a\u53ef\u53d8\u957f\u5ea6\uff0c\u5b57\u8282\u6570\u91cf\u4ece1\u4e2a\u52304\u4e2a\uff0c\u517c\u5bb9\u5355\u4e2a\u5b57\u8282\u7684 ASCII</li> </ul> <p>\u770b\u5f85\u8fd9\u79cd\u5b57\u7b26\u96c6\u7684\u5b57\u7b26\u4e32\u6709\u4e24\u79cd\u89c6\u89d2:</p> <ul> <li>\u5b57\u8282\u89c6\u89d2\uff1alen(s)\uff1bfor\u5faa\u73af\uff08\u6309\u5b57\u8282\u8f93\u51fa\u4e00\u4e2a\u5b57\u7b26\u4e32\u503c\u65f6\u770b\u5230\u7684\u5b57\u8282\u5e8f\u5217\uff0c\u5c31\u662f\u5bf9\u5b57\u7b26\u8fdb\u884c UTF-8 \u7f16\u7801\u540e\u7684\u503c\uff0c\u5c55\u793a\u65f6\u4e00\u822c\u4ee5 0x \u6253\u5934 - \u5341\u516d\u8fdb\u5236\uff09\uff1b\u4e0b\u6807\u64cd\u4f5c</li> <li>\u5b57\u7b26\u89c6\u89d2: utf8.RuneCountInString(s)\uff1bfor range\u5faa\u73af\uff08\u5faa\u73af\u51fa\u7684\u6bcf\u4e2a\u5341\u516d\u8fdb\u5236\u662f\u67d0\u79cd unicode \u5b57\u7b26\u8868\u793a\uff0c\u5373\u7801\u70b9\uff0c\u4ee5\u53ca\u8be5\u5b57\u7b26\u5728\u5b57\u7b26\u4e32\u4e2d\u7684\u504f\u79fb\u503c\uff09</li> <li>\u5355\u4e2a\u5b57\u7b26\u5b57\u9762\u503c\u7684\u8868\u793a\uff1a<ul> <li>\u5355\u62ec\u53f7\u62ec\u8d77</li> <li>Unicode \u4e13\u7528\u8f6c\u4e49\u5b57\u7b26 \u2018\\u\u4e24\u4e2a\u5341\u516d\u8fdb\u5236\u2019 or \u2018\\U\u56db\u4e2a\u5341\u516d\u8fdb\u5236\u2019</li> </ul> </li> <li>\u5b57\u7b26\u4e32\u5b57\u9762\u503c\u7684\u8868\u793a\uff1a\u7528\u53cc\u5f15\u53f7\u62ec\u8d77\u6765\u7684\u591a\u4e2a\u5355\u5b57\u7b26</li> </ul> <p>\u5bf9\u5e94\u5230\u6570\u636e\uff0cbuf\u91cc\u4f20\u7684\u662f []byte{} // \u5373 utf-8\u6570\u636e\u6570\u7ec4\uff0c\u9700\u8981\u5148\u7528 utf8.DecodeRune(buf) \u5c06\u6b64\u89e3\u7801\u6210 unicode\uff0c\u518d\u901a\u8fc7 string(\u88ab\u89e3\u7801\u7684 unicode) \u5c55\u793a\u51fa\u6765\u3002</p> <p>p.s. Nodejs \u4e2d String \u9ed8\u8ba4\u7684\u5b58\u50a8\u683c\u5f0f\u662f utf-16\uff0c\u6240\u4ee5\u6d89\u53ca\u5230\u8bfb\u6216\u8f6c utf-8 \u7684\u5b57\u7b26\u65f6\uff0c\u9700\u8981\uff1a<code>Buffer.from(\u2019xxx\u2019, \u2018utf-8\u2019).toString()</code> ; \u5bf9\u4e8e\u5176\u4ed6 encoding \u7684\u8f6c\u6362\u4e00\u822c\u4e5f\u662f\u8d70 buffer</p>"},{"location":"Langs/GoGoGo/grammar/#array-slice","title":"Array, Slice","text":"<pre><code>\nvar slice1 []int\nnumbers:= []int{1,2,3,4,5,6,7,8}\nvar x = []int{1, 5: 4, 6, 10: 100, 15}\n\ny := []int{20, 30, 40}\nx = append(x, y...)\n\nnumbers:= []int{1,2,3,4,5,6,7,8}\n// \u4ece\u4e0b\u68072 \u4e00\u76f4\u5230\u4e0b\u68074\uff0c\u4f46\u662f\u4e0d\u5305\u62ec\u4e0b\u68074\nnumbers1 :=numbers[2:4]\n// \u4ece\u4e0b\u68070 \u4e00\u76f4\u5230\u4e0b\u68073\uff0c\u4f46\u662f\u4e0d\u5305\u62ec\u4e0b\u68073\nnumbers2 :=numbers[:3]\n// \u4ece\u4e0b\u68073 \u4e00\u76f4\u5230\u7ed3\u5c3e\nnumbers3 :=numbers[3:]\n\n</code></pre> <ul> <li>\u6570\u7ec4\uff1aC \u8bed\u8a00\u4e2d\u7684\u6570\u7ec4\u53d8\u91cf\u53ef\u89c6\u4e3a\u6307\u5411\u6570\u7ec4\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u6307\u9488\uff0c\u4f46\u662f Go \u4e2d\u5c31\u662f\u6570\u7ec4\u672c\u8eab\uff0c\u9664\u975e\u663e\u6027\u7684\u7528\u6307\u9488\u3002</li> <li>\u5207\u7247\uff1a\u53ef\u4ee5\u7406\u89e3\u6210\u8bbf\u95ee\u4e0e\u4fee\u6539\u6570\u7ec4\u7684\u7a97\u53e3\u3002</li> <li>\u58f0\u660e\u5207\u7247\u65f6\u4e0d\u7528\u957f\u5ea6\u5c5e\u6027\u3002<ul> <li>Go \u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u4e3a\u6bcf\u4e2a\u65b0\u521b\u5efa\u7684\u5207\u7247\uff0c\u5efa\u7acb\u4e00\u4e2a\u5e95\u5c42\u6570\u7ec4\uff0c\u9ed8\u8ba4\u5e95\u5c42\u6570\u7ec4\u7684\u957f\u5ea6\u4e0e\u5207\u7247\u521d\u59cb\u5143\u7d20\u4e2a\u6570\u76f8\u540c\u3002</li> <li>\u91c7\u7528 array[low : high : max]\u8bed\u6cd5\u57fa\u4e8e\u4e00\u4e2a\u5df2\u5b58\u5728\u7684\u6570\u7ec4\u521b\u5efa\u5207\u7247\u3002\u79f0\u4e3a\u6570\u7ec4\u7684\u5207\u7247\u5316\u3002len = high - low, cap = max - low.</li> <li>\u5728\u52a8\u6001\u6269\u5bb9\u7684\u60c5\u51b5\u4e0b\uff0c\u4e00\u65e6\u8ffd\u52a0\u7684\u6570\u636e\u64cd\u4f5c\u89e6\u78b0\u5230\u5207\u7247\u7684\u5bb9\u91cf\u4e0a\u9650\uff08\u5b9e\u8d28\u4e0a\u4e5f\u662f\u6570\u7ec4\u5bb9\u91cf\u7684\u4e0a\u754c)\uff0c\u5207\u7247\u5c31\u4f1a\u548c\u539f\u6570\u7ec4\u89e3\u9664\u201c\u7ed1\u5b9a\u201d\u590d\u5236\u5230\u4e00\u4e2a\u66f4\u5927\u7684\u65b0\u6570\u7ec4\uff0c\u540e\u7eed\u5bf9\u5207\u7247\u7684\u4efb\u4f55\u4fee\u6539\u90fd\u4e0d\u4f1a\u5f71\u54cd\u5230\u539f\u6570\u7ec4\u4e2d\u4e86\u3002</li> </ul> </li> <li> <p>\u8fd0\u884c\u65f6\u7684\u7ed3\u6784\u4e09\u5143\u7ec4\uff1a</p> <p><code>go type slice struct {   array unsafe.Pointer   len int  cap int }</code></p> </li> </ul>"},{"location":"Langs/GoGoGo/grammar/#map","title":"Map","text":"<pre><code>\nvar hash map[T]T\nvar hash = make(map[T]T,NUMBER)\nvar country = map[string]string{\n\"China\": \"Beijing\",\n\"Japan\": \"Tokyo\",\n\"India\": \"New Delhi\",\n\"France\": \"Paris\",\n\"Italy\": \"Rome\",\n}\n\nv := hash[key]\nv,ok := hash[key]\n\nm := map[string]int{\n    \"hello\": 5,\n    \"world\": 10,\n}\ndelete(m, \"hello\")\n</code></pre> <ul> <li>\u6ce8\u610f\uff0c\u8fd9\u91cc\u7684\u4f20\u9012\u53c8\u662f\u5f15\u7528\u7c7b\u578b\u4e86\u3002</li> <li>\u4e0d\u80fd\u5e76\u53d1\u5199\uff0c\u4f1a panic</li> <li>\u5bf9\u4e8e\u6307\u9488\uff0cGo automatically handles conversion between values and pointers for method calls</li> </ul> <p>e.g. r.area() == rp.area()</p>"},{"location":"Langs/GoGoGo/grammar/#type","title":"Type","text":"<p>\u5e95\u5c42\u7c7b\u578b</p> <ul> <li>\u7a7a\u7ed3\u6784\u4f53\u7c7b\u578b\u5143\u7d20\uff1asize \u4e3a0\uff0c\u53ef\u4ee5\u5f53\u505a\u89e6\u53d1\u4e8b\u4ef6\u7684 flag</li> </ul> <pre><code>type A struct { AA string }\ntype B struct {\n A A \n} \u7b49\u4ef7\u4e8e\ntype B struct {\n A \n}\n\u53ef\u4ee5 B.A.AA \u4e5f\u53ef\u4ee5 B.AA\n</code></pre> <p>\u5982\u679c\u4e00\u4e2a\u7ed3\u6784\u4f53\u96f6\u503c\u4e0d\u53ef\u7528\uff0c\u5f80\u5f80\u4f1a\u9644\u52a0\u4e00\u4e2a NewT \u7684\u65b9\u6cd5</p> <p>\u6d4b\u8bd5\uff1a\u5728 64 \u4f4d\u7cfb\u7edf\u4e0a\uff0c\u5982\u4e0b\u7ed3\u6784\u4f53\u7684\u4e00\u4e2a\u5b9e\u4f8b\u5360\u591a\u5927\uff1f</p> <pre><code>type A struct {\n a byte\n b int64\n c uint16\n}\n</code></pre> <p>a: 1+\u586b\u5145\u5bf9\u9f50\u76847 = 8 b: 8 c: 2 \u603b\u8ba118 \u4f46\u4e3a\u4e86\u5bf9\u9f50\u5b58\u50a8\uff0c\u9700\u8981\u5706\u5230 8 \u7684\u500d\u6570\u4e0a\u5373 24 \u4f4d</p>"},{"location":"Langs/GoGoGo/grammar/#_1","title":"\u5faa\u73af\u4e0e\u9009\u62e9","text":"<ul> <li>\u5faa\u73af\u91cc\u5199\u5f02\u6b65/goroutine \u4f1a\u548c js \u6709\u4e00\u6837\u53ea\u80fd\u8bfb\u5230\u6700\u7ec8\u7ed3\u679c\u7684\u88ab\u5faa\u73af\u503c\u7684\u95ee\u9898\uff0c\u4e5f\u53ef\u4ee5\u7528\u95ed\u5305\u6216\u8005\u5728\u5757\u5185\u5b58\u503c\u6765\u89e3\u51b3</li> <li>\u53c2\u4e0e for range \u5faa\u73af\u7684\u662f\u88ab\u5faa\u73af\u53d8\u91cf\u7684\u526f\u672c\u3002\u56e0\u6b64\u5982\u679c\u60f3\u8fb9\u904d\u5386\u6570\u7ec4 a \u8fb9\u4fee\u6539\uff0c\u8981\u6362\u6210\u5207\u7247 a[:]\u56e0\u4e3a\u5207\u7247\u526f\u672c\u91cc\u5b58\u7684\u662f\u6307\u9488\uff0c\u6216\u8005\u76f4\u63a5\u904d\u5386\u6570\u7ec4\u6307\u9488 &amp;a.</li> <li>\u5faa\u73af\u53d8\u91cf\u590d\u7528\uff1av := for range \u7684\u65f6\u5019\uff0cv \u53ea\u6709\u4e00\u4e2a</li> <li>\u970d switch case \u5c45\u7136\u4e0d\u7528\u624b\u52a8\u5199 break \u7684\uff01</li> <li>\u6ca1\u6709 do-while \u53ef\u4ee5\u91c7\u53d6\u5982\u4e0b\u65b9\u5f0f   <code>go   for {       work()       if !condition {           break       }   }</code></li> </ul>"},{"location":"Langs/GoGoGo/grammar/#_2","title":"\u51fd\u6570","text":"<pre><code>func div (a,b int) (int,error){\n    if b == 0 {\n     return 0, errors.New(\"b cat't be 0\")\n    }\n    return a/b,nil\n}\n\n// \u53ef\u53d8\u53c2\u51fd\u6570\nfunc Println(a ...interface{}) (n int, err error)\n\n// -----\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\npackage main\nimport (\n    \"fmt\"\n)\n// \u904d\u5386\u5207\u7247\u7684\u6bcf\u4e2a\u5143\u7d20, \u901a\u8fc7\u7ed9\u5b9a\u51fd\u6570\u8fdb\u884c\u5143\u7d20\u8bbf\u95ee\nfunc visit(list []int, f func(int)) {\n    for _, v := range list {\n        f(v)\n    }\n}\n\nfunc main() {\n    // \u4f7f\u7528\u533f\u540d\u51fd\u6570\u6253\u5370\u5207\u7247\u5185\u5bb9\n    visit([]int{1, 2, 3, 4}, func(v int) {\n        fmt.Println(v)\n    })\n}\n\n// ------\u51fd\u6570\u4f5c\u4e3a\u8fd4\u56de\u503c\u65f6\uff0c\u4e00\u822c\u5728\u95ed\u5305\u548c\u6784\u5efa\u529f\u80fd\u4e2d\u95f4\u4ef6\u65f6\u4f7f\u7528\u5f97\u6bd4\u8f83\u591a\nfunc logging(f http.HandlerFunc) http.HandlerFunc{ return func(w http.ResponseWriter, r *http.Request) { log.Println(r.URL.Path) f(w,r) }}\n\n// ------\u51fd\u6570\u4f5c\u4e3a\u503c\u65f6\uff0c\u53ef\u4ee5\u7528\u6765\u63d0\u5347\u670d\u52a1\u7684\u6269\u5c55\u6027\n\nvar opMap = map[string]func(int, int) int{\n    \"+\": add,\n    \"-\": sub,\n    \"*\": mul,\n    \"/\": div,\n}\n\nf := opMap[op]\nf()\n</code></pre> <ul> <li>\u51fd\u6570\u7b7e\u540d\uff1a\u53c2\u6570\u5217\u8868\u4e0e\u8fd4\u56de\u503c\u5217\u8868\u7684\u7ec4\u5408</li> <li>\u503c\u4f20\u9012\uff1a\u6574\u578b\u3001\u6570\u7ec4\u3001\u7ed3\u6784\u4f53</li> <li>\u5f15\u7528\u4f20\u9012\uff1astring\u3001\u5207\u7247\u3001map</li> <li>defer: deferred \u51fd\u6570\u7684\u53c2\u6570\u503c\u90fd\u662f\u5728\u6ce8\u518c defer \u7684\u65f6\u5019\u8fdb\u884c\u6c42\u503c\u7684</li> </ul> <p>type \u7684\u65b9\u6cd5 - \u540d\u8bcd\uff1areceiver \u548c receiver \u7684\u57fa\u7c7b\u578b\uff08\u4e0d\u80fd\u662f\u6307\u9488\u6216\u63a5\u53e3\u7c7b\u578b\uff09</p> <pre><code>func (p *field) print() { \n fmt.Println(p.name)\n}\nfunc main() { \n data1 := []*field{{\"one\"}, {\"two\"}, {\"three\"}} \n for _, v := range data1 { go v.print() } // one two three\n data2 := []field{{\"four\"}, {\"five\"}, {\"six\"}} \n for _, v := range data2 { go v.print() }  // six six six\n time.Sleep(3 * time.Second)\n}\n</code></pre> <p>\u56e0\u4e3a data2 \u4e2d\uff0cv \u4e0d\u662f\u6307\u9488\uff0c\u6240\u4ee5\u4f1a\u88ab\u81ea\u52a8\u8f6c\u6362\u6210 (*field).print(&amp;v)\uff0c\u5373\u4f20\u5165\u7684\u90fd\u662f\u53d8\u91cf v \u7684\u5730\u5740\uff0c\u7531\u4e8e\u53d8\u91cf v \u53ea\u6709\u4e00\u4efd\uff0c\u6240\u4ee5 3s \u540e\u505c\u7559\u5230\u4e86\u5faa\u73af\u7684\u6700\u540e\u4e00\u4e2a\u503c\u3002</p> <p>\u82e5\u628a receiver \u6539\u6210 field \u540e\uff0cdata1 \u53d8\u6210\u4e86 (field).print(v)\uff0c\u53ea\u8981\u662f\u503c\u5c31\u90fd\u662f\u590d\u5236\u3002 - T \u7c7b\u578b\u7684\u65b9\u6cd5\u96c6\u5408\u5305\u542b\u6240\u6709\u4ee5 T \u4e3a receiver \u53c2\u6570\u7c7b\u578b\u7684\u65b9\u6cd5\uff0c\u4ee5\u53ca\u6240\u6709\u4ee5 T \u4e3a receiver \u53c2\u6570\u7c7b\u578b\u7684\u65b9\u6cd5 // \u5728\u5b9e\u73b0\u63a5\u53e3\u7684\u60c5\u51b5\u4e0b\u9700\u8981\u8003\u8651</p> <p>IIFE</p> <pre><code>squareOf2 := func() int {\n  return 2 * 2\n}()\nfmt.Println(squareOf2)\n</code></pre>"},{"location":"Langs/GoGoGo/grammar/#_3","title":"\u63a5\u53e3","text":"<ul> <li>interfaces: named collections of method signatures(\u65b9\u6cd5\u7b7e\u540d).</li> <li>The interface{} type, the empty interface, is the source of much confusion</li> <li>\u5728\u4f7f\u7528\u63a5\u53e3\u65f6\uff0c\u65b9\u6cd5\u63a5\u6536\u8005\u4f7f\u7528\u6307\u9488\u7684\u5f62\u5f0f\u80fd\u591f\u5e26\u6765\u901f\u5ea6\u7684\u63d0\u5347</li> </ul> <pre><code>// \u5e26\u65b9\u6cd5\u7684\u63a5\u53e3\ntype InterfaceName interface {\n  fA()\n  fB(a int,b string) error\n  ...\n}\nvar s InterfaceName\n\n// \u7a7a\u63a5\u53e3\ntype Empty interface{}\n\n// \u63a5\u53e3\u53ef\u5d4c\u5957\n\n// \u63a5\u53e3\u7c7b\u578b\u65ad\u8a00\nfunc main(){\n  var s Shape\n  s = Rectangle{3, 4}\n  rect := s.(Rectangle)\n  fmt.Printf(\"\u957f\u65b9\u5f62\u5468\u957f:%v, \u9762\u79ef:%v \\\\n\",rect.perimeter(),rect.area())\n}\n\n// \u6839\u636e\u7a7a\u63a5\u53e3\u4e2d\u52a8\u6001\u7c7b\u578b\u7684\u5dee\u5f02\u9009\u62e9\u4e0d\u540c\u7684\u5904\u7406\u65b9\u5f0f\uff08\u8fd9\u5728\u53c2\u6570\u4e3a\u7a7a\u63a5\u53e3\u51fd\u6570\u7684\u5185\u90e8\u5904\u7406\u4e2d\u4f7f\u7528\u5e7f\u6cdb\uff0c\u4f8b\u5982 fmt \u5e93\u3001JSON \u5e93\uff09\nswitch f := arg.(type) {\n  case bool:\n    p.fmtBool(f, verb)\n  case float32:\n    p.fmtFloat(float64(f), 32, verb)\n  case float64:\n    p.fmtFloat(f, 64, verb)\n}\n</code></pre>"},{"location":"Langs/GoGoGo/grammar/#panic","title":"Panic","text":"<p>\u8bba\u5728\u54ea\u4e2a Goroutine \u4e2d\u53d1\u751f\u672a\u88ab\u6062\u590d\u7684 panic\uff0c\u6574\u4e2a\u7a0b\u5e8f\u90fd\u5c06\u5d29\u6e83\u9000\u51fa\u3002\u6ce8\u610f\uff1arecover \u53ea\u80fd\u6355\u83b7\u5f53\u524d\u534f\u7a0b\u3002</p> <pre><code>\nfunc f() {\n    defer func() {\n        if r := recover(); r != nil {\n            fmt.Println(\"Recovered in f\", r)\n        }\n    }()\n    fmt.Println(\"Calling g.\")\n    g(0)\n    fmt.Println(\"Returned normally from g.\")\n}\n</code></pre>"},{"location":"Langs/GoGoGo/grammar/#json-string-byte-decode","title":"Json, String, Byte, Decode","text":"<p>\u5173\u4e8e NewReader() \u53ef\u4ee5\u770b\u5230\u6709 strings.NewReader()\u3001json.NewReader() \u5b83\u4eec\u90fd\u8fd4\u56de\u4e86 Reader\uff0cReader \u5c31\u662f\u5178\u578b\u7684\u63a5\u53e3\u6a21\u5f0f\u3002\u5b83\u4f1a\u5b9e\u73b0 io.Reader\u3001io.ReaderAt..\u7b49\u7b49 interface.</p> <p>\u5173\u4e8e\u4ece json \u5230 string:</p> <ul> <li>marshal mode</li> </ul> <pre><code>data, err := ioutil.ReadAll(resp.Body)\nif err == nil &amp;&amp; data != nil {\n    err = json.Unmarshal(data, value)\n}\n</code></pre> <ul> <li>decode mode</li> </ul> <pre><code>err = json.NewDecoder(resp.Body).Decode(value)\n</code></pre> <p>keypoint: <code>json.Decode</code> buffers the entire JSON value in memory before unmarshalling it into a Go value.</p> <ul> <li>data comes from <code>io.Reader</code> stream =&gt; <code>json.Decoder</code></li> <li>have the data in string or somewhere in memory \u21d2<code>json.Unmarshal</code></li> </ul>"},{"location":"Langs/GoGoGo/grammar/#io-log","title":"io \u4e0e log","text":"<ul> <li>io.Reader\uff1a</li> <li>\u83b7\u53d6\uff1a\u5f88\u591a\u65b9\u6cd5\u90fd\u5b9e\u73b0\u4e86\u5b83 \u6bd4\u5982 <code>os.Open(\"\")``request.Body``stirngs.NewReader()</code></li> <li>\u4f7f\u7528\uff1a<ul> <li>.Read() .ReadAll() .Copy()</li> <li>json.NewDecoder(r).Decode(): decode directly from a Reader</li> <li>\u5982\u679c\u6709\u9700\u8981 take in \u6216\u8005\u5410\u51fa\u6765 string \u7684\u65b9\u6cd5\uff0c\u6bd4\u5982 filter, \u53ef\u4ee5\u6539\u6210 take in \u548c\u5410\u51fa io.Reader \u7684\uff0c\u66f4\u6709\u9002\u7528\u6027</li> </ul> </li> <li>io.Copy(http.ResponseWriter, resp.Body) \u8f6c\u53d1\u56de\u590d\u3002\u5728\u5de5\u4e1a\u7ea7\u4ee3\u7801\u4e2d\uff0c\u4e00\u822c\u4f1a\u5199\u4e00\u4e2a for \u5faa\u73af\uff0c\u63a7\u5236\u6bcf\u4e00\u6b21\u8f6c\u53d1\u7684\u6570\u636e\u5305\u5927\u5c0f</li> <li>log:</li> </ul> <pre><code>f := os.OpenFile(...)\nlog.SetOutput(f)\n// or log.SetOutput(os.Stdout)\n// \u901a\u8fc7 io.MultiWriter() \u53ef\u4ee5\u96c6\u5408\u591a\u4e2a\u8f93\u51fa\n</code></pre> <ul> <li>\u5404\u79cd print \u5927\u5bf9\u6bd4</li> <li>print \u7cfb\u5217\uff1awrites to standard output<ul> <li>fmt.Print(name, \" is \", age, \" years old.\\n\") //\u6ce8\u610f\u9700\u8981\u624b\u52a8\u6dfb\u52a0\u7a7a\u683c\u548c\\n</li> <li>fmt.Println(name, \"is\", age, \"years old.\")</li> <li>fmt.Printf(\"%s is %d years old.\\n\", name, age)</li> </ul> </li> <li>Sprint \u7cfb\u5217\uff1areturns the resulting string.</li> <li>Fprint \u7cfb\u5217\uff1awrites to specific output</li> </ul>"},{"location":"Langs/GoGoGo/grammar/#_4","title":"\u8fd0\u884c\u65f6","text":"<p>\u4ec0\u4e48\u76f8\u5f53\u4e8e node.js \u7684__dirname \u6216\u662f process.cwd() \u5462\uff1f- after the location of the binary in the filesytem</p> <pre><code>ex, err := os.Executable()\nif err != nil {\n    panic(err)\n}\nexPath := filepath.Dir(ex)\nxxx := path.Join(cwd, \"../cmd/confServerConf.yaml\")\n</code></pre> <p>p.s. \u6211\u53ea\u77e5\u9053 test \u65f6\uff0c\u8fd9\u4e2a\u8def\u5f84\u4e00\u822c\u662f test \u6587\u4ef6\u6240\u5728\u7684 package \u4e0b</p>"},{"location":"Langs/GoGoGo/grammar/#concurrency-patterns-groutinescontextpipelines","title":"Concurrency patterns: Groutines/Context/Pipelines","text":""},{"location":"Langs/GoGoGo/grammar/#channel","title":"Channel","text":"<p>The most common uses: Data transfer between goroutines and signalling.</p> <pre><code>chan int\nchan &lt;- float\n&lt;-chan string\n\nc &lt;- 5\ndata := &lt;-c\nclose(c)\n\n// \u901a\u9053\u4f5c\u4e3a\u53c2\u6570\nfunc worker(id int, c chan int) {\n  for n := range c {\n    fmt.Printf(\"Worker %d received %c\\\\n\",\n      id, n)\n  }\n}\n\n// \u901a\u9053\u4f5c\u4e3a\u8fd4\u56de\u503c\nfunc createWorker(id int) chan int {\n  c := make(chan int)\n  go worker(id, c)\n  return c\n}\n\n// \u5355\u65b9\u5411\u901a\u9053\nfunc receive(receiver chan&lt;- string, msg string) {\n    receiver &lt;- msg\n}\n\nfunc send(sender &lt;-chan string, receiver chan&lt;- string) {\n    msg := &lt;-sender\n    receiver &lt;- msg\n}\n\n// select \u591a\u4e2a\u901a\u9053\u591a\u8def\u590d\u7528\nselect {\n  case &lt;-ch1:\n    // ...\n  case x := &lt;-ch2:\n    // ...use x...\n  case ch3 &lt;- y:\n    // ...\n  default:\n    // ...\n  }\n\n// context \u5904\u7406\u534f\u7a0b\u9000\u51fa\nfunc Stream(ctx context.Context, out chan&lt;- Value) error {\n  for {\n    v, err := DoSomething(ctx)\n    if err != nil {\n      return err\n    }\n    select {\n    case &lt;-ctx.Done():\n      return ctx.Err()\n    case out &lt;- v:\n    }\n  }\n</code></pre> <ul> <li>\u5bf9\u4e8e\u65e0\u7f13\u51b2\u7684 channel\uff0cat least two goroutines \u5e76\u4e14\u63a5\u6536\u5728\u524d\u3002\u5982\u679c\u5f53\u524d\u6ca1\u6709\u5176\u4ed6 goroutine \u6b63\u5728\u63a5\u6536 channel \u6570\u636e\uff0c\u5219\u53d1\u9001\u65b9\u4f1a\u963b\u585e\u5728\u53d1\u9001\u8bed\u53e5\u5904\u3002</li> <li>\u901a\u9053\u5173\u95ed\u540e\uff0c\u4e5f\u53ef\u4ee5\u8bfb\uff0c\u53ea\u662f ok \u4e3a false\u3002\u82e5\u8981\u907f\u514d\u8bfb\uff0c\u53ef\u5c06\u901a\u9053\u8d4b\u503c\u4e3a nil</li> <li>select \u82e5\u6700\u540e\u6ca1\u6709 default, \u4e14\u4e00\u4e2a case \u90fd\u6ca1\u6709\u843d\u5165\u65f6\uff0c\u5f53\u524d\u534f\u7a0b\u5c31\u4f1a\u9677\u5165\u5230\u5835\u585e\u7684\u72b6\u6001</li> </ul>"},{"location":"Langs/GoGoGo/grammar/#select","title":"select","text":"<ul> <li>\u6bcf\u4e2a case \u90fd\u5fc5\u987b\u662f\u4e00\u4e2a\u901a\u9053</li> <li>\u6240\u6709 channel \u8868\u8fbe\u5f0f\u90fd\u4f1a\u88ab\u6c42\u503c</li> <li>\u6240\u6709\u88ab\u53d1\u9001\u7684\u8868\u8fbe\u5f0f\u90fd\u4f1a\u88ab\u6c42\u503c</li> <li>\u5982\u679c\u4efb\u610f\u67d0\u4e2a\u901a\u9053\u53ef\u4ee5\u8fdb\u884c\uff0c\u5b83\u5c31\u6267\u884c\uff0c\u5176\u4ed6\u88ab\u5ffd\u7565\u3002</li> <li>\u5982\u679c\u6709\u591a\u4e2a case \u90fd\u53ef\u4ee5\u8fd0\u884c\uff0cselect \u4f1a\u968f\u673a\u516c\u5e73\u5730\u9009\u51fa\u4e00\u4e2a\u6267\u884c\uff0c\u5176\u4ed6\u4e0d\u4f1a\u6267\u884c\u3002     \u5426\u5219\uff1a<ol> <li>\u5982\u679c\u6709 default \u5b50\u53e5\uff0c\u5219\u6267\u884c\u8be5\u8bed\u53e5\u3002</li> <li>\u5982\u679c\u6ca1\u6709 default \u5b50\u53e5\uff0cselect \u5c06\u963b\u585e\uff0c\u76f4\u5230\u67d0\u4e2a\u901a\u9053\u53ef\u4ee5\u8fd0\u884c\uff1bGo \u4e0d\u4f1a\u91cd\u65b0\u5bf9 channel \u6216\u503c\u8fdb\u884c\u6c42\u503c\u3002</li> </ol> </li> </ul>"},{"location":"Langs/GoGoGo/grammar/#_5","title":"\u9501","text":"<p>Atomic \u53ef\u7406\u89e3\u6210 one at a time. \u56e0\u6b64\u53ef\u4ee5\u907f\u514d\u6570\u636e\u4e89\u7528\u3001\u5185\u5b58\u64cd\u4f5c\u4e71\u5e8f\u7684\u95ee\u9898\u3002\u8ba9\u6211\u60f3\u4e00\u4e2a\u4f8b\u5b50\u54c8\uff0c\u6bd4\u65b9\u8bf4\u7ed9\u70e4\u8089\u5b9a\u65f6\u7ffb\u9762\uff0c\u4e24\u4eba\u5148\u540e\u540c\u65f6\u53bb\u7ffb\uff0c\u5c31\u53ef\u80fd\u7ffb\u91cd\u4e86\ud83e\udd23 </p> <p>// \u8fd9\u6bd4\u51b0\u7bb1\u4e70\u83dc\u7684\u4f8b\u5b50\u66f4\u597d\uff01\uff01\uff01\u6211\u4e4b\u524d\u7684\u51b0\u7bb1\u4e70\u83dc\u4f8b\u5b50\u662f\uff0c\u4e08\u592b\u770b\u89c1\u51b0\u7bb1\u91cc\u8089\u6ca1\u4e86\uff0c\u53bb\u4e70\u8089\uff1b\u4e2d\u9014\u59bb\u5b50\u770b\u89c1\u51b0\u7bb1\u8089\u6ca1\u4e86\uff0c\u4e5f\u53bb\u4e70\u8089\u3002\u4e50\u89c2\u9501\u662f\u4e70\u8089\u653e\u8fdb\u51b0\u7bb1\u65f6\u518d\u770b\u4e00\u773c\u51b0\u7bb1\u662f\u5426\u8fd8\u9700\u8981\u8089\uff0c\u60b2\u89c2\u9501\u662f\u770b\u89c1\u51b0\u7bb1\u8089\u6ca1\u4e86\uff0c\u53bb\u4e70\u8089\u524d\u5c31\u628a\u51b0\u7bb1\u95e8\u9501\u4e86\uff0c\u8fd9\u6837\u53e6\u4e00\u4e2a\u4eba\u5c31\u770b\u4e0d\u89c1\u4e86\u3002</p> <pre><code>// \u539f\u5b50\u9501\nfunc add() {\n  for {\n    if atomic.CompareAndSwapInt64(&amp;flag, 0, 1) {\n      count++\n      atomic.StoreInt64(&amp;flag, 0)\n      return\n    }\n  }\n}\n\n// \u4e92\u65a5\u9501\nvar m sync.Mutex\nfunc add() {\n  m.Lock()\n  count++\n  m.Unlock()\n}\n\n// \u8bfb\u5199\u9501 \u9002\u5408\u591a\u8bfb\u5c11\u5199\ntype Stat struct {\n  counters map[string]int64\n  mutex sync.RWMutex\n}\nfunc (s *Stat) getCounter(name string) int64 {\n  s.mutex.RLock()\n  defer s.mutex.RUnlock()\n  return s.counters[name]\n}\nfunc (s *Stat) SetCounter(name string){\n  s.mutex.Lock()\n  defer s.mutex.Unlock()\n  s.counters[name]++\n}\n\n</code></pre> <p><code>sync.WaitGroup</code> <code>sync.Once</code>(\u9002\u5408\u7528\u5728\u52a0\u8f7d\u914d\u7f6e\u4e2d)</p> <p>Ref\uff1a An Introduction to Channels in Go (Golang): https://www.sohamkamani.com/golang/channels/#why-do-we-need-channels \u8bb2\u5f97\u5f88\u597d \u628a\u6211\u8bb2\u61c2\u4e86</p> <p>The Behavior Of Channels: https://www.ardanlabs.com/blog/2017/10/the-behavior-of-channels.html \u66f4\u6df1\u5165\u7684\u89e3\u91ca\u4e86 channel buffer \u7684\u51e0\u79cd\u6a21\u5f0f\u53ca\u9002\u7528\u60c5\u51b5</p> <p>\u4ee3\u8868\u8fd9\u4e2a func \u4f1a\u5728 goroutine \u91cc\u6267\u884c\u3002\u4f1a\u6709\u5f02\u6b65\u7684\u6548\u679c\uff1a\u6bd4\u5982\u8fd9\u4e2a func \u91cc\u6709\u4e2a\u5e26 time \u963b\u585e\u7684\u5faa\u73af\u7684\u8bdd\uff0c\u8fd9\u4e2a\u5faa\u73af\u5c31\u4e0d\u4f1a\u963b\u585e\u4e3b\u6d41\u7a0b\uff0c\u8fd9\u65f6\u53ef\u4ee5\u501f\u52a9 chan\uff0c\u5b9e\u73b0 goroutine \u548c \u4e3b\u6d41\u7a0b \u7684\u901a\u4fe1\u3002</p> <p>\u5bf9\u6bd4 js\uff0csettimeout \u5df2\u88ab\u81ea\u52a8\u653e\u53d1\u5230\u4e3b\u6d41\u7a0b\u4e4b\u5916\u53bb\u8ba1\u65f6\u4e86\u3002\u4f46\u6240\u6709\u7684\u51fd\u6570\u90fd\u5728\u4e3b\u6d41\u7a0b\u91cc\u6267\u884c \u9664\u4e86promise\u3002\u53e6\u5916\uff0cgo routine \u662f\u901a\u8fc7\u901a\u4fe1\u544a\u8bc9\u4e3b\u6d41\u7a0b\u5185\u5bb9\uff0c\u800c js \u662f\u5c06\u5165\u53c2\u4e3a\u6267\u884c\u7ed3\u679c\u7684\u51fd\u6570\u585e\u56de\u5230\u4e3b\u6d41\u7a0b\u672b\u5c3e\u53bb\u6267\u884c\u3002</p> <ul> <li>A statement to receive data  from a channel will block until some data is received</li> <li>A statement to send data to a  channel will wait until the sent data has been received</li> </ul> <p>\u6240\u4ee5\u53ea\u8981\u51fd\u6570\u672b\u5c3e\u6709\u6b63\u5728\u8bfb\u53d6 chan \u7684\u64cd\u4f5c\uff0c\u51fd\u6570\u5c31\u4e0d\u4f1a\u7acb\u5373\u7ed3\u675f\uff0c\u800c\u4f1a\u7b49\u5f85\u3002</p> <p>Create goroutines == spawn a worker \u539f\u6765\u8fd9\u91cc\u7684 spawn \u4e5f\u662f\u4ea7\u5375\u7684\u610f\u601d\u2026\u566b\u6709\u70b9\u6076\u5fc3\u54e6\uff01</p> <p>\u4e00\u4e2a gorotinue \u5373\u4e00\u4e2a worker\uff0c\u5982\u679c\u6709 n \u4e2a worker \u548c m \u4e2a task\uff0c\u90a3\u5c31\u548c\u8ba1\u7f51\u91cc\u5206\u6bb5\u4f20\u6570\u636e\u7684\u90a3\u5f20\u56fe\u4e00\u6837\uff0c\u9700\u8981 m % n + m / n \u4e2a\u65f6\u95f4\u6bb5\u3002</p> <p>\u4f8b\u5b50\uff1a\u5982\u4f55\u5728\u5e76\u53d1\u7684 go routine \u91cc\u5f80 slice append data\uff1f</p> <ul> <li>\u7528\u5199\u9501</li> </ul> <p><code>type answer struct {     MU   sync.Mutex     data []int    }</code></p> <ul> <li>\u5148\u628a data \u5b58\u8fdb\u4e00\u4e2a\u901a\u9053\u91cc\uff0c\u7ed3\u675f\u540e\u518d\u4ece\u901a\u9053\u5faa\u73af\u62ff\u53d6\u6570\u636e</li> </ul> <p>```   c := make(chan result)</p> <p>//...\u5faa\u73af\u5185   select {     case c &lt;- result{path, md5.Sum(data)}:     case &lt;-ctx.Done():       return ctx.Err()   }</p> <p>// \u7ed3\u675f   go func() {     g.Wait()     close(c)   }()</p> <p>// \u6d88\u8d39\u6570\u636e   m := make(map[string][md5.Size]byte)   for r := range c {     m[r.path] = r.sum   }   ```</p> <ul> <li>\u5982\u679c\u77e5\u9053 slice \u7684\u957f\u5ea6\uff0c\u53ef\u4ee5\u5148\u5b9a\u4e49 slice <code>MySlice = make([]*MyStruct, len(params))</code> \uff0c\u518d\u901a\u8fc7 <code>MySlice[i]=xx</code> \u7684\u65b9\u5f0f\u8d4b\u503c</li> </ul> <p>Go\u8bed\u8a00\u7684\u5e76\u53d1\u662f\u57fa\u4e8e goroutine \u7684\uff0cgoroutine \u7c7b\u4f3c\u4e8e\u7ebf\u7a0b\uff0c\u4f46\u5e76\u975e\u7ebf\u7a0b\u3002\u53ef\u4ee5\u5c06 goroutine \u7406\u89e3\u4e3a\u4e00\u79cd\u865a\u62df\u7ebf\u7a0b\u3002Go\u8bed\u8a00\u8fd0\u884c\u65f6\u4f1a\u53c2\u4e0e\u8c03\u5ea6 goroutine\uff0c\u5e76\u5c06 goroutine \u5408\u7406\u5730\u5206\u914d\u5230\u6bcf\u4e2a CPU \u4e2d\uff0c\u6700\u5927\u9650\u5ea6\u5730\u4f7f\u7528 CPU \u6027\u80fd\u3002</p> <p>\u591a\u4e2a goroutine \u4e2d\uff0cGo\u8bed\u8a00\u4f7f\u7528\u901a\u9053\uff08channel\uff09\u8fdb\u884c\u901a\u4fe1\uff0c\u901a\u9053\u662f\u4e00\u79cd\u5185\u7f6e\u7684\u6570\u636e\u7ed3\u6784\uff0c\u53ef\u4ee5\u8ba9\u7528\u6237\u5728\u4e0d\u540c\u7684 goroutine \u4e4b\u95f4\u540c\u6b65\u53d1\u9001\u5177\u6709\u7c7b\u578b\u7684\u6d88\u606f\u3002\u8fd9\u8ba9\u7f16\u7a0b\u6a21\u578b\u66f4\u503e\u5411\u4e8e\u5728 goroutine \u4e4b\u95f4\u53d1\u9001\u6d88\u606f\uff0c\u800c\u4e0d\u662f\u8ba9\u591a\u4e2a goroutine \u4e89\u593a\u540c\u4e00\u4e2a\u6570\u636e\u7684\u4f7f\u7528\u6743\u3002\uff08\u901a\u8fc7\u901a\u9053\u5b9e\u73b0\u591a\u4e2a goroutine \u5185\u5b58\u5171\u4eab\uff09</p> <ol> <li>\u901a\u8fc7 make(chan type) \u521b\u5efa\u4e00\u4e2a channel</li> <li>\u521b\u5efa func() \u51fd\u6570\u7684\u5e76\u53d1 groutine:</li> </ol> <p>go func('some param1', channel)</p> <p>go func('some param2', channel)</p> <p>==&gt; \u7136\u540e\u5b83\u4eec\u5c31\u53ef\u4ee5\u540c\u65f6\u6267\u884c\u4e86\uff01</p> <p>\u6709\u4e00\u4e2a\u6096\u8bba\uff0c\u65e2\u7136\u7236\u7a0b\u5e8f\u53ef\u4ee5\u8c03\u8d77\u53e6\u4e00\u4e2a\u5b50\u7a0b\u5e8f\u53bb\u65c1\u8fb9\u6267\u884c\uff0c\u90a3\u4e48\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u7236\u7a0b\u5e8f\u4e00\u5b9a\u4f1a\u81ea\u7136\u7684\u6267\u884c\u4e0b\u53bb\u5e76\u7ed3\u675f\u3002\u6240\u4ee5\u624d\u6709\u4e86\u8981\u5728\u7236\u7a0b\u5e8f\u7ed3\u675f\u524d\uff0c\u8981\u786e\u4fdd\u5b50\u7a0b\u5e8f\u662f\u5426\u4e5f\u8981\u7ed3\u675f\u7684\u64cd\u4f5c\u3002</p> <p>Context \u4e3b\u8981\u7528\u6765\u4e3a\u591a\u4e2a groutine \u63d0\u4f9b\u53d8\u91cf\uff0c\u4ee5\u53ca flag\u3002withCancel(context.Background()) \u4f1a\u8fd4\u56de\u4e00\u4e2a\u53ef cancel \u7684 context\u3002\u90a3\u5982\u4f55\u77e5\u9053\u8fd9\u4e2a context \u88ab cancel \u4e86\u5462\uff1f\u901a\u8fc7\u76d1\u542c context.Done() // \u5b83\u662f\u4e00\u4e2a channel \u54c8 Link</p> <p>Pipeline \u4e0d\u662f\u5355\u72ec\u7684\u8bed\u6cd5\uff0c\u800c\u662f\u4e00\u4e2a\u5b9e\u73b0\u60c5\u5883\u3002\u7279\u522b\u7684\u6709 fan in\uff08\u6765\u81ea\u591a\u4e2a channel \u7684\u5165\u53c2\uff09\uff0c\u4ee5\u53ca fan out\uff0c\u51fa\u53c2\u7531\u591a\u4e2a channel \u5206\u62c5\u3002Link</p> <p>sync.waitGroup: A WaitGroup waits for a collection of goroutines to finish. \u7c7b\u4f3c\u4e8e Promise.all()</p>"},{"location":"Langs/GoGoGo/grammar/#goroutine","title":"Goroutine","text":"<p>\u4e00\u4e9b\u4f53\u611f\uff1a\u76ee\u524d\u7ebf\u7a0b\u5207\u6362\u901f\u5ea6\u5927\u7ea6 1~2\u03bcs(\u5fae\u79d2 10^-6^s)\uff0c\u534f\u7a0b\u7ea6\u4e3a 0.2 \u5fae\u79d2</p> <p>Automatically set <code>GOMAXPROCS</code> to match Linux container CPU quota.</p>"},{"location":"Langs/GoGoGo/grammar/#goroutine-vs-thread","title":"Goroutine v.s. Thread","text":"Goroutine Thread Goroutines are managed by the go runtime. Operating system threads are managed by kernel. Goroutine are not hardware dependent. Threads are hardware dependent. Goroutines have easy communication medium known as channel. Thread does not have easy communication medium. Due to the presence of channel one goroutine can communicate with other goroutine with low latency. Due to lack of easy communication medium inter-threads communicate takes place with high latency. Goroutine does not have ID because go does not have Thread Local Storage. Threads have their own unique ID because they have Thread Local Storage. Goroutines are cheaper than threads. The cost of threads are higher than goroutine. They are cooperatively scheduled. They are preemptively scheduled. They have faster startup time than threads. They have slow startup time than goroutines. Goroutine has\u00a0growable segmented stacks. Threads does not have growable segmented stacks. \u5927\u5c0f\uff1a\u5927\u69824KB 64 bit JVM: defaults to a 1MB stack \u6700\u91cd\u8981\u7684\u8fd8\u662f goroutine \u7684\u8c03\u5ea6\u66f4\u52a0\u6709\u6548\u7387\uff0c\u6bd4\u5982\u5982\u679c\u67d0\u4e2a goroutine \u5728\u7b49\u5f85\u7684 channel \u91cc\u6ca1\u6709\u6570\u636e\uff0c\u5b83\u5c31\u4e0d\u4f1a\u88ab\u8c03\u7528\u3002 <p>\u8fd9\u7bc7\u6587\u7ae0\u5199\u7684\u5f88\u597d\uff1aWhy you can have millions of Goroutines but only thousands of Java Threads</p>"},{"location":"Langs/GoGoGo/grammar/#context","title":"Context","text":"<ul> <li>\u8d85\u65f6\u9000\u51fa\u3001\u7ea7\u8054\u9000\u51fa</li> <li>\u5171\u4eab\u6570\u636e</li> </ul> <pre><code>type Context interface { \n  Deadline() (deadline time.Time, ok bool)\n  Done() &lt;-chan struct{}\n  Err() error \n  Value(key interface{}) interface{}\n}\n\nfunc main() {\n  ctx := context.Background()\n  before := time.Now()\n  preCtx, _ := context.WithTimeout(ctx, 100*time.Millisecond)\n  go func() {\n    childCtx, _ := context.WithTimeout(preCtx, 300*time.Millisecond)\n    select {\n    case &lt;-childCtx.Done():\n      after := time.Now()\n      fmt.Println(\"child during:\", after.Sub(before).Milliseconds())\n    }\n  }()\n  select {\n  case &lt;-preCtx.Done():\n    after := time.Now()\n    fmt.Println(\"pre during:\", after.Sub(before).Milliseconds())\n  }\n}\n</code></pre> <p>\u539f\u7406\uff1a\u4f7f\u7528 <code>context.withXXX()</code> \u65f6\u4f1a\u6d3e\u751f\u51fa\u5b50 context\uff0c\u8fd9\u65f6\u7236\u5b50 context \u4f1a\u6709\u5173\u8054\u5173\u7cfb\u3002\u5728 http \u6807\u51c6\u5e93\u4e2d\uff0c\u8fde\u63a5\u8bf7\u6c42\u3001\u53d1\u9001\u8bf7\u6c42\u3001\u7b49\u5f85\u670d\u52a1\u5668\u54cd\u5e94\u2026\u6bcf\u4e00\u5c42\u7684 ctx \u90fd\u6d3e\u751f\u81ea\u4e0a\u7ea7\uff0c\u4f1a\u91cd\u65b0\u8ba1\u7b97\u5f53\u524d ctx \u7684 timeout \u65f6\u95f4\u3002</p>"},{"location":"Langs/GoGoGo/grammar/#_6","title":"\u5e76\u53d1\u6a21\u578b","text":"<p>\u5982\u679c\u662f\u9501\u5355\u4e2a\u8d44\u6e90\uff0c\u7528\u9501\u5b9e\u73b0\uff1b\u5982\u679c\u662f\u6d88\u8d39\u591a\u4e2a\u8d44\u6e90\uff0c\u7528\u901a\u9053\u3002</p> <p>\u5e38\u89c1\u5e76\u53d1\u6a21\u578b\uff1a</p> <ul> <li>\u4e00\u5bf9\u4e00 ping-pong\uff08\u8dd1\u817f\uff09</li> <li>\u591a\u8f93\u5165\uff0c\u5355\u8f93\u51fa fan-in\uff08\u5206\u5de5\u6267\u884c\uff0c\u7edf\u4e00\u7ed3\u679c\uff0c\u5982\u5206\u5de5search\uff0c\u6536\u5feb\u9012\u7684\u5bb6\u95e8\u53e3\uff09</li> <li>\u5355\u8f93\u5165\uff0c\u591a\u8f93\u51fa fan-out\uff08\u5206\u53d1\uff0c\u5982 message queue\uff0c\u5206\u62e3\u5feb\u9012\uff0c\u591a\u7ea7\u5206\u62e3\u5feb\u9012\uff09</li> <li>\u7ba1\u9053 pipeline \u8fd8\u53ef\u4ee5\u7ba1\u9053\u81ea\u5df1\uff0c\u7c7b\u4f3c\u4e8e\u9012\u5f52</li> </ul> <p>Go Concurrency Patterns: Pipelines and cancellation - The Go Programming Language</p>"},{"location":"Langs/GoGoGo/grammar/#_7","title":"\u672c\u5730\u4e0e\u6587\u4ef6","text":"<ul> <li>\u83b7\u53d6\u6267\u884c\u8def\u5f84</li> <li> <p>\u6267\u884c\u7684 bin \u7684\u8def\u5f84\uff1aos.Executable()</p> </li> <li> <p>\u5bf9\u6807 nodejs \u7684 __dirname, \u5f53\u524d\u6267\u884c\u6808\u7684\u8def\u5f84\uff1a</p> <p><code>go var (   _, b, _, _ = runtime.Caller(0)   dirpath   = filepath.Dir(b)  )  fmt.Println(dirpath)</code></p> <p>https://stackoverflow.com/a/70491592/6005860</p> </li> <li> <p>working directory \u8def\u5f84\uff1aos.Getwd() \u56e0\u4e3a\u53ef\u4ee5\u4eba\u5de5\u8bbe\u7f6e\u8def\u5f84\uff0c\u5c24\u5176\u5728 vscode debug \u65f6\u8bbe\u7f6e \"cwd\" \uff0c\u8fd9\u6837\u5728\u6267\u884c\u548c\u6d4b\u8bd5\u65f6\u90fd\u80fd\u83b7\u53d6\u5230\u4e00\u81f4\u7684\u6587\u4ef6\u8def\u5f84\uff01</p> <p>\u4e00\u4e2a\u4f8b\u5b50\uff1a</p> <p></p> </li> <li> <p>path \u4e0e path/filepath</p> </li> </ul> <p>\u56e0\u4e3a\u5b83\u4eec\u90fd\u6709 Dir() \u65b9\u6cd5\uff0c\u6240\u4ee5\u6211\u5f88\u8ff7\u3002\u7ed3\u679c pkg overview \u4e0a\u5c31\u5199\u4e86\u5440\uff0cpath \u9002\u5408slash-separated paths \u2192 \u7528\u4e8e url \u64cd\u4f5c\uff1bfilepath \u9002\u5408 target operating system-defined \u2192 \u7528\u4e8e\u6587\u4ef6\u8def\u5f84\u64cd\u4f5c</p> <p>p.s. \u659c\u6760 forward slash \u548c\u53cd\u659c\u6760 backward slash\u3002\u524d\u8005\u662f  unix\u3001\u7c7bunix\u3001url\u3001file:// \u4e0b\u7684\u6587\u4ef6\u5206\u9694\u7b26\uff0c\u800c\u540e\u8005\u662f windows \u4e0b\u7684\u6587\u4ef6\u5206\u9694\u7b26\u3002</p>"},{"location":"Langs/GoGoGo/grammar/#_8","title":"\u7f16\u8bd1","text":"<p>go build [-o \u5bfc\u51fa\u540d] \u5165\u53e3\u6587\u4ef6</p>"},{"location":"Langs/GoGoGo/%E5%86%99%E6%B3%95%E6%A8%A1%E5%BC%8F/","title":"\u5199\u6cd5\u6a21\u5f0f","text":""},{"location":"Langs/GoGoGo/%E5%86%99%E6%B3%95%E6%A8%A1%E5%BC%8F/#_2","title":"\u521d\u59cb\u5316\u5bf9\u8c61","text":"<p>\u4e0d\u76f4\u63a5\u7ed9\u5bf9\u8c61\u8d4b\u503c\uff0c\u8fd8\u662f\u901a\u8fc7\u51fd\u6570\u5f0f\u7684\u65b9\u5f0f\u8fdb\u884c\uff1a</p> <pre><code>func New(opts ...Option) Config {\n    o := options{\n        decoder:  defaultDecoder,\n        resolver: defaultResolver,\n    }\n    for _, opt := range opts {\n        opt(&amp;o)\n    }\n    return &amp;config{\n        opts:   o,\n        reader: newReader(o),\n    }\n}\n\nfunc WithSource(s ...Source) Option {\n    return func(o *options) {\n        o.sources = s\n    }\n}\n\n//..\u7136\u540e\u8fd8\u53ef\u4ee5 WithXXX \u4e00\u7cfb\u5217\u7684\u5185\u5bb9\n</code></pre> <pre><code>config.New(\n        config.WithSource(xxx),\n  config.WithXXX() \n)\n</code></pre> <p>\u53e6\u5916\uff0c\u8fd8\u6709 builder \u6a21\u5f0f\u3001singleton\u6a21\u5f0f\u548c factory \u6a21\u5f0f\uff0c\u8be6\u89c1 Understanding the Builder Pattern in Go - DEV Community</p>"},{"location":"Langs/GoGoGo/%E8%B5%84%E6%BA%90%E6%B1%87%E6%80%BB/","title":"\u8d44\u6e90\u6c47\u603b","text":"<p>ToDO\uff1a</p> <p>https://segmentfault.com/u/shuaiqimao</p> <p>\u4e00\u4e9b\u6e90\u7801\u89e3\u8bfb\uff0c\u5e0c\u671b\u5148\u81ea\u5df1\u770b\uff0c\u5c1d\u8bd5\u63cf\u8ff0\uff0c\u518d\u5bf9\u6bd4\u4f5c\u8005\u7684\u63cf\u8ff0\uff0c\u5b66\u4e60\u4e00\u4e9b\u672f\u8bed\u53ca\u8868\u8fbe\u65b9\u5f0f</p> <p>\u597d\u7684\u535a\u5ba2\uff0c\u4f5c\u8005\u5b9e\u529b\u624e\u5b9e https://nanxiao.gitbooks.io/golang-101-hacks/content/ https://nanxiao.me/en/ https://eddycjy.com/posts/ \u714e\u9c7c</p> <p>Russell Cohen\uff1a\u975e\u5e38\u6709\u6761\u7406</p> <p>Books: https://www.golang-book.com/books/intro</p> <p>Interactive: https://go.dev/tour/welcome/1</p> <p>\u699c\u6837\u4eba\u7269\uff1a</p> <p>https://draveness.me/golang/</p> <p>https://blog.codinghorror.com/about-me/</p> <p>\u60f3\u8981\u8bfb\u7684\u4ed3\u5e93\uff1a</p> <p>https://github.com/gin-gonic/gin</p> <p>gin-admin</p> <p>https://github.com/gofiber/fiber</p> <p>\u60f3\u8981\u8bfb\u7684\u4e66\uff1a</p> <p>\u300a\u8bbe\u8ba1\u6a21\u5f0f\u300b</p> <p>TonyBai: \u300a\u6539\u5584Go\u8bed\u8a00\u7f16\u7a0b\u8d28\u91cf\u768450\u4e2a\u6709\u6548\u5b9e\u8df5\u300b</p> <p>https://quii.gitbook.io/learn-go-with-tests/</p> <p>\u9700\u8981\u719f\u6089unix\u73af\u5883\uff1a</p> <p>https://www.zhihu.com/question/19939011</p>"},{"location":"Langs/Java/2.%20Thread%20%E4%B8%93%E6%A0%8F/","title":"2. Thread \u4e13\u680f","text":""},{"location":"Langs/Java/2.%20Thread%20%E4%B8%93%E6%A0%8F/#blocked-waiting","title":"\u72b6\u6001\uff1ablocked \u4e0e waiting","text":"<ul> <li>WAIT\u00a0- I'm waiting to be given some work, so I'm idle right now: \u00a0thread is waiting for a signal from another thread. This happens typically by calling\u00a0<code>Object.wait()</code>, or\u00a0<code>Thread.join()</code>. The thread will then remain in this state until another thread calls\u00a0<code>Object.notify()</code>, or dies.</li> <li>BLOCKED\u00a0- I'm busy trying to get work done but another thread is standing in my way, so I'm idle right now: a thread is about to enter a\u00a0<code>synchronized</code>\u00a0block, but there is another thread currently running inside a\u00a0<code>synchronized</code>\u00a0block on the same object. The first thread must then wait for the second thread to exit its block.</li> </ul> <pre><code> public static void main(String[] args) {\n\n        // Runnable runnable = new Runnable() {\n        //  @Override\n        //  public void run() {\n        //   longTask();\n        //  }\n        // };\n        Thread thread2 = new Thread(() -&gt; longTask());\n     thread2.getState();\n        thread2.start();\n        System.out.println(\"Doing other work on main thread\");\n\n    }\n</code></pre>"},{"location":"Langs/Java/2.%20Thread%20%E4%B8%93%E6%A0%8F/#interrupt-a-thread","title":"interrupt a thread","text":"<ul> <li>interrupt \u65b9\u6cd5(\u4f46\u662f\u53ea\u662f\u5411 t \u7ebf\u7a0b\u53d1\u51fa\u4e86\u8bf7\u6c42\uff0ct \u7ebf\u7a0b\u662f\u5426\u54cd\u5e94\uff0c\u9700\u8981\u770b\u5177\u4f53\u4ee3\u7801) </li> <li>\u7531\u6b64\u53ef\u4ee5\u77e5\u9053\uff0c\u7ebf\u7a0b\u5176\u5b9e\u6ca1\u6709\u7236\u5b50\u5173\u7cfb\uff0c\u5b83\u4eec\u662f\u5e73\u7ea7\u7684</li> <li>\u5982\u679c\u6709\u4e00\u4e2a\u7ebf\u7a0b\u6ca1\u6709\u9000\u51fa\uff0cJVM\u8fdb\u7a0b\u5c31\u4e0d\u4f1a\u9000\u51fa</li> <li>\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u7ebf\u7a0b\u7684\u6807\u5fd7\u4f4d\uff0c\u4f46\u662f\u9700\u8981 volatile \u5173\u952e\u5b57\u6807\u8bb0\u3002\u5728 java \u7684\u5185\u5b58\u6a21\u578b\u4e2d\uff0c\uff08\u53d8\u91cf\u7684\u503c\u4fdd\u5b58\u5728\u4e3b\u5185\u5b58\u4e2d\uff09\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u6709\u81ea\u5df1\u7684\u5185\u5b58\u533a\uff0c\u4f1a\u7f13\u5b58\u8fdb\u7a0b\u5185\u5bf9\u5e94\u5185\u5b58\u7684\u503c\uff08\u5f53\u7ebf\u7a0b\u8bbf\u95ee\u53d8\u91cf\u65f6\uff0c\u4f1a\u83b7\u53d6\u4e00\u4e2a\u526f\u672c\uff0c\u5e76\u4fdd\u5b58\u5728\u81ea\u5df1\u7684\u5de5\u4f5c\u5185\u5b58\u4e2d\uff09\uff0c\u5e76\u4e0d\u4f1a\u5b9e\u65f6\u66f4\u65b0\uff08\u5982\u679c\u7ebf\u7a0b\u4fee\u6539\u4e86\u53d8\u91cf\u7684\u503c\uff0c\u865a\u62df\u673a\u4f1a\u5728\u67d0\u4e2a\u65f6\u523b\u628a\u4fee\u6539\u540e\u7684\u503c\u56de\u5199\u5230\u4e3b\u5185\u5b58\uff0c\u4f46\u662f\uff0c\u8fd9\u4e2a\u65f6\u95f4\u662f\u4e0d\u786e\u5b9a\u7684\uff09\u3002</li> </ul>"},{"location":"Langs/Java/2.%20Thread%20%E4%B8%93%E6%A0%8F/#_1","title":"\u5b88\u62a4\u8fdb\u7a0b","text":"<p><code>t.setDaemon(true);</code> \u4e0d\u5f71\u54cd ~~\u4e3b\u8fdb\u7a0b~~(JVM \u8fdb\u7a0b / \u865a\u62df\u673a) \u9000\u51fa</p>"},{"location":"Langs/Java/2.%20Thread%20%E4%B8%93%E6%A0%8F/#_2","title":"\u7ebf\u7a0b\u540c\u6b65","text":"<p>Cause\uff1aa += 1 \u8fd9\u4e2a\u64cd\u4f5c\u5b9e\u9645\u5305\u542b\u4e86\u4e09\u6b65\uff08Load Add Store\uff09\uff0c\u4ea6\u65e2\u8fd9\u5e76\u4e0d\u662f\u4e00\u4e2a\u539f\u5b50\u64cd\u4f5c</p>"},{"location":"Langs/Java/2.%20Thread%20%E4%B8%93%E6%A0%8F/#synchronized","title":"synchronized","text":"<p>\u89e3\u51b3\uff1a - synchronized keyword: \u5b83\u4ee5 object\uff08\u76f8\u5f53\u4e8e\u94a5\u5319\uff09 \u4e3a\u5165\u53c2\uff0cif when you put\u00a0<code>synchronized</code>\u00a0on the method, it basically means the same as\u00a0<code>synchronized (this)</code>, that is, a synchronization on the object this method is executed on (\u4e5f\u5c31\u7b49\u540c\u4e8e\u5728 method \u5185\u90e8\u8c03\u7528 <code>synchronized(this){}</code>).     concurrency - java - what does synchronized really do according the java memory model? - Stack Overflow Chapter\u00a017.\u00a0Threads and Locks</p>"},{"location":"Langs/Java/2.%20Thread%20%E4%B8%93%E6%A0%8F/#synchronized-vs-volatile","title":"synchronized vs. volatile","text":"<ul> <li>volatile \u4fdd\u8bc1\u65f6\u6548\u6027\u4e0d\u662f\u539f\u5b50\u6027\uff08\u5982\u679c\u672c\u5730\u7ebf\u7a0b\u7684\u53d8\u91cf\u66f4\u6539\uff0c\u53ef\u4ee5\u7b2c\u4e00\u65f6\u95f4\u540c\u6b65\u5230\u4e3b\u5185\u5b58\uff1b\u4f46\u4e4b\u524d\u5df2\u7ecf\u83b7\u53d6\u8fc7\u4e3b\u5185\u5b58\u53d8\u91cf\u7684\u672c\u5730\u526f\u672c\u7684\u7ebf\u7a0b\uff0c\u65e0\u6cd5\u5f97\u77e5\u4e3b\u5185\u5b58\u4e2d\u8fd9\u4e2a\u53d8\u91cf\u6709\u66f4\u6539\uff09</li> <li>synchronized \u67d0\u79cd\u7a0b\u5ea6\u4e0a\u8bf4\u5305\u62ec\u4e86 volatile \u7684\u529f\u80fd\u3002synchronized\u9664\u4e86\u52a0\u9501\u5916\uff0c\u8fd8\u5177\u6709\u5185\u5b58\u5c4f\u969c\u529f\u80fd\uff0c\u5e76\u4e14\u5f3a\u5236\u8bfb\u53d6\u6240\u6709\u5171\u4eab\u53d8\u91cf\u7684\u4e3b\u5185\u5b58\u6700\u65b0\u503c\uff0c\u9000\u51fasynchronized\u65f6\u518d\u5f3a\u5236\u56de\u5199\u4e3b\u5185\u5b58\uff08if modified\uff09</li> </ul>"},{"location":"Langs/Java/2.%20Thread%20%E4%B8%93%E6%A0%8F/#_3","title":"\u7ebf\u7a0b\u5b89\u5168\u7684\u7c7b","text":"<p>\u5373\u7c7b\u81ea\u5df1\u5bf9\u53d8\u91cf\u505a\u4e86\u52a0\u9501\u5904\u7406\uff0c\u53ef\u88ab\u591a\u7ebf\u7a0b~~\u5b89\u5168~~\u6b63\u786e\u8bbf\u95ee thread-safe. StringBuffer \u5c31\u662f\u7ebf\u7a0b\u5b89\u5168\u7684</p>"},{"location":"Langs/Java/2.%20Thread%20%E4%B8%93%E6%A0%8F/#wait-notify","title":"wait \u548c notify","text":"<p>\u4e00\u4e2a\u597d\u4f8b\u5b50\uff1a</p> <pre><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) throws InterruptedException {\n        var q = new TaskQueue();\n        var ts = new ArrayList&lt;Thread&gt;();\n        for (int i=0; i&lt;5; i++) {\n            var t = new Thread() {\n                public void run() {\n                    // \u6267\u884ctask:\n                    while (true) {\n                        try {\n                            String s = q.getTask();\n                            System.out.println(\"execute task: \" + s);\n                        } catch (InterruptedException e) {\n                            return;\n                        }\n                    }\n                }\n            };\n            t.start();\n            ts.add(t);\n        }\n        var add = new Thread(() -&gt; {\n            for (int i=0; i&lt;10; i++) {\n                // \u653e\u5165task:\n                String s = \"t-\" + Math.random();\n                System.out.println(\"add task: \" + s);\n                q.addTask(s);\n                try { Thread.sleep(100); } catch(InterruptedException e) {}\n            }\n        });\n        add.start();\n        add.join();\n        Thread.sleep(100);\n        for (var t : ts) {\n            t.interrupt();\n        }\n    }\n}\n\nclass TaskQueue {\n    Queue&lt;String&gt; queue = new LinkedList&lt;&gt;();\n\n    public synchronized void addTask(String s) {\n        this.queue.add(s);\n        this.notifyAll(); // \u5524\u9192\u5176\u4ed6\u7b49\u5f85\u7684\u6d88\u8d39\u8005\n    }\n\n    public synchronized String getTask() throws InterruptedException {\n        // \u6ce8\u610f\u8fd9\u91cc\u7684 while, \u56e0\u4e3a\u88ab\u5524\u9192\u540e\uff0c\u8fd8\u9700\u8981\u5224\u65ad queue \u91cc\u662f\u5426\u6709\u8d44\u6e90\u53ef\u6d88\u8d39\uff08\u4e5f\u8bb8\u5df2\u7ecf\u88ab\u522b\u4eba\u6d88\u8d39\u5b8c\u4e86\uff09\n        while (queue.isEmpty()) { \n            this.wait();\n        }\n        return queue.remove();\n    }\n}\n</code></pre>"},{"location":"Langs/Java/2.%20Thread%20%E4%B8%93%E6%A0%8F/#_4","title":"\u9501","text":""},{"location":"Langs/Java/2.%20Thread%20%E4%B8%93%E6%A0%8F/#_5","title":"\u53ef\u91cd\u5165\u9501(\u901a\u4fd7\u610f\u4e49\u7684)","text":"<p>\u540c\u4e00\u4e2a\u7ebf\u7a0b\u91cd\u590d\u83b7\u53d6\u540c\u4e00\u4e2a\u9501\u3002\u8fd9\u6837\u4e0d\u4f46\u8981\u5224\u65ad\u662f\u5426\u662f\u7b2c\u4e00\u6b21\u83b7\u53d6\uff0c\u8fd8\u8981\u8bb0\u5f55\u8fd9\u662f\u7b2c\u51e0\u6b21\u83b7\u53d6\u3002\u6bcf\u83b7\u53d6\u4e00\u6b21\u9501\uff0c\u8bb0\u5f55+1\uff0c\u6bcf\u9000\u51fa<code>synchronized</code>\u5757\uff0c\u8bb0\u5f55-1\uff0c\u51cf\u52300\u7684\u65f6\u5019\uff0c\u624d\u4f1a\u771f\u6b63\u91ca\u653e\u9501\u3002</p>"},{"location":"Langs/Java/2.%20Thread%20%E4%B8%93%E6%A0%8F/#reentrantlock","title":"ReentrantLock","text":"<p>Java 5 \u5f15\u5165\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u91cd\u8bd5\u6b21\u6570</p> <pre><code>if (lock.tryLock(1, TimeUnit.SECONDS)) {\n    try {\n        ...\n    } finally {\n        lock.unlock();\n    }\n}\n</code></pre> <p>hh \u6211\u4e4b\u524d\u5199\u7684\u62bd\u5956\u7684\u4e50\u89c2\u9501\u4e5f\u662f\u8fd9\u6837\uff0c\u53ef\u4ee5\u91cd\u8bd5\uff01 <code>Lock.Condition</code>\u63d0\u4f9b\u7684 <code>await()</code>\u3001<code>signal()</code>\u3001<code>signalAll()</code> \u539f\u7406\u548c<code>synchronized</code>\u9501\u5bf9\u8c61\u7684<code>wait()</code>\u3001<code>notify()</code>\u3001<code>notifyAll()</code>\u662f\u4e00\u81f4\u7684\uff0c\u5e76\u4e14\u5176\u884c\u4e3a\u4e5f\u662f\u4e00\u6837\u7684\u3002</p>"},{"location":"Langs/Java/2.%20Thread%20%E4%B8%93%E6%A0%8F/#readwritelock","title":"ReadWriteLock","text":"<ul> <li>\u5141\u8bb8\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u8bfb</li> <li>\u5982\u679c\u6709\u4e00\u4e2a\u7ebf\u7a0b\u5728\u5199\uff08\u5165\uff09\uff0c\u5219\u5176\u4ed6\u7ebf\u7a0b\u90fd\u9700\u8981\u7b49\u5f85\u8be5\u7ebf\u7a0b\u5199\u5b8c\u540e\u624d\u80fd\u8bfb\uff08\u53d6\uff09\u67d0\u79cd\u610f\u4e49\u4e0a\u7684\u60b2\u89c2\u8bfb\u9501</li> </ul> <pre><code>public class Counter {\n    private final Lock lock = new ReentrantLock();\n    private int[] counts = new int[10];\n\n    public void inc(int index) {\n        lock.lock();\n        try {\n            counts[index] += 1;\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    public int[] get() {\n        lock.lock();\n        try {\n            return Arrays.copyOf(counts, counts.length);\n        } finally {\n            lock.unlock();\n        }\n    }\n}\n</code></pre> <p>\u6709\u4e00\u4e2a\u95ee\u9898\u5f88\u597d\uff0c\u65e2\u7136\u5199\u9501\u4f4f\u4e86\uff0c\u90a3\u4e3a\u4ec0\u4e48\u8fd8\u9700\u8981\u8bfb\u9501\uff1f \u56e0\u4e3a\u8bfb\u9501\u7684\u76ee\u7684\u4e0d\u662f\u56e0\u4e3a\u8bfb\u7684\u6570\u636e\u662f\u9519\u7684\uff0c\u800c\u662f\u4e3a\u4e86\u4fdd\u8bc1\u8fde\u7eed\u8bfb\u903b\u8f91\u4e0a\u4e00\u81f4\uff1a</p> <pre><code>int x = obj.x;\n// \u8fd9\u91cc\u7ebf\u7a0b\u53ef\u80fd\u4e2d\u65ad\nint y = obj.y;\n</code></pre> <p>\u540c\u7406\uff0c\u5982\u679c\u5199\u5165\u662f\u539f\u5b50\u64cd\u4f5c\uff0c\u5982\u8d4b\u503c\uff0c\u90a3\u4e48\u52a0\u9501\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u4fdd\u8bc1\u903b\u8f91\u6b63\u786e\uff08\u6bd4\u5982\u8fde\u7eed\u5199\u5165\u4e24\u4e2a\uff09\u3002</p>"},{"location":"Langs/Java/2.%20Thread%20%E4%B8%93%E6%A0%8F/#stampedlock","title":"StampedLock","text":"<p>\u76ee\u7684\uff1a\u76f8\u6bd4 ReadWriteLock, \u63d0\u9ad8\u8bfb\u53d6\u6548\u7387\uff0cJava 8\u5f15\u5165\u3002</p> <p>\u4e50\u89c2\u8bfb\u9501\u3002\u5728\u8bfb\u53d6\u524d\u4f1a\u5148\u901a\u8fc7 <code>stampedLock.tryOptimisticLock()</code> \u83b7\u53d6\u4e00\u4e2a\u7248\u672c\u53f7\uff0c\u5728\u5173\u952e\u64cd\u4f5c\u524d\uff0c\u901a\u8fc7 <code>stampedLock.tryOptimisticLock(stamp)</code> \u6821\u9a8c\u6700\u65b0\u7248\u672c\u53f7\u662f\u5426\u53d1\u751f\u53d8\u5316\uff0c\u7136\u540e\u518d\u901a\u8fc7 <code>stampedLock.readLock()</code> \u83b7\u53d6\u4e00\u4e2a\u60b2\u89c2\u8bfb\u9501\u3002</p>"},{"location":"Langs/Java/2.%20Thread%20%E4%B8%93%E6%A0%8F/#semaphore","title":"Semaphore","text":"<p>\u9650\u5236\u6570\u91cf\u7684\u9501\u3002\u5e94\u7528\u573a\u666f\uff1a\u4fdd\u8bc1\u540c\u4e00\u65f6\u523b\u6700\u591a\u6709 n \u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u8bbf\u95ee\u7684\u53d7\u9650\u8d44\u6e90\u3002</p>"},{"location":"Langs/Java/2.%20Thread%20%E4%B8%93%E6%A0%8F/#concurrent","title":"Concurrent \u96c6\u5408","text":"<p>\u5e94\u7528\u573a\u666f\uff1aBlockingQueue. \u4f55\u4e3a blockQueue? \u5f53\u4e00\u4e2a\u7ebf\u7a0b\u4ece queue \u91cc\u53d6\u4efb\u52a1\u65f6(queue.getTask())\uff0c\u5982\u679c queue \u6ca1\u6709\u5185\u5bb9\uff0c\u7ebf\u7a0b\u4f1a\u53d8\u4e3a\u7b49\u5f85\u72b6\u6001\uff0c\u76f4\u5230\u6709\u5185\u5bb9\u540e\u83b7\u53d6\u5e76\u8fd4\u56de\u3002</p> <p>\u5982\u679c\u901a\u8fc7 ReentrantLock \u548c Condition \u6765\u5b9e\u73b0\uff1a</p> <pre><code>public class TaskQueue {\n    private final Lock lock = new ReentrantLock();\n    private final Condition condition = lock.newCondition();\n    private Queue&lt;String&gt; queue = new LinkedList&lt;&gt;();\n\n    public void addTask(String s) {\n        lock.lock();\n        try {\n            queue.add(s);\n            condition.signalAll();\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    public String getTask() {\n        lock.lock();\n        try {\n            while (queue.isEmpty()) {\n                condition.await();\n            }\n            return queue.remove();\n        } finally {\n            lock.unlock();\n        }\n    }\n}\n</code></pre>"},{"location":"Langs/Java/2.%20Thread%20%E4%B8%93%E6%A0%8F/#concurrentatomic","title":"Concurrent.Atomic","text":"<p>\u539f\u5b50\u64cd\u4f5c\u7684\u5c01\u88c5\u7c7b\u3002\u65e0\u9501(lock-free)\uff0c\u5229\u7528\u4e86 CAS\uff0c\u6709\u70b9\u4e50\u89c2\u9501\u7684\u610f\u5473\u3002</p> <p>\u81ea\u5df1\u6a21\u62df incrementAndGet()\uff1a</p> <pre><code>public int incrementAndGet(AtomicInteger var) {\n    int prev, next;\n    do {\n        prev = var.get();\n        next = prev + 1;\n    } while ( ! var.compareAndSet(prev, next));\n    return next;\n}\n</code></pre> <p>\u5e94\u7528\u573a\u666f\uff1a\u591a\u7ebf\u7a0b\u5b89\u5168\u7684\u9012\u589e ID \u751f\u6210\u5668</p> <pre><code>class IdGenerator {\n    AtomicLong var = new AtomicLong(0);\n\n    public long getNextId() {\n        return var.incrementAndGet();\n    }\n}\n</code></pre> <pre><code>CountDownLatch latch=new CountDownLatch(4)\nlatch.open();\nlatch.countDown();\nlatch.await();\n</code></pre>"},{"location":"Langs/Java/2.%20Thread%20%E4%B8%93%E6%A0%8F/#thread-pool","title":"Thread pool","text":"<pre><code>int numThreads = Runtime.getRuntime().availableProcessors();\n\nExecutorService executor = Executors.newFixedThreadPool(numThreads) // nThreads = nCores available\nexecutor.submit(() -&gt; xx());\nexecutor.shutdown();\n</code></pre>"},{"location":"Langs/Java/3.%20nio%20%E4%B8%93%E5%88%8A/","title":"3. nio \u4e13\u520a","text":"<p>Java\u4e3a Channel \u63a5\u53e3\u63d0\u4f9b\u4e86 DatagramChannel\u3001FileChannel\u3001Pipe.SinkChannel,\u3001Pipe.SourceChannel\u3001 SelectableChannel,\u3001ServerSocketChannel,\u3001SocketChannel \u7b49\u5b9e\u73b0\u7c7b\u3002</p> <p>\u5176\u4e2d\uff0c Pipe.SinkChannel,\u3001Pipe.SourceChannel \u662f\u7528\u4e8e\u652f\u6301\u7ebf\u7a0b\u4e4b\u95f4\u901a\u4fe1\u7684\u7ba1\u9053 Channel \uff1bServerSocketChannel,\u3001SocketChannel \u662f\u7528\u4e8e\u652f\u6301 TCP \u7f51\u7edc\u901a\u4fe1\u7684 Channel \uff1bDatagramChannel \u5219\u662f\u7528\u4e8e\u652f\u6301 UDP \u7f51\u7edc\u901a\u4fe1\u7684 DatagramChannel\u3002</p> <p>\u6240\u6709\u7684 Channel \u90fd\u4e0d\u5e94\u8be5\u901a\u8fc7\u6784\u9020\u5668\u6765\u521b\u5efa\uff0c\u800c\u662f\u901a\u8fc7\u4f20\u7edf\u7684\u8282\u70b9\u6d41 InputStram\u3001OutputStream \u7684 getChannel() \u65b9\u6cd5\u6765\u8fd4\u56de\u5bf9\u5e94\u7684 Channel \uff0c\u4e0d\u540c\u8282\u70b9\u6d41\u83b7\u5f97\u7684 Channel \u4e0d\u4e00\u6837\u3002\u4f8b\u5982\uff0cFileInputStream\u3001FileOutputStream \u7684getChannel() \u8fd4\u56de\u7684\u662f FileChannel</p> <p>\u6700\u5173\u952e\u7684\u533a\u522b\uff0c\u5c31\u662f\u4ece bio \u7684\u591a\u7ebf\u7a0b\uff08\u6bd4\u65b9\u8bf4\u6700\u539f\u59cb\u7684\u7f51\u7edc\u7f16\u7a0b\uff0c while \u91cc\u6bcf\u6b21\u6536\u5230\u8fde\u63a5\u8bf7\u6c42\u90fd\u8981\u5f00\u4e00\u4e2a\u7ebf\u7a0b\u6765\u5904\u7406\uff09\uff0c\u5230\u73b0\u5728 while \u91cc\u53ea\u7528\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u6bcf\u4e2a input \u7684\u8bfb\u53d6\u90fd\u53bb\u90a3\u4e2a\u7ebf\u7a0b\u7684\u5185\u5b58\u6c60\u91cc\u53d6\u5c31\u597d\u4e86\u3002</p> <p>\u540e\u7eed\u7684 async io, \u8fde\u8fd9\u4e00\u4e2a\u7ebf\u7a0b\u90fd\u4e0d\u7528\u4e86\uff0c\u4f7f\u7528\u4e86\u7c7b\u4f3c\u56de\u8c03\u673a\u5236\u6765\u505a\u3002</p> <p>\u8fd9\u91cc\uff0c\u4e3a\u4ec0\u4e48\u8981\u6709\u4e0d\u540c\u7684 channel\uff0c\u5b83\u4eec\u7684\u5185\u6838\u8fd8\u662f\u4e8c\u8fdb\u5236\u5440\uff1f</p> <p>Refs: Java NIO \uff08\u56fe\u89e3+\u79d2\u61c2+\u53f2\u4e0a\u6700\u5168\uff09 - \u75af\u72c2\u521b\u5ba2\u5708 - \u535a\u5ba2\u56ed Java NIO\u6d45\u6790 - \u7f8e\u56e2\u6280\u672f\u56e2\u961f Java NIO \u7684\u7b80\u5355\u4ecb\u7ecd\u548c\u4f7f\u7528 - \u4e50\u5b50\u4e0d\u75de - \u535a\u5ba2\u56ed \u7b80\u5355\u7684\u4f8b\u5b50\u53ef\u4ee5\u6d4b\u8bd5\u7528</p>"},{"location":"Langs/Java/4.%20%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/","title":"4. \u8bbe\u8ba1\u6a21\u5f0f","text":""},{"location":"Langs/Java/4.%20%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/#adapter","title":"\u9002\u914d\u5668 Adapter","text":"<pre><code>public class Task implements Callable&lt;Long&gt; {\n    private long num;\n    public Task(long num) {\n        this.num = num;\n    }\n\n    public Long call() throws Exception {\n        long r = 0;\n        for (long n = 1; n &lt;= this.num; n++) {\n            r = r + n;\n        }\n        System.out.println(\"Result: \" + r);\n        return r;\n    }\n}```\n\u5e94\u7528\uff1a\n- `List&lt;T&gt; Arrays.asList(T[])`\n-  `InputStreamWriter`\u3001`OutputStreamWriter`\n## \u884c\u4e3a\u578b\u6a21\u5f0f\n### \u8d23\u4efb\u94fe chain of responsibility\n \u5982\u5ba1\u6279\u6d41\u3001middlewareList\n### \u547d\u4ee4 Command\n\u628a\u547d\u4ee4\u7684\u521b\u5efa\u548c\u6267\u884c\u5206\u79bb\uff0c\u5982\uff1a\n```java\npublic interface Command {\n    void execute();\n}\n\npublic class xxCommand implements Command {\n    public void execute() {\n        //...\n    }\n}\n</code></pre>"},{"location":"Langs/Java/4.%20%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/#strategy","title":"\u7b56\u7565 Strategy","text":"<p>\u5141\u8bb8\u8c03\u7528\u65b9\u9009\u62e9\u4e00\u4e2a\u7b97\u6cd5\uff0c\u4ece\u800c\u901a\u8fc7\u4e0d\u540c\u7b56\u7565\u5b9e\u73b0\u4e0d\u540c\u7684\u8ba1\u7b97\u7ed3\u679c\u3002\u4f8b\u5982 <code>Arrays.sort(T[] a, Comparator&lt;? super T&gt; c)</code></p>"},{"location":"Langs/Java/4.%20%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/#template","title":"\u6a21\u677f Template","text":"<p>\u7236\u7c7b\u5b9a\u4e49\u9aa8\u67b6\uff0c\u5b50\u7c7b\u5b9e\u73b0\u67d0\u4e9b\u7ec6\u8282\uff0c\u9002\u7528\u4e8e\u6d41\u7a0b\u56fa\u5b9a\uff0c\u4f46\u67d0\u4e9b\u6b65\u9aa4\u4e0d\u786e\u5b9a\u6216\u53ef\u66ff\u6362\u7684\u60c5\u51b5\u3002\u4e3a\u4e86\u9632\u6b62\u5b50\u7c7b\u91cd\u5199\u7236\u7c7b\u7684\u9aa8\u67b6\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5728\u7236\u7c7b\u4e2d\u5bf9\u9aa8\u67b6\u65b9\u6cd5\u4f7f\u7528<code>final</code>\u3002\u5bf9\u4e8e\u9700\u8981\u5b50\u7c7b\u5b9e\u73b0\u7684\u62bd\u8c61\u65b9\u6cd5\uff0c\u4e00\u822c\u58f0\u660e\u4e3a<code>protected</code>\uff0c\u4f7f\u5f97\u8fd9\u4e9b\u65b9\u6cd5\u5bf9\u5916\u90e8\u5ba2\u6237\u7aef\u4e0d\u53ef\u89c1\u3002\u4f8b\u5982 <code>AbstractList</code>\u548c<code>AbstractQueuedSynchronizer</code>\u90fd\u5b9a\u4e49\u4e86\u5f88\u591a\u901a\u7528\u64cd\u4f5c\uff0c\u5b50\u7c7b\u53ea\u9700\u8981\u5b9e\u73b0\u67d0\u4e9b\u5fc5\u8981\u65b9\u6cd5\u3002</p>"},{"location":"Langs/Java/5.%20Thinking%20in%20Java/","title":"5. Thinking in Java","text":"<p>\u4e3a\u4ec0\u4e48\u7b7e\u540d\u53ea\u770b\u53c2\u6570\uff0c\u4e0d\u770b\u8fd4\u56de\uff1f \u56e0\u4e3a\u5982\u679c\u662f\u5355\u5355\u8c03\u7528\u67d0\u4e2a\u51fd\u6570\uff0c\u6ca1\u6709\u83b7\u53d6\u8fd4\u56de\u503c\u5e76\u8d4b\u503c\u7ed9\u5176\u4ed6\u53d8\u91cf\uff0c\u7f16\u8bd1\u5668\u5c31\u65e0\u4ece\u5224\u65ad\u8fd9\u65f6\u9700\u8981\u8c03\u7528\u54ea\u4e2a\u51fd\u6570\u4e86\u3002</p>"},{"location":"Langs/Java/5.%20Thinking%20in%20Java/#_1","title":"\u7c7b\u518d\u751f","text":"<p>\u7ee7\u627f\u7684\u201c\u7d2f\u8ba1\u5f00\u53d1\u201d\u597d\u5904\uff08\u597d\u9ad8\u7ef4\u7684\u601d\u60f3\uff09 \u7ee7\u627f\u7684\u4e00\u4e2a\u597d\u5904\u662f\u5b83\u652f\u6301\u201c\u7d2f\u79ef\u5f00\u53d1\u201d\uff0c\u5141\u8bb8\u6211\u4eec\u5f15\u5165\u65b0\u7684\u4ee3\u7801\uff0c\u540c\u65f6\u4e0d\u4f1a\u4e3a\u73b0\u6709\u4ee3\u7801\u9020\u6210\u9519\u8bef\u3002\u8fd9\u6837\u53ef\u5c06\u65b0\u9519\u8bef\u9694\u79bb\u5230\u65b0\u4ee3\u7801\u91cc\u3002\u901a\u8fc7\u4ece\u4e00\u4e2a\u73b0\u6210\u7684\u3001\u529f\u80fd\u6027\u7684\u7c7b\u7ee7\u627f\uff0c\u540c\u65f6\u589e\u6dfb\u6210\u5458\u65b0\u7684\u6570\u636e\u6210\u5458\u53ca\u65b9\u6cd5\uff08\u5e76\u91cd\u65b0\u5b9a\u4e49\u73b0\u6709\u65b9\u6cd5\uff09\uff0c\u6211\u4eec\u53ef\u4fdd\u6301\u73b0\u6709\u4ee3\u7801\u539f\u5c01\u4e0d\u52a8\uff08\u53e6\u5916\u6709\u4eba\u4e5f\u8bb8\u4ecd\u5728\u4f7f\u7528\u5b83\uff09\uff0c\u4e0d\u4f1a\u4e3a\u5176\u5f15\u5165\u81ea\u5df1\u7684\u7f16\u7a0b\u9519\u8bef\u3002\u4e00\u65e6\u51fa\u73b0\u9519\u8bef\uff0c\u5c31\u77e5\u9053\u5b83\u80af\u5b9a\u662f\u7531\u4e8e\u81ea\u5df1\u7684\u65b0\u4ee3\u7801\u9020\u6210\u7684\u3002\u8fd9\u6837\u4e00\u6765\uff0c\u4e0e\u4fee\u6539\u73b0\u6709\u4ee3\u7801\u7684\u4e3b\u4f53\u76f8\u6bd4\uff0c\u6539\u6b63\u9519\u8bef\u6240\u9700\u7684\u65f6\u95f4\u548c\u7cbe\u529b\u5c31\u53ef\u4ee5\u5c11\u5f88\u591a\u3002</p> <p>\u5927\u5bb6\u8981\u8bb0\u4f4f\u8fd9\u6837\u4e00\u4e2a\u91cd\u70b9\uff1a\u7a0b\u5e8f\u5f00\u53d1\u662f\u4e00\u4e2a\u4e0d\u65ad\u9012\u589e\u6216\u8005\u7d2f\u79ef\u7684\u8fc7\u7a0b\uff0c\u5c31\u8c61\u4eba\u4eec\u5b66\u4e60\u77e5\u8bc6\u4e00\u6837\u3002\u5f53\u7136\u53ef\u6839\u636e\u8981\u6c42\u8fdb\u884c\u5c3d\u53ef\u80fd\u591a\u7684\u5206\u6790\uff0c\u4f46\u5728\u4e00\u4e2a\u9879\u76ee\u7684\u8bbe\u8ba1\u4e4b\u521d\uff0c\u8c01\u90fd\u4e0d\u53ef\u80fd\u63d0\u524d\u83b7\u77e5\u6240\u6709\u7684\u7b54\u6848\u3002\u5982\u679c\u80fd\u5c06\u81ea\u5df1\u7684\u9879\u76ee\u770b\u4f5c\u4e00\u4e2a\u6709\u673a\u7684\u3001\u80fd\u4e0d\u65ad\u8fdb\u6b65\u7684\u751f\u7269\uff0c\u4ece\u800c\u4e0d\u65ad\u5730\u53d1\u5c55\u548c\u6539\u8fdb\u5b83\uff0c\u5c31\u6709\u671b\u83b7\u5f97\u66f4\u5927\u7684\u6210\u529f\u4ee5\u53ca\u66f4\u76f4\u63a5\u7684\u53cd\u9988\u3002</p> <p>\u518d\u8bba\u5408\u6210\u4e0e\u7ee7\u627f \u5728\u9762\u5411\u5bf9\u8c61\u7684\u7a0b\u5e8f\u8bbe\u8ba1\u4e2d\uff0c\u521b\u5efa\u548c\u4f7f\u7528\u4ee3\u7801\u6700\u53ef\u80fd\u91c7\u53d6\u7684\u4e00\u79cd\u505a\u6cd5\u662f\uff1a\u5c06\u6570\u636e\u548c\u65b9\u6cd5\u7edf\u4e00\u5c01\u88c5\u5230\u4e00\u4e2a\u7c7b\u91cc\uff0c\u5e76\u4e14\u4f7f\u7528\u90a3\u4e2a\u7c7b\u7684\u5bf9\u8c61\u3002\u6709\u4e9b\u65f6\u5019\uff0c\u9700\u901a\u8fc7\u201c\u5408\u6210\u201d\u6280\u672f\u7528\u73b0\u6210\u7684\u7c7b\u6765\u6784\u9020\u65b0\u7c7b\u3002\u800c\u7ee7\u627f\u662f\u6700\u5c11\u89c1\u7684\u4e00\u79cd\u505a\u6cd5\u3002\u56e0\u6b64\uff0c\u5c3d\u7ba1\u7ee7\u627f\u5728\u5b66\u4e60OOP\u7684\u8fc7\u7a0b\u4e2d\u5f97\u5230\u4e86\u5927\u91cf\u7684\u5f3a\u8c03\uff0c\u4f46\u5e76\u4e0d\u610f\u5473\u7740\u5e94\u8be5\u5c3d\u53ef\u80fd\u5730\u5230\u5904\u4f7f\u7528\u5b83\u3002\u76f8\u53cd\uff0c\u4f7f\u7528\u5b83\u65f6\u8981\u7279\u522b\u614e\u91cd\u3002\u53ea\u6709\u5728\u6e05\u695a\u77e5\u9053\u7ee7\u627f\u5728\u6240\u6709\u65b9\u6cd5\u4e2d\u6700\u6709\u6548\u7684\u524d\u63d0\u4e0b\uff0c\u624d\u53ef\u8003\u8651\u5b83\u3002\u4e3a\u5224\u65ad\u81ea\u5df1\u5230\u5e95\u5e94\u8be5\u9009\u7528\u5408\u6210\u8fd8\u662f\u7ee7\u627f\uff0c\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u529e\u6cd5\u5c31\u662f\u8003\u8651\u662f\u5426\u9700\u8981\u4ece\u65b0\u7c7b\u4e0a\u6eaf\u9020\u578b\u56de\u57fa\u7840\u7c7b\u3002\u82e5\u5fc5\u987b\u4e0a\u6eaf\uff0c\u5c31\u9700\u8981\u7ee7\u627f\u3002\u4f46\u5982\u679c\u4e0d\u9700\u8981\u4e0a\u6eaf\u9020\u578b\uff0c\u5c31\u5e94\u63d0\u9192\u81ea\u5df1\u9632\u6b62\u7ee7\u627f\u7684\u6ee5\u7528\u3002\u5728\u4e0b\u4e00\u7ae0\u91cc\uff08\u591a\u5f62\u6027\uff09\uff0c\u4f1a\u5411\u5927\u5bb6\u4ecb\u7ecd\u5fc5\u987b\u8fdb\u884c\u4e0a\u6eaf\u9020\u578b\u7684\u4e00\u79cd\u573a\u5408\u3002\u4f46\u53ea\u8981\u8bb0\u4f4f\u7ecf\u5e38\u95ee\u81ea\u5df1\u201c\u6211\u771f\u7684\u9700\u8981\u4e0a\u6eaf\u9020\u578b\u5417\u201d\uff0c\u5bf9\u4e8e\u5408\u6210\u8fd8\u662f\u7ee7\u627f\u7684\u9009\u62e9\u5c31\u4e0d\u5e94\u8be5\u662f\u4e2a\u592a\u5927\u7684\u95ee\u9898\u3002</p> <p>\u82e5\u968f\u540c\u5bf9\u8c61\u53e5\u67c4\u4f7f\u7528final\uff0c\u800c\u4e0d\u662f\u57fa\u672c\u6570\u636e\u7c7b\u578b\uff0c\u5b83\u7684\u542b\u4e49\u5c31\u7a0d\u5fae\u8ba9\u4eba\u6709\u70b9\u513f\u8ff7\u7cca\u4e86\u3002\u5bf9\u4e8e\u57fa\u672c\u6570\u636e\u7c7b\u578b\uff0cfinal\u4f1a\u5c06\u503c\u53d8\u6210\u4e00\u4e2a\u5e38\u6570\uff1b\u4f46\u5bf9\u4e8e\u5bf9\u8c61\u53e5\u67c4\uff0cfinal\u4f1a\u5c06\u53e5\u67c4\u53d8\u6210\u4e00\u4e2a\u5e38\u6570\u3002\u8fdb\u884c\u58f0\u660e\u65f6\uff0c\u5fc5\u987b\u5c06\u53e5\u67c4\u521d\u59cb\u5316\u5230\u4e00\u4e2a\u5177\u4f53\u7684\u5bf9\u8c61\u3002\u800c\u4e14\u6c38\u8fdc\u4e0d\u80fd\u5c06\u53e5\u67c4\u53d8\u6210\u6307\u5411\u53e6\u4e00\u4e2a\u5bf9\u8c61\u3002\u7136\u800c\uff0c\u5bf9\u8c61\u672c\u8eab\u662f\u53ef\u4ee5\u4fee\u6539\u7684\u3002</p> <p>final final \u65b9\u6cd5\uff1a\u91c7\u7528final\u65b9\u6cd5\u7684\u7b2c\u4e8c\u4e2a\u7406\u7531\u662f\u7a0b\u5e8f\u6267\u884c\u7684\u6548\u7387\u3002\u5c06\u4e00\u4e2a\u65b9\u6cd5\u8bbe\u6210 final\u540e\uff0c\u7f16\u8bd1\u5668\u5c31\u53ef\u4ee5\u628a\u5bf9\u90a3\u4e2a\u65b9\u6cd5\u7684\u6240\u6709\u8c03\u7528\u90fd\u7f6e\u5165\u201c\u5d4c\u5165\u201d\u8c03\u7528\u91cc\u3002\u53ea\u8981\u7f16\u8bd1\u5668\u53d1\u73b0\u4e00\u4e2afinal\u65b9\u6cd5\u8c03\u7528\uff0c\u5c31\u4f1a\uff08\u6839\u636e\u5b83\u81ea\u5df1\u7684\u5224\u65ad\uff09\u5ffd\u7565\u4e3a\u6267\u884c\u65b9\u6cd5\u8c03\u7528\u673a\u5236\u800c\u91c7\u53d6\u7684\u5e38\u89c4\u4ee3\u7801\u63d2\u5165\u65b9\u6cd5\uff08\u5c06\u81ea\u53d8\u91cf\u538b\u5165\u5806\u6808\uff1b\u8df3\u81f3\u65b9\u6cd5\u4ee3\u7801\u5e76\u6267\u884c\u5b83\uff1b\u8df3\u56de\u6765\uff1b\u6e05\u9664\u5806\u6808\u81ea\u53d8\u91cf\uff1b\u6700\u540e\u5bf9\u8fd4\u56de\u503c\u8fdb\u884c\u5904\u7406\uff09\u3002\u76f8\u53cd\uff0c\u5b83\u4f1a\u7528\u65b9\u6cd5\u4e3b\u4f53\u5185\u5b9e\u9645\u4ee3\u7801\u7684\u4e00\u4e2a\u526f\u672c\u6765\u66ff\u6362\u65b9\u6cd5\u8c03\u7528\u3002</p> <p>\u7c7b\u5185\u6240\u6709private \u65b9\u6cd5\u90fd\u81ea\u52a8\u6210\u4e3afinal\u3002</p> <p>final \u7c7b\uff1a\u7531\u4e8e\u5b83\u7981\u6b62\u4e86\u7ee7\u627f\uff0c\u6240\u4ee5\u4e00\u4e2a final\u7c7b\u4e2d\u7684\u6240\u6709\u65b9\u6cd5\u90fd\u9ed8\u8ba4\u4e3a final\u3002\u56e0\u4e3a\u6b64\u65f6\u518d\u4e5f\u65e0\u6cd5\u8986\u76d6\u5b83\u4eec\u3002\u7f16\u8bd1\u5668\u4e5f\u4f1a\u5bf9\u6b64\u505a\u4e00\u4e9b\u9ad8\u6548\u7684\u7f16\u8bd1\u5de5\u4f5c\u3002</p>"},{"location":"Langs/Java/5.%20Thinking%20in%20Java/#_2","title":"\u521d\u59cb\u5316\u548c\u7c7b\u88c5\u8f7d","text":"<p>\u6bcf\u4e2a\u5bf9\u8c61\u7684\u4ee3\u7801\u90fd\u5b58\u5728\u4e8e\u72ec\u7acb\u7684\u6587\u4ef6\u4e2d\u3002\u9664\u975e\u771f\u7684\u9700\u8981\u4ee3\u7801\uff0c\u5426\u5219\u90a3\u4e2a\u6587\u4ef6\u662f\u4e0d\u4f1a\u8f7d\u5165\u7684\u3002\u901a\u5e38\uff0c\u6211\u4eec\u53ef\u8ba4\u4e3a\u9664\u975e\u90a3\u4e2a\u7c7b\u7684\u4e00\u4e2a\u5bf9\u8c61\u6784\u9020\u5b8c\u6bd5\uff0c\u5426\u5219\u4ee3\u7801\u4e0d\u4f1a\u771f\u7684\u8f7d\u5165\u3002\u7531\u4e8e static \u65b9\u6cd5\u5b58\u5728\u4e00\u4e9b\u7ec6\u5fae\u7684\u6b67\u4e49\uff0c\u6240\u4ee5\u4e5f\u80fd\u8ba4\u4e3a\u201c\u7c7b\u4ee3\u7801\u5728\u9996\u6b21\u4f7f\u7528\u7684\u65f6\u5019\u8f7d\u5165\u201d\u3002</p> <p>\u6267\u884c\u987a\u5e8f\uff1a\u7236\u9759\u6001\u4ee3\u7801\u5757&gt; \u5b50\u9759\u6001\u4ee3\u7801\u5757&gt; \u7236\u5c5e\u6027\u521d\u59cb\u5316&gt; \u7236\u4ee3\u7801\u5757&gt; \u7236\u6784\u9020\u51fd\u6570&gt; \u5b50\u5c5e\u6027\u521d\u59cb\u5316&gt; \u5b50\u4ee3\u7801\u5757&gt; \u5b50\u6784\u9020\u51fd\u6570</p>"},{"location":"Langs/Java/5.%20Thinking%20in%20Java/#_3","title":"\u591a\u5f62\u6027","text":"<p>\u8fd9\u6b63\u662f\u201c\u591a\u5f62\u6027\u201d\u5927\u663e\u8eab\u624b\u7684\u5730\u65b9\u3002\u7136\u800c\uff0c\u5927\u591a\u6570\u7a0b\u5e8f\u5458\uff08\u7279\u522b\u662f\u6709\u7a0b\u5e8f\u5316\u7f16\u7a0b\u80cc\u666f\u7684\uff09\u5bf9\u4e8e\u591a\u5f62\u6027\u7684\u5de5\u4f5c\u539f\u7406\u4ecd\u7136\u663e\u5f97\u6709\u4e9b\u751f\u758f\u3002\uff08\u54fc \u4f5c\u8005\u5f88\u8d34\u5fc3\u561b\uff09</p> <p>\u7ed1\u5b9a\uff08binding\uff09: \u5c06\u4e00\u4e2a\u65b9\u6cd5\u8c03\u7528\u540c\u4e00\u4e2a\u65b9\u6cd5\u4e3b\u4f53\u8fde\u63a5\u5230\u4e00\u8d77\u3002</p> <p>\u82e5\u5728\u7a0b\u5e8f\u8fd0\u884c\u4ee5\u524d\u6267\u884c\u7ed1\u5b9a\uff08\u7531\u7f16\u8bd1\u5668\u548c\u94fe\u63a5\u7a0b\u5e8f\uff0c\u5982\u679c\u6709\u7684\u8bdd\uff09\uff0c\u5c31\u53eb\u4f5c\u201c\u65e9\u671f\u7ed1\u5b9a\u201d\u3002\u5927\u5bb6\u4ee5\u524d\u6216\u8bb8\u4ece\u672a\u542c\u8bf4\u8fc7\u8fd9\u4e2a\u672f\u8bed\uff0c\u56e0\u4e3a\u5b83\u5728\u4efb\u4f55\u7a0b\u5e8f\u5316\u8bed\u8a00\u91cc\u90fd\u662f\u4e0d\u53ef\u80fd\u7684\u3002C \u7f16\u8bd1\u5668\u53ea\u6709\u4e00\u79cd\u65b9\u6cd5\u8c03\u7528\uff0c\u90a3\u5c31\u662f\u201c\u65e9\u671f\u7ed1\u5b9a\u201d\u3002</p> <p>\u52a8\u6001\u7ed1\u5b9a\uff1a\u53ef\u5728\u8fd0\u884c\u671f\u95f4\u5224\u65ad\u5bf9\u8c61\u7684\u7c7b\u578b\uff0c\u5e76\u5206\u522b\u8c03\u7528\u9002\u5f53\u7684\u65b9\u6cd5\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u7f16\u8bd1\u5668\u6b64\u65f6\u4f9d\u7136\u4e0d\u77e5\u9053\u5bf9\u8c61\u7684\u7c7b\u578b\uff0c\u4f46\u65b9\u6cd5\u8c03\u7528\u673a\u5236\u80fd\u81ea\u5df1\u53bb\u8c03\u67e5\uff0c\u627e\u5230\u6b63\u786e\u7684\u65b9\u6cd5\u4e3b\u4f53\u3002</p>"},{"location":"Langs/Java/5.%20Thinking%20in%20Java/#_4","title":"\u62bd\u8c61\u7c7b","text":"<p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff1a \u5982\u679c\u6709\u4e00\u4e2a\u8c61Instrument\u90a3\u6837\u7684\u62bd\u8c61\u7c7b\uff0c\u90a3\u4e2a\u7c7b\u7684\u5bf9\u8c61\u51e0\u4e4e\u80af\u5b9a\u6ca1\u6709\u4ec0\u4e48\u610f\u4e49\u3002\u6362\u8a00\u4e4b\uff0cInstrument\u7684\u4f5c\u7528\u4ec5\u4ec5\u662f\u8868\u8fbe\u63a5\u53e3\uff0c\u800c\u4e0d\u662f\u8868\u8fbe\u4e00\u4e9b\u5177\u4f53\u7684\u5b9e\u65bd\u7ec6\u8282\u3002\u6240\u4ee5\u521b\u5efa\u4e00\u4e2a Instrument\u5bf9\u8c61\u662f\u6ca1\u6709\u610f\u4e49\u7684\uff0c\uff08\u76ee\u7684 \u4e3a\u4e86\u907f\u514d\u7c7b\u7684\u5b9e\u4f8b\u5316\uff09\u3002\u4e3a\u8fbe\u5230\u8fd9\u4e2a\u76ee\u7684\uff0c\u53ef\u4ee4Instrument\u5185\u7684\u6240\u6709\u65b9\u6cd5\u90fd\u663e\u793a\u51fa\u9519\u6d88\u606f\u3002\u4f46\u8fd9\u6837\u505a\u4f1a\u5ef6\u8fdf\u4fe1\u606f\u5230\u8fd0\u884c\u671f\uff0c\u5e76\u8981\u6c42\u5728\u7528\u6237\u90a3\u4e00\u9762\u8fdb\u884c\u5f7b\u5e95\u3001\u53ef\u9760\u7684\u6d4b\u8bd5\u3002\u65e0\u8bba\u5982\u4f55\uff0c\u6700\u597d\u7684\u65b9\u6cd5\u90fd\u662f\u5728\u7f16\u8bd1\u671f\u95f4\u6355\u6349\u5230\u95ee\u9898\u3002</p>"},{"location":"Langs/Java/5.%20Thinking%20in%20Java/#_5","title":"\u63a5\u53e3","text":"<p>\u6211\u4eec\u53ef\u5c06\u5176\u60f3\u8c61\u4e3a\u4e00\u4e2a\u201c\u7eaf\u201d\u62bd\u8c61\u7c7b\uff08\u6ca1\u6709\u5177\u4f53\u7684\u5b9e\u65bd\u7ec6\u8282\uff09\u3002 \u5728 Java \u4e2d\uff0c\u6211\u4eec\u53ef\u91c7\u53d6\u540c\u6837\u7684\u884c\u52a8\uff0c\u4f46\u53ea\u6709\u5176\u4e2d\u4e00\u4e2a\u7c7b\u62e5\u6709\u5177\u4f53\u7684\u5b9e\u65bd\u7ec6\u8282\u3002 Hero \u5c06\u5177\u4f53\u7c7bActionCharacter\u540c\u63a5\u53e3 CanFight\uff0cCanSwim \u4ee5\u53caCanFly\u5408\u5e76\u8d77\u6765\u3002\u6309\u8fd9\u79cd\u5f62\u5f0f\u5408\u5e76\u4e00\u4e2a\u5177\u4f53\u7c7b\u4e0e\u63a5\u53e3\u7684\u65f6\u5019\uff0c\u5177\u4f53\u7c7b\u5fc5\u987b\u9996\u5148\u51fa\u73b0\uff0c\u7136\u540e\u624d\u662f\u63a5\u53e3\uff08\u5426\u5219\u7f16\u8bd1\u5668\u4f1a\u62a5\u9519\uff09\u3002</p> <pre><code>public class Adventure {\n static void t(CanFight x) { x.fight(); }\n static void u(CanSwim x) { x.swim(); }\n static void v(CanFly x) { x.fly(); }\n static void w(ActionCharacter x) { x.fight(); }\n public static void main(String[] args) {\n Hero i = new Hero();\n t(i); // Treat it as a CanFight\n u(i); // Treat it as a CanSwim\n v(i); // Treat it as a CanFly\n w(i); // Treat it as an ActionCharacter\n }\n} ///:~ \u8fd9\u91cc\u53ea\u6709 ActionCharacter \u662f\u7c7b\uff0cCanXX \u90fd\u662f interface, \u7136\u800c\u8fd9\u91cc\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u4e0a\u6eaf\u5230\u6bcf\u4e00\u4e2a\u63a5\u53e3\u7684\u4f5c\u7528\u3002\n</code></pre> <p>\u6309\u6211\u7684\u7406\u89e3\uff0cinterface \u662f\u4e3a\u4e86 multiple inheritance \u8bbe\u8ba1\u7684\u3002</p> <p>\u5230\u5e95\u5e94\u8be5\u4f7f\u7528\u4e00\u4e2a\u63a5\u53e3\u8fd8\u662f\u4e00\u4e2a\u62bd\u8c61\u7c7b\u5462\uff1f\u82e5\u4f7f\u7528\u63a5\u53e3\uff0c\u6211\u4eec\u53ef\u4ee5\u540c\u65f6\u83b7\u5f97\u62bd\u8c61\u7c7b\u4ee5\u53ca\u63a5\u53e3\u7684\u597d\u5904\u3002\u6240\u4ee5\u5047\u5982\u60f3\u521b\u5efa\u7684\u57fa\u7840\u7c7b\u6ca1\u6709\u4efb\u4f55\u65b9\u6cd5\u5b9a\u4e49\u6216\u8005\u6210\u5458\u53d8\u91cf\uff0c\u90a3\u4e48\u65e0\u8bba\u5982\u4f55\u90fd\u613f\u610f\u4f7f\u7528\u63a5\u53e3\uff0c\u800c\u4e0d\u8981\u9009\u62e9\u62bd\u8c61\u7c7b\u3002\u4e8b\u5b9e\u4e0a\uff0c\u5982\u679c\u4e8b\u5148\u77e5\u9053\u67d0\u79cd\u4e1c\u897f\u4f1a\u6210\u4e3a\u57fa\u7840\u7c7b\uff0c\u90a3\u4e48\u7b2c\u4e00\u4e2a\u9009\u62e9\u5c31\u662f\u628a\u5b83\u53d8\u6210\u4e00\u4e2a\u63a5\u53e3\u3002\u53ea\u6709\u5728\u5fc5\u987b\u4f7f\u7528\u65b9\u6cd5\u5b9a\u4e49\u6216\u8005\u6210\u5458\u53d8\u91cf\u7684\u65f6\u5019\uff0c\u624d\u5e94\u8003\u8651\u91c7\u7528\u62bd\u8c61\u7c7b\u3002</p>"},{"location":"Langs/Java/5.%20Thinking%20in%20Java/#_6","title":"\u5e38\u6570\u5206\u7ec4","text":"<p>\u7531\u4e8e\u7f6e\u5165\u4e00\u4e2a\u63a5\u53e3\u7684\u6240\u6709\u5b57\u6bb5\u90fd\u81ea\u52a8\u5177\u6709 static \u548cfinal\u5c5e\u6027\uff0c\u6240\u4ee5\u63a5\u53e3\u662f\u5bf9\u5e38\u6570\u503c\u8fdb\u884c\u5206\u7ec4\u7684\u4e00\u4e2a\u597d\u5de5\u5177\uff0c\u5b83\u5177\u6709\u4e0eC \u6216C++\u7684enum \u975e\u5e38\u76f8\u4f3c\u7684\u6548\u679c\u3002</p> <pre><code>//: Months.java\n// Using interfaces to create groups of constants\npackage c07;\npublic interface Months {\n int\n JANUARY = 1, FEBRUARY = 2, MARCH = 3, \n APRIL = 4, MAY = 5, JUNE = 6, JULY = 7, \n AUGUST = 8, SEPTEMBER = 9, OCTOBER = 10,\n NOVEMBER = 11, DECEMBER = 12;\n} ///:~\n</code></pre>"},{"location":"Langs/Java/5.%20Thinking%20in%20Java/#_7","title":"\u5185\u90e8\u7c7b","text":"<p>\u5185\u90e8\u7c7b\u53ef\u4ee5\u662f private, \u8bbe\u8ba1\u521d\u8877\u8fd8\u662f\u4e3a\u4e86\u9690\u85cf\u5b9e\u65bd\u7ec6\u8282\u3002 (1) \u6b63\u5982\u524d\u9762\u5c55\u793a\u7684\u90a3\u6837\uff0c\u6211\u4eec\u51c6\u5907\u5b9e\u73b0\u67d0\u79cd\u5f62\u5f0f\u7684\u63a5\u53e3\uff0c\u4f7f\u81ea\u5df1\u80fd\u521b\u5efa\u548c\u8fd4\u56de\u4e00\u4e2a\u53e5\u67c4\u3002 (2) \u8981\u89e3\u51b3\u4e00\u4e2a\u590d\u6742\u7684\u95ee\u9898\uff0c\u5e76\u5e0c\u671b\u521b\u5efa\u4e00\u4e2a\u7c7b\uff0c\u7528\u6765\u8f85\u52a9\u81ea\u5df1\u7684\u7a0b\u5e8f\u65b9\u6848\u3002\u540c\u65f6\u4e0d\u613f\u610f\u628a\u5b83\u516c\u5f00\u3002</p> <p>\u5185\u90e8\u7c7b\u6807\u8bc6\u7b26\uff1a\u7531\u4e8e\u6bcf\u4e2a\u7c7b\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a.class \u6587\u4ef6\uff0c\u7528\u4e8e\u5bb9\u7eb3\u4e0e\u5982\u4f55\u521b\u5efa\u8fd9\u4e2a\u7c7b\u578b\u7684\u5bf9\u8c61\u6709\u5173\u7684\u6240\u6709\u4fe1\u606f\uff08\u8fd9\u79cd\u4fe1\u606f\u4ea7\u751f\u4e86\u4e00\u4e2a\u540d\u4e3a Class\u5bf9\u8c61\u7684\u5143\u7c7b\uff09\uff0c\u6240\u4ee5\u5927\u5bb6\u6216\u8bb8\u4f1a\u731c\u5230\u5185\u90e8\u7c7b\u4e5f\u5fc5\u987b\u751f\u6210\u76f8\u5e94\u7684.class \u6587\u4ef6\uff0c\u7528\u6765\u5bb9\u7eb3\u4e0e\u5b83\u4eec\u7684Class \u5bf9\u8c61\u6709\u5173\u7684\u4fe1\u606f\u3002\u8fd9\u4e9b\u6587\u4ef6\u6216\u7c7b\u7684\u540d\u5b57\u9075\u5b88\u4e00\u79cd\u4e25\u683c\u7684\u5f62\u5f0f\uff1a\u5148\u662f\u5c01\u88c5\u7c7b\u7684\u540d\u5b57\uff0c\u518d\u8ddf\u968f\u4e00\u4e2a$\uff0c\u518d\u8ddf\u968f\u5185\u90e8\u7c7b\u7684\u540d\u5b57\u3002\u4f8b\u5982\uff0c\u7531InheritInner.java \u521b\u5efa\u7684.class \u6587\u4ef6\u5305\u62ec\uff1a InheritInner.class WithInner$Inner.class WithInner.class</p>"},{"location":"Langs/Java/5.%20Thinking%20in%20Java/#_8","title":"\u8bbe\u8ba1\u662f\u4e3a\u4e86\u2026","text":"<p>\u5728 jdk 1.1 \u63a8\u51fa\uff0c\u662f\u4e3a\u4e86 GUI \u670d\u52a1\uff0c\u65b9\u4fbf\u7f16\u5199\u63a7\u5236\u6846\u67b6\u3002</p> <p>\u4e00\u4e2a\u201c\u5e94\u7528\u7a0b\u5e8f\u6846\u67b6\u201d\u662f\u6307\u4e00\u4e2a\u6216\u4e00\u7cfb\u5217\u7c7b\uff0c\u5b83\u4eec\u4e13\u95e8\u8bbe\u8ba1\u7528\u6765\u89e3\u51b3\u7279\u5b9a\u7c7b\u578b\u7684\u95ee\u9898\u3002\u4e3a\u5e94\u7528\u5e94\u7528\u7a0b\u5e8f\u6846\u67b6\uff0c\u6211\u4eec\u53ef\u4ece\u4e00\u4e2a\u6216\u591a\u4e2a\u7c7b\u7ee7\u627f\uff0c\u5e76\u8986\u76d6\u5176\u4e2d\u7684\u90e8\u5206\u65b9\u6cd5\u3002\u6211\u4eec\u5728\u8986\u76d6\u65b9\u6cd5\u4e2d\u7f16\u5199\u7684\u4ee3\u7801\u7528\u4e8e\u5b9a\u5236\u7531\u90a3\u4e9b\u5e94\u7528\u7a0b\u5e8f\u6846\u67b6\u63d0\u4f9b\u7684\u5e38\u89c4\u65b9\u6848\uff0c\u4ee5\u4fbf\u89e3\u51b3\u81ea\u5df1\u7684\u5b9e\u9645\u95ee\u9898\u3002\u201c\u63a7\u5236\u6846\u67b6\u201d\u5c5e\u4e8e\u5e94\u7528\u7a0b\u5e8f\u6846\u67b6\u7684\u4e00\u79cd\u7279\u6b8a\u7c7b\u578b\uff0c\u53d7\u5230\u5bf9\u4e8b\u4ef6\u54cd\u5e94\u7684\u9700\u8981\u7684\u652f\u914d\uff1b\u4e3b\u8981\u7528\u6765\u54cd\u5e94\u4e8b\u4ef6\u7684\u4e00\u4e2a\u7cfb\u7edf\u53eb\u4f5c\u201c\u7531\u4e8b\u4ef6\u9a71\u52a8\u7684\u7cfb\u7edf\u201d\u3002</p> <p>\u7136\u540e\u4e66\u91cc\u4e3e\u4e86\u4e2a xxEventController \u7684\u4f8b\u5b50\uff0c\u4e5f\u5c31\u662f\u7ba1\u7406\u4e00\u7cfb\u5217\u8981\u505a\u7684\u4e8b\u60c5\uff0c\u6bcf\u4e2a\u4e8b\u60c5\u90fd\u4f5c\u4e3a\u4e00\u4e2a\u5185\u90e8 Event \u7c7b\u653e\u5728\u8fd9\u4e2a\u7279\u5b9a\u7684 EventController \u7c7b\u4e0b\u3002\u6309\u6211\u7684\u7406\u89e3\uff0c\u5176\u5b9e\u662f\u4e00\u79cd \u201c\u9700\u8981\u4f9d\u6b21\u8c03\u7528\u591a\u4e2a\u51fd\u6570\uff0c\u4e14\u5b83\u4eec\u8fd8\u9700\u8981\u8bfb\u53d6\u5171\u540c\u4fe1\u606f\uff0c\u7c7b\u4f3c\u5c5e\u4e8e\u540c\u4e00\u4f5c\u7528\u57df\u201d \u7684\u5b9e\u73b0\u65b9\u5f0f\u3002</p>"},{"location":"Langs/Java/5.%20Thinking%20in%20Java/#_9","title":"\u5bf9\u8c61\u7684\u5bb9\u7eb3","text":"<p>\u51fa\u5bf9\u8c61\u6570\u7ec4\u548c\u57fa\u672c\u6570\u636e\u7c7b\u578b\u6570\u7ec4\u5728\u4f7f\u7528\u65b9\u6cd5\u4e0a\u51e0\u4e4e\u662f\u5b8c\u5168\u4e00\u81f4\u7684\u3002\u552f\u4e00\u7684\u5dee\u522b\u5728\u4e8e\u5bf9\u8c61\u6570\u7ec4\u5bb9\u7eb3\u7684\u662f\u53e5\u67c4\uff0c\u800c\u57fa\u672c\u6570\u636e\u7c7b\u578b\u6570\u7ec4\u5bb9\u7eb3\u7684\u662f\u5177\u4f53\u7684\u6570\u503c\u3002</p> <p>\u7a0b\u5e8f\u8bbe\u8ba1\u4e00\u4e2a\u4e3b\u8981\u7684\u76ee\u6807\u5c31\u662f\u201c\u5c06\u53d1\u751f\u53d8\u5316\u7684\u4e1c\u897f\u540c\u4fdd\u6301\u4e0d\u53d8\u7684\u4e1c\u897f\u5206\u9694\u5f00\u201d\u3002</p> <pre><code>interface Compare {\n    boolean lessThan(Object lhs, Object rhs);\n    boolean lessThanOrEqual(Object lhs, Object rhs);\n} ///:~\n\npublic class SortVector extends Vector {\n    private Compare compare; // To hold the callback\n    public SortVector(Compare comp) {\n        compare = comp;\n    }\n}\n\npublic class StrSortVector { // \u533f\u540d\u7c7b\n    private SortVector v = new SortVector(\n        // Anonymous inner class:\n        new Compare() {\n            public boolean lessThan(Object l, Object r) {\n                return ((String)l).toLowerCase().compareTo(((String)r).toLowerCase()) &lt; 0;\n            }\n            public boolean lessThanOrEqual(Object l, Object r) {\n                return ((String)l).toLowerCase().compareTo(((String)r).toLowerCase()) &lt;= 0;\n            }\n        }\n    );\n}\n</code></pre>"},{"location":"Langs/Java/5.%20Thinking%20in%20Java/#exception","title":"Exception","text":"<p>\u5728\u8fdd\u4f8b\u63a7\u5236\u7406\u8bba\u4e2d\uff0c\u5171\u5b58\u5728\u4e24\u79cd\u57fa\u672c\u65b9\u6cd5\u3002\u5728\u201c\u4e2d\u65ad\u201d\u65b9\u6cd5\u4e2d\uff08Java \u548cC++\u63d0\u4f9b\u4e86\u5bf9\u8fd9\u79cd\u65b9\u6cd5\u7684\u652f\u6301\uff09\uff0c\u6211\u4eec\u5047\u5b9a\u9519\u8bef\u975e\u5e38\u5173\u952e\uff0c\u6ca1\u6709\u529e\u6cd5\u8fd4\u56de\u8fdd\u4f8b\u53d1\u751f\u7684\u5730\u65b9\u3002\u65e0\u8bba\u8c01\u53ea\u8981\u201c\u63b7\u201d\u51fa\u4e00\u4e2a\u8fdd\u4f8b\uff0c\u5c31\u8868\u660e\u6ca1\u6709\u529e\u6cd5\u8865\u6551\u9519\u8bef\uff0c\u800c\u4e14\u4e5f\u4e0d\u5e0c\u671b\u518d\u56de\u6765\u3002\u53e6\u4e00\u79cd\u65b9\u6cd5\u53eb\u4f5c\u201c\u6062\u590d\u201d\u3002\u5b83\u610f\u5473\u7740\u8fdd\u4f8b\u63a7\u5236\u5668\u6709\u8d23\u4efb\u6765\u7ea0\u6b63\u5f53\u524d\u7684\u72b6\u51b5\uff0c\u7136\u540e\u53d6\u5f97\u51fa\u9519\u7684\u65b9\u6cd5\uff0c\u5047\u5b9a\u4e0b\u4e00\u6b21\u4f1a\u6210\u529f\u6267\u884c\u3002\u82e5\u4f7f\u7528\u6062\u590d\uff0c\u610f\u5473\u7740\u5728\u8fdd\u4f8b\u5f97\u5230\u63a7\u5236\u4ee5\u540e\u4ecd\u7136\u60f3\u7ee7\u7eed\u6267\u884c\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u7684\u8fdd\u4f8b\u66f4\u8c61\u4e00\u4e2a\u65b9\u6cd5\u8c03\u7528\u2014\u2014\u6211\u4eec\u7528\u5b83\u5728Java \u4e2d\u8bbe\u7f6e\u5404\u79cd\u5404\u6837\u7279\u6b8a\u7684\u73af\u5883\uff0c\u4ea7\u751f\u7c7b\u4f3c\u4e8e\u201c\u6062\u590d\u201d\u7684\u884c\u4e3a\uff08\u6362\u8a00\u4e4b\uff0c\u6b64\u65f6\u4e0d\u662f\u201c\u63b7\u201d\u51fa\u4e00\u4e2a\u8fdd\u4f8b\uff0c\u800c\u662f\u8c03\u7528\u4e00\u4e2a\u7528\u4e8e\u89e3\u51b3\u95ee\u9898\u7684\u65b9\u6cd5\uff09\u3002</p>"},{"location":"Langs/Java/5.%20Thinking%20in%20Java/#_10","title":"\u8fd0\u884c\u671f","text":"<p>\u5bf9\u4e8e\u4f5c\u4e3a\u7a0b\u5e8f\u4e00\u90e8\u5206\u7684\u6bcf\u4e2a\u7c7b\uff0c\u5b83\u4eec\u90fd\u6709\u4e00\u4e2aClass \u5bf9\u8c61\u3002\u6362\u8a00\u4e4b\uff0c\u6bcf\u6b21\u5199\u4e00\u4e2a\u65b0\u7c7b\u65f6\uff0c\u540c\u65f6\u4e5f\u4f1a\u521b\u5efa\u4e00\u4e2a Class \u5bf9\u8c61\uff08\u66f4\u6070\u5f53\u5730\u8bf4\uff0c\u662f\u4fdd\u5b58\u5728\u4e00\u4e2a\u5b8c\u5168\u540c\u540d\u7684.class \u6587\u4ef6\u4e2d\uff09\u3002\u5728\u8fd0\u884c\u671f\uff0c\u4e00\u65e6\u6211\u4eec\u60f3\u751f\u6210\u90a3\u4e2a\u7c7b\u7684\u4e00\u4e2a\u5bf9\u8c61\uff0c\u7528\u4e8e\u6267\u884c\u7a0b\u5e8f\u7684Java \u865a\u62df\u673a\uff08JVM\uff09\u9996\u5148\u5c31\u4f1a\u68c0\u67e5\u90a3\u4e2a\u7c7b\u578b\u7684Class \u5bf9\u8c61\u662f\u5426\u5df2\u7ecf\u8f7d\u5165\u3002\u82e5\u5c1a\u672a\u8f7d\u5165\uff0cJVM \u5c31\u4f1a\u67e5\u627e\u540c\u540d\u7684.class \u6587\u4ef6\uff0c\u5e76\u5c06\u5176\u8f7d\u5165\u3002</p>"},{"location":"Langs/Java/5.%20Thinking%20in%20Java/#_11","title":"\u7f51\u7edc","text":"<p>\u201c\u505c\u7559\u5728\u4e00\u4e2a\u5730\u65b9\u201d\u7684\u673a\u5668\u53eb\u4f5c\u201c\u670d\u52a1\u5668\u201d\uff08Server\uff09\uff1b\u5230\u5904\u201c\u627e\u4eba\u201d\u7684\u673a\u5668\u5219\u53eb\u4f5c\u201c\u5ba2\u6237\u673a\u201d\uff08Client\uff09 \u6216\u8005\u201c\u5ba2\u6237\u201d\u3002\u5b83\u4eec\u4e4b\u95f4\u7684\u533a\u522b\u53ea\u6709\u5728\u5ba2\u6237\u673a\u8bd5\u56fe\u540c\u670d\u52a1\u5668\u8fde\u63a5\u7684\u65f6\u5019\u624d\u663e\u5f97\u975e\u5e38\u660e\u663e\u3002\u4e00\u65e6\u8fde\u901a\uff0c\u5c31\u53d8\u6210\u4e86\u4e00\u79cd\u53cc\u5411\u901a\u4fe1\uff0c\u8c01\u6765\u626e\u6f14\u670d\u52a1\u5668\u6216\u8005\u5ba2\u6237\u673a\u4fbf\u663e\u5f97\u4e0d\u90a3\u4e48\u91cd\u8981\u4e86\u3002 \u6240\u4ee5\u670d\u52a1\u5668\u7684\u4e3b\u8981\u4efb\u52a1\u662f\u4fa6\u542c\u5efa\u7acb\u8fde\u63a5\u7684\u8bf7\u6c42\uff0c\u8fd9\u662f\u7531\u6211\u4eec\u521b\u5efa\u7684\u7279\u5b9a\u670d\u52a1\u5668\u5bf9\u8c61\u5b8c\u6210\u7684\u3002\u800c\u5ba2\u6237\u673a\u7684\u4efb\u52a1\u662f\u8bd5\u7740\u4e0e\u4e00\u53f0\u670d\u52a1\u5668\u5efa\u7acb\u8fde\u63a5\uff0c\u8fd9\u662f\u7531\u6211\u4eec\u521b\u5efa\u7684\u7279\u5b9a\u5ba2\u6237\u673a\u5bf9\u8c61\u5b8c\u6210\u7684\u3002 IP \u5730\u5740\u662f\u4ed6\u5c45\u4f4f\u7684\u623f\u5b50\uff0c\u800c\u7aef\u53e3\u662f\u4ed6\u5728\u7684\u90a3\u4e2a\u623f\u95f4\uff08\u4e8c\u7ea7\u5b9a\u5740\u63aa\u65bd\uff09\u3002</p> <p>ServerSocket\u7684\u4e3b\u8981\u4efb\u52a1\u662f\u5728\u90a3\u91cc\u8010\u5fc3\u5730\u7b49\u5019\u5176\u4ed6\u673a\u5668\u540c\u5b83\u8fde\u63a5\uff0c\u518d\u8fd4\u56de\u4e00\u4e2a\u5b9e\u9645\u7684Socket\u3002\u8fd9\u6b63\u662f\u201cServerSo cket\u201d\u8fd9\u4e2a\u547d\u540d\u4e0d\u6070\u5f53\u7684\u5730\u65b9\uff0c\u56e0\u4e3a\u5b83\u7684\u76ee\u6807\u4e0d\u662f\u771f\u7684\u6210\u4e3a\u4e00\u4e2aSocket\uff0c\u800c\u662f\u5728\u5176\u4ed6\u4eba\u540c\u5b83\u8fde\u63a5\u7684\u65f6\u5019\u4ea7\u751f\u4e00\u4e2a Socket\u5bf9\u8c61\u3002</p>"},{"location":"Langs/Java/To%20Do%20Path/","title":"To Do Path","text":"<ul> <li>Spring test</li> <li>log</li> <li>dubbo \u4f8b\u5b50</li> </ul>"},{"location":"Langs/Java/1.%20basic/1.%20index/","title":"1. index","text":"<p>History: 1992, Sun microsystems(\u540e\u88ab Oracle \u6536\u8d2d) -&gt; \u56e0\u4e3a\u60f3\u5f00\u53d1 platform-independent \u79fb\u52a8\u8f6f\u4ef6\u4ece\u800c\u542f\u53d1\u7684\u8bed\u8a00\u3002\u4e00\u5f00\u59cb\u547d\u540d\u4e3a\u5f00\u53d1\u8005\u7a97\u524d\u7684oak \u6811\uff0c\u540e\u624d\u53d8\u6210\u4e86 coffee java -&gt; \u54c7\u4e00\u5f00\u59cb Java \u8fd8\u88c5\u5728\u4e86\u6d4f\u89c8\u5668\u91cc\uff0c\u662f js \u7684\u8bbe\u5b9a\u5440\u2026</p> <p>Java is an informal word for \"coffee,\" (from that coffee from the Island of Java)\u00a0so the next time you go out for breakfast, you can jauntily order a cup of java.</p> <p>The world that Java arrived into was very different to the one we live in today. Microsoft was counting down to their August release of Windows 95 (which would launch without a Web browser). Netscape was yet to go public (IPO) on the NASDAQ exchange, although its browser was steadily gaining in popularity. The Internet, as a whole, was yet to truly enter the public consciousness.</p> <p>Java was released in 1995, while the first version of Python came out four years earlier. What has led to Java becoming more popular, while Python has only overtaken it in recent years \u5929\u65f6\u5730\u5229\u4eba\u548c\uff0c\u501f\u7740 Internet \u7684\u4e1c\u98ce\uff0c\u5e76\u4e14 jdk2 \u5c31\u63a8\u51fa\u4e86 jdbc \u7b49\u670d\u52a1\u7aef\u7279\u6027\uff0c\u53c8\u6210\u529f\u6253\u5165\u540e\u7aef\u3002</p> <p>As a harbinger of things to come, Sun\u2019s initial release of the Java language was accompanied by HotJava, a browser intended to compete with the then-dominant Mosaic browser, and to supercede it via the introduction of richer, dynamic applications using Java\u2019s applet technology. Despite this, few could have predicted the impact that Java\u2019s seemingly modest release would ultimately have.</p> <p>Java EE \u4e3a\u4ec0\u4e48\u8981\u6539\u540d\u4e3a Jakarta EE\uff1fJakarta \u4e0d\u662f\u5370\u5ea6\u5c3c\u897f\u4e9a\u7684\u9996\u90fd\u5417\uff1f-CSDN\u535a\u5ba2</p> <p>1995, first implementation,\u300cWrite Once, Run Anywhere\u300d\u7684\u6b63\u724c\u59cb\u7956</p> <p>\u90a3\u4e48\uff0cJavaScript \u4e3a\u4ec0\u4e48\u4ee5 java \u4e3a\u5934\u5462 =&gt; \u540c\u6837\u662f 1995 \u5e74\uff0cThe name JavaScript came from Netscape's support of Java applets within its browser. Many say it was also a marketing tactic to divert some attention from Java, which was the most buzzed-about language at the time.\uff08\u6211\u53bb \u539f\u6765\u662f\u60f3\u78b0\u74f7\u6765\u7684</p> <p>Compilation:  \u4e0d\u4e00\u5b9a\u662f target machine code \u54e6\uff0c\u8fd8\u53ef\u4ee5\u662f bytedcode \u548c other programming language</p> <p>Platform Dependency Reasons:</p> <ul> <li>Opreating System</li> <li>Executable file format ~ PE(Windows), ELF(Linux)</li> <li>System calls, e.g., file opening</li> <li>Hardware</li> <li>Processor ~ x86 vs ARM Instruction sets</li> </ul> <p>Java \u4ecb\u4e8e compilation \u548c interpretation \u7684\u4e2d\u95f4\uff1asource code(java, scala, groovy) -&gt; [Java compiler] -&gt; Java bytecode(.class)(conpacted, optimised) -&gt; (Java interpreter/jvm)(JIT compilation: just in time) -&gt; results</p> <p>JVM:</p> <ul> <li>instruction set -&gt; Java bytecode: Loading &amp; interpreting Java bytecode</li> <li>Security</li> <li>Manipulates memory at runtime -&gt; Automatic memory management</li> </ul> <p>One JVM instance for one java bytecode</p> <p>JDK: JRE + Debug tools</p> <p>JRE: JVM + libs</p> <p>JIT:</p> <p>\u9891\u7e41\u6267\u884c\u7684\u4ee3\u7801 -&gt; hot spot -&gt; cache Machine Code</p> <p>Inlay hints</p> <p>\u5173\u4e8eJDK(Dev tools includes compiler + JRE java runtime environment):</p> <ul> <li>OpenJDK - GPL V2\u534f\u8bae\uff0c\u53ef\u4ee5\u514d\u8d39\u4f7f\u7528\uff0c\u6e90\u7801\u5f00\u653e</li> <li>OracleJDK\u3001amazon\u7684Corretto JDK \u7b49\u7b49\uff0c\u79f0\u4e3a\u53d1\u884c\u7248</li> </ul> <p>Java SE\u3001OpenJDK\u3001Java EE\u3001Java \u6846\u67b6\u3001Java ME \u7b49\u6982\u5ff5\u4e4b\u95f4\u7684\u533a\u522b-CSDN\u535a\u5ba2</p> <p>\u5bf9\u4e8e\u4e0d\u540c\u8bed\u8a00\u7684\u7279\u6027\u548c\u5b83\u4eec\u9002\u5408\u7684\u573a\u666f\uff0c\u6211\u53c8\u6709\u4e86\u66f4\u6df1\u7684\u8ba4\u8bc6\uff0c\u867d\u7136\u88ab\u732a\u732a\u8bf4\u662f\u300c\u6c11\u79d1\u300d\ud83e\udd23 \u50cf Java \u8fd9\u79cd\u7eaf\u7cb9\u7684\u9762\u5411\u5bf9\u8c61\u8bed\u8a00\uff0c\u7279\u522b\u9002\u5408\u7ef4\u62a4\u6570\u636e\u7ed3\u6784\uff0c\u6240\u4ee5\u5728\u670d\u52a1\u7aef\u53d1\u6325\u5149\u5927\uff1b JS \u504f\u51fd\u6570\u5f0f\u53c8\u9762\u5411\u8fc7\u7a0b\uff0c\u6240\u4ee5\u5f88\u8d34\u5408\u524d\u7aef\u7684\u5404\u79cd\u56de\u8c03\uff1b\u800c Golang \u7684\u5199\u6cd5\u5176\u5b9e\u6211\u5f88\u559c\u6b22\uff0c\u4e0d\u641e OOP \u53ea\u6709\u5355\u7eaf\u7684 struct\uff0c\u5e76\u4e14 go routine \u65e0\u8111\u8c03\u3002</p> <p>\u4f46\uff0c\u6bcf\u79cd\u8bed\u8a00\u6ca1\u6709\u7684\u90e8\u5206\uff0c\u4e5f\u5728\u9010\u6e10\u7684\u8865\u5145\uff0c\u6709\u65f6\u4f1a\u8ba9\u4eba\u89c9\u5f97\u6709\u70b9\u6742\u7cc5\uff1a</p> <ul> <li> <p>JS \u7684\u5bf9\u8c61\u7ef4\u62a4\uff0c\u4e4b\u524d\u7684\u6784\u9020\u51fd\u6570\u548c prototype \u5728\u6211\u770b\u6765\u5176\u5b9e\u5c31\u662f\u300c\u62ab\u7740 class \u5916\u8863\u7684\u51fd\u6570\u300d\uff0c\u6240\u4ee5\u540e\u6765\u53c8\u51fa\u4e86 class\u3002\u5176\u5b9e\u6211\u66f4\u559c\u6b22 go \u7684 struct type, \u6211\u89c9\u5f97\u66f4\u5951\u5408\u51fd\u6570\u5f0f\u7f16\u7a0b\u7684\u7406\u5ff5\u3002</p> </li> <li> <p>Java \u4e0d\u80fd\u5355\u72ec\u5b58\u5728\u51fd\u6570\uff0c\u6240\u4ee5\u9700\u8981\u300c\u7a0d\u540e\u6267\u884c\u7684\u65b9\u6cd5\u300d\u90fd\u5f97\u5148\u6784\u9020\u4e2a\u7c7b\u51fa\u6765\u5148\uff0c\u5c31\u6bd4\u8f83\u9ebb\u70e6\u3002\u6240\u4ee5\u540e\u6765\u51fa\u73b0\u4e86 \u03bb \u5145\u5f53\u56de\u8c03\u51fd\u6570\u3002\u4f46\u5b83\u7684\u5b9e\u73b0\u548c JS \u5e76\u4e0d\u4e00\u6837\uff0c\u6bd4\u5982\u524d\u8005\u5728\u56de\u8c03\u51fd\u6570\u5185\u53ef\u4ee5\u83b7\u53d6\u5230\u5916\u5c42\u7684\u53d8\u91cf\uff0c\u662f\u56e0\u4e3a\u51fd\u6570\u8c03\u7528\u6808\u7684\u7f18\u6545\uff1b\u800c\u540e\u8005\u5b9e\u9645\u662f copy \u4e86\u4e00\u4efd\u5916\u5c42\u7684\u503c\u4f20\u5230\u51fd\u6570\u91cc\uff0c\u56e0\u6b64\u4f7f\u7528\u7684\u53d8\u91cf\u5fc5\u987b\u662f final \u7684\uff0c\u4e0d\u7136\u5c31\u53ef\u80fd\u548c\u5916\u9762\u5bf9\u4e0d\u4e0a\u4e86\u3002</p> </li> <li>Golang \u4e4b\u524d\u6ca1\u6709\u6cdb\u578b\u771f\u7684\u5f88\u9ebb\u70e6\uff0c\u56e0\u4e3a\u8fd9\u5c31\u610f\u5473\u7740\u5916\u754c\u4e00\u5b9a\u5f97\u77e5\u9053\u5165\u53c2\u7684\u57fa\u672c\u7ed3\u6784\uff0c\u7136\u540e reflect \u5f3a\u884c\u8f6c\u6362\uff0c\u4e00\u8f6c\u6362\u4e0d\u4e0a\u5c31\u5f97\u62a5\u9519\u4e86\u3002</li> </ul>"},{"location":"Langs/Java/1.%20basic/1.%20index/#packages","title":"Packages","text":"<ul> <li>\u9876\u90e8\u7684 import \u662f\u4e3a\u4e86\u5f00\u53d1\u8005\u65b9\u4fbf\uff0c\u7f16\u8bd1\u65f6\u4f1a\u5c06\u4ee3\u7801\u91cc\u7684\u7c7b\u66ff\u6362\u6210 complete path \u7c7b\u540d\u7684</li> <li>fully qualified class name v.s. simple class name</li> <li><code>javac someClassPath</code></li> <li><code>javac -classpath absoluteClassPathDirectory someClassPath</code></li> <li><code>echo $CLASSPATH</code></li> <li>java (\u53c2\u6570\u662f)\u7c7b\u540d</li> <li>\u53ef\u6267\u884cjar\u5305 | wangqi\u7684blog</li> <li>\u5728Java\u865a\u62df\u673a\u6267\u884c\u7684\u65f6\u5019\uff0cJVM\u53ea\u770b\u5b8c\u6574\u7c7b\u540d\uff0c\u56e0\u6b64\uff0c\u53ea\u8981\u5305\u540d\u4e0d\u540c\uff0c\u7c7b\u5c31\u4e0d\u540c\u3002\u5305\u6ca1\u6709\u7236\u5b50\u5173\u7cfb\u3002java.util\u548cjava.util.zip\u662f\u4e0d\u540c\u7684\u5305\uff0c\u4e24\u8005\u6ca1\u6709\u4efb\u4f55\u7ee7\u627f\u5173\u7cfb\u3002</li> </ul>"},{"location":"Langs/Java/1.%20basic/1.%20index/#variables","title":"Variables","text":"<ul> <li>lowerCamelCase</li> <li>Strongly Typed (consistent with)</li> <li>Why is Java \"String\" type written in capital letter while \"int\" is not? // data type of an object will start with upperCase, and that will hold an object reference.</li> <li>char - single quote!(2 bytes unsigned integer) - Java \u7684 unicode(character set) implementation/store(encoding schema)\uff1autf-16 - &lt;'B', \\u0042, 66, 0x0042&gt;, which means that char variable can be initialized by unicode escape seq., char literal and int literal.</li> <li>whole numbers: byte(1 byte) short(2 bytes) int(4 bytes - 2 billion) as opposed to long(with L at the end - 8 bytes) // 1 billion = 9 zeros // \u8d4b\u503c\u53ef\u4ee5\u662f\u5176\u4ed6\u8fdb\u5236\uff0c\u6253\u5370\u51fa\u6765\u662f\u5341\u8fdb\u5236</li> <li>Decimal numbers: float(4 bytes, 6-7 decimal digits) double(8 bytes, 15-16 decimal digits) BigDecimal(used with money) // always stick to int&amp;double</li> <li>instance variable (assignment statements cannot appear at class level), local variables(dont get default value)</li> <li>type cast: here s is of larger type and the method is not applying a type cast</li> </ul>"},{"location":"Langs/Java/1.%20basic/1.%20index/#booleans-and-conditionals","title":"Booleans and Conditionals","text":"<ul> <li>String.equals()</li> </ul>"},{"location":"Langs/Java/1.%20basic/1.%20index/#functions","title":"Functions","text":"<ul> <li> <p>Parameters/Formal parameters are values the function expects to receive. Arguments/Actual parameters are the values being passed in.</p> </li> <li> <p>Method signature includes only method name and parameter list and not the methods return type.</p> </li> <li> <p>Object state  v.s. class-level</p> </li> <li> <p>Method Overloading</p> </li> <li> <p>varargs \u76f8\u5f53\u4e8e js \u7684 spread.. <code>public static void main(String[] args){</code>} or <code>public static void main(String... args){}</code></p> </li> <li> <p>Math.random</p> </li> </ul> <pre><code>  double randomNumber = Math.random() * 3;\n  int integer = (int) randomNumber;\n\n  switch (integer) {\n    case 0: return \"rock\";\n    case 1: return \"paper\";\n    case 2: return \"scissors\";\n    default: return \"\";  //default case not possible.\n\n  }\n</code></pre> <ul> <li>\u4f20\u503c\u8fd8\u662f\u4f20\u5f15\u7528\uff1f \u4f20\u503c\u3002\u5f53\u4f20\u5bf9\u8c61\u7684\u65f6\u5019\uff0c\u5b9e\u53c2 hold \u7684\u662f\u201c\u5bf9\u8c61\u7684\u5730\u5740\u201d\uff0c\u5f62\u53c2\u63a5\u6536\u8fc7\u6765\uff0c\u4e5f\u590d\u5236\u4e86\u4e00\u4efd\u201c\u5bf9\u8c61\u7684\u5730\u5740\u201d\u5e76\u5c06\u81ea\u5df1\u6307\u5411\u5b83\u3002 (\u5b9e\u9645\u4e0a\uff0c\u6211\u89c9\u5f97 js \u91cc\u4e5f\u662f\u4f20\u5bf9\u8c61\u5730\u5740\u8fd9\u4e2a\u503c\uff0c\u53ea\u662f\u53ef\u80fd js \u91cc\u672c\u6765\u6ca1\u6709\u5730\u5740\u8fd9\u4e2a\u6982\u5ff5\uff0c\u4e3a\u4fbf\u4e8e\u89e3\u91ca\uff0c\u5c31\u4f1a\u7edf\u4e00\u8bf4\u6210\u4f20\u5f15\u7528\u4e86)</li> </ul>"},{"location":"Langs/Java/1.%20basic/1.%20index/#collections","title":"Collections","text":""},{"location":"Langs/Java/1.%20basic/1.%20index/#list-interface","title":"List interface","text":"<p>\u53ef\u4ee5\u6309\u7167 Positional, Search, Iteration, Range-view \u8fd9\u4e48\u6765\u5206\u7c7b</p> <ul> <li> <p>print array: print refrence that point to it -&gt; Arrays.toSring(arr)</p> </li> <li> <p>Arrays.copyOf()</p> </li> <li> <p>ArrayList: can only store objects. It cant store primitive.</p> </li> <li> <p><code>*ArrayList*&lt;*String*&gt; names = new *ArrayList*&lt;*String*&gt;();</code></p> </li> </ul> <p>ArrayList is a kind of List and List implements Collection interface. The Collection container expects only Objects data types and all the operations done in Collections, like iterations, can be performed only on Objects and not Primitive data types</p> <ul> <li>.stream().filter().forEach()     \uff08stream \u662f\u60f0\u6027\u6c42\u503c\u7684\uff09</li> </ul> <pre><code>  // creating a Stream of strings \n  Stream&lt;String&gt; s = Stream.of(\"1\", \"2\", \"3\", \"4\"); \n\n  // using Collectors toList() function \n  List&lt;String&gt; myList = s.collect(Collectors.toList()); \n\n  ArrayList&lt;String&gt; myArrayList = new ArrayList&lt;String&gt;();\n  myArrayList.addAll(myList);\n\n</code></pre> <ul> <li> <p>Convert from array: Arrays.asList(SomeArray);</p> </li> <li> <p>List interface:</p> </li> <li>Array.sort: min -&gt; max</li> <li>\u5e38\u89c1\u6570\u7ec4\u64cd\u4f5c<ul> <li>\u65b0\u5efa\uff1a<code>new ArrayList&lt;&gt;(intCapacity)</code></li> <li>\u65b0\u5efa\uff1a<code>new ArrayList&lt;&gt;(Arrays.asList(\"a\", \"b\"))</code>;</li> <li>\u65b0\u5efa\uff1a<code>new ArrayList&lt;&gt;(List.of(\"a\", \"b\"))</code>;</li> <li>\u65b0\u589e\u6279\u91cf\uff1a<code>Collections.addAll(arrayList, \"c\", \"d\")</code>;</li> <li>\u4ece\u590d\u5236\u4e2d\u65b0\u5efa\uff1a<code>java.util.Arrays.copyOfRange(LineSegment[] original, int from, int to)</code></li> <li>Stream \u64cd\u4f5c:<ul> <li>`xxList.stream().allMatch();</li> <li><code>xxList.stream().collect(Collectors.groupingBy(xx::getName));</code></li> <li>\u53bb\u91cd\u53d6\u503c\uff1a<code>detailList.stream().filter(ele -&gt; ele.getId().equals(ele.getPid())).distinct().collect(Collectors.toList());</code></li> <li><code>xxList.stream().collect(Collectors.toMap(xx::getName, Function.identity()))</code><ul> <li>\u5982\u679c key \u503c\u6709\u91cd\u590d\uff0c\u4f1a\u62a5\u9519 <code>IllegalStateException: Duplicate key</code>, \u9700\u8981\u7c7b\u4f3c <code>Map&lt;String, String&gt; phoneBook = people.stream().collect\uff08Collectors.toMap(Person::getName, Person::getAddress, (a1, a2) -&gt; a1));</code></li> </ul> </li> </ul> </li> </ul> </li> </ul>"},{"location":"Langs/Java/1.%20basic/1.%20index/#class","title":"Class","text":"<ul> <li>\u5173\u4e8e getter \u548c setter<ul> <li>\u6211\u81ea\u5df1\u4f1a\u8ba4\u4e3a\u6709\u65f6\u88ab\u6ee5\u7528\u4e86\u867d\u7136\u5728 Java \u91cc\u8fd9\u662f\u4e00\u79cd convention.</li> <li>\u53e6\u5916\uff0cGetters and setters do not affect memory usage. The method implementations of getter/setter are stored with the\u00a0<code>Class</code>\u00a0of which there is only one (in a given classloader). The instances only store the state of the object. jvm \u4f1a\u5bf9 getter/setter \u8fdb\u884c\u4f18\u5316\u7684</li> <li>I think that if you use lombok to create getters and setters, you probably don't need them.</li> </ul> </li> <li>Private(fields) vs Public(methods, constructors) // \u79f0\u4e3a access modifiers \u6216 access levels</li> <li>Default Constructor: Compiler inserts one with no params(no-args constructor) // constructor \u5efa\u7b51\u5de5\u4eba</li> <li>overloads four constructors: \u53ef\u4ee5\u5728 constructor \u91cc\u7684\u7b2c\u4e00\u53e5\u91cc\u8c03\u7528 <code>this(..)</code>//\u4f46\u662f\u53ea\u80fd\u8c03\u7528\u4e00\u6b21\u3001\u5e76\u4e14\u8fd8\u6ca1\u6709\u521d\u59cb\u5316\u5b8c\u6bd5\u7684\u54df</li> <li>Primitive(cant be null) v.s. Class Type(can be null)</li> <li>Mutable vs immutable</li> <li>Wrapper Class: Every (immutable) class wraps primitive, when needs to be nullable, or needs to call methods.</li> </ul> <pre><code>public boolean equals(Object obj) {\n  if (obj == null) {\n    return false;\n  }\n\n  if (!(obj instanceof Item)) {\n    return false;\n  }\n\n  Item item = (Item)obj; // \u5148\u5224\u65ad\u662f\u4e0d\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u518d typecast \u505a\u5bf9\u8c61\u503c\u5224\u65ad\n  return this.name.equals(item.name) &amp;&amp; this.price == item.price;\n}\n</code></pre> <ul> <li>Object that are <code>equal</code> must always share the same <code>hashCode</code></li> <li>private constructor: Class cant be initianted, like Math class</li> </ul>"},{"location":"Langs/Java/1.%20basic/1.%20index/#enum","title":"Enum","text":"<p>Java \u7684 enum \u672c\u8eab\u5c31\u662f\u4e00\u4e2a final Class \u65e0\u6cd5\u88ab\u7ee7\u627f. \u4e00\u4e9b\u8e29\u5230\u7684\u70b9\uff1a  Why can't enum's constructor access static fields?: \u9700\u8981\u4f7f\u7528 static \u5757\u6765\u521d\u59cb\u5316 static \u53d8\u91cf</p> <p>\u904d\u5386\u6570\u636e\uff1a - Arrays.stream(xxEnum.values()) - Arrays.asList(seasons.values()).                   forEach(season -&gt; System.out.println(season));</p>"},{"location":"Langs/Java/1.%20basic/1.%20index/#_1","title":"\u8bb0\u5f55\u7c7b","text":"<p>\u4f7f\u7528<code>String</code>\u3001<code>Integer</code>\u7b49\u7c7b\u578b\u7684\u65f6\u5019\uff0c\u8fd9\u4e9b\u7c7b\u578b\u90fd\u662f\u4e0d\u53d8\u7c7b\uff0c\u4e00\u4e2a\u4e0d\u53d8\u7c7b\u5177\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a</p> <ol> <li>\u5b9a\u4e49class\u65f6\u4f7f\u7528<code>final</code>\uff0c\u65e0\u6cd5\u6d3e\u751f\u5b50\u7c7b\uff1b</li> <li>\u6bcf\u4e2a\u5b57\u6bb5\u4f7f\u7528<code>final</code>\uff0c\u4fdd\u8bc1\u521b\u5efa\u5b9e\u4f8b\u540e\u65e0\u6cd5\u4fee\u6539\u4efb\u4f55\u5b57\u6bb5\u3002</li> </ol> <p>\u5047\u8bbe\u6211\u4eec\u5e0c\u671b\u5b9a\u4e49\u4e00\u4e2a<code>Point</code></p>"},{"location":"Langs/Java/1.%20basic/1.%20index/#_2","title":"\u83b7\u53d6\u6587\u4ef6","text":"<pre><code>URL path1 = this.getClass().getResource(fileName);\nURL path2 = this.getClass().getClassLoader().getResource(fileName);\n</code></pre> <p>\u7b2c\u4e00\u79cd\uff1aThe process of finding the resource will be delegated to the class object\u2019s class loader. In other words, the getResouce() method defined on the Class instance will eventually call ClassLoader\u2018s getResouce() method. \u5165\u53c2 fileName \u53ef\u4ee5\u5373\u662f absolute \u53c8\u662f relative, relative \u7684\u8bdd\u5c31\u662f\u76f8\u5bf9 class's package.</p> <p>\u7b2c\u4e8c\u79cd\uff1aThe ClassLoader class uses a delegation model to search for classes and resources. \u6240\u4ee5\u5b9e\u9645\u4e0a\u6267\u884c\u64cd\u4f5c\u7684\u662f the ClassLoader's parent ClassLoader.</p>"},{"location":"Langs/Java/1.%20basic/1.%20index/#interface","title":"Interface","text":"<ul> <li>Mostly only public abstract methods.<ul> <li>public static final fields.</li> <li>abstract method.</li> <li>default method: instance method and should be overridable.</li> <li>static method.</li> </ul> </li> <li>No state, non-instantiable.</li> <li>Reference type, not object type</li> <li>Marker interface, like Java.lang.Cloneable</li> <li>Default method: \u907f\u514d interface \u65b0\u589e\u65b9\u6cd5\u65f6\uff0c\u5b9e\u73b0\u5b83\u7684\u7c7b\u4e0d\u517c\u5bb9\u7684\u60c5\u51b5</li> <li>Static method</li> </ul>"},{"location":"Langs/Java/1.%20basic/1.%20index/#interface-vs-abstract-class","title":"Interface v.s. abstract class","text":"<p>Philosophy: Interface \u662f has/can do\uff0c\u4ee3\u8868\u6709\u4ec0\u4e48\u7279\u6027\uff0c\u56e0\u6b64\u53ef\u4ee5 implement \u591a\u4e2a\uff1b\u800c abstract class \u662f is-a\uff0c\u4ee3\u8868\u672c\u6027 Design\uff1a\u524d\u8005 strategyt method design pattern, \u540e\u8005template design pattern\uff08\u6bd4\u65b9\u8bf4\u6709default implementation\uff09</p>"},{"location":"Langs/Java/1.%20basic/1.%20index/#_3","title":"\u53cd\u5c04","text":""},{"location":"Langs/Java/1.%20basic/1.%20index/#class_1","title":"class \u7c7b","text":"<p><code>class</code>\u662f\u7531JVM\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\u52a8\u6001\u52a0\u8f7d\u7684\u3002JVM\u5728\u7b2c\u4e00\u6b21\u8bfb\u53d6\u5230\u4e00\u79cd<code>class</code>\u7c7b\u578b\u65f6\uff0c\u5c31\u4e3a\u5176\u521b\u5efa\u4e00\u4e2a<code>Class</code>\u7c7b\u578b\u7684\u5b9e\u4f8b\uff0c\u5e76\u5173\u8054\u8d77\u6765\uff0c\u5c06\u5176\u52a0\u8f7d\u8fdb\u5185\u5b58\u3002</p> <p>\u53cd\u5c04\u5b9a\u4e49\uff1a\u901a\u8fc7<code>Class</code>\u83b7\u53d6<code>class</code>\u5b9e\u4f8b\u4fe1\u606f\u7684\u65b9\u6cd5\u3002</p> <ul> <li>\u901a\u8fc7 Class \uff1a Class cls = String.class;</li> <li>\u901a\u8fc7\u5b9e\u4f8b\uff1aClass cls = s.getClass();</li> <li>\u901a\u8fc7\u5b8c\u6574\u7c7b\u540d\uff1aClass cls = Class.forName(\"java.lang.String\"); // \u8fd4\u56de the instance of this Class</li> </ul> <p>Class \u5339\u914d\u6bd4 instanceof \u66f4\u7cbe\u786e\uff0c\u9650\u5b9a\u5f53\u524d class</p> <p>\u901a\u8fc7 Class \u5b9e\u4f8b\u83b7\u53d6\u57fa\u672c\u4fe1\u606f\uff1a</p> <pre><code>public class Main {\n    public static void main(String[] args) {\n        printClassInfo(\"\".getClass()); // \u6ce8\u610f\u8fd4\u56de\u7684\u662f\u5b9e\u4f8b\u54e6\n        printClassInfo(Runnable.class);\n        printClassInfo(java.time.Month.class);\n        printClassInfo(String[].class);\n        printClassInfo(int.class);\n    }\n\n    static void printClassInfo(Class cls) {\n        System.out.println(\"Class name: \" + cls.getName());\n        System.out.println(\"Simple name: \" + cls.getSimpleName());\n        if (cls.getPackage() != null) {\n            System.out.println(\"Package name: \" + cls.getPackage().getName());\n        }\n        System.out.println(\"is interface: \" + cls.isInterface());\n        System.out.println(\"is enum: \" + cls.isEnum());\n        System.out.println(\"is array: \" + cls.isArray());\n        System.out.println(\"is primitive: \" + cls.isPrimitive());\n    }\n}\n\n</code></pre>"},{"location":"Langs/Java/1.%20basic/1.%20index/#_4","title":"\u52a8\u6001\u52a0\u8f7d","text":"<p>JVM\u5728\u6267\u884cJava\u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u5e76\u4e0d\u662f\u4e00\u6b21\u6027\u628a\u6240\u6709\u7528\u5230\u7684class\u5168\u90e8\u52a0\u8f7d\u5230\u5185\u5b58\uff0c\u800c\u662f\u7b2c\u4e00\u6b21\u9700\u8981\u7528\u5230class\u65f6\u624d\u52a0\u8f7d\uff0c\u56e0\u6b64\u53ef\u4ee5\u5728\u8fd0\u884c\u671f\u6839\u636e\u6761\u4ef6\u6765\u63a7\u5236\u52a0\u8f7dclass\u3002</p> <p>\u6bd4\u5982\u901a\u8fc7 <code>Class.forName(name);</code> \u5224\u65ad\u67d0\u5e93\u6709\u6ca1\u6709\u5728 classpath \u91cc\uff0c\u5e76\u6267\u884c\u4e0d\u540c\u65b9\u6cd5\u3002</p>"},{"location":"Langs/Java/1.%20basic/1.%20index/#_5","title":"\u6267\u884c\u987a\u5e8f","text":"<p>constructor -&gt; static -&gt; load on demand other classes</p>"},{"location":"Langs/Java/1.%20basic/1.%20index/#field","title":"Field","text":"<p>class.gerField()\u3001class.getDeclaredField() \u53ef\u4ee5\u83b7\u53d6 Field \u5b9e\u4f8b\u3002</p> <p>\u901a\u8fc7Field\u5b9e\u4f8b\u53ef\u4ee5\u83b7\u53d6\u5b57\u6bb5\u4fe1\u606f\uff1a<code>getName()</code>\uff0c<code>getType()</code>\uff0c<code>getModifiers()</code>\uff1b</p> <p>\u901a\u8fc7Field\u5b9e\u4f8b\u53ef\u4ee5\u8bfb\u53d6\u6216\u8bbe\u7f6e\u67d0\u4e2a\u5bf9\u8c61\u7684\u5b57\u6bb5\uff0c\u5982\u679c\u5b58\u5728\u8bbf\u95ee\u9650\u5236\uff0c\u8981\u9996\u5148\u8c03\u7528<code>setAccessible(true)</code>\u6765\u8bbf\u95ee\u975e<code>public</code>\u5b57\u6bb5\u3002</p> <p>\u901a\u8fc7\u53cd\u5c04\u8bfb\u5199\u5b57\u6bb5\u662f\u4e00\u79cd\u975e\u5e38\u89c4\u65b9\u6cd5\uff0c\u5b83\u4f1a\u7834\u574f\u5bf9\u8c61\u7684\u5c01\u88c5\u3002</p>"},{"location":"Langs/Java/1.%20basic/1.%20index/#method","title":"Method","text":"<p>\u901a\u8fc7<code>Class</code>\u5b9e\u4f8b\u7684\u65b9\u6cd5\u53ef\u4ee5\u83b7\u53d6<code>Method</code>\u5b9e\u4f8b\uff1a<code>getMethod()</code>\uff0c<code>getMethods()</code>\uff0c<code>getDeclaredMethod()</code>\uff0c<code>getDeclaredMethods()</code>\uff1b</p> <p>\u901a\u8fc7<code>Method</code>\u5b9e\u4f8b\u53ef\u4ee5\u83b7\u53d6\u65b9\u6cd5\u4fe1\u606f\uff1a<code>getName()</code>\uff0c<code>getReturnType()</code>\uff0c<code>getParameterTypes()</code>\uff0c<code>getModifiers()</code>\uff1b</p> <p>\u901a\u8fc7<code>Method</code>\u5b9e\u4f8b\u53ef\u4ee5\u8c03\u7528\u67d0\u4e2a\u5bf9\u8c61\u7684\u65b9\u6cd5\uff1a<code>Object invoke(Object instance, Object... parameters)</code>\uff1b</p> <p>\u901a\u8fc7\u8bbe\u7f6e<code>setAccessible(true)</code>\u6765\u8bbf\u95ee\u975e<code>public</code>\u65b9\u6cd5\uff1b</p> <p>\u901a\u8fc7\u53cd\u5c04\u8c03\u7528\u65b9\u6cd5\u65f6\uff0c\u4ecd\u7136\u9075\u5faa\u591a\u6001\u539f\u5219\u3002</p>"},{"location":"Langs/Java/1.%20basic/1.%20index/#_6","title":"\u83b7\u53d6\u6784\u9020\u65b9\u6cd5","text":"<p>// \u83b7\u53d6\u6784\u9020\u65b9\u6cd5Integer(int): Constructor cons1 = Integer.class.getDeclaredConstructor(int.class);</p> <p>// \u901a\u8fc7\u6784\u9020\u65b9\u6cd5\u65b0\u5efa\u5b9e\u4f8b: Integer n1 = (Integer) cons1.newInstance(123);</p>"},{"location":"Langs/Java/1.%20basic/1.%20index/#_7","title":"\u662f\u5426\u662f\u5b50\u7c7b","text":"<ul> <li>\u7c7b\u7cfb\u5217<ul> <li>B.class.isAssignableFrom(a.getClass())\uff1a\u5b9e\u9645\u4e0a\u662f\u5224\u65ad (B)a \u662f\u5426\u53ef\u884c</li> </ul> </li> <li>instance\u7cfb\u5217<ul> <li>a instanceof B\uff1a\u6ce8\u610f primitive type \u4e0d\u884c\u3001null \u90fd\u662f false</li> <li>B.isInstance(a)\uff1a\u53ef\u4ee5\u4f7f\u7528 primitive type\uff0c\u6b64\u65f6\u4f1a\u88ab\u81ea\u52a8\u88c5\u7bb1</li> </ul> </li> </ul>"},{"location":"Langs/Java/1.%20basic/1.%20index/#_8","title":"\u51fd\u6570\u76f8\u5173","text":"<p>Functional Interface: \u51fd\u6570\u5b9a\u4e49\u6574\u7684\u8fd9\u4e48\u590d\u6742\u5462\u2026</p> <p>Use <code>Supplier</code> if it takes nothing, but returns something.</p> <p>Use <code>Consumer</code> if it takes something, but returns nothing.</p> <p>Use <code>Callable</code> if it returns a result and might throw (most akin to <code>Thunk</code> in general CS terms).</p> <p>Use <code>Runnable</code> if it does neither and cannot throw.</p> <p>\u5982\u679c\u60f3\u8981\u81ea\u5b9a\u4e49\u4e00\u4e2a\uff0c\u6bd4\u5982\u5e26\u81ea\u5b9a\u4e49 throw \u7684\u8bdd\uff1a</p> <pre><code>@FunctionalInterface\npublic interface IFetch&lt;X extends Throwable&gt; {\n    String accept() throws X;\n}\n</code></pre>"},{"location":"Langs/Java/1.%20basic/1.%20index/#generics","title":"\u6cdb\u578b generics","text":"<p>\u6ce8\u610f\u5b58\u5728\u64e6\u62ed\u7684\u73b0\u8c61</p>"},{"location":"Langs/Java/1.%20basic/1.%20index/#annotation","title":"Annotation","text":"<p>Annotation \u771f\u7684\u5c31\u662f annotation, \u548c js \u7684 decorator \u5b8c\u5168\u662f\u4e24\u4e2a\u4e1c\u897f \ud83e\udd23</p> <p>\u5b9a\u4e49\uff1a\u901a\u8fc7\u5143\u6ce8\u89e3\u7684\u65b9\u5f0f - @Target: <code>ElementType.TYPE</code> <code>ElementType.METHOD</code> - @Rentation: \u4e00\u822c\u662f <code>RetentionPolicy.RUNTIME</code></p> <p>\u4e09\u7c7b\u6ce8\u89e3\u7684 @Rentention\uff1a - \u7f16\u8bd1\u5668\u4f7f\u7528\uff1a\u5982 @Override, @SuppressWarnings \u4e0d\u4f1a\u88ab\u7f16\u8bd1\u8fdb .class - \u5e95\u5c42\u5de5\u5177\u5e93\u4f7f\u7528\uff1a\u5904\u7406 .class \u6587\u4ef6\u65f6\u7684\u6ce8\u89e3\uff0c\u5728\u52a0\u8f7dclass\u7684\u65f6\u5019\uff0c\u5bf9class\u505a\u52a8\u6001\u4fee\u6539\u3002\u4f46\u52a0\u8f7d\u7ed3\u675f\u540e\u5e76\u4e0d\u4f1a\u5b58\u5728\u4e8e\u5185\u5b58\u4e2d\u3002 - \u7528\u6237\u4e00\u822c\u4f7f\u7528\uff1a\u7a0b\u5e8f\u8fd0\u884c\u65f6\u5b58\u5728\u4e8e JVM \u7684\u6ce8\u89e3\u3002</p> <p>\u4f7f\u7528\uff1a \u56e0\u4e3a\u6ce8\u89e3\u5b9a\u4e49\u540e\u4e5f\u662f\u4e00\u79cd<code>class</code>\uff0c\u6240\u6709\u7684\u6ce8\u89e3\u90fd\u7ee7\u627f\u81ea<code>java.lang.annotation.Annotation</code>\uff0c\u56e0\u6b64\uff0c\u8bfb\u53d6\u6ce8\u89e3\uff0c\u9700\u8981\u4f7f\u7528\u53cd\u5c04API\u3002</p> <p><code>Person.class.isAnnotationPresent(Report.class);</code></p> <pre><code>AnnotationClass ac = Person.class.getAnnotation(AnnotationClass.class);\nif (ac != null) {\n  // ac.param1() ac.param2()\n}\n</code></pre> <p>\u83b7\u53d6\u65b9\u6cd5\u53c2\u6570\u7684\u6ce8\u89e3 <code>m.getParameterAnnotations()</code> \u6bd4\u8f83\u590d\u6742, \u662f\u591a\u53c2\u6570\u548c\u591a\u6ce8\u89e3\u7684\u4e8c\u7ef4\u6570\u7ec4\u3002 p.s. java \u7684 decorator \u6709\u56fa\u6709\u7684\u8bbe\u8ba1\u6a21\u5f0f\uff0cdecoratorClass \u63a5\u6536\u539f class \u4e3a\u5165\u53c2\uff0c\u624b\u52a8\u8c03\u7528\u60f3\u8c03\u7528\u7684\u65b9\u6cd5\u3002</p> <p>E.g. \u5c06 ES \u6587\u6863\u5bf9\u8c61\u6309\u7167\u89c4\u5219\u8f6c\u4e3aDTO</p> <pre><code>public static &lt;T&gt; T doc2DTO(BaseDocument doc, Class&lt;T&gt; clazz) {  \n    //\u5c06\u6587\u6863\u5bf9\u8c61\u8f6c\u4e3aMap  \n    Map&lt;String, Object&gt; valueMap = BeanUtil.beanToMap(doc, false, false);  \n\n    //\u521b\u5efaDTO\u5b9e\u4f8b  \n    T dto = ReflectUtil.newInstance(clazz.getName());  \n\n    Field[] fields = ReflectUtil.getFields(clazz);  // DTO \u9700\u8981\u6709\u7684\u5b57\u6bb5\n\n    for (Field f : fields) {  \n        //\u586b\u5145\u5c5e\u6027\u503c  \n        fillFieldValue(dto, f, valueMap);  \n    }  \n    return dto;  \n}\n\nprivate static &lt;T&gt; void fillFieldValue(T t, Field f, Map&lt;String, Object&gt; valueMap) {  \n    ESConfig fieldCfg = f.getAnnotation(ESConfig.class);  \n    if (Objects.isNull(fieldCfg)) {  \n        return;  \n    }  \n    //\u5904\u7406\u666e\u901a\u5b57\u6bb5  \n    if (StrUtil.isNotBlank(fieldCfg.column())) {  \n        Object val = valueMap.get(fieldCfg.column());  \n        if (Objects.nonNull(val)) {  \n            ReflectUtil.setFieldValue(t, f, val);  \n        }    } else if (!fieldCfg.fieldClass().isAssignableFrom(Void.class)) {  \n        //\u5904\u7406\u81ea\u5b9a\u4e49\u5bf9\u8c61\u7c7b\u578b\u5b57\u6bb5  \n        ReflectUtil.setFieldValue(t, f, fillFieldValue(fieldCfg.fieldClass(), valueMap));  \n}}\n\nprivate static Object fillFieldValue(Class&lt;?&gt; clazz, Map&lt;String, Object&gt; valueMap) {  \n    Object obj = ReflectUtil.newInstance(clazz.getName());  \n    Field[] fields = ReflectUtil.getFields(clazz);  \n\n    for (Field f : fields) {  \n        //\u586b\u5145\u5c5e\u6027\u503c  \n        fillFieldValue(obj, f, valueMap);  \n    }  \n    return obj;  \n}\n</code></pre>"},{"location":"Langs/Java/1.%20basic/1.%20index/#error","title":"Error","text":"<ul> <li>e.getMessage()</li> <li>checked exceptions: public static void loadData(...) throws FileNotFoundException {} // force to be caught</li> <li> <p>multiple catches</p> </li> <li> <p>unchecked exceptions( runtime ): throw IllegalArgumentException IllegalStateException</p> </li> <li>\u6ce8\u518c\u4e00\u4e2a\u5b9e\u73b0UncaughtExceptionHandler\u63a5\u53e3\u7684\u5bf9\u8c61\u5b9e\u4f8b\u5904\u7406</li> <li>Thread.setDefaultUncaughtExceptionHandler(new ExceptionHandler());</li> </ul>"},{"location":"Langs/Java/1.%20basic/1.%20index/#system","title":"System","text":""},{"location":"Langs/Java/1.%20basic/1.%20index/#out","title":"out","text":"<ul> <li>println: <code>\\n</code> new line</li> </ul>"},{"location":"Langs/Java/1.%20basic/1.%20index/#concurrency","title":"Concurrency","text":""},{"location":"Langs/Java/1.%20basic/1.%20index/#callable","title":"Callable","text":"<pre><code>Callable&lt;Double&gt; callable = () -&gt; generateNumber();\nFutureTask&lt;Double&gt; future = new FutureTask&lt;&gt;(callable);\nThread thread2 = new Thread(future);\n\n// future.get();\n</code></pre>"},{"location":"Langs/Java/1.%20basic/1.%20index/#future","title":"Future","text":"<p>\u89c1\u7ec6\u5206\u9875\u9762\u3002</p>"},{"location":"Langs/Java/1.%20basic/1.%20index/#race-condition","title":"Race Condition","text":"<p>Incorrect result from too many threads updating the same thing.</p>"},{"location":"Langs/Java/1.%20basic/1.%20index/#reentrant-lock","title":"Reentrant lock","text":"<pre><code>ReentrantLock lock = new ReentrantLock();\nlock.lock();\nlock.unlock();\n</code></pre>"},{"location":"Langs/Java/1.%20basic/1.%20index/#atomic","title":"Atomic","text":"<p>Atomic allows for synchronized updates across multiple threads.</p>"},{"location":"Langs/Java/1.%20basic/1.%20index/#synchronized","title":"Synchronized","text":"<p>\u9501\u5bf9\u8c61</p> <ul> <li>\u662f *.class \u4ee5\u53ca synchronized \u4fee\u9970\u7684\u662f static \u65b9\u6cd5\u7684\u65f6\u5019\uff0c\u6240\u6709\u5bf9\u8c61\u516c\u7528\u540c\u4e00\u628a\u9501</li> <li>\u4fee\u9970\u666e\u901a\u65b9\u6cd5\uff0c\u9501\u5bf9\u8c61\u9ed8\u8ba4\u4e3a this</li> </ul> <p>\u975e\u516c\u5e73\u9501\uff1a\u53ef\u80fd\u5bfc\u81f4\u9965\u997f\u73b0\u8c61</p> <p>\u53ef\u91cd\u5165\u9501\uff1a\u5728\u540c\u4e00\u4e2a\u7ebf\u7a0b\u5728\u5916\u5c42\u65b9\u6cd5\u83b7\u53d6\u9501\u7684\u65f6\u5019\uff0c\u518d\u8fdb\u5165\u8be5\u7ebf\u7a0b\u7684\u5185\u5c42\u65b9\u6cd5\u4f1a\u81ea\u52a8\u83b7\u53d6\u9501\uff08\u524d\u63d0\u9501\u5bf9\u8c61\u5f97\u662f\u540c\u4e00\u4e2a\u5bf9\u8c61\u6216\u8005class\uff09\uff0c\u4e0d\u4f1a\u56e0\u4e3a\u4e4b\u524d\u5df2\u7ecf\u83b7\u53d6\u8fc7\u8fd8\u6ca1\u91ca\u653e\u800c\u963b\u585e\u3002e.g. \u9012\u5f52\u65f6\u3002</p>"},{"location":"Langs/Java/1.%20basic/1.%20index/#jvm","title":"jvm \u76f8\u5173","text":""},{"location":"Langs/Java/1.%20basic/1.%20index/#package","title":"Package","text":"<p>Classpath: java \u53ea\u4f1a\u5728\u5b9a\u4e49\u7684 cp \u8def\u5f84\u4e0b\u627e\u5305(\u9075\u5faa pkgName.classname \u7684\u683c\u5f0f)\uff0c\u5982\u679c\u6ca1\u6709 Classpath, \u5219\u9ed8\u8ba4\u4e3a\u5f53\u524d\u6587\u4ef6\u5939</p>"},{"location":"Langs/Java/1.%20basic/1.%20index/#class-loading","title":"Class Loading","text":"<p>static initializer -&gt; instance initializer -&gt; constructor \u6ce8\u610f\uff1a\u5982\u679c\u5f15\u7528\u7684\u67d0\u4e2a static final int XXX = \u67d0\u4e2a\u6570\u5b57\uff0c\u90a3\u4e48\u5728 compile \u65f6\u5c31\u4f1a\u5168\u5c40\u66ff\u6362\u6389\uff08\u5b8f\u66ff\u6362\uff09\uff0c\u6b64\u65f6\u5c31\u4e0d\u81f3\u4e8e\u518d load \u5bf9\u5e94\u7684 class \u4e86</p>"},{"location":"Langs/Java/1.%20basic/1.%20index/#javap-disassembler","title":"javap Disassembler","text":"<p>-c: prints method bytecode -v: method bytecode + constant pool \u7136\u540e\u53ef\u4ee5\u770b\u5230 Instruction Set</p>"},{"location":"Langs/Java/1.%20basic/1.%20index/#_9","title":"\u7f51\u7edc\u7f16\u7a0b","text":"<p>\u4f7f\u7528Socket\u8fdb\u884c\u7f51\u7edc\u7f16\u7a0b\u65f6\uff0c\u672c\u8d28\u4e0a\u5c31\u662f\u4e24\u4e2a\u8fdb\u7a0b\u4e4b\u95f4\u7684\u7f51\u7edc\u901a\u4fe1\u3002\u5176\u4e2d\u4e00\u4e2a\u8fdb\u7a0b\u5fc5\u987b\u5145\u5f53\u670d\u52a1\u5668\u7aef\uff0c\u5b83\u4f1a\u4e3b\u52a8\u76d1\u542c\u67d0\u4e2a\u6307\u5b9a\u7684\u7aef\u53e3\uff0c\u53e6\u4e00\u4e2a\u8fdb\u7a0b\u5fc5\u987b\u5145\u5f53\u5ba2\u6237\u7aef\uff0c\u5b83\u5fc5\u987b\u4e3b\u52a8\u8fde\u63a5\u670d\u52a1\u5668\u7684IP\u5730\u5740\u548c\u6307\u5b9a\u7aef\u53e3\uff0c\u5982\u679c\u8fde\u63a5\u6210\u529f\uff0c\u670d\u52a1\u5668\u7aef\u548c\u5ba2\u6237\u7aef\u5c31\u6210\u529f\u5730\u5efa\u7acb\u4e86\u4e00\u4e2aTCP\u8fde\u63a5\uff0c\u53cc\u65b9\u540e\u7eed\u5c31\u53ef\u4ee5\u968f\u65f6\u53d1\u9001\u548c\u63a5\u6536\u6570\u636e\u3002 - \u5bf9\u670d\u52a1\u5668\u7aef\u6765\u8bf4\uff0c\u5b83\u7684Socket\u662f\u6307\u5b9a\u7684IP\u5730\u5740\u548c\u6307\u5b9a\u7684\u7aef\u53e3\u53f7\uff1b - \u5bf9\u5ba2\u6237\u7aef\u6765\u8bf4\uff0c\u5b83\u7684Socket\u662f\u5b83\u6240\u5728\u8ba1\u7b97\u673a\u7684IP\u5730\u5740\u548c\u4e00\u4e2a\u7531\u64cd\u4f5c\u7cfb\u7edf\u5206\u914d\u7684\u968f\u673a\u7aef\u53e3\u53f7\u3002</p>"},{"location":"Langs/Java/1.%20basic/2.%20ClassLoader%20%E4%B8%93%E6%A0%8F/","title":"2. ClassLoader \u4e13\u680f","text":""},{"location":"Langs/Java/1.%20basic/2.%20ClassLoader%20%E4%B8%93%E6%A0%8F/#classloader","title":"classLoader","text":"<ul> <li>AppClassLoader / system class loader: load \u8fd0\u884c\u65f6 classpath \u91cc\u7684\u7c7b<ul> <li>It loads files found in the classpath environment variable, -classpath, or -cp command line option. It\u2019s also a child of the extensions class loader.</li> </ul> </li> <li>PlatformClassLoader\uff1aLoad extension\u7c7b\u6bd4\u5982 DriverManager\u3001swing\u7cfb\u5217\u3001\u5185\u7f6e\u7684js\u5f15\u64ce\u3001xml\u89e3\u6790\u5668\u7b49\uff0c\u8fd9\u4e9b\u7c7b\u5e93\u4ee5javax\u5f00\u5934\u3002<ul> <li>The extension class loader loads from the JDK extensions directory, usually the $JAVA_HOME/lib/ext directory, or any other directory mentioned in the java.ext.dirs system property.</li> </ul> </li> <li>Bootstrap class loader: Load \u539f\u751f\u7c7b\u6bd4\u5982 ArrayList<ul> <li>It\u2019s mainly responsible for loading JDK internal classes, typically rt.jar and other core libraries located in the $JAVA_HOME/jre/lib directory. Additionally, the Bootstrap class loader serves as the parent of all the other ClassLoader instances.</li> <li>This bootstrap class loader is part of the core JVM and is written in native code.</li> </ul> </li> </ul> <p>\u53cc\u4eb2\u59d4\u6258\u6a21\u578b\u597d\u5904 \u56e0\u4e3a\u8fd9\u6837\u53ef\u4ee5\u907f\u514d\u91cd\u590d\u52a0\u8f7d\uff0c\u5f53\u7236\u4eb2\u5df2\u7ecf\u52a0\u8f7d\u4e86\u8be5\u7c7b\u7684\u65f6\u5019\uff0c\u5c31\u6ca1\u6709\u5fc5\u8981 ClassLoader\u518d\u52a0\u8f7d\u4e00\u6b21\u3002\u8003\u8651\u5230\u5b89\u5168\u56e0\u7d20\uff0c\u6211\u4eec\u8bd5\u60f3\u4e00\u4e0b\uff0c\u5982\u679c\u4e0d\u4f7f\u7528\u8fd9\u79cd\u59d4\u6258\u6a21\u5f0f\uff0c\u90a3\u6211\u4eec\u5c31\u53ef\u4ee5\u968f\u65f6\u4f7f\u7528\u81ea\u5b9a\u4e49\u7684String\u6765\u52a8\u6001\u66ff\u4ee3java\u6838\u5fc3api\u4e2d\u5b9a\u4e49\u7684\u7c7b\u578b\uff0c\u8fd9\u6837\u4f1a\u5b58\u5728\u975e\u5e38\u5927\u7684\u5b89\u5168\u9690\u60a3\uff0c\u800c\u53cc\u4eb2\u59d4\u6258\u7684\u65b9\u5f0f\uff0c\u5c31\u53ef\u4ee5\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0c\u56e0\u4e3aString\u5df2\u7ecf\u5728\u542f\u52a8\u65f6\u5c31\u88ab\u5f15\u5bfc\u7c7b\u52a0\u8f7d\u5668\uff08Bootstrcp ClassLoader\uff09\u52a0\u8f7d\uff0c\u6240\u4ee5\u7528\u6237\u81ea\u5b9a\u4e49\u7684ClassLoader\u6c38\u8fdc\u4e5f\u65e0\u6cd5\u52a0\u8f7d\u4e00\u4e2a\u81ea\u5df1\u5199\u7684String\uff0c\u9664\u975e\u4f60\u6539\u53d8JDK\u4e2dClassLoader\u641c\u7d22\u7c7b\u7684\u9ed8\u8ba4\u7b97\u6cd5\u3002</p> <p>\u7c7b\u4e0e\u7c7b\u52a0\u8f7d\u5668 \u7c7b\u52a0\u8f7d\u5668\u867d\u7136\u53ea\u7528\u4e8e\u5b9e\u73b0\u7c7b\u7684\u52a0\u8f7d\u52a8\u4f5c\uff0c\u4f46\u5b83\u5728Java\u7a0b\u5e8f\u4e2d\u8d77\u5230\u7684\u4f5c\u7528\u5374\u8fdc\u8fdc\u4e0d\u9650\u4e8e\u7c7b\u52a0\u8f7d\u9636\u6bb5\u3002\u5bf9\u4e8e\u4efb\u610f\u4e00\u4e2a\u7c7b\uff0c\u90fd\u9700\u8981\u7531\u52a0\u8f7d\u5b83\u7684\u7c7b\u52a0\u8f7d\u5668\u548c\u8fd9\u4e2a\u7c7b\u672c\u8eab\u4e00\u540c\u786e\u7acb\u5176\u5728Java\u865a\u62df\u673a\u4e2d\u7684\u552f\u4e00\u6027\uff0c\u6bcf\u4e00\u4e2a\u7c7b\u52a0\u8f7d\u5668\uff0c\u90fd\u62e5\u6709\u4e00\u4e2a\u72ec\u7acb\u7684\u7c7b\u540d\u79f0\u7a7a\u95f4\u3002\u8fd9\u53e5\u8bdd\u53ef\u4ee5\u8868\u8fbe\u66f4\u901a\u4fd7\u4e00\u4e9b\uff1a\u6bd4\u8f83\u4e24\u4e2a\u7c7b\u662f\u5426\u201d\u76f8\u7b49\u201d\uff0c\u53ea\u6709\u518d\u8fd9\u4e24\u4e2a\u7c7b\u662f\u6709\u540c\u4e00\u4e2a\u7c7b\u52a0\u8f7d\u5668\u52a0\u8f7d\u7684\u524d\u63d0\u4e0b\u624d\u6709\u610f\u4e49\uff0c\u5426\u5219\uff0c\u5373\u4f7f\u8fd9\u4e24\u4e2a\u7c7b\u6765\u6e90\u4e8e\u540c\u4e00\u4e2aClass \u6587\u4ef6\uff0c\u88ab\u540c\u4e00\u4e2a\u865a\u62df\u673a\u52a0\u8f7d\uff0c\u53ea\u8981\u52a0\u8f7d\u5b83\u4eec\u7684\u7c7b\u52a0\u8f7d\u5668\u4e0d\u540c\uff0c\u90a3\u8fd9\u4e24\u4e2a\u7c7b\u5c31\u5fc5\u5b9a\u4e0d\u76f8\u7b49\u3002</p>"},{"location":"Langs/Java/1.%20basic/3.%20CompletableFuture/","title":"3. CompletableFuture","text":"<p>\u53ef\u4ee5\u7528 JS \u7684 Promise \u6765\u5bf9\u7167\u8bb0\u5fc6\uff01 - \u5355\u4e2a\u6267\u884c\uff1a\u56e0 JS \u672c\u8eab\u5c31\u662f\u51fd\u6570\u5f0f\u8bed\u8a00\uff0c\u6240\u4ee5\u4e00\u4e2a .then \u4e00\u62db\u9c9c\uff0c\u4f46\u662f java \u5c31\u9700\u8981\u62c6\u5206\u51fa .thenAccept\u3001.thenRun \u4e4b\u7c7b\u7684\u2026 - \u591a\u4e2a\u6267\u884c\uff1a\u7c7b\u6bd4 JS \u7684 <code>await Promise.all()</code>..\u6216\u8005 go \u7684 <code>waitGroup</code>. </p>"},{"location":"Langs/Java/1.%20basic/3.%20CompletableFuture/#_1","title":"\u5b9e\u8df5","text":""},{"location":"Langs/Java/1.%20basic/3.%20CompletableFuture/#_2","title":"\u4ece\u5404\u4e2a\u670d\u52a1\u83b7\u53d6\u6570\u636e","text":"<p>\u4e3a\u4e86\u7f29\u77ed\u63a5\u53e3\u7684\u54cd\u5e94\u65f6\u95f4\uff0c\u4e00\u822c\u4f1a\u4f7f\u7528\u7ebf\u7a0b\u6c60\u7684\u65b9\u5f0f\u5e76\u884c\u83b7\u53d6\u6570\u636e\u3002\u4f46\u662f\u6709\u8fd9\u79cd\u65b9\u5f0f\u7531\u4e8e\u4ee5\u4e0b\u4e24\u4e2a\u539f\u56e0\uff0c\u5bfc\u81f4\u8d44\u6e90\u5229\u7528\u7387\u6bd4\u8f83\u4f4e\uff1a - CPU\u8d44\u6e90\u5927\u91cf\u6d6a\u8d39\u5728\u963b\u585e\u7b49\u5f85\u4e0a\uff0c\u5bfc\u81f4CPU\u8d44\u6e90\u5229\u7528\u7387\u4f4e\u3002\u5728Java 8\u4e4b\u524d\uff0c\u4e00\u822c\u4f1a\u901a\u8fc7\u56de\u8c03\u7684\u65b9\u5f0f\u6765\u51cf\u5c11\u963b\u585e\uff0c\u4f46\u662f\u5927\u91cf\u4f7f\u7528\u56de\u8c03\uff0c\u53c8\u5f15\u53d1\u81ed\u540d\u662d\u8457\u7684\u56de\u8c03\u5730\u72f1\u95ee\u9898\uff0c\u5bfc\u81f4\u4ee3\u7801\u53ef\u8bfb\u6027\u548c\u53ef\u7ef4\u62a4\u6027\u5927\u5927\u964d\u4f4e\u3002 - \u4e3a\u4e86\u589e\u52a0\u5e76\u53d1\u5ea6\uff0c\u4f1a\u5f15\u5165\u66f4\u591a\u989d\u5916\u7684\u7ebf\u7a0b\u6c60\uff0c\u968f\u7740CPU\u8c03\u5ea6\u7ebf\u7a0b\u6570\u7684\u589e\u52a0\uff0c\u4f1a\u5bfc\u81f4\u66f4\u4e25\u91cd\u7684\u8d44\u6e90\u4e89\u7528\uff0c\u5b9d\u8d35\u7684CPU\u8d44\u6e90\u88ab\u635f\u8017\u5728\u4e0a\u4e0b\u6587\u5207\u6362\u4e0a\uff0c\u800c\u4e14\u7ebf\u7a0b\u672c\u8eab\u4e5f\u4f1a\u5360\u7528\u7cfb\u7edf\u8d44\u6e90\uff0c\u4e14\u4e0d\u80fd\u65e0\u9650\u589e\u52a0\u3002</p>"},{"location":"Langs/Java/1.%20basic/3.%20CompletableFuture/#api","title":"API","text":""},{"location":"Langs/Java/1.%20basic/3.%20CompletableFuture/#_3","title":"\u521b\u5efa","text":""},{"location":"Langs/Java/1.%20basic/3.%20CompletableFuture/#new","title":"new \u5173\u952e\u5b57","text":"<pre><code>CompletableFuture&lt;RpcResponse&lt;Object&gt;&gt; resultFuture = new CompletableFuture&lt;&gt;();\n// \u5047\u8bbe\u5728\u672a\u6765\u7684\u67d0\u4e2a\u65f6\u523b\uff0c\u6211\u4eec\u5f97\u5230\u4e86\u6700\u7ec8\u7684\u7ed3\u679c\u3002\u8fd9\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u8c03\u7528 complete() \u65b9\u6cd5\u4e3a\u5176\u4f20\u5165\u7ed3\u679c\uff0c\u8fd9\u8868\u793a resultFuture \u5df2\u7ecf\u88ab\u5b8c\u6210\u4e86\u3002\n// \u7c7b\u4f3c js \u7684 callback to Promise, java \u4e5f\u4f1a\u9700\u8981\u5c06\u56de\u8c03\u65b9\u6cd5\u8f6c\u4e3aCompletableFuture\nresultFuture.complete(rpcResponse);\n// \u83b7\u53d6\u5f02\u6b65\u8ba1\u7b97\u7ed3\u679c\u3002\u8c03\u7528 get() \u65b9\u6cd5\u7684\u7ebf\u7a0b\u4f1a\u963b\u585e\u76f4\u5230 CompletableFuture \u5b8c\u6210\u8fd0\u7b97\nvar rpcResponse = completableFuture.get();\n\n// \u76f8\u5f53\u4e8e Promise.resolve(xx);\nCompletableFuture&lt;String&gt; future = CompletableFuture.completedFuture(\"hello!\");\n</code></pre>"},{"location":"Langs/Java/1.%20basic/3.%20CompletableFuture/#_4","title":"\u9759\u6001\u5de5\u5382\u65b9\u6cd5","text":"<pre><code>static &lt;U&gt; CompletableFuture&lt;U&gt; supplyAsync(Supplier&lt;U&gt; supplier);\n// \u4f7f\u7528\u81ea\u5b9a\u4e49\u7ebf\u7a0b\u6c60(\u63a8\u8350)\nstatic &lt;U&gt; CompletableFuture&lt;U&gt; supplyAsync(Supplier&lt;U&gt; supplier, Executor executor);\nstatic CompletableFuture&lt;Void&gt; runAsync(Runnable runnable);\n// \u4f7f\u7528\u81ea\u5b9a\u4e49\u7ebf\u7a0b\u6c60(\u63a8\u8350)\nstatic CompletableFuture&lt;Void&gt; runAsync(Runnable runnable, Executor executor);\n</code></pre>"},{"location":"Langs/Java/1.%20basic/3.%20CompletableFuture/#_5","title":"\u5904\u7406\u7ed3\u679c","text":""},{"location":"Langs/Java/1.%20basic/3.%20CompletableFuture/#_6","title":"\u4e00\u5143\u4f9d\u8d56","text":"<ul> <li>thenApply()</li> <li>thenAccept() / thenRun()</li> <li>handle()</li> </ul>"},{"location":"Langs/Java/1.%20basic/3.%20CompletableFuture/#_7","title":"\u591a\u5143\u4f9d\u8d56","text":"<pre><code>// \u5148\u540e\u987a\u5e8f thenCompose\nCompletableFuture&lt;String&gt; future\n        = CompletableFuture.supplyAsync(() -&gt; \"hello!\")\n        .thenCompose(s -&gt; CompletableFuture.supplyAsync(() -&gt; s + \"world!\"));\nassertEquals(\"hello!world!\", future.get());\n// \u540c\u65f6 thenCombine\nCompletableFuture&lt;String&gt; cf4 = cf1.thenCombine(cf2, (result1, result2) -&gt; {\n  //result1\u548cresult2\u5206\u522b\u4e3acf1\u548ccf2\u7684\u7ed3\u679c\n  return \"result4\";\n});\nCompletableFuture&lt;String&gt; completableFuture\n        = CompletableFuture.supplyAsync(() -&gt; \"hello!\")\n        .thenCombine(CompletableFuture.supplyAsync(\n                () -&gt; \"world!\"), (s1, s2) -&gt; s1 + s2)\n        .thenCompose(s -&gt; CompletableFuture.supplyAsync(() -&gt; s + \"nice!\"));\nassertEquals(\"hello!world!nice!\", completableFuture.get());\n\n// \u7c7b\u4f3c Promise.all()\nCompletableFuture&lt;Void&gt; headerFuture=CompletableFuture.allOf(task1,.....,task6);\nCompletableFuture&lt;String&gt; result = cf6.thenApply(v -&gt; {\n  //\u8fd9\u91cc\u7684join\u5e76\u4e0d\u4f1a\u963b\u585e\uff0c\u56e0\u4e3a\u4f20\u7ed9thenApply\u7684\u51fd\u6570\u662f\u5728CF3\u3001CF4\u3001CF5\u5168\u90e8\u5b8c\u6210\u65f6\uff0c\u624d\u4f1a\u6267\u884c \u3002\n  result1 = task1.join();\n  result2 = task2.join();\n  ...\n  return \"result\";\n});\n  try {\n    headerFuture.join(); // \u5835\u585e\u4f4f\n  } catch (Exception ex) {\n    ......\n  }\nSystem.out.println(\"all done. \");\n</code></pre>"},{"location":"Langs/Java/1.%20basic/3.%20CompletableFuture/#_8","title":"\u4f7f\u7528\u81ea\u5b9a\u4e49\u7ebf\u7a0b\u6c60","text":"<p>CompletableFuture \u9ed8\u8ba4\u4f7f\u7528ForkJoinPool.commonPool() \u4f5c\u4e3a\u6267\u884c\u5668\uff0c\u8fd9\u91cc\u6240\u6709\u8c03\u7528\u5c06\u5171\u7528\u8be5\u7ebf\u7a0b\u6c60\uff0c\u6838\u5fc3\u7ebf\u7a0b\u6570=\u5904\u7406\u5668\u6570\u91cf-1\uff08\u5355\u6838\u6838\u5fc3\u7ebf\u7a0b\u6570\u4e3a1\uff09\uff0c\u6240\u6709\u5f02\u6b65\u56de\u8c03\u90fd\u4f1a\u5171\u7528\u8be5CommonPool\uff0c\u6838\u5fc3\u4e0e\u975e\u6838\u5fc3\u4e1a\u52a1\u90fd\u7ade\u4e89\u540c\u4e00\u4e2a\u6c60\u4e2d\u7684\u7ebf\u7a0b\uff0c\u5f88\u5bb9\u6613\u6210\u4e3a\u7cfb\u7edf\u74f6\u9888\u3002</p> <pre><code>private ThreadPoolExecutor executor = new ThreadPoolExecutor(10, 10,\n        0L, TimeUnit.MILLISECONDS,\n        new LinkedBlockingQueue&lt;Runnable&gt;());\n\nCompletableFuture.runAsync(() -&gt; {\n     //...\n}, executor);\n\n</code></pre>"},{"location":"Langs/Java/1.%20basic/3.%20CompletableFuture/#_9","title":"\u5b9e\u73b0","text":"<p>result + callStack - \u6bcf\u4e2aCompletableFuture\u90fd\u53ef\u4ee5\u88ab\u770b\u4f5c\u4e00\u4e2a\u88ab\u89c2\u5bdf\u8005\uff0c\u5176\u5185\u90e8\u6709\u4e00\u4e2aCompletion\u7c7b\u578b\u7684\u94fe\u8868\u6210\u5458\u53d8\u91cfstack\uff0c\u7528\u6765\u5b58\u50a8\u6ce8\u518c\u5230\u5176\u4e2d\u7684\u6240\u6709\u89c2\u5bdf\u8005\u3002\u5f53\u88ab\u89c2\u5bdf\u8005\u6267\u884c\u5b8c\u6210\u540e\u4f1a\u5f39\u6808stack\u5c5e\u6027\uff0c\u4f9d\u6b21\u901a\u77e5\u6ce8\u518c\u5230\u5176\u4e2d\u7684\u89c2\u5bdf\u8005\u3002 - \u88ab\u89c2\u5bdf\u8005CF\u4e2d\u7684result\u5c5e\u6027\uff0c\u7528\u6765\u5b58\u50a8\u8fd4\u56de\u7ed3\u679c\u6570\u636e</p>"},{"location":"Langs/Java/1.%20basic/4.%20Servlet/","title":"4. Servlet","text":"<p>*Servlet container, also known as\u00a0Servlet engine,*\u00a0is an integrated set of objects that provide a run time environment for Java Servlet components.\u00a0In simple words, it is a system that manages Java Servlet components on top of the Web server to handle the Web client requests.</p> <ul> <li>Server Applet</li> <li>\u72ed\u4e49\u7684Servlet\u662f\u6307Java\u8bed\u8a00\u5b9e\u73b0\u7684\u4e00\u4e2a\u63a5\u53e3\uff0c\u5e7f\u4e49\u7684Servlet\u662f\u6307\u4efb\u4f55\u5b9e\u73b0\u4e86\u8fd9\u4e2aServlet\u63a5\u53e3\u7684\u7c7b\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u4eba\u4eec\u5c06Servlet\u7406\u89e3\u4e3a\u540e\u8005\u3002</li> <li>\u5728JavaEE\u5e73\u53f0\u4e0a\uff0c\u5904\u7406TCP\u8fde\u63a5\uff0c\u89e3\u6790HTTP\u534f\u8bae\u8fd9\u4e9b\u5e95\u5c42\u5de5\u4f5c\u7edf\u7edf\u6254\u7ed9\u73b0\u6210\u7684Web\u670d\u52a1\u5668\u53bb\u505a\uff0c\u6211\u4eec\u53ea\u9700\u8981\u628a\u81ea\u5df1\u7684\u5e94\u7528\u7a0b\u5e8f\u8dd1\u5728Web\u670d\u52a1\u5668\u4e0a\u3002\u4e3a\u4e86\u5b9e\u73b0\u8fd9\u4e00\u76ee\u7684\uff0cJavaEE\u63d0\u4f9b\u4e86Servlet API\uff0c\u6211\u4eec\u4f7f\u7528Servlet API\u7f16\u5199\u81ea\u5df1\u7684Servlet\u6765\u5904\u7406HTTP\u8bf7\u6c42\uff0cWeb\u670d\u52a1\u5668\u5b9e\u73b0Servlet API\u63a5\u53e3\uff0c\u5b9e\u73b0\u5e95\u5c42\u529f\u80fd\u3002</li> <li>\u6211\u4e4b\u524d\u89c9\u5f97\u5f88\u795e\u5947\uff0c\u8fd9\u4e2a\u8bbe\u8ba1\u7406\u5ff5\u8fd8\u86ee\u8d85\u524d\u7684\uff0c\u6216\u8bb8\u4e5f\u662f\u4e3a\u4e86\u5951\u5408 Java \u7684\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u7406\u5ff5\u3002\u50cf\u5728 nodejs \u6216\u8005 go \u91cc\uff0c\u6700\u591a\u5f15\u4e00\u4e2a\u6846\u67b6\u5305\u54e6~\u8fd9\u6837\u6709\u4e00\u4e2a\u597d\u5904\uff0c\u4f9d\u8d56\u53ef\u4ee5\u548c\u4e3b\u670d\u52a1\u89e3\u8026\uff0c\u53ea\u8981 api \u4e0d\u53d8\uff0c\u53ef\u4ee5\u5355\u72ec\u66f4\u65b0\u4f9d\u8d56\u3002</li> <li>\u4e00\u4e2aServlet\u7c7b\u5728\u670d\u52a1\u5668\u4e2d\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\u3002\u4f46\u5bf9\u4e8e\u6bcf\u4e2aHTTP\u8bf7\u6c42\uff0cWeb\u670d\u52a1\u5668\u4f1a\u4f7f\u7528\u591a\u7ebf\u7a0b\u6267\u884c\u8bf7\u6c42\u3002\u56e0\u6b64\uff0c\u4e00\u4e2aServlet\u7684<code>doGet()</code>\u3001<code>doPost()</code>\u7b49\u5904\u7406\u8bf7\u6c42\u7684\u65b9\u6cd5\u662f\u591a\u7ebf\u7a0b\u5e76\u53d1\u6267\u884c\u7684\u3002\u5982\u679cServlet\u4e2d\u5b9a\u4e49\u4e86\u5b57\u6bb5\uff0c\u8981\u6ce8\u610f\u591a\u7ebf\u7a0b\u5e76\u53d1\u8bbf\u95ee\u7684\u95ee\u9898</li> <li>session \u548c token \u6700\u672c\u8d28\u7684\u533a\u522b\uff1a\u6211\u89c9\u5f97\u8fd8\u662f\u524d\u8005\u7684 userid \u53ea\u80fd\u5b58\u670d\u52a1\u5668\u4e0a\uff0c\u540e\u8005\u5176\u5b9e\u662f\u5c06\u7528\u6237\u4fe1\u606f\u5206\u5e03\u5f0f\u5b58\u50a8\u4e86</li> </ul> <p>Refs: \u597d\u6587\u7ae0\uff1aServlet\u4ecb\u7ecd\u4ee5\u53ca\u7f16\u5199\u4e00\u4e2a\u7b80\u5355\u7684Servlet_servlet\u600e\u4e48\u5199-CSDN\u535a\u5ba2</p>"},{"location":"Langs/Java/1.%20basic/4.%20Servlet/#jdbc","title":"\u539f\u59cb\u7684 jdbc \u8fde\u63a5","text":"<p>\u4ee3\u7801\u91cc\u6709\u4e00\u884c <code>Class.forName(``\"com.mysql.jdbc.Driver\"``);</code> \u662f\u4e3a\u4ec0\u4e48\uff1f A: \u4e3a\u4e86\u521d\u59cb\u5316\u8be5\u7c7b\uff0c\u6267\u884c static\uff0c\u4f1a\u6ce8\u518c Driver. JDBC\u5b66\u4e602\uff1a\u4e3a\u4ec0\u4e48\u8981\u5199Class.forName(\"XXX\")\uff1f - \u4e94\u6708\u7684\u4ed3\u9889 - \u535a\u5ba2\u56ed \u4e00\u4e2a\u6bd4\u8f83\u5b8c\u6574\u548c\u8001\u6d3e\u7684 servlet \u8fde\u63a5\u7684\u4f8b\u5b50\uff1aServlet - CRUD - GeeksforGeeks \u6ce8\u610f\u5176\u5b9e javax.servlet \u91cc\u5c31\u5e26\u4e86\u597d\u591a\u529f\u80fd\u4e86\uff01\u6bd4\u5982 @WebServlet \u8fd9\u6837\u7684\u8def\u7531\u6ce8\u89e3\u548c\u9762\u5411 sql \u7684\u8fde\u63a5\u3002\u6ce8\u610f\u4f8b\u5b50\u91cc\u7684 Dao \u91cc\u7528\u4e86\u5355\u4f8b/static \u6765\u4fdd\u5b58 connection\u3002</p>"},{"location":"Langs/Java/1.%20basic/api%E5%B0%8F%E8%AE%A1/","title":"api\u5c0f\u8ba1","text":""},{"location":"Langs/Java/1.%20basic/api%E5%B0%8F%E8%AE%A1/#javautil","title":"java.util","text":""},{"location":"Langs/Java/1.%20basic/api%E5%B0%8F%E8%AE%A1/#list","title":"List","text":"<p>extends \u81ea Collection</p> <p><code>List.of&lt;E&gt;(E e): returns an immutable list of exact one element</code></p> <ul> <li>Concat: </li> <li><code>var list = newArrayList&lt;Integer&gt;(size); list.addAll(list1);</code></li> <li><code>Stream.concat(list1.stream(),list2.stream()).collect(Collectors.toList())</code></li> <li><code>ListUtils.union( list1, list2)</code></li> </ul>"},{"location":"Langs/Java/1.%20basic/api%E5%B0%8F%E8%AE%A1/#scanner","title":"Scanner","text":"<pre><code>Scanner scan = new Scanner(System.in);\nString ss2 = scan.next(); //delimiter: default is white space\nDouble dd = scan.nextDouble();\nscan.nextLine(); // throw away the following empty line\nString ss = scan.nextLine();\nscan.close();\n\nwhile (scan.hasNextLine()) {\n\n}\n</code></pre>"},{"location":"Langs/Java/1.%20basic/api%E5%B0%8F%E8%AE%A1/#objects","title":"objects","text":"<p>isNull</p> <pre><code>public static boolean isNull(Object obj) {\n    return obj == null;\n}\n</code></pre> <p>Remind me of Golang \u91cc\uff0c\u603b\u662f nil != err \u800c\u4e0d\u662f err != nil\uff0c\u5b9e\u9645\u4e0a\u4e5f\u662f\u4e3a\u4e86\u6015\u8bef\u8d4b\u503c\u8003\u8651</p>"},{"location":"Langs/Java/1.%20basic/api%E5%B0%8F%E8%AE%A1/#uuid","title":"UUID","text":"<p><code>this.id = UUID.randomUUID().toString();</code></p>"},{"location":"Langs/Java/1.%20basic/api%E5%B0%8F%E8%AE%A1/#time","title":"time","text":"<ul> <li> <p>jdk8 \u4e4b\u524d\u65e5\u671f\u65f6\u95f4\u76f8\u5173\u7684\u64cd\u4f5c\u5927\u591a\u7528\u7684\u662f Date \u7c7b\u6216\u8005 Calendar \u7c7b\uff0c\u8d3c\u9ebb\u70e6\u3002\u5e76\u4e14\u6ce8\u610f\u524d\u7aef\u8bf7\u6c42\u65f6\u4e00\u5b9a\u662f milliseconds, \u82e5\u662f\u5b57\u7b26\u4e32\u4f1a\u88ab\u89e3\u6790\u6210\u683c\u6797\u5a01\u6cbb\u6807\u51c6\u65f6\u95f4\u3002</p> <p>\u8c46\u77e5\u8bc6\uff1aGMT \u5373 Greenwich Mean Time\uff0c\u7531\u4e8e\u5730\u7403\u6bcf\u5929\u7684\u81ea\u8f6c\u662f\u6709\u4e9b\u4e0d\u89c4\u5219\u7684\uff0c\u800c\u4e14\u6b63\u5728\u7f13\u6162\u51cf\u901f\uff0c\u56e0\u6b64\u683c\u6797\u5a01\u6cbb\u5e73\u65f6\u57fa\u4e8e\u5929\u6587\u89c2\u6d4b\u672c\u8eab\u7684\u7f3a\u9677\uff0c\u76ee\u524d\u5df2\u7ecf\u88ab\u539f\u5b50\u949f\u62a5\u65f6\u7684\u534f\u8c03\u4e16\u754c\u65f6\uff08UTC \u5373 Coordinated\u00a0Universal\u00a0Time\uff09\u6240\u53d6\u4ee3</p> </li> <li> <p>jdk8 \u4ee5\u540e\u589e\u52a0\u4e86\u00a0LocalDate\u3001LocalTime\u3001LocalDateTime\u00a0\u548c\u00a0Zoned\uff0c\u80fd\u66f4\u65b9\u4fbf\u4f18\u96c5\u7684\u5904\u7406\u65e5\u671f\u65f6\u95f4</p> </li> </ul> <pre><code>LocalDate nowdata = LocalDate.now();\nSystem.out.println(nowdata.getYear());\nDateTimeFormatter f1 = DateTimeFormatter.ofPattern(\"yyyy.MM.dd\");\nSystem.out.println(getdata.format(f1));\n</code></pre>"},{"location":"Langs/Java/1.%20basic/http/","title":"http","text":""},{"location":"Langs/Java/1.%20basic/http/#httpservletrequest","title":"HttpServletRequest","text":"<ul> <li>request.getSession()<ul> <li>\u8fd9\u91cc\u8981\u770b web \u7ec4\u4ef6\u5982\u4f55\u5b9e\u73b0\uff0c\u6bd4\u5982 Tomcat \u5c31\u662f\u5728 cookie \u91cc\u5199\u5165\u4e86 session</li> <li>session: \u672c\u610f\u4f1a\u8bae\u671f\u95f4\u3001\u8bad\u7ec3\u9879\u76ee in session.</li> </ul> </li> </ul>"},{"location":"Langs/JavaScript/UnderstandTheWeirdParts/","title":"JS: Understand the Weird Parts","text":"<p>\u8bfe\u7a0b\u5730\u5740</p>","tags":["Course"]},{"location":"Langs/JavaScript/UnderstandTheWeirdParts/#notes","title":"notes","text":"","tags":["Course"]},{"location":"Langs/JavaScript/UnderstandTheWeirdParts/#conceptual-aside","title":"Conceptual Aside","text":"<p>syntax parser: someone else wrote a program to translate it to the complier.</p> <p>Lexical enviroment</p> <p>Execution context\uff08Glocal execution context\uff09</p> <p>Global = not inside the function</p> <p>\u6240\u6709\u7684\u53d8\u91cf\u548c\u51fd\u6570\u90fd\u5728 global object \u91cc\uff01// window object</p> <p>scope: where a variable is available in ur code</p> <p>dynamic typing // versus to Static Typing</p> <p>operator: \u5b9e\u9645\u4e0a\u4e5f\u662f\u4e00\u79cdfunction! +(3, 4) =&gt; 3 + 4 //infix position</p>","tags":["Course"]},{"location":"Langs/JavaScript/YouDontKnowAboutJS/","title":"you dont know about js","text":""},{"location":"Langs/JavaScript/YouDontKnowAboutJS/#objects","title":"objects","text":"<p>We end up with two objects, linked to each other. That's it. We didn't instantiate a class. We certainly didn't do any copying of behavior from a \"class\" into a concrete object. We just caused two objects to be linked to each other.</p> <p>In fact, the secret, which eludes most JS developers, is that the new Foo() function calling had really almost nothing direct to do with the process of creating the link. It was sort of an accidental side-effect. new Foo() is an indirect, round-about way to end up with what we want: a new object linked to another object.</p> <p>Can we get what we want in a more direct way? Yes! The hero is Object.create(..)</p> <p>how it seems like a.constructor === Foo being true means that a has an actual .constructor property on it, pointing at Foo? Not correct.</p> <p>This is just unfortunate confusion. In actuality, the .constructor reference is also delegated up to Foo.prototype, which happens to, by default, have a .constructor that points at Foo.</p> <p></p> <p>The important part is Bar.prototype = Object.create( Foo.prototype ). Object.create(..) creates a \"new\" object out of thin air, and links that new object's internal [[Prototype]] to the object you specify (Foo.prototype in this case).</p> <p>In other words, that line says: \"make a new 'Bar dot prototype' object that's linked to 'Foo dot prototype'.\"</p> <p>\u00d7 Bar.prototype = Foo.prototype \u8fd9\u6837Bar.prototype\u4e0a\u505a\u7684\u4efb\u4f55\u4fee\u6539\u90fd\u4f1a\u5f71\u54cd\u5230Foo\u7684\u5b9e\u4f8b\u5316\u5bf9\u8c61\u4e86</p> <p>\u00d7 Bar.prototype = new Foo() \u4f5c\u7528\u4e0a\u53ef\u4ee5\u8fbe\u5230\uff0c\u4f46\u662fnew Foo()\u7684\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u5e26\u6765side effects</p> <p>\u203b \u7528es6\u5199\u7ee7\u7eed\u7684\u8bdd Object.setPrototypeOf( Bar.prototype, Foo.prototype );</p> <p>check if two objs are related:</p> <p></p> <p>Or <code>Foo.prototype.isPrototypeOf(a) // true</code></p> <p>__proto__\u7684\u5b9e\u73b0\uff1a</p> <p></p> <p>Object.create\u5f88\u5389\u5bb3\uff01\u5b83\u76f4\u63a5\u8054\u7cfb\u4e86\u4e24\u4e2a\u5bf9\u8c61\u800c\u4e0d\u9700\u8981\u901a\u8fc7\u6784\u9020\u51fd\u6570\u6765\u4e2d\u4ecb\uff01\u76f8\u5f53\u4e8e\uff1a</p> <pre><code>if(!Object.create){\n  Object.create = function(o) {\n    function F(){}\n    F.prototype = o;\n  }\n}\n</code></pre>"},{"location":"Langs/JavaScript/YouDontKnowAboutJS/#_1","title":"\u7ee7\u627f\u76f8\u5173","text":"<p>\u8fd9\u91cc\u662f\u4e00\u4efd\u7f16\u8bd1\u51fa\u6765\u7684\u8303\u672c\uff1a</p> <p>\u590d\u6742\u7248\uff1a\u7ed9Object.setPrototypeOf\u548cObject.create\u52a0\u4e86polyfill</p> <pre><code>var extendStatics = function(d, b) {\n    extendStatics = Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array &amp;&amp; function (d, b) { d.__proto__ = b; }) ||\n                function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return extendStatics(d, b);\n};\nfunction __extends(d, b) {\n    extendStatics(d, b);\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n</code></pre> <p>\u7b80\u8981\u7248\uff1a</p> <pre><code>function __extends(d, b) {\n    Object.setPrototypeOf(d, b);\n    d.prototype = Object.create(b); //\u6211\u5728\u60f3 \u8fd9\u4e00\u884c\u7684\u76ee\u7684\u4e0d\u4f1a\u548c\u4e0a\u4e00\u884c\u91cd\u590d\u5417\uff1f..hui'de\n}\n\n---------------\u4f7f\u7528------------------\nvar MNode = /** @class */ (function (_super) {\n__extends(MNode, _super);\nfunction MNode(options) {\n    var _this = _super.call(this, options) || this;\n}\nMNode.prototype.xx = function(){\n    _super.prototype.xx.call(this); // \u56e0\u4e3a\u53ef\u80fd\u4f1a\u8986\u76d6\u7236\u6784\u9020\u51fd\u6570\u91cc\u7684\u65b9\u6cd5 \u6240\u4ee5\u9700\u8981\u624b\u52a8\u8c03\u7528\n}\n)(Events)\n</code></pre> <p>Object.create() vs Object.setPrototypeOf()</p> <p>\u524d\u8005es6\u4e00\u822c\u4e5f\u8fd9\u4e48\u7528\u5440\uff1a<code>A.prototype = Object.create(B.prototype)</code></p> <p>\u540e\u8005\u4e5f\u662f\u4e00\u6837\u7684 Object.setPrototypeOf(B.prototype, A.prototype)</p> <p></p> <p>hah mdn\u4e0a\u90fd\u8bf4\u5b9e\u73b0\u4e0a\u5b9e\u9645\u662f\u6027\u80fd\u6bd4\u8f83\u6162\u7684</p> <p>\u6240\u4ee5 Object.create(B.prototype)\u4f18\u4e8eObject.setPrototypeOf(B.prototype, A.prototype)\uff01\uff01</p> <p>\u6df7\u5165\uff1a</p> <pre><code>function MyClass() {\n  SuperClass.call(this);\n  OtherSuperClass.call(this);\n}\n// \u96c6\u6210\u4e00\u4e2a\u7c7b\nMyClass.prototype = Object.create(SuperClass.prototype);\n// \u6df7\u5408\u5176\u4ed6\nObject.assign(MyClass.prototype, OtherSuperClass.prototype);\n// \u91cd\u65b0\u6307\u5b9a constructor\nMyClass.prototype.constructor = MyClass;\nMyClass.prototype.myMethod = function() {\n  // do a thing\n}\n</code></pre>"},{"location":"Langs/JavaScript/keypoints/","title":"js","text":""},{"location":"Langs/JavaScript/keypoints/#this","title":"\u8001\u6d3e\u7684 this","text":"<p>\u597d\u9898 \u53ea\u8981\u8bb0\u4f4f</p> <ul> <li>function(){} \u7684 this \u6307\u5411\u8c03\u7528\u8005</li> <li>()=&gt;{} \u7684 this \u6307\u5411\u5b9a\u4e49\u65f6\u7684\u5916\u5c42\u51fd\u6570\uff0c\u82e5\u65e0\u5c31\u662f windows</li> </ul>"},{"location":"Langs/JavaScript/keypoints/#implicit-coercion","title":"Implicit Coercion","text":"<p>console.log('3' + 1) // 31 console.log('3' - 1) // 2 since subtraction operator ONLY trigger ToNumber() conversion, no string</p> <p>Number(null) -&gt; 0 Number(undefined) -&gt; NaN. JSON doesn't have undefined value, when JSON stringify, undefined will be replaced with null in JSON data type.</p>"},{"location":"Langs/JavaScript/keypoints/#under-browser","title":"Under Browser","text":"<ul> <li>HTMLCollection \u662f\u7c7b Array, \u8981\u7528 Array.from()</li> </ul>"},{"location":"Langs/JavaScript/keypoints/#objectdefineproperty","title":"Object.defineProperty","text":"<p>Enumerable \u5c5e\u6027\uff1a</p> <p></p> <p>Configurable\u5c5e\u6027\uff1a\u5b9a\u4e49\u4e86\u540e\u4e0d\u4ec5\u518d\u5bf9\u8fd9\u4e2a\u5bf9\u8c61\u505a\u4efb\u4f55\u4fee\u6539\u90fd\u4f1a\u62a5\u9519</p> <p></p> <p>\u800c\u4e14 delete o.a\u4e5f\u4f1a\u65e0\u6548\u3002\u8fd9\u4e2a\u5f88\u91cd\u8981 \u6240\u6709\u53ef\u4ee5\u88ab\u5220\u9664\u7684\u5c5e\u6027 \u90fd\u4e0d\u80fd Configurable: false</p> <p>\u7528\u70b9\u8fd0\u7b97\u503c\u548cObject.defineProperty()\u4e3a\u5bf9\u8c61\u7684\u5c5e\u6027\u8d4b\u503c\u65f6 \u9ed8\u8ba4\u5c5e\u6027\u5f88\u4e0d\u76f8\u540c\uff1a</p> <p></p> <p>set, get\uff1a\u6709set\u6216get\u5c31\u4e0d\u80fd\u6709value \u5426\u5219\u4f1a\u62a5\u9519\uff0c\u4e5f\u4e0d\u80fd\u6709writable</p> <p>//Uncaught TypeError: Invalid property descriptor.</p> <p>//Cannot both specify accessors and a value or writable attribute, #"},{"location":"Langs/JavaScript/keypoints/#promise","title":"Keypoints","text":""},{"location":"Langs/JavaScript/keypoints/#_1","title":"Keypoints","text":""},{"location":"Langs/JavaScript/module/","title":"module","text":"<p>@babel/plugin-transform-runtime will always emit _interopRequireDefault.</p> <p>Heres the problem, when using commonjs resolution mixes with es-module resolution, chaos may happen.</p> <p></p> <p></p> <p>Notes that img2 imports the pkg from img1. And without the commented line <code>_interopRequireDefault2 = _interoRequireDefault2.default</code>, error <code>_interopRequireDefault2 is not a function</code> will be throwed, which is a common one of babel. Form my point of view, its because the 'commonjs version' of interopRequireDefault take place the original 'es version' of interopRequireDefault.</p>"},{"location":"Langs/JavaScript/module/#best-practice","title":"best practice","text":""},{"location":"Langs/JavaScript/module/#for-bowsernode-enviroment","title":"For bowser/node enviroment","text":"<p>package.json:</p> <pre><code>{\n  \"main\": \"./lib/index.js\",\n  \"module\": \"./es/index.js\",\n}\n</code></pre> <p>with /dist(umd) \u3001/es\u3001/lib</p> <pre><code>{\n   \"main\": \"lib/Server.js\",\n}\n</code></pre>"},{"location":"Langs/JavaScript/module/#others","title":"others","text":"<p>It seems that only export commonjs version is fine</p> <pre><code>*var* _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(*exports*, \"__esModule\", {\n  value: true\n});\n</code></pre>"},{"location":"Langs/JavaScript/promise/","title":"How to make a Promise and so on","text":"<p>\u4e0b\u6587\u6dfb\u6dfb\u8865\u8865\u540e\uff0c\u5206\u4e09\u4e2a\u5927\u5757~</p> <ul> <li>\u2460 \u5982\u4f55\u5b9e\u73b0\u4e00\u4e2a promise.</li> <li>\u2461 async/await \u7684\u672c\u8d28</li> <li>\u2462 babel \u5bf9\u4e8e async/await \u7684\u5904\u7406</li> </ul>","tags":["outdated","blog"]},{"location":"Langs/JavaScript/promise/#promise","title":"\u5982\u4f55\u5b9e\u73b0\u4e00\u4e2aPromise","text":"<p>\u201cFirst, look into the mirror.\u201d</p> <p>\u201cSecond, promise yourself that you would lose 10 pounds before this Summer.\u201d</p> <p>\u54c8\u54c8\u54c8\u5f00\u73a9\u7b11\u5566\uff01\u6211\u4e00\u76f4\u5728\u60f3Promise\u662f\u600e\u4e48\u5b9e\u73b0\u7684\u5462\uff0c\u5c24\u5176\u662f\u5176\u94fe\u5f0f\u8c03\u7528\u3002\u6267\u884c.then\u7684\u65f6\u5019\uff0c\u662f\u8fd4\u56dethis,\u518d\u5f80thenFunction\u91cc\u53bbpush\u4e00\u7cfb\u5217\u8981\u5904\u7406\u7684\u51fd\u6570\uff1b\u8fd8\u662f\u8fd4\u56de\u4e00\u4e2anew Promise\u5c31\u597d\u4e86\u5462~\u5e26\u7740\u8fd9\u4e2a\u7591\u95ee\uff0c\u6211\u2026\u4ecd\u7136\u5199\u4e0d\u51fa\u6765\u2026\u54edTAT\u3002</p> <p>\u4e0d\u8fc7\u8fd8\u597d\uff01\u88ab\u6211\u53d1\u73b0\u4e86\u522b\u4eba\u817b\u5bb3\u7684\u5256\u6790\uff01\u7f6e\u9876\u611f\u8c22@\u5256\u6790Promise\u5185\u90e8\u7ed3\u6784\uff0c\u4e00\u6b65\u4e00\u6b65\u5b9e\u73b0\u4e00\u4e2a\u5b8c\u6574\u7684\u3001\u80fd\u901a\u8fc7\u6240\u6709Test case\u7684Promise\u7c7b \u3002\u6309\u7167\u4ed6\u7684\u6d41\u7a0b\u8fc7\u4e86\u4e00\u904d\uff0c\u5927\u6982\u7406\u89e3Promise\u7684\u795e\u5947\u529f\u6548\u5566\uff01\u6545\u7279\u6b64\u8bb0\u5f55\uff01</p> <p>\u9996\u5148\u56de\u7b54\u4e00\u4e0b\u6211\u7684\u4e3b\u8981\u77db\u76fe\uff1a.then()\u8fd4\u56de\u4e86\u4ec0\u4e48\uff1f</p> <p>\u5173\u4e8e\u8fd9\u4e00\u70b9\uff0cPromise/A+\u6807\u51c6\u5e76\u6ca1\u6709\u8981\u6c42\u8fd4\u56de\u7684\u8fd9\u4e2aPromise\u662f\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\uff0c\u4f46\u5728Promise/A\u6807\u51c6\u4e2d\uff0c\u660e\u786e\u89c4\u5b9a\u4e86then\u8981\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61\uff0c\u76ee\u524d\u7684Promise\u5b9e\u73b0\u4e2dthen\u51e0\u4e4e\u90fd\u662f\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684Promise(\u8be6\u60c5)\u5bf9\u8c61\uff0c\u6240\u4ee5\u5728\u6211\u4eec\u7684\u5b9e\u73b0\u4e2d\uff0c\u4e5f\u8ba9then\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684Promise\u5bf9\u8c61\u3002</p> <p>\u53e6\u5916\uff0c\u539f\u6587\u4e2d\u8fd8\u63d0\u5230\uff0c\u201d\u6bcf\u4e2aPromise\u5bf9\u8c61\u90fd\u53ef\u4ee5\u5728\u5176\u4e0a\u591a\u6b21\u8c03\u7528then\u65b9\u6cd5\uff0c\u800c\u6bcf\u6b21\u8c03\u7528then\u8fd4\u56de\u7684Promise\u7684\u72b6\u6001\u53d6\u51b3\u4e8e\u90a3\u4e00\u6b21\u8c03\u7528then\u65f6\u4f20\u5165\u53c2\u6570\u7684\u8fd4\u56de\u503c\uff0c\u6240\u4ee5then\u4e0d\u80fd\u8fd4\u56dethis\uff0c\u56e0\u4e3athen\u6bcf\u6b21\u8fd4\u56de\u7684Promise\u7684\u7ed3\u679c\u90fd\u6709\u53ef\u80fd\u4e0d\u540c\u3002\u201d \u6069\uff0c\u6240\u4ee5.then()\u8fd4\u56de\u7684\u5fc5\u5b9a\u662f\u4e00\u4e2anew Promise\u3002</p> <p>\u5176\u6b21\u8fd8\u8981\u94ed\u8bb0\u5728\u8111\u6d77\u4e2d\u7684\u662fPromise\u7684\u521d\u59cb\u72b6\u6001\u4e3apending\uff0c\u5b83\u53ef\u4ee5\u7531\u6b64\u72b6\u6001\u8f6c\u6362\u4e3afulfilled/resolved\u6216\u8005rejected\uff0c\u4e00\u65e6\u72b6\u6001\u786e\u5b9a\uff0c\u5c31\u4e0d\u53ef\u4ee5\u518d\u6b21\u8f6c\u6362\u4e3a\u5176\u5b83\u72b6\u6001\u3002\u8fd9\u662fPromise\u7684\u6807\u51c6\u6240\u79f0\u7684\u72b6\u6001\uff0c\u6211\u5f00\u59cb\u89c9\u5f97\u8fd9\u53ea\u662f\u5e76\u6ca1\u6709\u4ec0\u4e48\u7528\u7684\u8bf4\u8f9e\u800c\u5df2\uff0c\u5b9e\u9645\u4e0a\u8fd9\u53e5\u8bdd\u662f\u5e94\u8be5\u8981\u4f53\u73b0\u5728\u4ee3\u7801\u91cc\u7684\u3002\u5b83\u7ed9Promise\u8d77\u5230\u4e86\u4e00\u4e2a\u6807\u8bb0\u517c\u6307\u6325\u7684\u4f5c\u7528\u3002</p> <p>\u4e8e\u662f\uff0c\u6309\u7167\u539f\u6587\u7684\u8bf4\u660e\uff0c\u8e6d\u8e6d\u8e6d\u7684\u5c31\u53ef\u4ee5\u9020\u51fa\u4e00\u4e2a\u7b80\u8981Promise\u5566\uff01\u4ee5\u4e0b\u662f\u53ea\u5e26resolve\u7248\u4ee5\u53ca\u6211\u968f\u4fbf\u53d6\u4e86\u4e2aPoppy\u540d\u5b57(\ua4aa\u2313\ua4aa)\u7684custom Promise\uff1a</p> <p>\u6309\u4e0a\u8ff0demo\uff0c\u5728\u4e8c\u9636then\u5e76\u5b58\u5728\u5f02\u6b65\u7684\u60c5\u51b5\u4e0b\u6267\u884c\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <p>\u2460 \u5b9a\u4e49\u9636\u6bb5</p> <p>\u6267\u884cpromise1.then=&gt;\u5728promise1.then()\u4e2d\uff0c\u5b9a\u4e49promise2\uff0c\u5c06promise2\u8981\u6267\u884c\u7684\u5185\u5bb9\u6682\u5b58=&gt;\u6267\u884cpromise2.then=&gt;\u5728promise2.then()\u4e2d\uff0c\u5b9a\u4e49promise3\uff0c\u5c06promise3\u8981\u6267\u884c\u7684\u5185\u5bb9\u6682\u5b58</p> <p>\u2461 \u6267\u884c\u9636\u6bb5</p> <p>promise1\u5904\u7406\u5b8c\u6bd5\uff0c\u6267\u884cpromise1\u4e2d\u6682\u5b58\u7684promise2=&gt;promise2\u5904\u7406\u5b8c\u6bd5\uff0c\u6267\u884cpromise2\u4e2d\u6682\u5b58\u7684promise3</p> <p>\u6240\u4ee5\uff0c\u5176\u5b9e.then\u9020\u6210\u6682\u505c\u7684\u9519\u89c9\uff0c\u5f52\u6839\u5230\u5e95\u8fd8\u662f\u7531\u56de\u8c03\u51fd\u6570\u6765\u5b8c\u6210\u7684\u3002Promise\u4f1a\u5148\u5c06\u56de\u8c03\u51fd\u6570\u6682\u5b58\u8d77\u6765\uff0c\u7b49\u56de\u8c03\u51fd\u6570\u4e4b\u524d\u7684\u6b65\u9aa4\u5168\u90e8\u5904\u7406\u5b8c\u6bd5\u540e\u518dcall\u5b83\u3002.then\u4e2d\u8fd4\u56denew Promise\u7684\u597d\u5904\u4e5f\u5f88\u660e\u663e\uff0c\u4e00\u4e2athen\u76f8\u5f53\u4e8e\u4e00\u4e2apromise\uff0c\u5728then\u4e2d\u5b9e\u73b0\u4e86\u524d\u4e00\u4e2apromise\u5bf9\u540e\u4e00\u4e2apromise\u7684\u63a7\u5236\u3002</p> <p>\u6240\u4ee5\u6211\u5f04\u6e05\u695a\u4e86\u4ee5\u540e\u8fd8\u86ee\u9ad8\u5174\u7684\uff0c\u4e0d\u8fc7\u4e5f\u5dee\u4e0d\u591a\u6b62\u6b65\u4e8e\u6b64\u4e86\u2026\u539f\u6587\u4e2d\u8fd8\u989d\u5916\u63a2\u8ba8\u4e86\u4ee5\u4e0b\u51e0\u9879\uff1a</p> <p>\u203b\u503c\u7684\u7a7f\u900f\uff1a\u8fd9\u70b9\u5f88\u7b80\u5355\uff0c\u6ca1\u8fd4\u56de\u503c\u5c06\u5165\u53c2\u540e\u629b\u5373\u53ef\u3002</p> <p>\u203b\u5982\u4f55\u505c\u6b62\u4e00\u4e2apromise\uff08\u5373\u5728\u4e4b\u524d\u51fa\u73b0\u9519\u8bef\u65f6\u963b\u6b62\u540e\u9762\u4e00\u7cfb\u5217then\u7684\u6267\u884c\uff09\u3002\u539f\u6587\u7ed9\u4e86\u4e2a\u5f88\u6709\u521b\u610f\u7684\u7b54\u6848\u662f\u5f15\u5165\u4e00\u4e2a\u6c38\u4e0d\u53bbresolve\u7684promise~</p> <pre><code>Promise.cancel = Promise.stop = function() {  \n  return new Promise(function(){})  \n}  \n\nnew Promise(function(resolve, reject) {  \n  resolve(42)  \n}).then(function(value) {  \n   // \"Big ERROR!!!\"  \n   return Promise.stop()  \n}).catch().then() \n</code></pre> <p>\u203bpromise\u94fe\u4e0a\u8fd4\u56de\u7684\u6700\u540e\u4e00\u4e2apromise\u9519\u4e86\u600e\u4e48\u529e\uff1fpromise\u91cc\u7684\u6240\u6709\u9519\u8bef\u90fd\u88abcatch\u4e86\u6240\u4ee5\u5e76\u4e0d\u4f1a\u88ab\u7206\u51fa\u6765\u5440\u3002\u539f\u6587\uff1a\u6211\u4eec\u53ef\u4ee5\u5728\u4e00\u4e2aPromise\u88abreject\u7684\u65f6\u5019\u68c0\u67e5\u8fd9\u4e2aPromise\u7684onRejectedCallback\u6570\u7ec4\uff0c\u5982\u679c\u5b83\u4e3a\u7a7a\uff0c\u5219\u8bf4\u660e\u5b83\u7684\u9519\u8bef\u5c06\u6ca1\u6709\u51fd\u6570\u5904\u7406\uff0c\u8fd9\u4e2a\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981\u628a\u9519\u8bef\u8f93\u51fa\u5230\u63a7\u5236\u53f0\uff0c\u8ba9\u5f00\u53d1\u8005\u53ef\u4ee5\u53d1\u73b0\u3002</p> <p>\u4ee5\u4e0a\u3002\u6700\u540e\u518d\u5206\u4eab\u4e00\u4e2a\u751f\u6d3b\u5c0f\u7a8d\u95e8\u4e4b\u300a\u5de7\u7528Promise\u8bbe\u7f6efetch\u7684timeout\u300b\uff1a</p> <pre><code>\nfunction request(data, config) {  \n\n  const fetchPromise = fetch(...).then(r =&gt; r.json).catch(err =&gt; throw new Error(err))  \n  const abortPromise = new Promise((resolve, reject) =&gt; setTimeout(reject, 30000, 'timeout'))  \n\n  return Promise.race(\\[fetchPromise, abortPromise\\])  \n}  \n\ntry {  \n   const res = await request(data, config)  \n} catch (err) {  \n    // timeout\u5566  \n}  \n</code></pre>","tags":["outdated","blog"]},{"location":"Langs/JavaScript/promise/#update-asyncawait","title":"update: async/await\u7684\u80cc\u540e","text":"<p>async/await\u4e0d\u4ec5\u4ec5\u53ea\u662fpromise\u7684\u8bed\u6cd5\u7cd6\u90a3\u4e48\u7b80\u5355\u5594\u3002</p>","tags":["outdated","blog"]},{"location":"Langs/JavaScript/promise/#asyncawaitpromise-generator","title":"async/await\u7684\u80cc\u540e\u662fpromise + generator","text":"<pre><code>function\\* foo(){  \n  let res1 = yield fetch('...');  \n  let res2 = yield fetch('...');  \n}  \n\nconst gen = foo();  \ngen.next().value.then(res1 =&gt;{  \n  return gen.next().value;  \n}).then(res =&gt; console.log('res2'))  \n</code></pre> <p>\u5176\u5b9e\u4e0b\u534a\u90e8\u5206\u6267\u884c\u751f\u6210\u5668\u7684\u4ee3\u7801\u5f80\u5f80\u4f1a\u88ab\u5c01\u88c5\u6210\u4e00\u4e2a\u51fd\u6570\uff0c\u540d\u4e3a\u201c\u6267\u884c\u5668\u201d\uff0c\u6bd4\u5982co\u3002</p>","tags":["outdated","blog"]},{"location":"Langs/JavaScript/promise/#generator","title":"generator\u7684\u80cc\u540e\u662f\u534f\u7a0b","text":"<p>\u534f\u7a0b\u6709\u4e24\u5927\u7279\u70b9\uff1a</p> <ul> <li>\u8fd0\u8f6c\u5728\u7ebf\u7a0b\u4e0a\u3002\u4e00\u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u6709\u591a\u4e2a\u534f\u7a0b\uff0c\u4f46\u540c\u65f6\u53ea\u80fd\u6709\u4e00\u4e2aowner\u6267\u884c\u6743\u3002</li> <li>\u534f\u7a0b\u7684\u8c03\u7528\u4e0d\u7531\u64cd\u4f5c\u7cfb\u7edf\u3001\u800c\u7531\u7528\u6237\u63a7\u5236\u3002</li> </ul> <p>\u7ad9\u5728\u534f\u7a0b\u7684\u89d2\u5ea6\u62c6\u89e3\u5982\u4e0a\u4ee3\u7801\uff0c\u53ef\u4ee5\u63cf\u8ff0\u4e3a\uff1a</p> <ul> <li>\u901a\u8fc7\u8c03\u7528foo\u751f\u6210\u4e86\u4e00\u4e2a\u534f\u7a0b\uff0c\u547d\u540d\u4e3a gen\u3002</li> <li>\u5728\u7236\u7ebf\u7a0b\u4e2d\u8c03\u7528 <code>gen.next</code>\uff0c\u628a\u4e3b\u7ebf\u7a0b\u7684\u63a7\u5236\u6743\u4ea4\u7ed9 gen \u534f\u7a0b\u3002</li> <li>gen \u534f\u7a0b\u6267\u884c yield\uff0c\u6682\u505c gen \u534f\u7a0b\u7684\u6267\u884c\uff0c\u5e76\u8fd4\u56de\u7b2c\u4e00\u4e2a\u8bf7\u6c42\u7ed3\u679c\u7ed9\u7236\u534f\u7a0b\u3002</li> <li>\u7236\u534f\u7a0b\u901a\u8fc7 <code>promise.then</code>\uff0c\u7b49\u5f85\u7ed3\u679c\u8fd4\u56de\u3002</li> <li>\u7ed3\u679c\u8fd4\u56de\u540e\u7236\u534f\u7a0b\u518d\u901a\u8fc7 <code>gen.next</code>\uff0c\u5c06\u63a7\u5236\u6743\u4ea4\u7ed9 gen \u534f\u7a0b\u7ee7\u7eed\u6267\u884c\u4e0b\u4e2a\u8bf7\u6c42\u3002</li> </ul>","tags":["outdated","blog"]},{"location":"Langs/JavaScript/promise/#asyncawait","title":"\u518d\u6765\u770basync/await","text":"<p>\u6240\u4ee5\u53ef\u4ee5\u8fd9\u4e48\u7406\u89e3\u5b83\uff1a</p> <p><code>async</code> == \u4e00\u4e2a\u901a\u8fc7\u5f02\u6b65\u6267\u884c\u5e76\u9690\u5f0f\u8fd4\u56de Promise \u4f5c\u4e3a\u7ed3\u679c\u7684\u51fd\u6570\uff0c\u5e76\u8fd0\u884c\u5728\u534f\u7a0b\u91cc\uff1b</p> <p><code>await</code> == \u9690\u6027\u521b\u5efa\u4e86\u4e00\u4e2a Promise \u5bf9\u8c61\u3002 =&gt; \u5728\u521b\u5efa\u8be5\u5bf9\u8c61\u540e\uff0cJavaScript \u5f15\u64ce\u4f1a\u5c06\u5bf9\u8c61\u5185\u7684\u4efb\u52a1\u63d0\u4ea4\u7ed9\u5fae\u4efb\u52a1\u961f\u5217\uff0c\u5e76\u5c06\u8be5\u5bf9\u8c61\u8fd4\u56de\u7ed9\u7236\u534f\u7a0b\u3002=&gt; \u7236\u534f\u7a0b\u8c03\u7528 Promise.then\uff0c\u6ce8\u518c \u5c06\u4e3b\u7ebf\u7a0b\u63a7\u5236\u6743\u4ea4\u7ed9 async \u51fd\u6570\u8fd0\u884c\u7684\u534f\u7a0b\uff0c\u5e76\u4f20\u9012 value \u7684\u56de\u8c03\u4e8b\u4ef6\uff0c\u7b49\u5f85 await \u540e\u7684\u5f02\u6b65\u8bed\u53e5\u6267\u884c\u5b8c\u6bd5\uff0c\u89e6\u53d1\u8be5\u56de\u8c03\u3002=&gt; async \u51fd\u6570\u7684\u534f\u7a0b\u91cd\u65b0\u62ff\u56de\u63a7\u5236\u6743\uff0c\u7ee7\u7eed\u6267\u884c\u540e\u7eed\u8bed\u53e5\u3002</p> <p>uupdate: how does babel compile async/await?</p> <p>\u90a3\u4e48\u5982\u4f55\u5199 async/await \u7684polyfill\u5462\uff1f\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 babel-playground \u770b\u770bbabel\u662f\u600e\u4e48\u505a\u7684\u3002</p> <p>\u8fd9\u662f\u5f88\u7b80\u5355\u7684\u6e90\u4ee3\u7801\uff1a</p> <pre><code> async function lalaland(){  \n  const a = await fetch('//dorami')  \n  console.log(a)  \n} \n</code></pre> <p>async/await = Promise + Generator. \u800c Generator \u5728es2016\u4e2d\u624d\u5f97\u5230\u652f\u6301\u3002\u6240\u4ee5\u6362\u8a00\u4e4b\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u7f16\u5199 polyfill \u7684\u8fc7\u7a0b\u5206\u4e3a async/await to es2016 \u548c async/await to es2015 \u4e24\u4e2a\u9636\u6bb5\u3002</p>","tags":["outdated","blog"]},{"location":"Langs/JavaScript/promise/#to-es2016","title":"to es2016","text":"<p>\u5728\u8fd9\u4e2a\u9636\u6bb5\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528Generator. \u4ee5\u4e0b\u662fbabel\u5410\u51fa\u7684\u4ee3\u7801\uff1a</p> <pre><code>  function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    // \u2462\u5373 \u8c03\u7528gen.next()\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    // \u2463.1 \u5982\u679cgen\u6267\u884c\u5b8c\u6bd5 \u6d41\u7a0b\u7ed3\u675f\n    resolve(value);\n  } else {\n    // \u2463.2 \u5426\u5219\u7b49\u8fd9\u4e00\u6b21yield\u7684promise\u6267\u884c\u5b8c\u6bd5\u540e\uff0c\u5728then\u56de\u8c03\u91cc\u7ee7\u7eed\u6267\u884c_next \u5373\u518d\u4e00\u6b21\u8c03\u7528asyncGeneratorStep\uff0c\u524d\u5f80\u4e0b\u4e00\u6b21\u3002\n    // \u6ce8\u610f\uff1a\u7531\u4e8e_next\u51fd\u6570\u5df2\u7ecf\u9ed8\u8ba4\u7ed9asyncGeneratorStep\u4f20\u5165\u4e86\u552f\u4e00\u7684resolve\u5165\u53c2\uff0c\u6240\u4ee5\u8fd9\u91cc\u4e0d\u7528\u518d\u624b\u52a8\u4f20\u5165resolve\u4e86\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    // \u2460\u8fd4\u56de\u4e86\u4e00\u4e2apromise\n    return new Promise(function (resolve, reject) {\n      // \u8fed\u4ee3\u5668\u51fd\u6570\u5373\u662f\u7ed1\u5b9a\u4e86 await \u51fd\u6570\u5165\u53c2\u7684 await \u4e3b\u4f53\u90e8\u5206\n      var gen = fn.apply(self, args);\n\n      // \u5bf9\u4e8e\u6267\u884cgenerator\u7684\u5305\u88c5\n      function _next(value) {\n        // \u8fd9\u91cc\u4f20\u5165\u7684resolve\u4f1a\u7ec8\u7ed3\u2460\u8fd9\u4e2apromise\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      // \u2461\u9996\u6b21\u6267\u884c\u81ea\u52a8\u8c03\u7528asyncGeneratorStep\n      _next(undefined);\n    });\n  };\n}\n\nfunction lalaland() {\n  return _lalaland.apply(this, arguments);\n}\n\nfunction _lalaland() {\n  // await \u51fd\u6570\u7684\u4e3b\u4f53\u90e8\u5206\u88ab\u5305\u6210\u4e86Generator\n  _lalaland = _asyncToGenerator(function* () {\n    const a = yield fetch('//dorami')\n    console.log(a);\n  });\n  return _lalaland.apply(this, arguments);\n}\n</code></pre> <p>\u5982\u4e0a\u8ff0\u4ee3\u7801\u6240\u793a\uff0c\u5173\u952e\u90e8\u5206\u662f _asyncToGenerator \u548c asyncGeneratorStep \u8fd9\u4e24\u6bb5\u64cd\u4f5c\u3002</p> <p>\u524d\u8005\u5305\u88f9\u4f4f\u4e86 async \u51fd\u6570\u91cc\u7684\u6574\u4e2a\u6267\u884c\u4f53\uff0c\u5e76\u4e14\u8fd4\u56de\u4e86 Promise\u3002</p> <p>\u540e\u8005\u5219\u5b9e\u73b0\u4e86\u5bf9\u4e8e\u6267\u884c\u4f53\u7684 <code>\u8fed\u4ee3\u5668.next</code> \u7684\u8f6e\u756a\u8c03\u7528\uff0c\u5728\u8c03\u7528\u7ed3\u675f\u540e resolve \u4e86\u6574\u4e2a\u6d41\u7a0b\u3002</p> <p>\u6362\u53e5\u8bdd\u8bf4\uff0c\u8fd9\u4e5f\u662f\u5bf9 async/await \u73b0\u4ee3\u5b9e\u73b0\u7684\u4ee3\u7801\u4f50\u8bc1\u3002</p>","tags":["outdated","blog"]},{"location":"Langs/JavaScript/promise/#to-es2015","title":"to es2015","text":"<p>\u5728\u8fd9\u4e2a\u7248\u672c\u91cc\uff0cGenerator \u8fd8\u672a\u53d7\u652f\u6301\uff0c\u6240\u4ee5\u5173\u952e\u95ee\u9898\u53d8\u6210\u4e86\u300c\u5982\u4f55polyfill\u4e00\u4e2aGenearator\u300d?</p> <p>\u8fd9\u6b21 babel \u751f\u6210\u4ee3\u7801\u4e2d\u7684\uff0c\u5f02\u6b65\u4e3b\u4f53\u90e8\u5206\u4f9d\u7136\u6ca1\u53d8\uff0c\u53ea\u662f _lalaland \u7684\u4e3b\u4f53\u53d1\u751f\u4e86\u6539\u53d8\u3002</p> <p>\u539f\uff1a</p> <pre><code>function _lalaland() {\n  // await \u51fd\u6570\u7684\u4e3b\u4f53\u90e8\u5206\u88ab\u5305\u6210\u4e86Generator\n  _lalaland = _asyncToGenerator(function* () {\n    const a = yield fetch('//dorami')\n    console.log(a);\n  });\n  return _lalaland.apply(this, arguments);\n}\n</code></pre> <p>\u73b0\uff1a</p> <pre><code>function _lalaland() {\n  _lalaland = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      var a;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // \u6307\u5411\u63a5\u4e0b\u6765\u8981\u6267\u884c\u5230 case 2\u53bb\u5566\n              _context.next = 2;\n              return fetch('//dorami');\n\n            case 2:\n              // \u5c06\u53d8\u91cf a \u4fdd\u5b58\u8d77\u6765\n              a = _context.sent;\n              console.log(a);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n  return _lalaland.apply(this, arguments);\n}\n</code></pre> <p>\u8fd9\u91cc\u7528\u5230\u4e86 <code>regeneratorRuntime</code>, \u53ef\u4ee5\u5b89\u88c5 <code>babel-polyfill</code> \u5bfc\u5165\u6240\u6709 runtime \u51fd\u6570\u6216\u8005\u4ec5\u5b89\u88c5 <code>@babel/plugin-transform-regenerator</code>\u3002</p> <p>\u5728\u6ca1\u770b <code>regeneratorRuntime</code> \u4e4b\u524d\uff0c\u5148\u4ece\u7ed3\u679c\u731c\u4e00\u731c\u5b83\u80cc\u540e\u505a\u4e86\u54ea\u4e9b\u4e8b\u60c5\uff1f</p> <ul> <li><code>regeneratorRuntime.mark</code>: \u7b2c\u4e00\u4e2a\u5165\u53c2\u662f generator \u51fd\u6570\u88ab\u8f6c\u6362\u8fc7\u7684\u5185\u5bb9\uff0c\u7b2c\u4e8c\u4e2a\u5165\u53c2\u662fgenerator\u51fd\u6570\u7684\u51fd\u6570\u540d\u3002\u5176\u51fa\u53c2\u80af\u5b9a\u662f\u4e00\u4e2a\u7b26\u5408 gen \u751f\u6210\u5668\u6807\u51c6\u7684\u5bf9\u8c61\uff0c\u5373\u62e5\u6709 <code>next</code> ..\u8fd9\u4e9b\u5c5e\u6027\u3002</li> <li><code>regeneratorRuntime.wrap</code>: \u5165\u53c2 _callee$ \u51fd\u6570\u63a5\u53d7 <code>_context</code> \u5165\u53c2\u3002\u6d4f\u89c8\u5168\u6587\uff0c\u53d1\u89c9 <code>_context</code> \u8d77\u5230\u5173\u952e\u6307\u5f15\u4f5c\u7528\uff0c\u81f3\u5c11\u62e5\u6709 <code>_context.next</code> (\u7528\u6765\u5b58\u50a8\u6307\u5b9a\u4ee3\u7801\u8d70\u5411) \u548c <code>_context.sent</code> (\u7528\u6765\u5b58\u50a8\u5f53\u524d yield \u8fd4\u56de\u503c) \u8fd9\u4e24\u4e2a\u5c5e\u6027\uff0c\u4ee5\u53ca <code>_context.stop()</code> (\u7528\u6765\u505c\u6b62\u6267\u884c) \u8fd9\u4e2a\u65b9\u6cd5\u3002</li> </ul> <p>\u7136\u540e\u62b1\u7740\u8fd9\u6837\u7684\u731c\u60f3\uff0c\u53ef\u4ee5\u518d\u53bb\u770b\u6e90\u4ee3\u7801\u4e86\u3002</p> <p>\uff08\u5185\u5fc3os\uff1a\u53ea\u662f\u6ca1\u60f3\u5230\u6e90\u4ee3\u7801\u6709\u6d0b\u6d0b\u6d12\u6d12500\u884c\u963f\u2026\u90a3\u5c31\u5148\u672a\u5b8c\u5f85\u7eed\u4e86 TAT\uff09</p> <p>to be continued..</p>","tags":["outdated","blog"]},{"location":"Langs/JavaScript/promise/#refs","title":"Refs","text":"<p>\u5256\u6790Promise\u5185\u90e8\u7ed3\u6784\uff0c\u4e00\u6b65\u4e00\u6b65\u5b9e\u73b0\u4e00\u4e2a\u5b8c\u6574\u7684\u3001\u80fd\u901a\u8fc7\u6240\u6709Test case\u7684Promise\u7c7b</p> <p>\u8ba9fetch\u4e5f\u53ef\u4ee5timeout</p> <p>\u6d4f\u89c8\u5668\u5de5\u4f5c\u539f\u7406\u4e0e\u5b9e\u8df5: \u6d4f\u89c8\u5668\u4e2d\u7684\u9875\u9762\u5faa\u73af\u7cfb\u7edf @\u674e\u5175</p> <p>How are generators transpiled to ES5</p> <p>\u3010\u63a8\u8350\u3011Ben Nadel: Using ES6 Generators And Yield To Implement Asynchronous Workflows In JavaScript</p>","tags":["outdated","blog"]},{"location":"Langs/JavaScript/ancient/JS%20%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E6%8C%87%E5%8D%97/","title":"JS \u51fd\u6570\u5f0f\u7f16\u7a0b\u6307\u5357","text":"<p>https://www.gitbook.com/book/llh911001/mostly-adequate-guide-chinese/details</p> <p>We both know what happens when you assume</p> <p>\u6e90\u81ea\u4e00\u53e5\u540d\u8a00\u201cWhen you assume you make an ASS of U and ME\u201d\uff0c\u610f\u601d\u662f\u201c\u8ba9\u4e24\u4eba\u90fd\u96be\u582a\u201d</p> <p>DRY: don\u2019t repeat yourself</p> <p>loose coupling high cohesion: \u9ad8\u5185\u805a\u4f4e\u8026\u5408</p> <p>YAGNI: ya aint gonna need it</p> <p>Principle of least surprise: \u6700\u5c0f\u610f\u5916\u539f\u5219</p> <p>single responsibility: \u5355\u4e00\u8d23\u4efb</p> <p>\u4e00\u7b49\u516c\u6c11\u7684\u51fd\u6570&gt;\u4e0d\u8981\u5305\u88f9\u4f4f\u7684\u5197\u4f59\u4ee3\u7801</p> <pre><code>// \u592a\u50bb\u4e86\nvar getServerStuff = function(callback){\n  return ajaxCall(function(json){\n    return callback(json);\n  });\n};\n\n// \u7b49\u4ef7\u4e8e\nvar getServerStuff = ajaxCall;\n</code></pre> <p>\u8fd8\u8bb2\u5230\u4e86\u7eaf\u51fd\u6570\uff1a\u7eaf\u51fd\u6570\u603b\u80fd\u591f\u6839\u636e\u8f93\u5165\u6765\u505a\u7f13\u5b58 - not so clear why?</p> <p>\u8fd8\u8bb2\u5230\u4e86\u7528\u7c97\u66b4\u7684\u65b9\u5f0f\u6765\u505a\u7f13\u5b58 https://llh911001.gitbooks.io/mostly-adequate-guide-chinese/content/ch3.html#\u8ffd\u6c42\u201c\u7eaf\u201d\u7684\u7406\u7531</p> <p>curry\u51fd\u6570\u67ef\u91cc\u5316</p> <p>\u628a\u63a5\u53d7\u591a\u4e2a\u53c2\u6570\u7684\u51fd\u6570\u53d8\u6362\u6210\u63a5\u53d7\u4e00\u4e2a\u5355\u4e00\u53c2\u6570\uff08\u6700\u521d\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\uff09\u7684\u51fd\u6570\uff0c\uff08\u7b2c\u4e00\u4e2a\u53c2\u6570\u88ab\u653e\u5728\u95ed\u5305\u4e2d\uff09\uff0c\u5e76\u4e14\u8fd4\u56de\u63a5\u53d7\u4f59\u4e0b\u7684\u53c2\u6570\u800c\u4e14\u8fd4\u56de\u7ed3\u679c\u7684\u65b0\u51fd\u6570</p> <p>\u8fd9\u91cc\u8868\u660e\u7684\u662f\u4e00\u79cd\u201c\u9884\u52a0\u8f7d\u201d\u51fd\u6570\u7684\u80fd\u529b\uff0c\u901a\u8fc7\u4f20\u9012\u4e00\u5230\u4e24\u4e2a\u53c2\u6570\u8c03\u7528\u51fd\u6570\uff0c\u5c31\u80fd\u5f97\u5230\u4e00\u4e2a\u8bb0\u4f4f\u4e86\u8fd9\u4e9b\u53c2\u6570\u7684\u65b0\u51fd\u6570\u3002</p> <p>\u6bd4\u5982reduce\u548cbind</p> <p>\u4ee3\u7801\u7ec4\u5408compose</p> <pre><code>var compose = function(f,g) {\n  return function(x) {\n    return f(g(x));\n  }\n}\n</code></pre> <p>\u9075\u5faa\u4ece\u53f3\u5411\u5de6\u7684\u6570\u636e</p>"},{"location":"Langs/JavaScript/ancient/JavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97/","title":"JavaScript \u6743\u5a01\u6307\u5357","text":""},{"location":"Langs/JavaScript/ancient/JavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97/#chap-3","title":"Chap. 3 \u7c7b\u578b\u3001\u503c\u548c\u53d8\u91cf","text":"<p>\u4e0d\u53ef\u53d8\u7684\u539f\u59cb\u503c\u548c\u53ef\u53d8\u7684\u5bf9\u8c61\u5f15\u7528\uff1a\u5bf9\u8c61\u7684\u6bd4\u8f83\u5747\u662f\u5f15\u7528\u7684\u6bd4\u8f83\uff0c\u5f53\u4e14\u4ec5\u5f53\u5b83\u4eec\u5f15\u7528\u81ea\u540c\u4e00\u4e2a\u5bf9\u8c61\u65f6\u624d\u76f8\u7b49\u3002\u2234 \u5982\u679c\u60f3\u5f97\u5230\u4e00\u4e2a\u5bf9\u8c61\u7684\u526f\u672c\uff0c\u5fc5\u987b\u5728\u5faa\u73af\u91cc\u663e\u793a\u7684\u590d\u5236\u6bcf\u4e00\u4e2a\u5143\u7d20\u3002</p>"},{"location":"Langs/JavaScript/ancient/JavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97/#chap-6","title":"Chap. 6 \u5bf9\u8c61","text":"<p>6.1.3 \u901a\u8fc7\u5173\u952e\u5b57new\u548c\u6784\u9020\u51fd\u6570\u8c03\u7528\u521b\u5efa\u7684\u5bf9\u8c61\u7684\u539f\u578b\u5c31\u662f\u6784\u9020\u51fd\u6570\u7684prototype\u5c5e\u6027\uff08\u4e00\u822c\u662f\u5bf9\u8c61 \u6240\u4ee5\u53c8\u79f0\u539f\u578b\u5bf9\u8c61\uff09\u7684\u503c\uff0c\u6240\u4ee5\u901a\u8fc7new Object()\u521b\u5efa\u7684\u5bf9\u8c61\u4e5f\u7ee7\u627f\u81eaObject.prototype. \u6362\u8a00\u4e4b\uff0c\u53ea\u6709\u6784\u9020\u51fd\u6570\u624d\u6709prototype\u5c5e\u6027\uff0c\u5b9e\u4f8b\u5316\u5bf9\u8c61\u662f\u6ca1\u6709\u7684\u3002</p> <p>6.1.4 Object.create()</p> <pre><code>var o3 = Object.create(Object.prototype); //o3==={}===new Object();\n// \u2234\u53ef\u4ee5\u7406\u89e3\u6210\nvar a = String.prototype;\nvar b = Object.create(a); //\u4e0evar b = new String()\u6548\u679c\u4e00\u6837\nb instanceof String //true\n</code></pre> <p>\u4f8b\uff1a\u901a\u8fc7\u539f\u578b\u7ee7\u627f\u521b\u5efa\u4e00\u4e2a\u65b0\u5bf9\u8c61</p> <pre><code>function inherit(p){\n    if(Object.create()) return Object.create(p); //\u5982\u679c\u6709\u65b9\u6cd5 \u76f4\u63a5\u8c03\u7528Object.create()\u5e76\u9000\u51fa\n    //\u4ee5\u4e0b\u5c31\u662f\u6a21\u62df\u4e86\u4e00\u4e2aObject.create()\n    var type = typeof p;\n    if(type !== 'object' &amp;&amp; type !== 'function') throw TypeError(); //\u5224\u65adp\u7b26\u5408\u505a\u539f\u578b(\u5bf9\u8c61)\u7684\u6761\u4ef6\u4e0d\n    function F(){};  //\u5b9a\u4e49\u4e00\u4e2a\u65b0\u7684\u6784\u9020\u51fd\u6570\n    F.prototype = p; //\u5c06\u5176\u539f\u578b\u5c5e\u6027\u8bbe\u5b9a\u4e3ap\n    return new F(); //\u5b9e\u4f8b\u5316\n}\n</code></pre> <p>6.2.2 \u7ee7\u627f \u4e5f\u5c31\u662f\u539f\u578b\u94fe \u662f\u53ef\u4ee5\u4e00\u7ea7\u4e00\u7ea7\u5f80\u4e0b\u4f20\u7684~</p> <p></p> <p>6.4 \u68c0\u6d4b\u5c5e\u6027</p> <ul> <li>'x' in obj //x\u65e0\u8bba\u662f\u81ea\u6709\u5c5e\u6027\u8fd8\u662f\u7ee7\u627f\u5c5e\u6027\u90fd\u4f1a\u8fd4\u56detrue</li> <li>obj.hasOwnProperty('x') //\u81ea\u6709\u5c5e\u6027\u624d\u4f1a\u8fd4\u56detrue</li> <li>o.x !== undefined //\u65b9\u6cd5\u2460\u7684\u7b80\u6613\u7248 \u4f46\u4e0d\u80fd\u533a\u5206\u503c\u4e3aundefined\u7684\u5c5e\u6027</li> </ul> <p>6.5 \u679a\u4e3e\u5c5e\u6027</p> <ul> <li>Object.keys()\uff1a\u53ef\u679a\u4e3e\u7684\u81ea\u6709\u5c5e\u6027</li> <li>Object.getOwnPropertyNames()\uff1a\u6240\u6709\u81ea\u6709\u5c5e\u6027</li> <li>for/in\uff1a\u6240\u6709\u53ef\u679a\u4e3e\u5c5e\u6027</li> </ul> <pre><code>function B(){this.b=1}\nfunction C(){this.c=2}\nC.protptype = new B();\nvar cc = new C();\nObject.keys(cc)  //[\"c\"]\nObject.getOwnPropertyNames  //[\"cc\"]\nfor(prop in cc) console.log(prop)  //c b\n</code></pre> <p>6.6 \u5b58\u53d6\u5668\u5c5e\u6027 getter \u548c setter</p> <p>\u7b80\u5355\u7684\u4f8b\u5b50\uff1a</p> <pre><code>var a = {\n    x:1,\n    y:2, \n    get hh(){return this.x}, \n    set hh(n){this.x = n}}\na.hh  //1\na.hh = 4\na.hh  //4\n//\u6ce8\u610f\u8fd9\u91ccthis\u5173\u952e\u5b57\u7684\u7528\u6cd5\u3002JS\u628a\u8fd9\u4e9b\u51fd\u6570\u5f53\u505a\u5bf9\u8c61\u7684\u65b9\u6cd5\u6765\u8c03\u7528\uff0c\u6240\u4ee5this\u6307\u5411\u8fd9\u4e2a\u70b9\u7684\u5bf9\u8c61\n</code></pre> <p>6.7 \u8bbe\u7f6e\u5bf9\u8c61\u7684\u503c\u3001\u53ef\u5199\u6027\u3001\u53ef\u679a\u4e3e\u6027\u548c\u53ef\u914d\u7f6e\u6027</p> <p>\uff08\u4f8b6-3\uff1a\u4e3aObject\u6dfb\u52a0extend\u5c5e\u6027\uff09\uff1a</p> <pre><code>Object.defineProperty(Object.prototype, 'extend', {\n    writable: true,\n    enumerable: true,\n    configurable: false,\n    value: function(that) {\n        var prop = Object.getOwnPropertyNames(that);\n        for (var i = 0; i &lt; prop.length; i++) {\n            if (prop[i] in this) continue;\n            var des = Object.getOwnPropertyDescriptor(that, prop[i]);\n            Object.defineProperty(this, prop[i], des);\n        }\n    }\n})\n\nvar a = {x;1, y:2}\nvar b = {x:3}\nb.extend(a)  //{x:3, y:2}\n</code></pre> <p>6.8 </p> <p>\u67e5\u8be2\u5bf9\u8c61\u7684\u539f\u578b\u5c5e\u6027\uff08\u5373\u6784\u9020\u51fd\u6570/\u7c7b.prototype\u5c5e\u6027\uff09:</p> <pre><code>Object.getPrototypeof(a) \na.constructor.prototype()      //\u4e3a\u4ec0\u4e48a.constructor\u662ffunction Object(){} a.constructor.prototype\u662fobject{}\uff1f\n\n</code></pre> <p>\u68c0\u6d4b\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u662f\u53e6\u4e00\u5bf9\u8c61\u7684\u539f\u578b\uff1a <code>\u539f\u578b(\u5c5e\u6027)/\u7c7b(\u51fd\u6570).prototype**.isPrototypeOf**(\u5bf9\u8c61)</code></p> <p>\u68c0\u6d4b\u4e00\u4e2a\u5bf9\u8c61\u662f\u5426\u662f\u4e00\u4e2a\u51fd\u6570\u7684\u5b9e\u4f8b\uff1a<code>\u5bf9\u8c61 **instanceof** \u7c7b(\u51fd\u6570)</code></p> <p>\u81ea\u5df1\u5199\u7684\u5c0f\u6d4b\u8bd5\uff1a</p> <pre><code>var a ={x:1, y:2}\n\nvar b = Object.create(a);\na.isPrototypeOf(b)  //true\nObject.getPrototypeOf(b)  //{x:1, y:2}\nb.constructor //function Object(){}\nb.constructor.prototype //Object{}\n\nvar C = function(){}\nC.prototype = a;\nvar c = new C();\na.isPrototypeOf(c)  //true\nObject.getPrototypeOf(c)  //{x:1, y:2}\nc.constructor //function Object(){}  \u672c\u6765\u7406\u60f3\u4e2d\u7684\u72b6\u6001\nc.constructor.prototype //Object{}       \n</code></pre> <p>6.8.2 \u7c7b\u5c5e\u6027\uff1aObject.prototype.toString.call(o).slice(8,-1)</p> <p>\u8fd9\u662f\u4e3a\u4e86\u907f\u514d\u5f88\u591a\u5bf9\u8c61\u7ee7\u627f\u7684toString()\u65b9\u6cd5\u88ab\u91cd\u5199\u4e86</p> <p>\u63d2\u5165\uff1a\u5173\u4e8e__proto__</p> <p>Object.prototypeOf(a) \u5c31\u76f8\u5f53\u4e8ea.proto\uff0c\u610f\u5473\u7740\u76f4\u63a5\u8df3\u8fc7\u4e86\u6784\u9020\u51fd\u6570\u800c\u6307\u5411\u4e86\u6784\u9020\u51fd\u6570\u7684prototype\u5c5e\u6027\uff0c\u4ea6\u5373\u5f97\u5230\u4e86\u8be5\u5bf9\u8c61\u7684constructor.prototype\uff08\u77e5\u4e4e\u4e5f\u6709\u8bf4__proto__=constructor.prototype \u524d\u8005\u662f\u540e\u8005\u7684\u7b80\u5199\uff09\u3002\u4f5c\u7528\u662f\u6784\u6210\u539f\u578b\u94fe\uff0c\u5f53\u6211\u4eec\u8bbf\u95eeobj\u8fd9\u4e2a\u5bf9\u8c61\u7684x\u5c5e\u6027\u65f6\uff0c\u5982\u679c\u5728obj\u4e2d\u627e\u4e0d\u5230\uff0c\u5c31\u4f1a\u6cbf\u7740__proto__\u4f9d\u6b21\u5bfb\u627e\u3002</p> <p>\u5185\u5efa\u5bf9\u8c61\uff1aArray()\uff0cArray.prototype.proto__\u6307\u5411\u4ec0\u4e48\uff1fArray.prototype\u4e5f\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5bf9\u8c61\u5c31\u662f\u7531Object()\u521b\u5efa\u7684\uff0c\u56e0\u6b64Array.prototype.__proto === Object.prototype\u3002Function(), Object()\u4e5f\u662f\u4e00\u6837\u7684\u9053\u7406\u3002\u6700\u540e\uff0cObject.prototype.__proto__\u6307\u5411null\u3002</p> <p>\u81ea\u5b9a\u4e49\u5bf9\u8c61 \u9519\u8bef\u8bb0\u5f55\uff1a</p> <pre><code>Foo.prototype = {a:10, b:-10}\nFoo.prototype //Object{a:10, b:-10};\nFoo.prototype.constructor //function Object(){}\n\u8bb0\u5f97\u4e66\u91cc9.2.2\u8bb2\u7684\uff01\u91cd\u5199prototype\u65f6\u4f1a\u5f88\u5bb9\u6613\u5fd8\u8bb0\u6dfb\u52a0constructor\u5c5e\u6027\u7684\uff01\u8fd9\u65f6\u9700\u8981\u624b\u52a8\u6dfb\u52a0\uff0c\u663e\u793a\u8bbe\u7f6e\u6784\u9020\u51fd\u6570\u53cd\u5411\u5f15// \u7528\uff1aconstrutour: Foo;\n\n</code></pre> <p>\u8fd9\u91cc\u53c8\u6709\u4e00\u4e2a\u8ff7\u4e4b\u5947\u602a\u7684\u4f8b\u5b50\u2026</p> <pre><code>function Foo(){}\nfunction Bar(){}\nfunction Loo(){}\nBar.prototype = new Loo()\nFoo.prototype = new Bar()\nvar foo = new Foo()\nfoo.__proto__ //\u4e3a\u4ec0\u4e48\u76f4\u63a5\u8df3\u5230\u4e86Loo{}?Bar{}\u5462\u3002\u3002\u5176\u5b9e\u4ee3\u8868\u7684\u662fBar{}\u7684\u610f\u601d\uff01\u662f\u540d\u5b57\u4f1a\u663e\u793a\u7c7b\u540d\u800c\u5df2\u3002\u6bd4\u5982\u5982\u679c\u5c06\u4e0a\u5f0f\u6539\u6210function Bar(){ this.y = 2 }\uff0c\u90a3\u4e48foo.__proto__\u5c31\u4f1a\u662fLoo{ y:2 }\nfoo.constructor //\u4e3a\u4ec0\u4e48\u662ffunction Loo(){}\u3002\u3002\uff01\u554a \u7ec8\u4e8e\u77e5\u9053\u662f\u4e3a\u4ec0\u4e48\u4e86\uff01\uff01\u56e0\u4e3a\u8fd9\u91cc\u7684.prototype\u76f4\u63a5\u88ab\u66ff\u6362\u6210\u4e86Loo\u7684prototype\u5440\uff0c\u4e66\u4e0a\u90fd\u6709\u5f3a\u8c03\uff0c\u5e94\u8be5\u663e\u6027\u7684\u518d\u8bbe\u7f6e\u4e00\u6b21constructor\u5c5e\u6027\u53cd\u5411\u5f15\u7528\uff0c\u6bd4\u5982var foo = new Foo(); Foo.prototype.constructor = Foo; \u8fd9\u6837\u624d\u884c\u5462~\n</code></pre> <p>\u7136\u540e\u6211\u7ec8\u4e8e\u64b8\u51fa\u4e86\u4e00\u4e2a\u6b63\u786e\u7684\u539f\u578b\u94fe\u4f8b\u5b50\uff01\uff01- -</p> <pre><code>var o = {x:1};\n\nfunction F1(){};\nF1.prototype = o;\nvar q = new F1();\nq.y = 2;\n\nfunction F2(){};\nF2.prototype = q;\nvar r = new F2();\nr.z = 3;\n\nr instanceof F1 //true;\nr.constructor // (\u5947\u602a\u7684\u662f\u5c45\u7136\u662ffunction Object(){} \u5509 \u4f46\u597d\u6b79\u8fd8\u662f\u4e2a\u51fd\u6570\uff0c\u8bf4\u4e0d\u5b9a\u5c31\u662f\u6307\u7684F2!\u96be\u9053\u2026\u662f\u2460o???!!) \u540c\u4e0a\uff0c\u6700\u540e\u8981\u663e\u6027\u8bbe\u7f6eF2.prototype.constructor = F2;\nr.__proto__  //Object{y: 2}\nr.__proto__.__proto__  // Object{x: 1}\n\n// \u6ce8\u610f\uff01\u5982\u679c\u4e0d\u7ed9q\u52a0q.y=2\u7684\u8bdd\uff0c\u90a3r.__proto__\u5c31\u662f\u6ca1\u6709\u5185\u5bb9\u7684Object{} \u4e0d\u8981\u8bef\u4f1a\u5566\uff01\n</code></pre>"},{"location":"Langs/JavaScript/ancient/JavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97/#chap-7","title":"Chap. 7 \u6570\u7ec4","text":"<p>7.9.5 (\u8054\u54088.8.1) \u81ea\u5236\u6807\u51c6\u5dee</p> <p>\u516c\u5f0f\uff1as=sqrt(((x1-x)^2 +(x2-x)^2 +......(xn-x)^2)/n)</p> <pre><code>var a = [1, 2, 3, 4, 5];\nfunction sum(x,y) {\n    return x+y;\n}\nfunction square(x){\n    return x*x;\n}\nvar mean = a.reduce(sum)/a.length;\nvar devi = a.map(function(x){\n    return x-mean;\n});\nvar standard = (devi.map(square).reduce(sum))/a.length;\nvar stddev = Math.sqrt(standard);\n</code></pre>"},{"location":"Langs/JavaScript/ancient/JavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97/#chap-8","title":"Chap. 8 \u51fd\u6570","text":"<p>8.3.1 \u53ef\u9009\u5f62\u53c2</p> <pre><code>function(a, /*optional*/b){\n    b = b\uff08\u6709\u4f20\u5165\u5b9e\u53c2\uff09 || 5\uff08\u65e0\u4f20\u5165\u5b9e\u53c2\u5e76\u8bbe\u7f6e\u9ed8\u8ba4\u503c\u4e3a5\uff09;\n    //\u5728\u8be5\u4f8b\u5b50\u4e2db\u4f5c\u4e3a\u5f62\u53c2\u4f20\u5165 \u76f8\u5f53\u4e8evar b\n}\n</code></pre> <p>8.4 \u81ea\u5b9a\u4e49\u51fd\u6570\u5c5e\u6027</p> <p>\u7528\u9014\uff1a\u4e0d\u7528\u5b9a\u4e49\u5168\u5c40\u53d8\u91cf\uff0c\u800c\u5c06\u4fe1\u606f\u4fdd\u5b58\u5230\u51fd\u6570\u5bf9\u8c61\u7684\u4e00\u4e2a\u5c5e\u6027\u4e2d\uff0c\u6bd4\u5982\u4f8b\u5b50</p> <pre><code>a.counter = 0;  //\u7531\u4e8e\u51fd\u6570\u58f0\u660e\u88ab\u63d0\u524d\u4e86 \u6240\u4ee5\u8fd9\u91cc\u53ef\u4ee5\u5728\u51fd\u6570\u58f0\u660e\u4e4b\u524d\u7ed9\u5176\u6210\u5458\u8d4b\u503c\nfunction a(){\n    return a.counter++; //\u5148\u8fd4\u56deH\u8ba1\u6570\u5668\u7684\u503c\uff0c\u7136\u540e\u8ba1\u6570\u5668\u81ea\u589e1\n}\n</code></pre> <p>8.5 \u4f5c\u4e3a\u547d\u540d\u7a7a\u95f4\u7684\u51fd\u6570\uff1a\u2234 \u63d2\u4ef6\u5e38\u5e38\u4f1a\u4f7f\u7528IIFE \u7acb\u5373\u6267\u884c\u7684\u51fd\u6570\u8868\u8fbe\u5f0f</p> <p>8.6 \u95ed\u5305-\u540d\u5b57\u7531\u6765\uff1a\u662f\u6307\u51fd\u6570\u53d8\u91cf\u53ef\u4ee5\u88ab\u9690\u85cf\u4e8e\u4f5c\u7528\u57df\u94fe\u4e4b\u5185\uff0c\u56e0\u6b64\u770b\u8d77\u6765\u662f\u51fd\u6570\u5c06\u53d8\u91cf\u5305\u88f9\u4e86\u8d77\u6765</p> <p>\u63d2\u5165\u5185\u5bb9\uff01\u5982\u4f55\u5224\u65ad\u4e00\u4e2a\u5bf9\u8c61\u7684type\uff1a</p> <pre><code>var a0 = [1,2,3]\nArray.\u2460isArray(a0) =&gt; true\na0 instanceod Array =&gt; true\ntypeof a0 =&gt; 'object'\na0.constructor === Array =&gt; true\n\nvar b0 = 'hah'\ntypeof b0 =&gt; 'string'\n\u2461b0 instanceof String =&gt; false\nb0.constructor === String =&gt; true\nvar b1 = new String('haha')\ntypeof b1 =&gt; 'object'\nb1 instanceof String =&gt; true\nb1.constructor === String =&gt; true\n\nvar c0 = 4\ntypeof c0 =&gt; 'number'\nc0 instanceof Number =&gt; false\nc0.constructor === Number =&gt;true\n\nvar d0 = new Date();\nd0 instanceof Date =&gt; true\nd0.constructor === Date =&gt; true\n</code></pre> <p>\u2460 7.10 \u5728ECMAScript3\u4e2d\u53ef\u4ee5\u8fd9\u6837\u6a21\u62df\uff1a</p> <pre><code>var isArray = Function.isArray || function(o){\n    return typeof o === 'object' &amp;&amp;\n    Object.prototype.toString.call(o) === '[Object Array]';\n}\n</code></pre> <p>\u2461 3.0 JS\u7684\u6570\u636e\u7c7b\u578b\u5206\u4e3a\u4e24\u7c7b\uff1a\u539f\u59cb\u7c7b\u578b\uff08\u6570\u5b57\u3001\u5b57\u7b26\u4e32\u3001\u5e03\u5c14\u503c\uff09\u548c\u5bf9\u8c61\u7c7b\u578b\uff08\u4e94\u79cd\u7279\u6b8a\u7684\u7c7b\u5bf9\u8c61Array, Function, Date, RegExp, Error\uff09</p> <p>\u2462 3.6 \u5305\u88c5\u5bf9\u8c61\uff1a\u5b58\u53d6\u5b57\u7b26\u4e32\u3001\u6570\u5b57\u6216\u5e03\u5c14\u503c\u7684\u5c5e\u6027\u65f6\u521b\u5efa\u7684\u4e34\u65f6\u5bf9\u8c61</p> <p>Q: \u5b57\u7b26\u4e32\u65e2\u7136\u4e0d\u662f\u5bf9\u8c61\uff0c\u4e3a\u4ec0\u4e48\u4f1a\u6709\u5c5e\u6027\uff1f</p> <p>A: \u8fd9\u662f\u56e0\u4e3a\u53ea\u8981\u5f15\u7528\u4e86\u5b57\u7b26\u4e32s\u7684\u5c5e\u6027\uff0cjs\u5c31\u4f1a\u5c06\u5b57\u7b26\u4e32\u901a\u8fc7\u8c03\u7528new String(s)\u7684\u65b9\u6cd5\u8f6c\u5316\u6210\u4e34\u65f6\u5bf9\u8c61\uff0c\u8fd9\u4e2a\u5bf9\u8c61\u7ee7\u627f\u4e86\u5b57\u7b26\u4e32\u7684\u65b9\u6cd5\u3002\u4e00\u65e6\u5c5e\u6027\u5f15\u7528\u7ed3\u675f\uff0c\u8fd9\u4e2a\u65b0\u521b\u5efa\u7684\u5bf9\u8c61\u5c31\u4f1a\u88ab\u9500\u6bc1\u3002</p> <p>\u5982 <code>b0.a = 'good'; b0.a // =&gt; undefined; b1.a='good'; b1.a // =&gt; 'good';</code></p> <p>\u63d2\u5165\u5185\u5bb9:</p> <p>\u5728\u51fd\u6570\u91cc\u4e0d\u8981console.log('this is' + this); \u8fd9\u4f1a\u8c03\u7528this\u5bf9\u8c61\u7684toString\u65b9\u6cd5 \u4ece\u800c\u663e\u793a\u51fa\u6765\u662f[object object]</p> <p>\u4e5f\u4e0d\u8981\u5728this\u4e3awindow\u91cc\u8c03\u7528console.log(JSON.stringify(this)) \u4f1a\u62a5\u201cUncaught TypeError: Converting circular structure to JSON(\u2026)\u201d \u8fd9\u662f\u56e0\u4e3a\u82e5this\u4e3a/window,\u5219window\u91cc\u4e00\u5b9a\u4f1a\u5305\u62ec\u81ea\u5df1 </p>"},{"location":"Langs/JavaScript/ancient/JavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97/#chap-9","title":"Chap. 9 \u7c7b\u548c\u6a21\u5757","text":"<p>9.2.1 \u6709\u4e00\u4e2a\u5bf9\u8c61r, \u60f3\u77e5\u9053r\u662f\u5426\u662fRange\u5bf9\u8c61\u7684\u5b9e\u4f8b \u90a3\u4e48\u5e94\u8be5\uff1ar instanceof Range //instanceof\u8fd0\u7b97\u7b26\u5e76\u4e0d\u4f1a\u68c0\u67e5 r \u662f\u5426\u7531 Range()\u6784\u9020\u51fd\u6570\u521d\u59cb\u5316\u800c\u6765\uff0c\u800c\u662f\u4f1a\u68c0\u67e5 r \u662f\u5426\u7ee7\u627f\u81ea Range.prototype</p> <p>9.4 \u7c7b\u7684\u6269\u5145</p> <pre><code>String.prototype.trim = String.prototype.trim || function(){\n    if(!this) return this; //\u7a7a\u5b57\u7b26\u4e32\u4e0d\u4f5c\u5904\u7406\n    return this.replace(/^\\s+|\\s+$/g,'');\n}\n</code></pre> <p>9.6.1 \u4f8b\u5b50\uff1a\u96c6\u5408\u7c7b</p> <p>\u6709\u7ed9protptype\u5199\u7684\u65b9\u6cd5\u6709add, contains, size, foreach\u3002</p> <p>\u6ce8\u610f\u4e8b\u9879\uff1a\u2460\u7ed9add\u652f\u6301\u94fe\u5f0f\u65b9\u6cd5\u8c03\u7528-\u5c31\u662f\u6700\u540ereturn this; \u2461\u81ea\u5236foreach\u53ef\u4ee5\u4f20\u5165f\u548ccontext\u4e24\u4e2a\u53c2\u6570\uff0c\u90a3\u4e48\u5728foreach\u51fd\u6570\u91cc\u5199\u5f97for\u5faa\u73af\u91cc\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5f.call(context, this.values[s])\u6765\u7ed1\u5b9a\u4e0a\u4e0b\u6587\u4ee5\u53ca\u4f20\u5165\u5faa\u73af\u5230\u7684\u6570\u503c\u4e86\u3002\u2462\u672c\u6765\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2aSet.prototype.add\u4e86\uff0c\u90a3\u4e3a\u4ec0\u4e48\u8fd8\u8981\u5728function Set(){\u2026; this.add.apply( this, arguments)}\u5462\uff1f\u8fd9\u6837\u5c31\u53ef\u4ee5new Set(1,2,3,4)\u4e86\u5440\uff01~:D</p> <p>9.6.2 \u4f8b\u5b50\uff1a\u679a\u4e3e\u7c7b\u578b</p> <p>\u2460\u5de5\u5382\u65b9\u6cd5\u4e0e\u6784\u9020\u51fd\u6570 \u2461\u6539\u5199\u9ed8\u8ba4\u7684toString\u548cvalueOf\u548ctoJSON\u65b9\u6cd5 \u2462\u904d\u5386obj\u4e2d\u7684\u6bcf\u4e2akey\uff1afor(var name in obj) { name...}</p>"},{"location":"Langs/JavaScript/ancient/JavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97/#chap-17","title":"Chap. 17 \u4e8b\u4ef6","text":"<p>17.1.1 window \u4e8b\u4ef6\u91cc\u7684 load \u4e8b\u4ef6</p> <p>load\u4e8b\u4ef6\uff1a\u5728\u6587\u6863\u548c\u6240\u6709\u5916\u90e8\u8d44\u6e90\uff08\u6bd4\u5982\u56fe\u7247\uff09\u5b8c\u5168\u52a0\u8f7d\u540e</p> <p>DOMContentLoaded\u548creadystatechange\u662fload\u4e8b\u4ef6\u7684\u66ff\u4ee3\u65b9\u6848\uff0c\u53ea\u8981\u6587\u6863\u548c\u5143\u7d20\u52a0\u8f7d\u5b8c\uff0c\u4e0d\u7ba1\u5916\u90e8\u5143\u7d20\u662f\u5426\u52a0\u8f7d\u5b8c\u5c31\u53ef\u4ee5\u89e6\u53d1\u4e86</p> <p>17.3.6 \u4e09\u4e2a\u9636\u6bb5\uff1a\u4e8b\u4ef6\u6355\u83b7\uff08\u5b8c\uff09&gt;\u8c03\u7528\u76ee\u6807\u5143\u7d20\u4e0a\u6ce8\u518c\u7684\u5904\u7406\u51fd\u6570\uff08\u5b8c\uff09 &gt; \u5192\u6ce1\uff08\u8c03\u7528\u5728\u76ee\u6807\u7684\u7956\u7236\u5143\u7d20\u4e0a\u6ce8\u518c\u7684\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\uff09 </p> <p>focus\uff0c blur\u548cscroll\u4e8b\u4ef6\u4e0d\u4f1a\u5192\u6ce1</p> <p>17.5 \u5355\u6b21\u62d6\u52a8\u6587\u6863\u5143\u7d20</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Drag-example&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div style=\"position: absolute;left: 100px;top: 100px;widith:250px;background: gray;border:solid black\"&gt;\n        &lt;div onmousedown=\"drag(this.parentNode, event)\" style=\"background:gray; border-bottom: dotted black;padding: 3px;\"&gt;&lt;p&gt;this is a test&lt;/p&gt;&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;script type=\"text/javascript\"&gt;\n    function drag(elementToDrag, event){\n        console.log(event)\n        var startX = event.clientX + window.pageXOffset;\n        var startY = event.clientY + window.pageYOffset;\n\n               var origX = elementToDrag.offsetLeft + window.pageXOffset;\n               var origY = elementToDrag.offsetTop + window.pageYOffset;\n\n               var deltaX = startX - origX;\n               var deltaY = startY - origY;\n\n               document.addEventListener('mousemove',moveHandler, true);\n               document.addEventListener('mouseup', upHandler, true);\n\n               event.stopPropagation();\n               event.preventDefault();\n\n              function moveHandler(e){\n                elementToDrag.style.left = e.clientX + window.pageXOffset  - deltaX +'px';\n                elementToDrag.style.top = e.clientY + window.pageYOffset - deltaY + 'px';\n                console.log(window.pageYOffset)\n                e.stopPropagation();\n              }\n\n              function upHandler(e){\n               document.removeEventListener('mouseup',upHandler,true);\n               document.removeEventListener('mousemove', moveHandler, true);\n               e.stopPropagation();\n              }\n    } //js\u7684\u6a21\u5757\u4e5f\u88ab\u4e00\u6574\u4e2afunction\u5305\u4e86\u8d77\u6765~\n&lt;/script&gt;\n&lt;/html&gt;\n</code></pre> <p>\u4e66\u4e0a\u7684\u539f\u4f8b\u6709\u52a0\u4e0a\u66f4\u8be6\u7ec6\u7684\u517c\u5bb9ie9\u4ee5\u4e0b\u7248\u672c\uff01</p> <p>\u6ce8\u610f\uff1amousemove\u548cmouseup\u5904\u7406\u7a0b\u5e8f\u6ce8\u518c\u4e3a\u6355\u83b7\u4e8b\u4ef6\u5904\u7406\u7a0b\u5e8f\u3002</p> <p>\u53e6\u5916\uff1ae.altKey, ctrlKey, shiftKey \u5236\u5b9a\u4e86\u5f53\u4e8b\u4ef6\u53d1\u751f\u65f6\u662f\u5426\u6709\u952e\u76d8\u8f85\u52a9\u952e\u2026</p>"},{"location":"Langs/JavaScript/ancient/JavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97/#trigger","title":"\u5173\u4e8e trigger","text":"<ol> <li>\u5b9e\u4f8bEvent\u6784\u9020\u51fd\u6570\u6765\u521b\u9020\u4e8b\u4ef6\uff1a</li> </ol> <p><code>javascript    var evt = new Event(eventName);    dom.dispatchEvent(evt);</code></p> <ol> <li>\u4f46\u662f\u95ee\u9898\u5728\u4e8e\u8fd9\u6837\u89e6\u53d1\u7684\u4e8b\u4ef6\u9ed8\u8ba4\u662f\u4e0d\u5192\u6ce1\u7684\uff0c\u9700\u8981\u624b\u52a8\u8bbe\u7f6e\u5192\u6ce1\uff0c\u90a3\u4e48\u6b64\u65f6\u5e94\u5b9e\u4f8b\u5316CustomEvent\u6784\u9020\u51fd\u6570\uff1a</li> </ol> <p><code>javascript    var evt = new CustomEvent(eventName,{bubbles:true,detail:'extra message'});    dom.dispatchEvent(evt);</code></p> <p>ps: detail\u662f\u4e13\u95e8\u7528\u6765\u4f20\u989d\u5916\u4fe1\u606f\u7684property\uff0cnew CustomEvent\u65f6\u4e0d\u80fd\u591f\u81ea\u5df1\u968f\u610f\u6dfb\u52a0\u5176\u5b83\u5c5e\u6027\u540d\u3002\u4f46\u6211\u4eec\u53ef\u80fd\u8bb0\u5f97\u5728firefox\u91cce.detail\u5728\u6eda\u8f6e\u4e8b\u4ef6\u91cc\u4e0e\u4e0a\u4e0b\u6eda\u52a8\u6709\u5173\uff0c\u4e0d\u8fc7\u4e0d\u7528\u62c5\u5fc3detail\u5c5e\u6027\u88ab\u8986\u76d6\u8fd9\u70b9\u3002\u4e00\u662f\u5728\u5e73\u5e38\u60c5\u51b5\u4e0b\u5e76\u4e0d\u9700\u8981\u624b\u52a8\u89e6\u53d1\u6eda\u52a8\u4e8b\u4ef6\uff08\u800c\u662f\u76f4\u63a5\u66f4\u6539\u7f51\u9875\u7684scrollTop\uff09\uff1b\u4e8c\u662f\u54ea\u6015\u76f4\u63a5t\u89e6\u53d1\u6eda\u52a8\u4e8b\u4ef6\u7f51\u9875\u4e5f\u4e0d\u4f1a\u6eda\u52a8\uff0c\u56e0\u6b64\u5bf9\u5e94\u7684e.detail\u5e76\u4e0d\u4f1a\u662f3/-3\uff0c\u800c\u662f\u9ed8\u8ba4\u7684null\uff0c\u90a3\u4e48e.detail\u4e5f\u521a\u597d\u53ef\u4ee5\u62ff\u6765\u4f20\u989d\u5916\u4fe1\u606f\u4e86~</p> <ol> <li>\u53e6\u5916\uff0cIE\u6682\u4e0d\u652f\u6301\u8fd9\u79cd\u65b9\u6cd5\uff0c\u8fd8\u5e94\u7528\u8001\u5f0f\u65b9\u6cd5\uff1a</li> </ol> <p><code>javascript    var evt = document.createEvent('Event');    evt.initEvent(eventName, true, false); //\u53c2\u6570\u5206\u522b\u4ee3\u8868(type, bubbles, cancelable)    el.dispatchEvent(evt);</code></p> <ol> <li>\u6240\u4ee5\u7efc\u4e0a\uff0c\u81ea\u5df1\u505a\u4e86\u4e00\u4e2atrigger\u7684\u5c0f\u5305\u88c5\uff1a</li> </ol> <p><code>javascript    function trigger(el, event, detail) {      if (typeof CustomEvent === 'function') {        var evt = new CustomEvent(eventName,{bubbles:true,detail:detail})      } else {         var evt = document.createEvent('Event');         evt.initEvent(eventName, true, false);      }      el.dispatchEvent(evt);    }</code></p>"},{"location":"Langs/JavaScript/ancient/JavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97/#error","title":"Error","text":"<p>\u5982\u679ctry\u91cc\u6709return\u7684\u8bdd\uff0creturn\u7684\u503c\u4f1a\u5728try\u91cc\u5c31\u5df2\u7ecf\u56fa\u5b9a\u4e86\u3002\u4f46\u8d70\u5b8cfinally\u7684\u6d41\u7a0b\u624d\u4f1a\u5410\u51fa\u6765\u3002</p> <p>http://javascript.ruanyifeng.com/grammar/error.html</p> <p>\u53e6 \u6709\u54ea\u51e0\u79cdError\u7684\u79cd\u7c7b\u5462\uff1f\u4ee5\u4e0b\u8fd9\u4e9bError\u5b9e\u9645\u4e0a\u90fd\u662f\u7ee7\u627f\u81eaError\u7684</p> <ul> <li>EvalError</li> <li>RangeError (\u6bd4\u5982\u5806\u6808\u6ea2\u51fa)</li> <li>SyntaxError</li> <li>ReferenceError</li> <li>TypeError</li> <li>URIError</li> </ul> <p>\u6240\u4ee5\u5982\u679c\u662fjs\u81ea\u52a8\u62a5\u9519\u7684\u8bdd\uff0c\u53ef\u4ee5\u6839\u636ee.name\u6765\u770b\u9519\u8bef\u662f\u54ea\u79cdtype</p> <p>\u82e5\u81ea\u5df1throw new Error()\uff0c\u90a3\u8fd9\u4e2atype\u5c31\u662fError</p> <p>\u82e5\u81ea\u5df1throw new ReferenceError()\uff0c\u90a3\u8fd9\u4e2atype\u624d\u662fReferenceError</p>"},{"location":"Langs/JavaScript/ancient/JavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97/#json","title":"json","text":"<p>how to \u5728<pre>\u91cc\u683c\u5f0f\u5316\u5c55\u73b0json\u800c\u4e0d\u662f\u4e00\u884c\uff1f\n<p>JSON.stringify() \u7684\u7b2c\u4e09\u4e2a\u53c2\u6570\u4e3a\u6570\u5b57\u65f6\u201c\u6307\u5b9a\u7f29\u8fdb\u7528\u7684\u7a7a\u767d\u5b57\u7b26\u4e32\uff0c\u7528\u4e8e\u7f8e\u5316\u8f93\u51fa\uff08pretty-print\uff09\uff1b\u5982\u679c\u53c2\u6570\u662f\u4e2a\u6570\u5b57\uff0c\u5b83\u4ee3\u8868\u6709\u591a\u5c11\u7684\u7a7a\u683c\uff1b\u4e0a\u9650\u4e3a10\u3002\u8be5\u503c\u82e5\u5c0f\u4e8e1\uff0c\u5219\u610f\u5473\u7740\u6ca1\u6709\u7a7a\u683c\u201d</p>"},{"location":"Langs/JavaScript/ancient/JavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97/#string","title":"String","text":"<p>\u8fd9\u91cc\u6709\u4e2a\u6709\u8da3\u7684\u8bae\u9898\uff1aorder by\u4e2d\u6587\u5f00\u5934</p>\n<p>\u4f1a\u7528\u5230String.localCompare: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare</p>\n<p>['\u5f20\u4e09','\u674e\u56db','\u738b\u4e94'].sort((a, b) =&gt; a.localeCompare(b, 'zh-Hans-CN', {sensitivity: 'accent'})) </p>\n<p>\u6211\u4e4b\u524d\u6709\u60f3\u5230\u7684\u662fencode\u4e0b\u4e2d\u6587\uff0c\u5176\u5b9e\u8fd8\u662f\u4e0d\u884c\uff0c\u6392\u4e0d\u4e86\u5e8f\u2026</p>"},{"location":"Langs/JavaScript/ancient/JavaScript%E7%BB%8F%E5%85%B8%E5%AE%9E%E4%BE%8B/","title":"JavaScript \u7ecf\u5178\u5b9e\u4f8b","text":""},{"location":"Langs/JavaScript/ancient/JavaScript%E7%BB%8F%E5%85%B8%E5%AE%9E%E4%BE%8B/#chap-1-javascript","title":"Chap. 1 \u4f7f\u7528javascript\u5b57\u7b26\u4e32","text":"<p>\u5b57\u7b26\u4e32\u5bf9\u8c61\uff1a</p> <pre><code>var a = 'haha'; //litrals\u79f0\u4e3a\u76f4\u63a5\u91cf\ntypeof a // =&gt; string\nvar b = new String('haha')\ntypeof b // =&gt; object\n</code></pre> <ul> <li> <p>\u6761\u4ef6\u6bd4\u8f83\u5b57\u7b26\u4e32: ===\u2019\u4e25\u683c\u76f8\u7b49\u8fd0\u7b97\u7b26 \u9700\u8981\u6bd4\u8f83\u6570\u636e\u7c7b\u578b\uff0c\u6240\u4ee5\u4e0a\u4f8b\u7684\u5b57\u7b26\u4e32\u76f4\u63a5\u91cf\u548cString\u5bf9\u8c61\u5c31\u4e0d\u4f1a\u4e00\u6837</p> </li> <li> <p>\u5728\u5b57\u7b26\u4e32\u4e2d\u67e5\u627e\u5b50\u5b57\u7b26\u4e32: str.indexOf('haha') indexOf\u65b9\u6cd5\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570 \u5b50\u5b57\u7b26\u4e32\u548c\u5f00\u59cb\u641c\u7d22\u7684\u4f4d\u7f6e</p> </li> <li> <p>\u4ece\u4e00\u4e2a\u5b57\u7b26\u4e32\u63d0\u53d6\u5b50\u5b57\u7b26\u4e32:</p> </li> </ul> <pre><code>var start = str.indexOf('x');\nvar end = str.indexOf('xx', start+1);\n</code></pre> <ul> <li> <ul> <li>str.splice(\u63d2\u5165/\u5220\u9664\u7684\u8d77\u59cb\u4f4d\u7f6e\uff1b\u5220\u9664\u4e2a\u6570\uff1b\u63d2\u5165\u7684\u5143\u7d20) \u5220\u9664\u5e76\u63d2\u5165\u5143\u7d20\uff0c\u4f1a\u6539\u53d8\u539f\u5143\u7d20</li> </ul> </li> <li>str.slice(start,end(\u80fd\u4e3a\u8d1f))</li> <li>str.substring(start, end(\u4e0d\u80fd\u4e3a\u8d1f));</li> <li> <p>//ps \u5173\u4e8e\u4e24\u8005\u7684\u4e0d\u540c\u53ef\u4ee5\u53c2\u8003\u8fd9\u91cc</p> </li> <li> <p>str.split(','); =&gt; \u5206\u5272\u7684\u6570\u7ec4</p> </li> <li>str.substr(\u5b57\u7b26\u4e32\u5f00\u59cb\u7684\u7d22\u5f15\u4f4d\u7f6e, \u5b57\u7b26\u4e32\u7684\u957f\u5ea6) =&gt; \u4f9d\u7136\u4e0d\u6539\u53d8\u539f\u5b57\u7b26\u4e32 \u9ed8\u8ba4\u622a\u53d6\u4ece\u5f53\u524d\u4f4d\u7f6e\u5230\u5b57\u7b26\u4e32\u6700\u540e\u7684\u957f\u5ea6\u3002</li> </ul> <pre><code>var a = 'good job';\na.substr(2) =&gt; od job\na.substr(2,2) =&gt; oo\n</code></pre> <p>\u6240\u4ee5.substr\u5f88\u9002\u5408\u5207\u4e00\u53e5\u8bdd\u7684\u7b2c\u4e00\u4e2a\u5b57 str.substr(1);</p> <p>----\u9644\u6ce8----</p> <p>\u800c\u5f88\u9002\u5408\u5207\u4e00\u4e2a\u6570\u7ec4\u7684\u6700\u540e\u51e0\u4e2a\u503c\u7684\u662farray.splice(1)</p> <ul> <li>\u68c0\u67e5\u4e00\u4e2a\u5b58\u5728\u7684\u975e\u7a7a\u7684\u5b57\u7b26\u4e32: <code>if (( typeof str != 'undefined' &amp;&amp; typeof str.valueOf() == 'string' ) &amp;&amp; str.length &gt; 0 )</code></li> <li>\u5904\u7406textarea\u7684\u5355\u4e2a\u884c: <code>str.split( '\\n' ) //\u7528\u6765\u5373\u65f6\u9884\u89c8\u8bc4\u8bba\u7684\u5e38\u89c1\u6280\u672f</code></li> <li>\u53bb\u9664\u5b57\u7b26\u4e32\u5c3e\u90e8\u7a7a\u767d: str.trim() \u662fjs\u5185\u7f6e\u65b9\u6cd5!~</li> </ul>"},{"location":"Langs/JavaScript/ancient/JavaScript%E7%BB%8F%E5%85%B8%E5%AE%9E%E4%BE%8B/#chap-234","title":"Chap. 234 \u5173\u4e8e\u65f6\u95f4\u3001\u5b9a\u65f6\u5668\u3001\u6570\u5b57","text":"<ul> <li> <p>\u521b\u5efa\u4e00\u4e2a\u7279\u5b9a\u7684\u65e5\u671f(date\u5bf9\u8c61): <code>var dt = new Date(2016-1-2) or new Date(2016, 1, 2, \u53ef\u4ee5\u518d\u52a0\u5c0f\u65f6\u3001\u5206\u949f\u2026)</code></p> </li> <li> <p>\u83b7\u53d6\u65f6\u95f4\u6233: <code>new Date().getTime()/1000;</code></p> </li> <li> <p>\u4f7f\u7528\u5e26\u6709\u5b9a\u65f6\u5668\u7684\u51fd\u6570\u95ed\u5305:</p> </li> </ul> <p><code>javascript   var intervalId=null;   function stopStartElement(){     if (intervalId == null) {         intervalId = setInterval(function(){...},1000)     } else {         clearInterval(intervalId);         intervalId=null;     }   }</code></p> <ul> <li> <p>NaN: \u5f53\u60f3\u8981\u4f7f\u7528\u4e00\u4e2a\u6570\u5b57\u64cd\u4f5c\u4e2d\u65e0\u6cd5\u89e3\u6790\u4e3a\u6570\u5b57\u7684\u4e00\u4e2a\u503c\u7684\u65f6\u5019\uff0c\u8868\u793anot a number</p> </li> <li> <p>\u628a\u5341\u8fdb\u5236\u8f6c\u6362\u4e3a\u5341\u516d\u8fdb\u5236: num.toString(16);</p> </li> <li> <p>\u968f\u673a\u4ea7\u751f\u989c\u8272\uff1a</p> </li> </ul> <p><code>javascript   function random(val){     return Math.floor(Math.random()*(val+1));   }   function randomColor(){     return \"rgb(\" + randomVal(255) + \",\" +  randomVal(255) + \",\" randomVal(255) + \")\";   }</code></p>"},{"location":"Langs/JavaScript/ancient/JavaScript%E7%BB%8F%E5%85%B8%E5%AE%9E%E4%BE%8B/#chap-5","title":"Chap. 5 \u6570\u7ec4","text":"<ul> <li>\u6392\u5e8f\u6570\u7ec4</li> <li>\u591a\u7ef4\u6570\u7ec4\u6241\u5e73\u5316 <code>xx.concat(xx\u6570\u7ec4,xx\u6570\u7ec4,xx\u6570\u7ec4)</code></li> <li>findIndex(callback) \u4e0e indexOf(value)</li> </ul>"},{"location":"Langs/JavaScript/ancient/JavaScript%E7%BB%8F%E5%85%B8%E5%AE%9E%E4%BE%8B/#chap-6","title":"Chap. 6 \u51fd\u6570","text":"<ul> <li> <p>\u58f0\u660e\u5f0f\u51fd\u6570 vs \u51fd\u6570\u76f4\u63a5\u91cf</p> </li> <li> <p>\u51fd\u6570\u53ea\u80fd\u6709\u4e00\u4e2a\u8fd4\u56de\u503c\uff0c\u82e5\u8981\u591a\u4e2a\u8fd4\u56de\u503c \u653e\u5728\u5bf9\u8c61\u91cc</p> </li> <li> <p>\u5b9e\u73b0\u9012\u5f52\u7b97\u6cd5\uff08\u6590\u6ce2\u90a3\u5951\u6570\u5217 \uff09</p> </li> </ul> <p><code>javascript   var fibonacci = function() {     return n&lt;2 ? n:fibonacci(n-1) + fibonacci(n-2);   }</code></p> <ul> <li>\u95ed\u5305\u7684\u7528\u6cd5: \u521b\u5efa\u80fd\u591f\u8bb0\u4f4f\u5176\u72b6\u6001\u7684\u51fd\u6570</li> </ul> <p><code>javascript   function greeting(when) {     function addWho(who) {         return 'good' + when + 'to' + who;     }     return addWho;   }   var morning = greeting('morning'); //\u8d4b\u503c\u7ed9\u53d8\u91cf\u7684\u5df2\u7ecf\u662f\u5185\u90e8\u51fd\u6570\u4e86   morning('Jack');   var night = greeting('night');   night('Jack');   //\u5206\u522b\u521b\u5efa\u4e86\u4e24\u4e2a\u4f5c\u7528\u57df\u94fe</code></p>"},{"location":"Langs/JavaScript/ancient/JavaScript%E7%BB%8F%E5%85%B8%E5%AE%9E%E4%BE%8B/#chap-7","title":"Chap. 7 \u4e8b\u4ef6","text":"<ul> <li>addEventListener\u57fa\u672c\u4e0a\u5404\u5927\u6d4f\u89c8\u5668\u90fd\u53ef\u4ee5\u7528\u4e86</li> <li>.keydown\u4e8b\u4ef6\uff08\u4f20\u51fa\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570key \u6709key.key key.Code \u4ee5\u53ca\u6700\u5e38\u7528\u7684\u6570\u5b57key.which\uff09</li> <li>\u8fd8\u6709h5\u62d6\u653e\u4e8b\u4ef6\uff01\u5df2\u6574\u7406\u81f3vikkiModule\u5566\uff01</li> <li>e.target vs e.currentTarget \u524d\u8005\u89e6\u53d1\u540e\u8005\u76d1\u542c</li> <li>e.isTrusted\u53ef\u4ee5\u7528\u6765\u5206\u8fa8\u662f\u7528\u6237\u89e6\u53d1\u4e8b\u4ef6\u884c\u4e3a\uff08true\uff09\u8fd8\u662fjs\u89e6\u53d1\u4e8b\u4ef6\uff08false\uff09</li> </ul>"},{"location":"Langs/JavaScript/ancient/JavaScript%E7%BB%8F%E5%85%B8%E5%AE%9E%E4%BE%8B/#chap-8","title":"Chap. 8 \u6d4f\u89c8\u5668","text":"<ul> <li> <p>window.navigator(\u91cd\u8981\u5c5e\u6027\u6709userAgent)</p> </li> <li> <p>window.location\u7cfb\u5217(\u5f53\u7136\u53ef\u4ee5\u76f4\u63a5\u7b80\u5199\u6210location \u56e0\u4e3a\u6700\u9876\u7ea7\u7684\u5143\u7d20\u662fwindow)</p> </li> </ul> <p><code>javascript   \u6bd4\u5982https://nqdeng.github.io/7-days-nodejs#2.1   location.protocol = 'https:'   location.hostname = 'nqdeng.github.io'   location.pathname = '/7-days-nodejs'   location.hash = '#2.1'   \u2234 location.href = protocol + '//' + hostname + pathname + hash</code></p> <ul> <li> <p>\u52a8\u6001\u751f\u6210breadcumbTrail\uff08\u9762\u5305\u5c51\u8def\u5f84\uff09</p> </li> <li> <p>\u5355\u9875\u9762 \u4e0d\u540c\u951a\u70b9 \u8bb0\u4f4f\u72b6\u6001\uff0c\u4ee5\u9632\u7528\u6237\u610f\u5916\u5237\u65b0</p> </li> </ul> <p>\u8981\u70b9\uff1a\u2460\u83b7\u53d6hash\uff1a\u9875\u9762\u6253\u5f00\u65f6\u68c0\u6d4bhash\uff0c\u5229\u7528switch\uff0c\u6839\u636ehash\u4e0d\u540c\u8df3\u8f6c\u4e0d\u540c\u9636\u6bb5 location.hash.split('#')[1]; \u2461\u8bbe\u7f6ehash\uff1a\u8df3\u4e0b\u4e00\u9636\u6bb5\u65f6\uff0clocation.hash\u4e5f\u8981\u76f8\u5e94\u6539\u53d8\u6210\u4e0b\u4e00\u9636\u6bb5\u7684\u3002 \u8fd9\u6837\u76f8\u5f53\u4e8e\u201c\u91cd\u65b0\u770b\u4e0d\u89c1\u5730\u8fd0\u884c\u81f3\u5f53\u524d\u72b6\u6001\u201d</p>"},{"location":"Langs/JavaScript/ancient/JavaScript%E7%BB%8F%E5%85%B8%E5%AE%9E%E4%BE%8B/#chap-1112-dom","title":"Chap. 11,12 DOM \u64cd\u4f5c","text":"<ul> <li>\u4e00\u6bb5p, \u91cc\u9762\u6709a\uff0c\u5982\u4f55\u5c06a\u79fb\u9664\u4e14\u4fdd\u7559a\u7684\u5185\u5bb9\uff08a\u7684\u6587\u672c\u8282\u70b9\uff0c\u8fd8\u6709em\u6216span\u4e4b\u7c7b\uff09\uff1f\u4ea6\u5373\uff1a\u5c06\u6240\u6709\u7684\u5b50\u8282\u70b9\u79fb\u9664\u94fe\u63a5</li> </ul> <p><code>javascript   var children = links[i].childNodes;   for(var j = 0; j &lt; children.length; j++){     parent.insertBefore(children[j], links[i]); //\u5148\u5c06a\u5185\u7684\u5b50\u8282\u70b9\u4e00\u4e2a\u4e2a\u63d2\u5165\u5230\u73b0\u5728\u7684a\u524d     //\u5982\u679c\u5e0c\u671b\u4fdd\u7559a\u91cc\u7684\u6570\u636e\uff0c\u5219\u5199\u6210children[j].cloneNode(true);   }   parent.removeChild(children[i]);  //\u518d\u5220\u9664a</code></p> <p>## Chap. 13 \u786e\u5b9a Web \u9875\u9762\u533a\u57df</p> <ul> <li>13.1 web\u9875\u9762\u7684\u5bbd\u9ad8</li> </ul> <p>window.innerWidth/ window.innerHeight</p> <p>IE9\u4ee5\u524d: document.body.clientWidth</p> <ul> <li>13.2 \u5ea6\u91cf\u5143\u7d20</li> </ul> <p>el.getBoundingClientRect(); \u8fd4\u56de\u4e00\u4e2aClientRect\u5bf9\u8c61\uff0c\u5305\u62ectop, bottom, right, left\u8fd8\u6709width\u548cheight</p>"},{"location":"Langs/JavaScript/ancient/es6/","title":"es6","text":""},{"location":"Langs/JavaScript/ancient/es6/#let-const","title":"let /const","text":"<p>const \u503c\u4e0d\u53ef\u4fee\u6539, \u6bd4\u5982\u5148const x = 1; \u518d x = 2; \u5c31\u4f1a\u62a5x is readonly</p>"},{"location":"Langs/JavaScript/ancient/es6/#_1","title":"\u89e3\u6784\u8d4b\u503c","text":"<ul> <li> <p>\u5b57\u7b26\u4e32\u3001\u51fd\u6570\u53c2\u6570\u90fd\u53ef\u4ee5\u89e3\u6784</p> </li> <li> <p>\u53ef\u4ee5\u76f4\u63a5\u7528\u53d6\u5230\u7684nodeList\u4e86\uff01\u4e0d\u7528Array.prototype.slice.call(..)\u5566!!</p> </li> </ul> <p>ps: \u73b0\u5728\u8fd8\u53ef\u4ee5\u76f4\u63a5\u7528Array.from()\u8f6c\u6570\u7ec4\u5594\uff01</p> <ul> <li> <p>\u5bf9\u8c61\u5c55\u5f00\u7b26\u7684\u5999\u7528</p> </li> <li> <p>replace apply</p> </li> <li>\u64cd\u4f5c\u4e00\u4e9b\u6570\u7ec4</li> <li>\u6d45\u590d\u5236\u5bf9\u8c61/\u6570\u7ec4</li> </ul>"},{"location":"Langs/JavaScript/ancient/es6/#_2","title":"\u5b57\u7b26\u4e32\u7684\u6269\u5c55","text":"<ul> <li>startsWith, endWith, include</li> </ul>"},{"location":"Langs/JavaScript/ancient/es6/#import-export","title":"import &amp; export","text":""},{"location":"Langs/JavaScript/ancient/es6/#set-and-map","title":"set and map","text":"<p>\u4e24\u79cd\u53ef\u4ee5\u770b\u505a\u662farray\u548cobj\u7684\u5347\u7ea7\u7248</p> <ul> <li> <p>Set: Set\u6570\u636e\u7ed3\u6784\u4e2d\u6240\u6709\u6210\u5458\u7684\u503c\u90fd\u662f\u552f\u4e00\u7684\uff0c\u6ca1\u6709\u91cd\u590d\u7684\u503c\u3002\u5224\u65ad\u91cd\u590d\u7684\u6807\u51c6\u662f===</p> </li> <li> <p>add, delete, has, clear</p> </li> <li>Array.from \u53ef\u5c06 Set \u7ed3\u6784\u8f6c\u53d8\u4e3a\u6570\u7ec4</li> <li>keys, values, entries, forEach</li> <li> <p>\u6570\u7ec4\u53bb\u91cd\uff1a return Array.from(new Set(array))</p> </li> <li> <p>Weakset: </p> </li> <li> <p>WeakSet \u7ed3\u6784\u4e0e Set \u7c7b\u4f3c\uff0c\u4e5f\u662f\u4e0d\u91cd\u590d\u7684\u503c\u7684\u96c6\u5408\u3002\u4f46\u662f\uff0c\u5b83\u4e0e Set \u6709\u4e24\u4e2a\u533a\u522b\uff1a\u2460 WeakSet \u7684\u6210\u5458\u53ea\u80fd\u662f\u5bf9\u8c61\uff0c\u800c\u4e0d\u80fd\u662f\u5176\u4ed6\u7c7b\u578b\u7684\u503c\u3002\u2461 WeakSet \u4e2d\u7684\u5bf9\u8c61\u90fd\u662f\u5f31\u5f15\u7528\uff0c\u5373\u5783\u573e\u56de\u6536\u673a\u5236\u4e0d\u8003\u8651 WeakSet \u5bf9\u8be5\u5bf9\u8c61\u7684\u5f15\u7528\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u5176\u4ed6\u5bf9\u8c61\u90fd\u4e0d\u518d\u5f15\u7528\u8be5\u5bf9\u8c61\uff0c\u90a3\u4e48\u5783\u573e\u56de\u6536\u673a\u5236\u4f1a\u81ea\u52a8\u56de\u6536\u8be5\u5bf9\u8c61\u6240\u5360\u7528\u7684\u5185\u5b58\uff0c\u4e0d\u8003\u8651\u8be5\u5bf9\u8c61\u8fd8\u5b58\u5728\u4e8e WeakSet \u4e4b\u4e2d\u3002</p> </li> <li> <p>\u6ca1\u6709size\u548cforEach\u5c5e\u6027</p> </li> <li> <p>\u7528\u5904\uff1a\u50a8\u5b58 DOM \u8282\u70b9\uff0c\u800c\u4e0d\u7528\u62c5\u5fc3\u8fd9\u4e9b\u8282\u70b9\u4ece\u6587\u6863\u79fb\u9664\u65f6\uff0c\u4f1a\u5f15\u53d1\u5185\u5b58\u6cc4\u6f0f\u3002</p> </li> <li> <p>\u5173\u4e8e\u4e3a\u4ec0\u4e48\u4e0d\u4f1a\u5185\u5b58\u6cc4\u6f0f\u6709\u7591\u95ee\uff1a http://www.ruanyifeng.com/blog/2017/04/memory-leak.html \u96be\u9053\u5176\u4f59\u7684\u5bf9\u8c61\u4e0d\u88ab\u5f15\u7528\u65f6\u5185\u5b58\u5c31\u4e0d\u88ab\u91ca\u653e\u4e86\u5417\uff1f</p> </li> <li> <p>Map</p> </li> <li>WeakMap</li> </ul>"},{"location":"Langs/JavaScript/ancient/es6/#proxy","title":"proxy","text":"<p><code>let p = new Proxy(target, handler)</code></p> <p>\u5176\u4e2dhandler\u6709\u5982\u4e0b\u51e0\u79cd:</p> <pre><code>{\n  get: function(target, property) {},\n    set: function(target, property, value, receiver) {}\n}\n\n//\u53ef\u4ee5\u7528\u6765\u64cd\u7eb5p\u7684\u8bfb\u53d6\u503c\n\n//\u5728new Proxy\u65f6\uff0ctarget\u7684\u6240\u6709\u5c5e\u6027\u4f1a\u590d\u5236\u7ed9b\u4e00\u4efd\n\n//b\u65b0\u589e\u51cf\u5c5e\u6027\u65f6 target\u4e5f\u4f1a\u540c\u6837\u63a5\u53d7\u8fd9\u4e2a\u64cd\u4f5c \u589e\u51cf\u5c5e\u6027\n</code></pre> <p>\u53ef\u4ee5\u9a8c\u8bc1\u5411\u4e00\u4e2a\u5bf9\u8c61\u7684\u4f20\u503c\uff1a</p> <pre><code>let validator = {\n  set: function(obj, prop, value) {\n    if (prop === 'age') {\n      if (!Number.isInteger(value)) {\n        throw new TypeError('The age is not an integer');\n      }\n   }\n    obj[prop] = value;\n  }\n};\n\nlet person = new Proxy({}, validator);\nperson.age = 100;\nperson.age = 'young'; \n// \u629b\u51fa\u5f02\u5e38: Uncaught TypeError: The age is not an intege\n</code></pre> <p>\u8fd8\u53ef\u4ee5\u5bf9\u60f3\u8981\u8bfb\u53d6\u6216\u4fee\u6539\u79c1\u6709\u53d8\u91cf\u505a\u9650\u5236~</p> <p>\u540c\u6837\u662f\u5728handlers.get+handlers.set\u6216\u8005\u76f4\u63a5\u662fhandlers.has\u4e2d\u5224\u65adkey\uff0c\u82e5key\u540d\u662f\u88ab\u9650\u5236\u7684key\u540d\uff0c\u90a3\u4e48\u5219\u62e6\u622a\u64cd\u4f5c\u3002</p> <p>\u5426\u5219\u6267\u884cReflect.get(...) /set(...) / has(...)</p>"},{"location":"Langs/JavaScript/ancient/es6/#generatoriterator","title":"generator&amp;iterator","text":"<p>iterator\u8fed\u4ee3\u5668</p> <p>In JavaScript an iterator is an object that provides a next() method which returns the next item in the sequence. </p> <p>\u8fd9\u4e2a\u65b9\u6cd5\u8fd4\u56de\u4e24\u4e2a\u503c done\u548cvalue</p> <pre><code>function makeIterator(array) {\n    var nextIndex = 0;\n    return {\n       next: function() {\n           return nextIndex &lt; array.length ?\n               {value: array[nextIndex++], done: false} :\n               {done: true};\n       }\n    };\n}\n\nar it = makeIterator(['yo', 'ya']);\nconsole.log(it.next().value); // 'yo'\nconsole.log(it.next().value); // 'ya'\nconsole.log(it.next().done);  // true\n</code></pre> <p>Iterables**\uff08\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff09\u4e3a\uff1aArray, TypedArray, String, Map, Set\uff1b\u5b83\u4eec.prototype\u4e0a\u90fd\u6709\u4e00\u4e2a[Symbol.iterator]\u5c5e\u6027 \u5373xx.prototype[Symbol.itrator] !== undefined</p> <p>Generators\u751f\u6210\u5668 =&gt; \u53ef\u7528\u6765\u751f\u6210*iterables*\uff01</p> <p>\u751f\u6210\u5668\u5bf9\u8c61\u662f\u7531\u4e00\u4e2a generator function \u8fd4\u56de\u7684,\u5e76\u4e14\u5b83\u7b26\u5408\u53ef\u8fed\u4ee3\u534f\u8bae\u548c\u8fed\u4ee3\u5668\u534f\u8bae\u3002</p> <pre><code>function* gen() { \n yield 1;\n}\nlet g = gen()\n\nObject.getPrototypeOf(g) //=&gt; Generator {}\n</code></pre> <p>\u89e3\u91ca\uff1a</p> <p>generator function\u5373function*\uff1a\u4f1a\u5b9a\u4e49\u4e00\u4e2a\u751f\u6210\u5668\u51fd\u6570\uff0c\u5b83\u8fd4\u56de\u4e00\u4e2aGenerator\u751f\u6210\u5668\u5bf9\u8c61\uff08\u5373\u4e00\u4e2a\u6307\u5411\u5185\u90e8\u72b6\u6001\u7684\u6307\u9488\u5bf9\u8c61\uff0c\u901a\u8fc7\u8c03\u7528 next \u65b9\u6cd5\uff0c\u6307\u9488\u4f1a\u79fb\u5411\u4e0b\u4e00\u4e2a\u72b6\u6001\uff09</p> <p>\u8c03\u7528\u4e00\u4e2a\u751f\u6210\u5668\u51fd\u6570\u5e76\u4e0d\u4f1a\u9a6c\u4e0a\u6267\u884c\u5b83\u91cc\u9762\u7684\u8bed\u53e5\uff0c\u800c\u662f\u8fd4\u56de\u4e00\u4e2a\u8fd9\u4e2a\u751f\u6210\u5668\u7684\u8fed\u4ee3\u5668\uff08iterator\uff09\u5bf9\u8c61\u3002\u8fed\u4ee3\u5668\u7684 next() \u65b9\u6cd5\u7684\u4f5c\u7528\u662f\u5206\u9636\u6bb5\u6267\u884c Generator \u51fd\u6570\uff0cyield \u540e\u7d27\u8ddf\u8fed\u4ee3\u5668\u8981\u8fd4\u56de\u7684\u503c\u3002</p> <p>\u8c03\u7528 next()\u65b9\u6cd5\u65f6\uff0c\u5982\u679c\u4f20\u5165\u4e86\u53c2\u6570\uff0c\u90a3\u4e48\u8fd9\u4e2a\u53c2\u6570\u4f1a\u4f5c\u4e3a\u4e0a\u4e00\u6761\u6267\u884c\u7684 yield \u8bed\u53e5\u7684\u8fd4\u56de\u503c\u3002\u4e5f\u5c31\u662f\u8bf4\u672c\u6765\u751f\u6210\u5668\u51fd\u6570\u662f\u4e00\u4e2a\u5305\u88f9\u4f4f\u5185\u5728\u72b6\u6001\u7684\u51fd\u6570\uff0c\u4f46\u662f\u4f7f\u7528\u8005\u662f\u53ef\u4ee5\u67d3\u6307\u8fd9\u4e2a\u5185\u90e8\u72b6\u6001\u7684\uff01~</p> <p>\u6216\u8005\u5982\u679c\u7528\u7684\u662f yield*\uff08\u591a\u4e86\u4e2a\u661f\u53f7\uff09\uff0c\u5219\u8868\u793a\u5c06\u6267\u884c\u6743\u79fb\u4ea4\u7ed9\u53e6\u4e00\u4e2a\u751f\u6210\u5668\u51fd\u6570\uff08\u5f53\u524d\u751f\u6210\u5668\u6682\u505c\u6267\u884c\uff09\u3002</p> <p>ps: \u53ef\u4ee5\u5c06\u4e00\u4e2a\u6570\u7ec4\u8f6c\u6362\u6210\u4e00\u4e2aiterable&lt;\u4e0d\u662f\u901a\u8fc7\u53d8Set..&gt; \u6211\u653e\u5230\u5237\u9898\u91cc\u62c9 \u8fd9\u9898\uff01</p> <pre><code>class Box {\n  constructor (stuffs = []) {\n    this.stuffs = stuffs\n  }\n  [Symbol.iterator] () {\n    let i = 0\n    return {\n      next: () =&gt; {\n        if (i &gt;= this.stuffs.length) return { done: true }\n        else return { value: this.stuffs[i++], done: false }\n      }\n    }\n  }\n}\n</code></pre> <p>pps:</p> <p>\u203b Generator\u51fd\u6570\uff0c\u4e0d\u7ba1\u5185\u90e8\u6709\u6ca1\u6709yield\u8bed\u53e5\uff0c\u8c03\u7528\u51fd\u6570\u65f6\u90fd\u4e0d\u4f1a\u6267\u884c\u4efb\u4f55\u8bed\u53e5\uff0c\u53ea\u6709\u5f53\u8c03\u7528next(),\u5185\u90e8\u8bed\u53e5\u624d\u4f1a\u6267\u884c\uff0c\u53ea\u8981\u8c03\u7528next()\uff0c\u5c31\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u3002yield\u8bed\u53e5\u53ea\u662f\u51fd\u6570\u6682\u505c\u6267\u884c\u7684\u4e00\u4e2a\u6807\u8bb0</p> <p>\u203b for...of\u5faa\u73af\u53ef\u4ee5\u81ea\u52a8\u904d\u5386Generator\u51fd\u6570\u65f6\u751f\u6210\u7684Iterator\u5bf9\u8c61\uff0c\u4e14\u6b64\u65f6\u4e0d\u518d\u9700\u8981\u8c03\u7528next\u65b9\u6cd5</p> <pre><code>function *foo() {\n  yield 1;\n  yield 2;\n  yield 3;\n  yield 4;\n  yield 4+1; //\u53ea\u6709\u5728\u83b7\u53d6\u7b2c\u4e94\u4e2a\u5143\u7d20\u65f6\u624d\u4f1a\u8ba1\u7b97\n  return 6;\n}\nfor (let v of foo()) {\n  console.log(v)  // 1 2 3 4 5\n}\n</code></pre> <p>\u4f5c\u7528\uff1a</p> <p>\u8fed\u4ee3\u5668Iterator, infinite range, \u6682\u505c\u51fd\u6570, lazy evaluation, \u6765\u5b9e\u73b0async/await</p> <p>\u962e\u7684\u5f02\u6b65\u4e3e\u4f8b\uff1a</p> <pre><code>var fetch = require('a \u5c01\u88c5\u597d\u7684 fetch promise');\nfunction* gen(){\n  var url = 'https://api.github.com/users/github';\n  var result = yield fetch(url);\n  console.log(result.bio);\n}\n// \u4f7f\u7528\uff1a\n// var r = gen().next()\n// \u5199\u9519\uff01\u5e94\u8be5\u662f\nvar g = gen(); var r = g.next()\nr.then(res =&gt; {\n    rg.next(res)\n})\n</code></pre> <p>ref: http://www.ruanyifeng.com/blog/2015/04/generator.html</p>"},{"location":"Langs/JavaScript/ancient/es6/#_3","title":"\u7bad\u5934\u51fd\u6570","text":"<p>\u6069 \u7bad\u5934\u51fd\u6570\u91cc\u8fd8\u6ca1\u6709arguments \u56e0\u4e3arest\u5bf9\u8c61\u5c55\u5f00\u7b26\u53ef\u4ee5\u5b9e\u73b0arguments\u7684\u4f5c\u7528 \u6240\u4ee5\u529f\u80fd\u4e0a\u4e5f\u4e0d\u9700\u8981\u5b83\u4e86\uff01</p> <p>var bar = (...arguments) =&gt; console.log(arguments);</p> <p>\u53e6\u5916 \u7bad\u5934\u51fd\u6570\u8981\u5b9e\u73b0\u7c7b\u4f3c\u7eaf\u51fd\u6570\u7684\u6548\u679c\uff0c\u5fc5\u987b\u5254\u9664\u5916\u90e8\u72b6\u6001\u3002\u6240\u4ee5\u5f53\u4f60\u5b9a\u4e49\u4e00\u4e2a\u7bad\u5934\u51fd\u6570\uff0c\u5728\u666e\u901a\u51fd\u6570\u91cc\u5e38\u89c1\u7684this\u3001arguments\u3001caller\u662f\u7edf\u7edf\u6ca1\u6709\u7684\u3002</p> <p>\u6240\u4ee5\u4ee5\u4e0b\u60c5\u51b5\u4e0d\u8981\u7528\u7bad\u5934\u51fd\u6570\uff1a</p> <p></p> <p>\u3002\u3002\u3002</p> <p>\u901a\u8fc7\u4ee5\u4e0a\u8bf4\u660e\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u51fa\uff0c\u7bad\u5934\u51fd\u6570\u9664\u4e86\u4f20\u5165\u7684\u53c2\u6570\u4e4b\u5916\uff0c\u771f\u7684\u662f\u4ec0\u4e48\u90fd\u6ca1\u6709\uff01\u5982\u679c\u4f60\u5728\u7bad\u5934\u51fd\u6570\u5f15\u7528\u4e86this\u3001arguments\u6216\u8005\u53c2\u6570\u4e4b\u5916\u7684\u53d8\u91cf\uff0c\u90a3\u5b83\u4eec\u4e00\u5b9a\u4e0d\u662f\u7bad\u5934\u51fd\u6570\u672c\u8eab\u5305\u542b\u7684\uff0c\u800c\u662f\u4ece\u7236\u7ea7\u4f5c\u7528\u57df\u7ee7\u627f\u7684\u3002\u53e6\u5916\uff0c\u4e5f\u4e0d\u80fd\u7528call(), apply(), bind()\u53bb\u6539\u53d8this\u7684\u6307\u5411</p> <p>\u54c8\u54c8\u54c8\u3002</p>"},{"location":"Langs/JavaScript/ancient/es6/#this","title":"\u5173\u4e8e this","text":"<p>\u5440\u5440\u5440\u5173\u4e8ethis\u53c8\u8981\u6655\u4e4e\u4e4e\u4e86\uff01</p> <p>\u8fd9\u662f\u539f\u6765\u666e\u901a\u51fd\u6570\u7684\u8001\u60c5\u51b5\uff1a</p> <p>\u4e00\u3002\u51fd\u6570\u8c03\u7528</p> <p>+ \u6bd4\u5982parseInt('18')&gt;\u51fd\u6570\u8c03\u7528\uff1b [2,4].join('')&gt;\u65b9\u6cd5\u8c03\u7528</p> <p>+ this\u5728\u51fd\u6570\u8c03\u7528\u4e2d\u662f\u4e00\u4e2a\u5168\u5c40\u5bf9\u8c61Window //!!\u65e0\u8bba\u662f\u54ea\u91cc\u7684\u51fd\u6570\uff01\u90fd\u662f\uff01</p> <pre><code>function sum(a, b) {\n    console.log(this === window); // =&gt; true\n    this.myNumber = 20; // add 'myNumber' property to global object\n    return a + b;\n    }\n// sum() is invoked as a function\n// this in sum() is a global object (window)\nsum(15, 16); // =&gt; 31\nwindow.myNumber; // =&gt; 20\n</code></pre> <p>+ this\u5728strict\u7684\u51fd\u6570\u91cc \u662fundefined</p> <p>+ \u9677\u9631: \u5185\u90e8\u51fd\u6570\u4e2d\u7684this</p> <pre><code>var numbers = {\n     a:1,\n     b:2,\n     add: function(){ //\u65b9\u6cd5\u8c03\u7528\n         console.log(this === numbers); //true  //\u7bad\u5934\u51fd\u6570: false\u3002\u6240\u4ee5\u8fd9\u91cc\u548c\u5e95\u4e0b\u7684\u5b50\u51fd\u6570\u90fd\u6700\u597d\u5199\u6210numbers.a\u548cnumbers.b\n         function cal(){ //\u51fd\u6570\u8c03\u7528\n               console.log(this === numbers); //false\n               return this.a + this.b\n          } \n          return cal(); //undefined\n          //\u89e3\u51b3\u65b9\u6cd5 return cal.call(this);\n     }\n}\n</code></pre> <p>\u4f46\u662f\u5bf9\u4e8e\u201c\u7bad\u5934\u51fd\u6570\u201d\u7684this\uff0c\u7bad\u5934\u51fd\u6570\u662f\u6ca1\u6709this\u7684\uff0c\u7bad\u5934\u51fd\u6570\u91cc\u4f7f\u7528this\u5c31\u50cf\u4f7f\u7528\u666e\u901a\u53d8\u91cf\u4e00\u6837\uff0c\u5728\u7bad\u5934\u51fd\u6570\u7684scope\u5185\u627e\u4e0d\u90fd\u4f1a\u4e00\u76f4\u5411\u7236scope\u5bfb\u627e\u3002\u6765\u6e90: \u770b\u5230\u8fd9\u91cc\u7684\u8ba8\u8bba</p> <p></p> <p>\u8fd9\u4e2a\u4f8b\u5b50\u91cc setTimeout\u5b9a\u4e49\u65f6\u7684\u4e0a\u4e0b\u6587\u662ffoo \u5176.id = 42; settimeout\u6267\u884c\u65f6\u7684\u4e0a\u4e0b\u6587\u662f\u5168\u5c40window \u5176id\u662f21\u3002</p> <p>\u6240\u4ee5this.id === \u5b9a\u4e49\u65f6\u4e0a\u4e0b\u6587\u7684id === 42</p> <p>\u5173\u4e8esetTimeout\u91cc\u7684this: \u539f\u6765\u7684this\u5728\u51fd\u6570\u8c03\u7528\u4e2d\u662f\u4e00\u4e2a\u5168\u5c40\u5bf9\u8c61 \u5982\u5de6\u89e3\u91ca</p> <p>\u7136\u800c\u7bad\u5934\u51fd\u6570\u4e2d\uff1a\u7531\u5b83\u7684\u5916\u5c42\u51fd\u6570\u51b3\u5b9a</p> <p></p> <p>\u4e8c\u3002\u65b9\u6cd5\u8c03\u7528</p> <p>+ this\u5728\u65b9\u6cd5\u8c03\u7528\u4e2d\u662f\u62e5\u6709\u8fd9\u4e2a\u65b9\u6cd5\u7684\u5bf9\u8c61</p> <p>+ \u5f53\u5bf9\u8c61\u4eceprototype\u7ee7\u627f\u7684\u65b9\u6cd5\u5728\u65b0\u5bf9\u8c61\u4e0a\u88ab\u8c03\u7528\u65f6\uff0c\u4e0a\u4e0b\u6587\u4f9d\u7136\u662f\u8be5\u5bf9\u8c61\u672c\u8eab</p> <pre><code>var myDog = Object.create({\n     sayName: function(){\n          console.log(this === myDog); //true   //\u88ab\u5206\u79bb\u51fa\u6765\u7684\u65b9\u6cd5: false \u7bad\u5934\u51fd\u6570: false\u3002\n          return this.name;\n     }\n});\nmyDog.name = 'Milo';\nmyDog.sayName(); //'Milo'\nvar sayname = myDog.sayName\nsayname() //undefined\n</code></pre> <p>+ \u9677\u9631: \u4eceobject\u4e2d\u5206\u79bb\u65b9\u6cd5 </p> <pre><code>function Animal(type, legs){\n     this.type = type;\n     this.legs = legs;\n     this.logInfo = function() {\n          console.log(this === myCat);\n          console.log(this.type + this.legs);\n     }\n}\nvar myCat = new Animal('Cat',4);\nsetTimeout(myCat.logInfo, 1000); //undefined\n//\u89e3\u51b3\u65b9\u6cd5 setTimeout(myCat.logInfo.bind(myCat), 1000);\n//\u8fd9\u513f\u7684myCat\u5c31\u662f\u4e00\u666e\u901a\u5bf9\u8c61 \u76f8\u5f53\u4e8evar xx = myCat.logInfo; \u7136\u540e\u518dxx()\u4e5f\u662fundefined\u4e00\u6837\u3002\u65b9\u6cd5\u88ab\u4ece\u5bf9\u8c61\u8eab\u4e0a\u5206\u79bb\u51fa\u53bb\u4e86\u3002\n</code></pre> <p>\u4e09\u3002\u6784\u9020\u51fd\u6570</p> <p>+ this\u5728\u6784\u9020\u51fd\u6570\u8c03\u7528\u4e2d\u6307\u5411\u65b0\u521b\u5efa\u7684\u5bf9\u8c61</p> <p>+ \u9677\u9631\uff1a\u5fd8\u4e86new</p> <pre><code>function Vehicle(type, wheelsCount) {\n     this.type = type;\n     this.wheelsCount = wheelsCount;\n     this instanceof Vechicle\n     return this;\n}\nvar car = Vehicle('Car', 4);\nthis //=&gt; Window\ncar.type; //=&gt;car;\ncar === window // =&gt; true\n\u2234 instanceof Vechicle =&gt; false\nvar car = new Vehicle('Car', 4)\nthis //=&gt; Vechicle {type: Car, wheelsCount: 4}\n</code></pre> <p>\u56db\u3002\u9690\u5f0f\u8c03\u7528</p> <p>+ \u5f53\u51fd\u6570\u88ab.call()\u6216.apply()\u8c03\u7528\u65f6 \u6267\u884c\u7684\u662f\u9690\u5f0f\u8c03\u7528</p> <p>+ \u65b9\u6cd5.call(thisArg[, arg1[, arg2[, ...]]])\u5c06\u63a5\u53d7\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570thisArg\u4f5c\u4e3a\u8c03\u7528\u65f6\u7684\u4e0a\u4e0b\u6587\uff0carg1, arg2, ...\u8fd9\u4e9b\u5219\u4f5c\u4e3a\u53c2\u6570\u4f20\u5165\u88ab\u8c03\u7528\u7684\u51fd\u6570\u3002\u65b9\u6cd5.apply(thisArg, [args])\u5c06\u63a5\u53d7\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570thisArg\u4f5c\u4e3a\u8c03\u7528\u65f6\u7684\u4e0a\u4e0b\u6587\uff0c\u5e76\u4e14\u63a5\u53d7\u53e6\u4e00\u4e2a\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61[args]\u4f5c\u4e3a\u88ab\u8c03\u7528\u51fd\u6570\u7684\u53c2\u6570\u4f20\u5165\u3002</p> <p>+ \u5728\u9690\u5f0f\u8c03\u7528\u4e2d, this\u662f\u7b2c\u4e00\u4e2a\u53c2\u6570</p> <pre><code>var rbt = {name: 'white rabbit'};\nfunction concatName(string){\n     console.log(this === rabbit) //=&gt;true\n     return string + this.name;\n}\nconcatName.call(rbt,'hello');\nconcatName.apply(rbt,['bye']);\n</code></pre> <p>\u2234\u9690\u5f0f\u8c03\u7528\u53ef\u4ee5\u7528\u4e8e\u6a21\u62df\u5728\u4e00\u4e2a\u5bf9\u8c61\u4e0a\u8c03\u7528\u67d0\u4e2a\u65b9\u6cd5</p> <p>\u4e94\u3002\u7ed1\u5b9a\u51fd\u6570</p> <p>+ \u7ed1\u5b9a\u51fd\u6570\u662f\u4e00\u4e2a\u4e0e\u5bf9\u8c61\u7ed1\u5b9a\u7684\u51fd\u6570\u3002\u901a\u5e38\u5b83\u662f\u901a\u8fc7\u5728\u539f\u51fd\u6570\u4e0a\u4f7f\u7528 .bind()\u6765\u521b\u5efa\u7684\u3002\u539f\u51fd\u6570\u548c\u7ed1\u5b9a\u7684\u51fd\u6570\u5171\u4eab\u4ee3\u7801\u8ddf\u4f5c\u7528\u57df\uff0c\u4f46\u662f\u5728\u6267\u884c\u65f6\u6709\u4e0d\u540c\u7684\u4e0a\u4e0b\u6587\u3002</p> <p>+ \u65b9\u6cd5.bind(thisArg[, arg1[, arg2[, ...]]])\u63a5\u53d7\u7b2c\u4e00\u4e2a\u53c2\u6570thisArg\u4f5c\u4e3a\u7ed1\u5b9a\u51fd\u6570\u6267\u884c\u65f6\u7684\u4e0a\u4e0b\u6587\uff0c\u5e76\u4e14\u5b83\u63a5\u53d7\u4e00\u7ec4\u53ef\u9009\u7684\u53c2\u6570 arg1, arg2, ...\u4f5c\u4e3a\u88ab\u8c03\u7528\u51fd\u6570\u7684\u53c2\u6570\u3002\u5b83\u8fd4\u56de\u4e00\u4e2a\u7ed1\u5b9a\u4e86thisArg\u7684\u65b0\u51fd\u6570\u3002</p> <pre><code>function multiply(number){\n     'use strict';\n     return this*number;\n}\nvar double = multiply.bind(2);\ndouble(3) //=&gt;6\n</code></pre> <p>\u8ddf.apply()\u4ee5\u53ca.call()\u65b9\u6cd5(\u89c15.)\u9a6c\u4e0a\u8c03\u7528\u51fd\u6570\u4e0d\u540c\uff0c.bind()\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u65b9\u6cd5\uff0c\u5b83\u5e94\u8be5\u5728\u4e4b\u540e\u88ab\u8c03\u7528\uff0c\u53ea\u662fthis\u5df2\u7ecf\u88ab\u63d0\u524d\u8bbe\u7f6e\u597d\u4e86\u3002</p> <p>+ this\u5728\u8c03\u7528\u7ed1\u5b9a\u51fd\u6570\u4e2d\u662f.bind()\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u5e76\u4e14\u975e\u5e38\u5f3a\u5927\u96be\u4ee5\u88ab\u6539\u53d8\u3002 .bind()\u6c38\u4e45\u6027\u5730\u5efa\u7acb\u4e86\u4e00\u4e2a\u4e0a\u4e0b\u6587\u7684\u94fe\u63a5\uff0c\u5e76\u4e14\u4f1a\u4e00\u76f4\u4fdd\u6301\u5b83\u3002\u4e00\u4e2a\u7ed1\u5b9a\u51fd\u6570\u4e0d\u80fd\u901a\u8fc7.call()\u6216\u8005.apply()\u6765\u6539\u53d8\u5b83\u7684\u4e0a\u4e0b\u6587\uff0c\u751a\u81f3\u662f\u518d\u6b21\u7ed1\u5b9a\u4e5f\u4e0d\u4f1a\u6709\u4ec0\u4e48\u4f5c\u7528\u3002 \u53ea\u6709\u7528\u7ed1\u5b9a\u51fd\u6570\u7684\u6784\u9020\u51fd\u6570\u8c03\u7528\u65b9\u6cd5\u80fd\u591f\u6539\u53d8\u4e0a\u4e0b\u6587\uff0c\u4f46\u5e76\u4e0d\u63a8\u8350\u8fd9\u4e2a\u65b9\u6cd5\uff08\u56e0\u4e3a\u6784\u9020\u51fd\u6570\u8c03\u7528\u7528\u7684\u662f\u5e38\u89c4\u51fd\u6570\u800c\u4e0d\u662f\u7ed1\u5b9a\u51fd\u6570\uff09\u3002</p> <p>+ .bind()\u603b\u662f\u4f1a\u5728forEach\u5faa\u73af\u4e2d\u4f7f\u7528~~\u6bd4\u5982\uff1a</p> <pre><code>DOMTokenList.prototype.adds = function(tokens) {\n  tokens.split(\" \").forEach(function(token) {\n       this.add(token); //\u8fd9\u91cc\u7684this\u5c31\u662fDOMTokenList\u7684\u5b9e\u4f8b\u5316\u5bf9\u8c61 \u5426\u5219\u4f1a\u662fwindow\n  }.bind(this));\n  return this;\n};\n</code></pre> <p>\u2460\u6ce8\u610f\u8fd9\u91cc\u7528\u7684\u662f.bind() \u56e0\u4e3aforEach()\u91cc\u9762\u8981\u6c42\u4f20\u7684\u662f\u4e00\u4e2afunction\u53c2\u6570\uff0c\u6bcf\u904d\u5386\u4e00\u6b21js\u5c31\u4f1a\u6267\u884c\u4e00\u6b21\u8fd9\u4e2a\u53c2\u6570\u3002\u5982\u679c\u7528\u7684\u662fcall()\uff0c\u90a3\u4e48\u4f20\u5165forEach()\u65f6\u5c31\u4f1a\u6267\u884c\u4e86\uff0c\u90a3\u4e48\u53c2\u6570\u5c31\u4e0d\u662ffunction\u683c\u5f0f\u4e86\uff0c\u5c31\u4e0d\u5bf9\u3002</p> <p>\u2461\u6211\u6a21\u62df\u7684forEach:</p> <pre><code>Array.prototype.myEach = function(f){\n\nvar length = this.length;\n\nfor(var i = 0; i&lt;length; i++){\n\n   f(this[i],i); //\u4e5f\u7ed9\u4f20\u5165\u7684function\u4f20\u4e86\u4e24\u4e2a\u503c\u3002\u7b2c\u4e00\u4e2a\u503c\u662fvalue, \u7b2c\u4e8c\u4e2a\u503c\u662findex\n\n}\n\n}\n</code></pre> <p>\u2234for\u5faa\u73af\u4e0eforEach\u5927\u6982\u6709\u4e24\u4e2a\u6700\u660e\u663e\u7684\u4e0d\u540c\u70b9\uff08\u90fd\u4e0efor\u5faa\u73af\u7684\u7279\u6027\u76f8\u5173\uff09\uff1a**</p> <p>\u2460for\u5faa\u73af\u4e0d\u9700\u8981bind,\u4f46\u662fforEach\u9700\u8981~</p> <p>\u2461for\u5faa\u73af\u53ef\u4ee5break, forEach\u4e0d\u53ef\u4ee5</p> <p>\u2462JS\u6743\u5a01\u6307\u5357p218\u6a21\u62df\u7684forEach,\u76f4\u63a5\u5728\u8c03\u7528\u4f20\u5165\u7684\u53c2\u6570\u65f6\u5c31\u4f7f\u7528\u4e86call \u8fd8\u591a\u4e86\u4e00\u4e2a\u53ef\u4ee5\u4f20context\u7684\u53c2\u6570</p> <pre><code>Set.prototype.foreach = function(f, context){\n   for(var s in this.values) f.call(context, this.values[s])  //\u6ce8\u610f\u8fd9\u91cc\u7528\u7684\u662fcall \u5e76\u4f20\u5165\u4e86value\u503c\n}\n</code></pre>"},{"location":"Langs/JavaScript/ancient/es6/#class","title":"\u6211\u4e00\u76f4\u5f88\u60f3\u5f04\u6e05\u695a\u6784\u9020\u51fd\u6570\u548c Class \u7684\u5f02\u540c","text":""},{"location":"Langs/JavaScript/ancient/es6/#_4","title":"\u6784\u9020\u51fd\u6570\uff1a","text":"<pre><code>function Test(a){\n      this.a = a\n      this.b = function(s){\n     //this\u6307\u7684\u662f\u88ab\u5b9e\u4f8b\u5316\u7684\u5bf9\u8c61\n     return this.a\n  }\n}\nconst rootProto = {\n pa: 'fff',\n pb: function(s){\n    return this.a\n }\n}\nTest.prototype = rootProto\n\nconst t = new Test('boom')\nObject.getPrototypeOf(t) // rootProto\u4e5f\u5c31\u662f{pa: 'fff', pb: f}\nrootProto.isPrototypeOf(t) //true\nfor (props in t) {\n// a b pa pb\u3002a,b\u662f\u81ea\u8eab\u5c5e\u6027\uff0cpa pb\u662f\u7ee7\u627f\u5c5e\u6027\u3002\n}\nObject.getOwnPropertyNames(t) // ['a', 'b']\n//\u4ee5\u4e0b\uff01\u662f\u4e2a\u5173\u4e8ethis\u7684\u9700\u8981\u6ce8\u610f\u7684\u5730\u65b9\uff01\nt.b() //boom\nconst tb = t.b\ntb() //undefined\n\nconst t2 = Object.create(t)\nObject.getPrototypeOf(t2) // \u9700\u8981\u6ce8\u610f\u7684\u8fd9\u91cc\u53d6\u5230\u7684\u662f\u76f4\u5c5e\u4e0a\u7ea7\u539f\u578bt\u3002\u4e5f\u5c31\u662f{a: 'boom', b: f}\nrootProto.isPrototypeOf(t2) //true \u6bd5\u7adfroot\u662f\u7ec8\u6781\u539f\u578b\nt2 instanceof Test // true\nt2.pb() //boom\n//t2\u73b0\u5728\u62e5\u6709a b pa pb\u56db\u4e2a\u7ee7\u627f\u5c5e\u6027\nt2.a = 'Im t2'\n//t2\u73b0\u5728\u62e5\u6709\u81ea\u8eab\u5c5e\u6027a \u7ee7\u627f\u5c5e\u6027b pa pb\n</code></pre> <p>\u54c7\uff01\uff01\u6211\u89c9\u5f97\u5bf9\u4e8e\u6784\u9020\u51fd\u6570\uff01\uff01\u6211\u4e00\u4e0b\u5b50\u5f00\u7a8d\u4e86\uff01\uff01</p> <p>\u7a81\u7136\u9886\u609f\u5230\u6784\u9020\u51fd\u6570\u7684\u91cd\u70b9\u4e0d\u662f\u6784\u9020\u51fd\u6570\u672c\u8eab\uff0c\u800c\u662f\u4ea7\u751f\u7684object\u8fd9\u4e2a\u7ed3\u679c\u3002\u8fd9\u91cc\u6709\u4e00\u53e5\u867d\u7136\u73b0\u5728\u770b\u8d77\u6765\u8fc7\u65f6 \u4f46\u5374\u4e00\u8bed\u4e2d\u7684\u7684\u8bdd\u201cJavaScript is a prototypal object oriented language. This means that objects in JavaScript directly inherit from other objects. Hence we don't need classes. All we need is a way to create and extend objects.\u201d\u6784\u9020\u51fd\u6570\u8d77\u5230\u7684\u6b63\u662fcreate\u4e0eextend objects\u7684\u4f5c\u7528\u3002</p> <p>\u5b83\u6307\u5b9a\u8f93\u5165\uff0c\u53ef\u4ee5\u8f93\u51fa\u7b26\u5408\u67d0\u79cd\u957f\u76f8\u7684\u5bf9\u8c61\u3002\u5b83\u8fd8\u53ef\u4ee5\u968f\u8eab\u643a\u5e26\u4e00\u4e2a\u5bf9\u8c61\u4f5c\u4e3a\u539f\u578b\u8001\u5927\uff0c\u4ee5\u540e\u751f\u6210\u7684\u5bf9\u8c61\u4e5f\u4f1a\u628a\u539f\u578b\u8001\u5927\u5f53\u4f5c\u7ec8\u6781\u539f\u578b\uff0c\u4e0d\u7ba1\u7ee7\u627f\u591a\u5c11\u4ee3\u3002</p> <p>\u5982\u4f55\u7ee7\u627f\u5bf9\u8c61\uff1f</p> <p>\u5982\u4f55\u7ee7\u627f\u6784\u9020\u51fd\u6570\uff1f</p> <pre><code> function A(){}\nA.prototype.a = 1\n\nfunction B(){}\nB.prototype = Object.create(A.prototype)\nB.prototype.b = 1\nB.prototype.constructor = B\n\nvar b = new B()\nconsole.log(b.a) \\\\ 1\nconsole.log(b instanceof A) \\\\ true\nconsole.log(b instanceof B) \\\\ true\n</code></pre> <p>\u6069\u4ee5\u4e0a\u662f\u901a\u8fc7\u6784\u9020\u51fd\u6570\u6765\u7ee7\u627f\u7684\uff0c\u5b9e\u9645\u4e0a\u53ea\u8981\u6709\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5bf9\u8c61\u8eab\u4e0a\u4f1a\u643a\u5e26\u7740\u81ea\u5df1\u7684prototype\uff0c\u56e0\u6b64\u522b\u7684\u5bf9\u8c61\u4e5f\u53ef\u4ee5\u76f4\u63a5\u7ee7\u627f\u8fd9\u4e2a\u5bf9\u8c61</p> <pre><code>function A(){}\nA.prototype.a = 1\nvar a = new A()\n\nfunction B(){}\nB.prototype.b = 1\n\nvar b = new B()\nb.__proto__=a \u6216b=Object.create(a)\nconsole.log(b instanceof A)  // true\nconsole.log(b instanceof B) // false\n</code></pre> <p>----\u8499\u4e86\u6211\u534a\u664c\u7684\u95ee\u9898\uff01\u7591\u95ee\uff1a</p> <pre><code>var A = function(){this.a = 1}\nvar a = new A()\n\nvar B = function(){this.b = 1}\nB.prototype.say = function(){console.log('hh')}\nvar b = new B()\n\nA.prototype = Object.create(B.prototype)\nconsole.log(a.say())\n</code></pre> <p>\u7ed3\u679c\u662fa.say is undefined..\u5f53\u65f6\u6211\u5c31\u5f88\u5947\u602a \u4e0d\u662f\u5df2\u7ecf\u201c\u6307\u5b9a\u201d\u4e86A\u7684prototype\u4e86\u5417 \u5728A\u7684prototype\u4e0a\u6709say\u65b9\u6cd5 \u4e3a\u4ec0\u4e48\u5c0fa\u6ca1\u6709say\u65b9\u6cd5\u5462\uff1f\u5176\u5b9e\u5c31\u662f\u2026\u4e00\u4e2a\u987a\u5e8f\u6240\u5bfc\u81f4\u7684\u5207\u65ad\u5f15\u7528\u7684\u95ee\u9898\u5440\uff01\u53ef\u4ee5\u770b\u51faa.constructor.prototype===A\u7684\u539f\u59cbprototype\uff0c\u6240\u4ee5\u53ea\u53ef\u4ee5A's original prototype.say = xx\u8fd9\u6837\u6765\u4e8b\u540e\u6dfb\u52a0\u65b0\u7684\u5c5e\u6027\u3002\u800c\u6211\u4e0a\u8ff0\u7684\u201c\u6307\u5b9a\u201d\u66f4\u50cf\u662f\u201c\u91cd\u5b9a\u5411\u201d\uff0c\u76f4\u63a5\u5c06A.prototype\u6307\u5411\u4e00\u4e2a\u522b\u7684\u5bf9\u8c61\uff0c\u4f46\u662fa.constructor.prototype\u6307\u7684\u5730\u65b9\u8fd8\u662f\u539f\u5904\uff0c\u5c31\u65e0\u6cd5\u5b9e\u73b0\u60f3\u8981\u7684\u7ed3\u679c\u4e86\u3002</p>"},{"location":"Langs/JavaScript/ancient/es6/#class_1","title":"Class \u7c7b","text":"<pre><code>class Test{\n        constructor(a) {\n    this.a = a\n          }\n        b(){\n              //this\u6307\u4ee3\u7684\u662f\u5b9e\u4f8b\u5316\u5bf9\u8c61\n               console.log(this.a)\n          }\n        static c(s){\n              //this\u6307\u7684\u662fTest\u8fd9\u4e2aclass\n              const b = this.b //undefined\n              return s\n         }\n}\n\ntypeof Test //function\nTest.c('im Test')\n//c\u4e8eTest\u662f\u4ec0\u4e48\u5173\u7cfb\u5462\n\nconst t = new Test('boom') // {a: 'boom'}\nt.constructor //class Test\nObject.getPrototypeOf(t) //{b: f, constructor: class Test}\nObject.getOwnPropertyNames(t) //['a']\nfor (props in t) { } //a\n'b' in t //true \u8bf4\u660eb\u4ee5\u4e0d\u53ef\u679a\u4e3e\u7ee7\u627f\u5c5e\u6027\u5b58\u5728\u7740\n//\u6b64\u65f6t\u7684\u53ef\u679a\u4e3e\u81ea\u8eab\u5c5e\u6027\u4e3aa \u4e0d\u53ef\u679a\u4e3e\u7ee7\u627f\u5c5e\u6027\u4e3ab\n\nconst t2 = Object.create(t)\nt2.constructor //class Test\nObject.getPrototypeOf(t2) //Test {a: 'boom'}\u5373t\u6307\u5411\u7684\u5bf9\u8c61\nfor (props in t) {} //a\n//\u6b64\u65f6t2\u7684\u53ef\u679a\u4e3e\u7ee7\u627f\u5c5e\u6027\u662fa \u4e0d\u53ef\u679a\u4e3e\u7ee7\u627f\u5c5e\u6027\u662fb\n\nclass TestExtends extends Test{\n        constructor(a, a2){\n    super(a)\n                  super.b() //\u6253\u5370\u51faz\n    this.a2 = a2\n        }\n       b2(){\n               console.log(this)\n        }\n        static d(){\n    //this\u6307\u7684\u662fclass TestExtends\n                 return 'ssss'\n         }\n}\nTestExtends.c('Im TestExtends')\nTestExtends.d()\n\nconst te = new TestExtends('boom', 'zzz') // {a:'z', a2: 'zzz'}\nObject.getOwnPropertyNames(t) //['a']\nfor (props in te) { } //a\n//\u6b64\u65f6te\u7684\u53ef\u679a\u4e3e\u81ea\u8eab\u5c5e\u6027\u4e3aa \u4e0d\u53ef\u679a\u4e3e\u7ee7\u627f\u5c5e\u6027\u4e3ab, b2\n//\u4e0d\u52a0constructor()\u65f6 te\u4e3a{a: undefined} \u8868\u660e\u4f9d\u7136\u5e26\u7740a\u8fd9\u4e2a\u5c5e\u6027\n//\u5b50class\u82e5\u6709\u4efb\u4f55\u5c5e\u6027\u4e0e\u6216\u65b9\u6cd5\u4e0e\u7236class\u540c\u540d \u5219\u4f1a\u8986\u76d6\u540e\u8005\n</code></pre>"},{"location":"Langs/JavaScript/ancient/es6/#vs","title":"\u5173\u4e8e\u5b83vs \u6784\u9020\u51fd\u6570","text":"<ol> <li>First, a function created by class is labelled by a special internal property [[FunctionKind]]:\"classConstructor\"</li> <li>Class methods are non-enumerable. A class definition sets enumerable flag to false for all methods in the \"prototype\".</li> <li>Classes always use strict. All code inside the class construct is automatically in strict mode.</li> </ol> <p>\u8fd9\u91cc\u5c24\u5176\u60f3\u8ba8\u8bba\u539f\u578b\u65b9\u6cd5\u8fd9\u4e00\u9879\u3002\u8fd9\u4e00\u9879\u53ef\u4ee5\u770b\u4f5c\u76f4\u63a5\u66ff\u4ee3\u4e86\u6784\u9020\u51fd\u6570.prototype.\u65b9\u6cd5\uff0c\u56e0\u4e3a\u5f88\u660e\u663eclass\u7684\u5b9e\u4f8b\u5316\u5bf9\u8c61t\u4e2d\uff0c\u539f\u578b\u65b9\u6cd5\u4e3at\u7684\u7ee7\u627f\u5c5e\u6027\uff0c\u800c\u4e0d\u662f\u81ea\u8eab\u5c5e\u6027\u3002\u552f\u4e00\u7684\u4e0d\u540c\u70b9\u662f\u6784\u9020\u51fd\u6570.protype.\u65b9\u6cd5\u662ft\u7684\u53ef\u679a\u4e3e\u5c5e\u6027\uff0c\u800cclass\u7684\u539f\u578b\u65b9\u6cd5\u662ft\u7684\u4e0d\u53ef\u679a\u4e3e\u5c5e\u6027\u3002</p> <p>\u6240\u4ee5\u6211\u6700\u5927\u7684\u56f0\u60d1\uff0c\u6784\u9020\u51fd\u6570.prototype.\u65b9\u6cd5\u53bb\u4e86\u54ea\u91cc\uff0c\u4ee5\u53caclass.\u539f\u578b\u65b9\u6cd5\u5230\u5e95\u662f\u4ec0\u4e48\uff0c\u5c31\u5f7b\u5e95\u89e3\u51b3\u4e86\uff01:D</p> <p>\u8bb2\u5230\u9759\u6001\u65b9\u6cd5static\uff0c\u8fd9\u4e00\u9879\u4f3c\u4e4e\u662fclass\u7279\u6709\u7684\uff0c\u53ea\u80fd\u901a\u8fc7class\u6765\u8c03\u7528\u8be5\u65b9\u6cd5\u3002\u6587\u6863\u8bf4\uff0c\u9759\u6001\u65b9\u6cd5\u901a\u5e38\u7528\u4e8e\u4e3a\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u521b\u5efa\u5de5\u5177\u51fd\u6570\u3002\u611f\u89c9\u5c31\u662f\u653e\u53ea\u51c6\u7ed9\u8fd9\u4e2a\u7c7b\u8c03\u7528\u7684\u51fd\u6570\u800c\u5df2\u2026</p> <p>\u7136\u540e\u8fd8\u6709\u4e00\u4e2a\u8d85\u795e\u5947\u7684\uff01super\uff01\u6211\u4e00\u5f00\u59cb\u53ea\u77e5\u9053\u5b83\u8d77\u5230\u5728\u5b9e\u4f8b\u5316\u5b50\u7c7b\u65f6\uff0c\u6267\u884c\u7236\u7c7b\u7684constructor()\u5e76\u7ed9\u4e4b\u4f20\u53c2\u7684\u4f5c\u7528\u3002\u5176\u5b9e\u5b83\u8fd8\u53ef\u4ee5\u5f53\u573a\u8c03\u7528\u7236\u5bf9\u8c61\u4e0a\u7684\u539f\u578b\u51fd\u6570\uff0c\u6240\u4ee5super.b()\u624d\u53ef\u4ee5\u6267\u884c\u3002</p> <p>extends\u4e5f\u53ef\u4ee5\u7528\u4e8e\u6269\u5c55\u5e38\u89c4\u7684\u6784\u9020\u51fd\u6570\uff01\u7136\u540e\u8fd9\u4e2aextends\u7684\u610f\u4e49\u6b63\u5728\u4e8e\u539f\u578b\u65b9\u6cd5\u3002\u56e0\u4e3a\u666e\u901a\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u65b9\u6cd5\u662f\u4e0d\u53ef\u6269\u5c55\u7684\uff0c\u53ea\u8981rootPrototype\u4e0a\u6dfb\u52a0\u4e00\u6761\uff0c\u5b83\u7684\u6240\u6709\u5b50\u7c7b\u90fd\u4f1a\u52a0\u4e0a\u3002\u800cclass\u5219\u53ef\u4ee5\u53e6\u5f00\u4e00\u4e2a\u7c7b\uff0c\u5728\u7ee7\u627f\u539f\u7c7b\u539f\u578b\u65b9\u6cd5\u7684\u57fa\u7840\u4e0a\uff0c\u53c8\u80fd\u8986\u76d6\uff0c\u8fd8\u80fd\u65b0\u589e\u81ea\u5df1\u7684\u539f\u578b\u65b9\u6cd5\uff0c\u4ee5\u4f20\u7ed9\u81ea\u5df1\u8981\u751f\u4ea7\u7684\u5bf9\u8c61\u4eec\u3002\u5c82\u4e0d\u662f\u7279\u522b\u7684\u68d2\uff01</p>"},{"location":"Langs/JavaScript/ancient/es6/#react","title":"\u5173\u4e8eReact\u7684\u601d\u8003\u3002","text":"<p>\u7ecf\u8fc7\u5bf9\u4e8eclass\u7684\u6574\u7406\u540e \u6211\u5f00\u59cb\u6709\u4e86\u4e00\u70b9\u6e10\u6e10\u660e\u4e86\u7684\u6982\u5ff5\u5566\uff01\u90a3\u5c31\u662f\u6bd4\u5982\u5e95\u4e0b\uff1a</p> <p>\u5176\u4e2d\u7684state\u80af\u5b9a\u5728Component\u4e0a\u6709\u5b9a\u4e49\uff0ccomponentDidMount\u548crender\u8fd9\u4e9b\u80af\u5b9a\u4e5f\u6709\u3002\u90a3\u4e48\u5b50class\u5c31\u501f\u52a9\u4e86\u201c\u8986\u76d6\u201d\u7684\u6982\u5ff5\uff0c\u4ee5\u81ea\u5df1\u5b9a\u4e49\u7684\u5c5e\u6027\u6216\u65b9\u6cd5\u8986\u76d6\u4e86\u7236\u7ea7\u7684\u65b9\u6cd5\u3002\u7136\u540eComponent\u4e00\u5b9a\u6709\u4e2a\u7c7b\u4f3cinit\u529f\u80fd\u7684\u65b9\u6cd5\u3002\u5728init(){}\u91cc\uff0c\u4f1a\u7528\u5230this.state\uff0cthis.componentDidMount()\u53cathis.render()\u7b49\uff0c\u90a3\u4e48\u5c31\u8d77\u5230\u4e86\u76f4\u63a5\u8c03\u7528\u5230\u5b50class\u7684\u65b9\u6cd5\uff0c\u4e5f\u5c31\u662f\u62d3\u5c55class\u7684\u6982\u5ff5\u3002</p> <p>\u8868\u8ff0\u4e0d\u6e05 \u5e0c\u671b\u4ee5\u540e\u7684\u81ea\u5df1\u591a\u591a\u6d77\u6db5\u5440\u3002</p> <p>p.s. \u4ee5\u540e\u7684\u81ea\u5df1\u8868\u793a \u601d\u8003\u7684\u5f88\u597d\u54c8\u54c8\u54c8\uff01\u4ee5\u540e\u7684\u4ee5\u540e\u7684\u81ea\u5df1\u4e5f\u8981\u50cf\u8fd9\u4e2a\u8fc7\u53bb\u7684\u81ea\u5df1\u5b66\u4e60\u54e6\uff01</p>"},{"location":"Langs/JavaScript/ancient/es7/","title":"es7","text":""},{"location":"Langs/JavaScript/ancient/es7/#_1","title":"\u4fee\u9970\u5668","text":"<p>\u203b \u521d\u6b65\u5370\u8c61\uff1a\u7528\u6765\u5728\u521d\u59cb\u5316\u7c7b\u65f6\u8fdb\u884c\u4e00\u4e9b\u516c\u5171\u64cd\u4f5c</p> <pre><code>@Student({course: \"angular3\"})\nclass A {\u2026}\n\nfunction Student(config) {\n    return function (target) {\n        Object.defineProperty(target.prototype, 'course', {value: () =&gt; config.course})\n        //\u4e5f\u53ef\u5199\u6210\uff1a target.prototype.course = '\u2026'; return target;\n    }\n}\n</code></pre> <p>\u82e5\u65e0\u9700config\u7684\u8bdd\u90a3\u4e48\u65e2\u4e0d\u7528\u7ed9Student\u4f20\u53c2 \u5e95\u4e0b\u7684\u5b9e\u73b0function\u4e2d\u53ea\u9700\u91cc\u9762\u90a3\u5c42\u5c31\u597d\u4e86</p> <p><code>function Student(target) {Object.defineProperty(target.prototype, 'course', {value: () =&gt; config.course})}</code></p> <p>\u203b \u8fdb\u9636</p> <p>\u2460\u7eaf\u7cb9\u7684\u88c5\u9970\u6a21\u5f0f&lt;\u4e8e\u7c7b\u7684\u5c5e\u6027\u4e0a\u4fee\u6539&gt; \u84dd\u8272\u90e8\u5206\u3002\u9700\u8981\u8fd4\u56de\u7684\u662f\u5c5e\u6027\u7684\u63cf\u8ff0\u7b26descriptor\u3002</p> <p>\u2461\u534a\u900f\u660e\u7684\u88c5\u9970\u6a21\u5f0f&lt;\u4e8e\u7c7b\u4e0a\u6574\u4f53\u4fee\u6539\u5c5e\u6027&gt; \u7ea2\u8272\u90e8\u5206\u3002\u9700\u8981\u8fd4\u56de\u7684\u662ftarget\u3002https://jsfiddle.net/hhqgs8v6/1/</p> <pre><code>function decorateArmour(target, key, descriptor) {\n  //\u8fd9\u513ftarget\u662f\u7c7b\u7684prototype\n//\u5148\u5c06\u539f\u6709\u5c5e\u6027\u63d0\u53d6\u51fa\u6765 \n const method = descriptor.value;\n  //\u7eaf\u7cb9\u7684\u88c5\u9970\u5668\n  let moreDef = 100;\n  descriptor.value = (...args)=&gt;{\n    //\u8fd9\u91cc\u5bf9\u5165\u53c2\u8fdb\u884c\u4fee\u6539\n    args[0] += moreDef;\n    return method.apply(target, args);\n  }\n  return descriptor;\n}\n\n//\u534a\u900f\u660e\u7684\u88c5\u9970\u5668 +\u5c5e\u6027 \u7c7b\u4f3c\u4e8e\u9002\u914d\u5668\nfunction addSpeed(target) {\n   //\u8fd9\u513ftarget\u662f\u7c7b\u672c\u8eab\nconst method = target.prototype.toString;\n target.prototype.toString = (...args) =&gt; {\n      return method.apply(target.prototype, args) + '\u52a0\u6210!'\n    }\n\u539f\u6765\u4ee5\u4e0a\u4e0d\u5bf9&lt;\u56e0\u4e3atarget.prototype\u4e0a\u7684def,atk\u8fd9\u4e9b\u90fd\u662fundefined\u7684\u5440&gt; \u9700\u6539\u6210\ntarget.prototype. toString = function(\u2026args){\n    return method.apply(this, args)+'\u52a0\u6210'\n}   \nreturn target;\n}\n\n@addSpeed\nclass Man{\n  constructor(def = 2,atk = 3,hp = 3){\n    this.init(def,atk,hp);\n  }\n\n  @decorateArmour\n  init(def,atk,hp){\n    this.def = def; // \u9632\u5fa1\u503c\n    this.atk = atk;  // \u653b\u51fb\u529b\n    this.hp = hp;  // \u8840\u91cf\n  }\n  toString(){\n    return `\u9632\u5fa1\u529b:${this.def},\u653b\u51fb\u529b:${this.atk},\u8840\u91cf:${this.hp}`;\n  }\n}\n\nvar tony = new Man();\n</code></pre> <p>\u203b es5\u5b9e\u73b0\u7684\u601d\u8def</p> <p>\u5176\u5b9e\u8fd8\u662f\u7c7b\u7684\u7ee7\u627f\u5173\u7cfb\uff0c\u6216\u662f\u6dfb\u52a0\u989d\u5916\u7684\u804c\u8d23</p>"},{"location":"Langs/JavaScript/ancient/jsdoc/","title":"jsdoc","text":"<p>case sensitive\u7684\u95ee\u9898\uff1a</p> <p>https://github.com/jsdoc/jsdoc/issues/1046</p> <p>enum\uff1a</p> <pre><code>// \u6cd5\u4e00\uff1a\n/**\n * @param {('rect'|'circle'|'ellipse')} shapeType - The allowed type of the shape\n *\n\n// \u6cd5\u4e8c\uff1a\n/**\n * @typedef {\"keyvalue\" | \"bar\" | \"timeseries\" | \"pie\" | \"table\"} MetricFormat\n */\n/**\n * @param format {MetricFormat}\n */\n</code></pre> <p>Object:</p> <pre><code>\u6cd5\u4e00\uff1a\n/**\n * @param {{a: number, b: string, c}} myObj description\n */\n\n\u6cd5\u4e8c\uff1a\n/**\n * @param {Object} myObj description\n * @param {number} myObj.a description\n * @param {string} myObj.b description\n * @param {} myObj.c description\n */\n\n\u6cd5\u4e09\uff1a\n/**\n * @typedef {Object} Person\n * @property {string} name how the person is called\n * @property {number} age how many years the person lived\n */\n\n/**\n * @param {Person} p - Description of p\n */\n\n</code></pre>"},{"location":"Langs/NodeJS/","title":"index","text":""},{"location":"Langs/NodeJS/#module","title":"module","text":"<ul> <li>\u4e3a\u4ec0\u4e48\u80fd\u5728\u4ee3\u7801\u4e2d\u4f7f\u7528\u5168\u5c40\u53d8\u91cfrequire\u548cexports\u4ee5\u53camodule\uff1f</li> </ul> <p>\u56e0\u4e3anode\u628a\u4e3b\u4ee3\u7801\u7528function\u5305\u4e86\u8d77\u6765 \u4f20\u5165\u4e86\u8fd9\u4e9b\u5165\u53c2\u54c7\uff01\u53ef\u4ee5\u628a node \u60f3\u8c61\u6210\u4e00\u4e2a container</p>"},{"location":"Langs/NodeJS/#_1","title":"\u8f93\u5165","text":"<ul> <li>Readfile \u4e0e createReadStream</li> </ul> <p>\u540e\u8005\u53ef\u4ee5\u81ea\u5b9a\u4e49\u6309 chunk \u8bfb\u5165</p>"},{"location":"Langs/NodeJS/#_2","title":"\u8f93\u51fa","text":"<p>\u88c5npm\u7684\u65f6\u5019\u7ecf\u5e38\u53ef\u4ee5\u770b\u89c1\u4e00\u95ea\u800c\u8fc7\u7684log \u6700\u540e\u4e0d\u4f1a\u505c\u7559\u5728\u8f93\u5165\u6846\u91cc</p> <p>\u5176\u5b9e\u672c\u8d28\u5c31\u662f this.stream \u7cfb\u5217</p> <p>ref: https://github.com/visionmedia/node-progress/blob/master/lib/node-progress.js</p>"},{"location":"Langs/NodeJS/#http","title":"http","text":"<ul> <li>\u4e3a\u4ec0\u4e48http\u6a21\u5757\u521b\u5efa\u7684HTTP\u670d\u52a1\u5668\u8fd4\u56de\u7684\u54cd\u5e94\u662fchunked\u4f20\u8f93\u65b9\u5f0f\u7684\uff1f</li> </ul> <p>\u56e0\u4e3a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528.writeHead\u65b9\u6cd5\u5199\u5165\u54cd\u5e94\u5934\u540e\uff0c\u5141\u8bb8\u4f7f\u7528.write\u65b9\u6cd5\u5199\u5165\u4efb\u610f\u957f\u5ea6\u7684\u54cd\u5e94\u4f53\u6570\u636e\uff0c\u5e76\u4f7f\u7528.end\u65b9\u6cd5\u7ed3\u675f\u4e00\u4e2a\u54cd\u5e94\u3002\u7531\u4e8e\u54cd\u5e94\u4f53\u6570\u636e\u957f\u5ea6\u4e0d\u786e\u5b9a\uff0c\u56e0\u6b64NodeJS\u81ea\u52a8\u5728\u54cd\u5e94\u5934\u91cc\u6dfb\u52a0\u4e86Transfer-Encoding: chunked\u5b57\u6bb5\uff0c\u5e76\u91c7\u7528chunked\u4f20\u8f93\u65b9\u5f0f\u3002\u4f46\u662f\u5f53\u54cd\u5e94\u4f53\u6570\u636e\u957f\u5ea6\u786e\u5b9a\u65f6\uff0c\u53ef\u4f7f\u7528.writeHead\u65b9\u6cd5\u5728\u54cd\u5e94\u5934\u91cc\u52a0\u4e0aContent-Length\u5b57\u6bb5\uff0c\u8fd9\u6837\u505a\u4e4b\u540eNodeJS\u5c31\u4e0d\u4f1a\u81ea\u52a8\u6dfb\u52a0Transfer-Encoding\u5b57\u6bb5\u548c\u4f7f\u7528chunked\u4f20\u8f93\u65b9\u5f0f\u3002</p> <p>Ref: https://nqdeng.github.io/7-days-nodejs/#4.2</p>"},{"location":"Langs/NodeJS/#eventloop","title":"eventLoop \u76f8\u5173","text":"<ul> <li>nodejs\u7684eventloop\u548c\u6d4f\u89c8\u5668\u7684\u662f\u5426\u4e00\u6837\uff1f</li> </ul> <p>\u4e0d\u4e00\u6837\u3002nodejs\u7684eventloop\u7531\u7528C\u5199\u7684libuv(li:b uv)\u63a7\u5236\uff0c\u56e0\u4e3a\u5f02\u6b65\u901a\u5e38\u6d89\u53ca\u7684\u662fI/O\u64cd\u4f5c</p> <p>\u8bb0\u4f4fprocess.nextTick\u6700\u9760\u524d\uff0c\u5728\u6bcf\u4e2a\u9636\u6bb5\u4e2d\u95f4\u90fd\u4f1a\u68c0\u67e5\uff08process.nextTick()\u662fnode\u65e9\u671f\u7248\u672c\u65e0setImmediate\u65f6\u7684\u4ea7\u7269\uff0cnode\u4f5c\u8005\u63a8\u8350\u6211\u4eec\u5c3d\u91cf\u4f7f\u7528setImmediate\u3002\uff09\uff1b</p> <p>immediate\u6bd4timeOut\uff1a\u6b63\u5e38\u60c5\u51b5\u4e0b\u4e0d\u786e\u5b9a\uff1bI/O\u6d41\u7a0b\u5199immediate\u8981\u63d0\u524d\u6267\u884c</p> <p>\u539f\u6587\u6587\u6863\uff1ahttps://nodejs.org/de/docs/guides/event-loop-timers-and-nexttick/</p> <p>\u5bf9\u5e94\u5f88\u597d\u7684\u8ba8\u8bba\uff1ahttps://cnodejs.org/topic/57d68794cb6f605d360105bf</p>"},{"location":"Langs/NodeJS/#clusterworker","title":"cluster\u3001worker \u76f8\u5173","text":""},{"location":"Langs/NodeJS/#cluster","title":"cluster","text":"<ul> <li>One process is launched on each CPU and can communicate via IPC. \u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u5355\u72ec\u7684 nodejs \u8fdb\u7a0b.</li> <li>Each process has it's own memory with it's own Node (v8) instance. Creating tons of them may create memory issues.</li> <li>\u4f7f\u7528\u573a\u666f\uff1aGreat for spawning many HTTP servers that share the same port b/c the ~~master~~ main process will multiplex the requests to the child processes.</li> <li>\u4f7f\u7528\u65b9\u5f0f\uff1a\u540c<code>child_process.fork()</code></li> </ul>"},{"location":"Langs/NodeJS/#worker-threads","title":"Worker threads","text":"<ul> <li>One process total</li> <li>Creates multiple threads with each thread having one Node instance (one event loop, one JS engine). \u6240\u4ee5\u5b9e\u9645\u4e0a\uff0c\u662f v8 isolate \u7684.</li> <li>Shares memory with other threads (e.g. <code>SharedArrayBuffer</code>), \u6216\u901a\u8fc7 MessagePort \u901a\u4fe1</li> <li>\u4f7f\u7528\u573a\u666f\uff1aFor CPU intensive/long-running tasks like processing data or accessing the file system. \u4f46\u662f \u4e0d\u8981\u7528\u6765\u5904\u7406 io \u54e6\uff08Workers (threads) are useful for performing CPU-intensive JavaScript operations. They do not help much with I/O-intensive work. The Node.js built-in asynchronous I/O operations are more efficient than Workers can be.--- e.g. \u5fae\u670d\u52a1\u95f4\u8bf7\u6c42 \u56e0\u53ea\u7528\u8017\u65f6 \u4e0d\u7528\u8017\u529f \u6240\u4ee5\u4e5f\u5c5e\u4e8e I/O \u8303\u7574\uff09</li> </ul>"},{"location":"Langs/NodeJS/#process-vs-thread","title":"process v.s. thread","text":"<p>\u5e38\u89c1\u7684\u6709\u4ee5\u4e0b\u51e0\u4e2a\u8bef\u533a\uff1a</p> <ul> <li> <p>process \u548c thread \u4e00\u5b9a\u4f1a\u63d0\u9ad8\u6548\u7387 - \u90fd\u662f\u4efb\u52a1\u6570&gt;\u6838\u6570\u7684\u60c5\u51b5\u4e0b\u5e76\u53d1\uff0c\u5426\u5219\u5e76\u884c\u3002\u80fd\u591a\u7528\u6838\u7684\u60c5\u51b5\u4e0b\u4e00\u5b9a\u4f1a\u63d0\u9ad8\u6548\u7387\uff0c\u5426\u5219\u53ea\u662f\u5e73\u5747\u5206\u914d\u4e86\u65f6\u95f4\u3002</p> </li> <li> <p>\u8001\u751f\u5e38\u8c08\u7684\uff0cNodejs \u662f\u591a\u7ebf\u7a0b\u6216\u5355\u7ebf\u7a0b\uff1f- Precisely, Node.js runs JS code in a single thread, \u4f46\u662f node.js \u672c\u8eab\u662f multithreaded.</p> </li> <li> <p>cpu-intensive \u4f7f\u7528 promise \u662f\u5426\u53ef\u4ee5 offload \u6389\uff1f- \u4e0d\u53ef\u4ee5\u3002\u56e0\u4e3a i/o operations \u6709\u6548\u7387\u7684\u672c\u8d28\u662f\u300cmake use of Node.js hidden libuv threads, which CPU-bound tasks do not\u300d.</p> </li> </ul> <p>\u975e\u5e38\u597d\u7684 refs:</p> <ul> <li>How To Use Multithreading in Node.js | DigitalOcean</li> <li>Single thread vs child process vs worker threads vs cluster in nodejs</li> </ul>"},{"location":"Langs/NodeJS/AdvancedConcepts/","title":"AdvancedConcepts","text":"<p>\u8bfe\u7a0b\u5730\u5740</p>","tags":["Course"]},{"location":"Langs/NodeJS/AdvancedConcepts/#eng","title":"Eng","text":"<p>The internals of NodeJS</p> <p>Find where its implemented in the Node source code</p> <p>takes in parameters</p> <p>scroll back to the top</p> <p>translate it to the C++ equivalents</p> <p>To clearify A very common misconception about xx</p> <p>from time to time...\u65f6\u4e0d\u65f6\u7684</p> <p>we're going to eventually..</p> <p>give us a better sense in .. // \u6709\u66f4\u597d\u7684\u610f\u8bc6</p> <p>we can get access to,,</p> <p>There are some corner cases to be aware of..</p> <p>concrete reslut</p> <p>thats what you might think..</p>","tags":["Course"]},{"location":"Langs/NodeJS/AdvancedConcepts/#notes","title":"notes","text":"<ul> <li>Javascript -&gt; Node JS(50% js 50%c++) -&gt; V8(70%JS+30%C++) + libuv(100%C++)</li> </ul> <p>In another saying, V8 is used to interpret and execute JS code, while libuv is used for accessing the file sysytem and some aspects of concurrency.</p> <ul> <li>Module implementations - e.g. 'crypto' library</li> </ul> <p>Node source code:</p> <ul> <li> <p>lib folder: JS definition for modules [\u901a\u8fc7 process.binding('crypto')\u8fd9\u9053 bridge]</p> </li> <li> <p>src folder: (c++ implementations) node_cryto.cc --- kind of bind its function to the environment</p> <p>using v8::Context;</p> <p>using v8::Local;</p> <p>...</p> <p>// importing the c++ definitions of javascript definitions</p> <p>Uv_work_t*</p> <p>libuv is used for a lot of concurrency</p> </li> </ul>","tags":["Course"]},{"location":"Langs/NodeJS/AdvancedConcepts/#threads","title":"threads","text":"<ul> <li> <p>\u8fdb\u7a0b process: A process is an instance of a computer program that is being executed within a single process.</p> </li> <li> <p>\u7ebf\u7a0b thread: OS Scheduler has to decide which thread should be processed</p> </li> <li> <p>A: How to improve the rate at which these threads being processed?</p> </li> </ul> <p>Q: 1. Add in additional CPU cores to our machine. 2. Allow our OS scheduler to detect big pauses in processing time due to expensive input and output operations.</p> <p>The thing to keep in mind is that any time our computer tries to read data off of some type of medium, like a hard drive, we refer to that as input or output operations, and it always takes some non-zero amount of time.</p> <ul> <li> <p>\u4e00\u4e2a Node Program \u4e00\u4e2a Thread --&gt; Every time the event loop runs in a node application is called a tick</p> </li> <li> <p>A: Under what conditions, a node program may be held from exiting?</p> </li> </ul> <p>Q: 1. Any pending setTimeout, setInterval, setImmediate. 2. Any pending OS tasks (Like server listening to port) 3. Ant pending long running operations (Like fs module)</p> <ul> <li>A: Is Node signle thread?</li> </ul> <p>Q: Node Event Loop: Single ~</p> <p>some modules' C++ side + libuv: Not single ~ They use thread pool (by default 4 threads) to do the work</p> <p></p> <p>Normally 1s a time. Notice that the fourthest ones take double time while fifth one takes 1 additional second.</p> <p></p> <ul> <li>A: What function in node std library use the threadpool?</li> </ul> <p>Q: All 'fs' function.     Some crypto stuff. Etc.</p> <ul> <li>\u5bf9\u4e8e\u4e00\u4e9b\u66f4\u5e95\u5c42\u7684\u6a21\u5757\uff0c\u6bd4\u5982 https \u5c31\u662f libuv \u76f4\u63a5\u4ee3\u7406 os \u7684\u8c03\u7528\uff0c os \u6709\u591a\u6838\u7684\u8bdd\u5c31\u5f53\u7136\u4e5f\u662f\u591a\u7ebf\u7a0b\u7684</li> </ul> <p></p> <p>\u6574\u4f53 node \u8fd0\u884c\u56fe\u4f8b\uff1a</p> <p></p> <p> \u4e8b\u4ef6\u5faa\u73af\u9700\u8981\u7ecf\u5386 6 \u4e2a\u9636\u6bb5\uff0c\u7edf\u79f0\u4e3a\u4e00\u4e2a tick. </p> <ul> <li>timers\uff1a\u8fd9\u4e2a\u9636\u6bb5\u6267\u884c\u5b9a\u65f6\u5668 setTimeout() \u548c setInterval() \u7684\u56de\u8c03\u51fd\u6570\u3002</li> <li>pending callbacks\uff1a\u51e0\u4e4e\u6240\u6709\u5176\u4ed6\u56de\u8c03\uff08\u9664\u4e86 close \u56de\u8c03\u3001\u5b9a\u65f6\u5668 timers \u9636\u6bb5\u7684\u56de\u8c03\u548c setImmediate()\uff09</li> <li>idle, prepare: \u4ec5\u5728\u5185\u90e8\u5e94\u7528\u3002</li> <li>poll\uff1a\u68c0\u7d22\u65b0\u7684 I/O \u4e8b\u4ef6\uff1b\u9002\u5f53\u65f6 Node \u5c06\u5728\u6b64\u5904\u963b\u585e\u3002</li> <li>check\uff1asetImmediate() \u56de\u8c03\u51fd\u6570\u5c06\u5728\u8fd9\u91cc\u6267\u884c\u3002</li> <li>close callbacks: \u4e00\u4e9b\u51c6\u5907\u5173\u95ed\u7684\u56de\u8c03\u51fd\u6570\uff0c\u5982\uff1asocket.on('close', ...)\u3002</li> </ul> <p>\u8fd9\u4e00\u8282\u5173\u4e8e The internals of Node \u4f5c\u8005\u8bb2\u4e86\u4e00\u4e9b\u5f88\u6709\u8da3\u7684\u4e1c\u897f\uff01</p> <p>\u6bd4\u5982 file \u6a21\u5757 \u548c crypto \u6a21\u5757\u4f1a\u7528 threadpool\uff0c\u5f53\u8c03\u7528\u8fd9\u4e9b\u6a21\u5757\u65f6\uff0c\u5b83\u4eec\u4f1a\u6839\u636e threadpool_size \u7684\u5927\u5c0f\u5206\u7ec4\uff0c\u6309\u7ec4\u540c\u65f6\u5b8c\u6210\u3002\u4f46\u662f file \u6a21\u5757\u8fd8\u9700\u5355\u72ec\u8ba8\u8bba\uff0c\u6bd4\u5982\u8bfb\u6587\u4ef6\u65f6\u5b83\u9700\u8981\u7b49 HD \u786c\u76d8\u8fd4\u56de\u6570\u636e\uff0c\u6240\u4ee5 file \u4efb\u52a1\u4f1a\u5148\u5360\u7528\u4e00\u4e2a thread\uff0c\u8bf7\u6c42 HD \u6570\u636e\uff0c\u5982\u679c\u8fd8\u6709\u6b63\u5728\u7b49\u5f85 thread \u7684\u4efb\u52a1\uff0cfile \u5c31\u9700\u8981\u8ba9\u51fa thread\uff0c\u6700\u540e\u7b49 threadpool \u91cc\u6709\u7a7a\u95f2 thread \u65f6\u518d\u62ff\u56de thread\uff0c\u53cd\u800c\u4f1a\u663e\u5f97\u300c\u88ab\u5835\u585e\u300d\u4e86\u3002\u6b64\u65f6\u589e\u52a0 threadpool_size \u80fd\u63d0\u5347\u8bfb\u6587\u4ef6\u7684\u5b8c\u6210\u65f6\u95f4\u3002</p> <p>\u800c\u5bf9\u4e8e HTTPS \u6a21\u5757\u800c\u8a00\uff0c\u5b83\u4e0d\u8d70 threadpool\uff0c\u76f4\u63a5\u4ea4\u7531 OS \u7ba1\u7406\uff0c\u6240\u4ee5\u901f\u5ea6\u662f\u6700\u5feb\u7684\u3002</p> <p>Node \u5b98\u65b9\u6587\u6863\u91cc\u4e5f\u6709\u8be6\u5c3d\u7684\u4ecb\u7ecd\uff1a</p> <p>https://nodejs.org/en/docs/guides/dont-block-the-event-loop/</p> <p>https://nodejs.org/en/docs/guides/</p>","tags":["Course"]},{"location":"Langs/NodeJS/AdvancedConcepts/#improving-node-performance","title":"Improving Node Performance","text":"<p>-&gt; \u4e3a\u4e86\u89e3\u51b3\u591a\u4e2a\u8bf7\u6c42\u8fdb\u6765\u65f6\uff0cEvent loop \u91cc\u7684 Single Thread \u5835\u585e\u95ee\u9898</p> <ul> <li>Use Node in 'Cluster' Mode</li> </ul> <p>Clustering in Theory: Cluster Manager: Start multiple Instances of Node Server</p> <p></p> <p>\u901a\u8fc7 cluster.isMaster \u53ef\u4ee5\u5224\u65ad\u8fd9\u4efd node \u662f\u8fd0\u884c\u5728 Cluster Manager\u91cc\u7684\uff0c\u8fd8\u662f\u666e\u901a\u7684 Worker Instance\u91cc\u7684</p> <p>if(cluster.isMaster) {cluster.fork()} else {//do the work}</p> <p>A: \u90a3\u662f\u4e0d\u662f fork \u8d8a\u591a children \u8d8a\u597d\u5462\uff1f</p> <p>Q: \u4e0d\u662f\u7684\uff0c\u5982\u679c children \u592a\u591a\uff0cCPU \u5c31\u9700\u8981(bounce around)\u5e76\u53d1\u5904\u7406\u8fd9\u4e9b\u4efb\u52a1\uff0c\u6bd4\u65b9\u8bf4\u6b63\u5e38\u60c5\u51b5\u4e0b1s\u4e00\u4e2a\u7684\u4efb\u52a1\uff0c6\u4e2a\u4efb\u52a1\u7684\u5b8c\u6210\u65f6\u95f4\u5bf9\u4e8e\u5355\u6838CPU\u4f1a\u9700\u89816s\uff0c\u5bf9\u4e8e\u53cc\u6838\u53ef\u80fd\u9700\u89813s\u3002\u800c\u4e0d\u662f\u8bf46\u4e2a\u4efb\u52a1\u90fd\u53ef\u4ee51s\u5c31\u5b8c\u6210\u5e76\u8fd4\u56de\u3002-----&gt; so cluster.fork()\u7684\u4e2a\u6570\u6700\u597d\u548ccpu\u6838\u6570\uff08\u65e0\u8bba\u662f physical \u7684\u8fd8\u662flogical \u7684, logical\u7684 = physical*\u5355\u4e2a\u7684thread\u6570\uff09\u4fdd\u6301\u4e00\u81f4</p> <p>==\u300bpm2 start index.js -i 0: means that let pm2 to decide the number of cluster</p> <p></p> <ul> <li>Use Worker Threads <code>const { Worker } = require('worker_threads');</code></li> </ul> <p>(nodejs\u91cc\u7684\u5f88\u591a\u4efb\u52a1\u90fd\u7531libuv\u653e\u5728Worker\u91cc\u5b8c\u6210\u7684)</p> <p>\u4e0d\u8fc7\u4f5c\u8005\u7684\u610f\u89c1\u662f\u8fd9\u4e2a\u8fdc\u4e0d\u5982 cluster \u6709\u7528</p>","tags":["Course"]},{"location":"Langs/NodeJS/LearnAndUnderstandNodeJS/","title":"Learn and understand NodeJS","text":"<p>\u8bfe\u7a0b\u5730\u5740</p>","tags":["Course"]},{"location":"Langs/NodeJS/LearnAndUnderstandNodeJS/#notes","title":"Notes","text":"<ul> <li>Microprocessor(a tiny machine) -&gt; which accept instructions\uff08IA-32 X86-64 ARM MIPS\uff09-&gt; which accept different Machine Code/Language\uff08programming languages spoken by computer processors\uff09-&gt; Assembly Language -&gt; C/C++ -&gt; Javascript</li> <li>Node itself is written in C++, cause V8 (the thing that compiles js into machine code) is written in C++</li> <li>ECMASCRIPT is the standard (that how the language should work) js is based on since there're many engines, and V8 is just one of many js engines. \u6240\u4ee5\u5982\u679c\u4f60\u8981\u5199 js \u5f15\u64ce\uff0c\u5c31\u8981\u53c2\u8003 ecma \u89c4\u5219\u5566\uff01</li> <li>A javascript engine: A program that converts js code into something the computer processor can understand. And it should follow the ECMAScript standard on how the language should work and what features it should have.</li> <li>V8: \u63d0\u4f9b\u4e86\u88ab embedded \u5230\u5176\u4ed6 C++ \u7a0b\u5e8f\u91cc\u7684\u529f\u80fd\uff0c\u5e76\u4e14\u6709\u4e00\u4e9b hook\u3002\u6240\u4ee5\u4f60\u751a\u81f3\u53ef\u4ee5\u76f4\u63a5\u7ed9 js \u52a0\u8bed\u6cd5 feature\uff01</li> <li>node is basically a library and a framework of code</li> <li>Every file written in node is wrapped in a wrapper function, so code can reference' module' and 'require' and these node variables and so on.</li> </ul> <p>And then node exexutes this function</p> <ul> <li>JSON: Javascrpt object notation \u2014 A standard that is inspired by js object literals</li> <li>Events: System Event(c++ core libuv) =&gt; Custom Events(Event emitter)</li> <li>Class: Syntax sugar</li> <li>Node \u7684 Async \u5728\u4e8e v8 \u91cc\u7684 js \u4ee3\u7801\u53ef\u4ee5\u548c libuv \u91cc\u7684 io \u64cd\u4f5c\u540c\u6b65\u6267\u884c</li> </ul> <p></p> <ul> <li> <p>Buffer: A temporary holding spot for data being moved // intetntionally limited in size -&gt; gather some data and move alone</p> </li> <li> <p>Streams: A sequence of data made available over time\uff08\u8fb9\u770b\u7535\u5f71\u8fb9\u7f13\u51b2\uff09</p> </li> <li> <p>Character Set: A Representation of characters as numbers.</p> </li> <li> <p>Character Encoding: how many bits to store character set(the number of the character, e.g. Unicode) and the rule to store them. \uff08\u533a\u5206 character set \u4e0e character encoding\uff09</p> </li> </ul> <pre><code>\n  var buffer = new ArrayBuffer(8);\n  var view = new Int32Array(buffer); //es6 typed array\n\n  view[0]=5; view[1]=15;\n\n  view[2]=10 //doesnt work, 'cause int32 means 32bit (4Byte) an array item, and buffer 8 means 8 Byte (or 64 bits), so only two items in Int32Array.\n\n</code></pre> <ul> <li>\u5173\u4e8e sync \u4e0e asnyc \u5982\u679c\u4e00\u4e2a\u7528\u6237\u8bf7\u6c42\u7528 sync\uff0c\u5982\u679c\u591a\u4e2a\u7528\u6237\u8bf7\u6c42\uff08\u5373\u540c\u65f6\u6267\u884c\u591a\u4e2anode \u6587\u4ef6\uff09\u7528 aysnc</li> <li>serialize: translate an object into a format that can be stored or transferred. like JSON, CSV, XML.. // \u8bb0\u4f4f\u4e13\u4e1a\u672f\u8bed\u54e6</li> <li>Routing: mapping http requests to content</li> <li>The largest ecosystem of open code in history - npm</li> <li>\u4ece\u4f20\u7edf\u7684 relational database \u5230 document database: \u786c\u4ef6\u7684\u5b58\u50a8\u6210\u672c\u964d\u4f4e\u4e86 \u6570\u636e\u66f4\u65b0\u7684\u9891\u7387\u548c\u901f\u5ea6\u8981\u6c42\u63d0\u9ad8\u4e86</li> <li>\u518d\u6b21\u5f3a\u8c03\uff0cDOM \u5b9e\u9645\u4e0a\u662f\u5f52\u5c5e\u4e8e\u6d4f\u89c8\u5668\u4e0b\u5c42\u7684\u4e1c\u897f\uff01\u53ea\u662f\u53ef\u4ee5\u88ab js -&gt; c++ \u63a7\u5236\u7f62\u4e86\uff08\u6240\u4ee5\u8fd9\u90e8\u5206\u529f\u80fd\u4e5f\u662f js engine \u7ed9 js \u9644\u52a0\u7684\uff09</li> </ul>","tags":["Course"]},{"location":"Langs/NodeJS/misc/","title":"nodejs","text":""},{"location":"Langs/NodeJS/misc/#source","title":"source","text":""},{"location":"Langs/NodeJS/misc/#timerjs","title":"timer.js","text":"<p>https://github.com/nodejs/node/blob/main/lib/internal/timers.js</p> <p>\u611f\u60f3\uff1a\u54ea\u6015\u662f\u4e00\u4e2a\u300c\u5f88\u7b80\u5355\u300d\u7684\u300c\u5ef6\u8fdf\u300d\u6267\u884c\uff0c\u80cc\u540e\u90fd\u8981\u5305\u62ec\u7b97\u6cd5\u5728\u5185\u7684\u8bf8\u591a\u8003\u91cf\uff0c\u771f\u7684\u5f88\u4e0d\u5bb9\u6613\u963f\u3002\u8fd9\u624d\u80fd\u9020\u5c31\u4e00\u4e2a\u6210\u719f\u7684\u5de5\u5177\u5427\u3002</p>"},{"location":"Langs/NodeJS/misc/#shell","title":"shell","text":"<pre><code>npm config list\n\n# \u66f4\u6362\u6e90\nnpm config set registry https://registry.npm.taobao.org\n</code></pre>"},{"location":"Langs/NodeJS/misc/#solutions","title":"solutions","text":"<p>node.js - How to prevent the NodeJS event loop from exiting? - Stack Overflow: https://stackoverflow.com/questions/39082527/how-to-prevent-the-nodejs-event-loop-from-exiting</p>"},{"location":"Langs/Python/basic/","title":"basic","text":""},{"location":"Langs/Python/basic/#_1","title":"\u8c46\u77e5\u8bc6","text":"<p>\u547d\u540d\u6765\u6e90\u4e8e the BBC show \u201cMonty Python\u2019s Flying Circus\u201d and has nothing to do with reptiles \u54e6\uff01</p>"},{"location":"Langs/Python/basic/#_2","title":"\u5b89\u88c5","text":"<ul> <li>\u5b89\u88c5\u8d85\u65b9\u4fbf\u7684 \u6ce8\u610f python3 \u81ea\u5e26\u4e86 pip3 \u7684\u5305\u7ba1\u7406\u5668</li> <li>\u63d2\u4ef6\uff1apip3 install autopepe8; pip3 install flake</li> </ul>"},{"location":"Langs/Python/basic/#_3","title":"\u8bed\u6cd5","text":"<p>Python \u597d\u7b80\u5355\uff0c\u6240\u4ee5\u76f4\u63a5\u770b\u6587\u6863\u5c31\u633a\u5feb\u7684 https://docs.python.org/3/tutorial/index.html</p> <p>\u7531\u4e8e\u5168\u5c40\u9501 GIL\uff0c\u6240\u4ee5 Python \u7684\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u5728\u540c\u4e00\u65f6\u95f4\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u5728\u8fd0\u884c\uff0c\u56e0\u6b64\u5b83\u53ea\u662f\u5e76\u53d1\uff0c\u800c\u4e0d\u662f\u5e76\u884c\u3002\u8981\u5b9e\u73b0\u5e76\u884c\u7684\u8bdd\uff0c\u8981\u4e48\u4f7f\u7528\u591a\u8fdb\u7a0b\uff0c\u8981\u4e48\u4f7f\u7528 Cython \u7b49\u5e93\u8c03\u7528 C++ \u4ee3\u7801\uff0c\u8981\u4e48\u8fd8\u53ef\u4ee5\u66f4\u6362\u6ca1\u6709 GIL \u7684\u89e3\u91ca\u5668 \ud83e\udd23 Ref</p> <p>p.s. \u8ba1\u7b97\u5bc6\u96c6\u578b vs IO \u5bc6\u96c6\u578b\uff08web\u5e94\u7528\uff09\u7684\u6982\u5ff5</p> <p>\u5173\u4e8e\u6a21\u5757 Python is called as \"battries included.\" \u5c31\u662f\u56e0\u4e3a\u6709\u5f88\u591a\u5185\u5efa\u6a21\u5757</p> <ul> <li>python\u00a0-m\u00a0module\u00a0[arg]\u00a0...</li> </ul>"},{"location":"Langs/Python/basic/#_4","title":"\u5faa\u73af","text":"<ul> <li>for ... in slices / maps.copy().items() / range(5)</li> <li>pass</li> <li>switch/case =&gt; match/case..if x == y</li> </ul>"},{"location":"Langs/Python/basic/#functiondef","title":"function/def","text":"<ul> <li>The default value \u9ed8\u8ba4\u53ea\u4f1a\u88ab\u521d\u59cb\u5316\u4e00\u6b21\uff0c\u56e0\u6b64\u5728 list, dictionary \u6216\u5b9e\u4f8b\u7684\u60c5\u51b5\u4e0b\u4f1a\u88ab\u91cd\u590d\u4f7f\u7528. To avoid:</li> </ul> <pre><code>def f(a, L=None):\n    if L is None:\n        L = []\n    L.append(a)\n    return L\n</code></pre> <ul> <li>\u53c2\u6570\u8fd8\u53ef\u4ee5\u547d\u540d\uff01<ul> <li><code>def pos_only_arg(arg, /):</code></li> <li><code>def kwd_only_arg(*, arg):</code></li> <li><code>def foo(name, **kwds):</code></li> </ul> </li> <li>lambda:</li> </ul> <pre><code>def make_incrementor(n):\n     return lambda x: x + n\n</code></pre>"},{"location":"Langs/Python/basic/#data-structures","title":"Data Structures","text":""},{"location":"Langs/Python/basic/#lists","title":"Lists <code>[]</code>","text":"<ul> <li>list.pop() / popleft()</li> <li>\u5faa\u73af<ul> <li><code>for i, v in enumerate(['tic', 'tac', 'toe']):</code></li> <li>\u540c\u65f6: <code>for q, a in zip(questions, answers):</code></li> </ul> </li> <li>\u5feb\u901f create</li> </ul> <pre><code>squares = list(map(lambda x: x**2, range(10)))\nsquares = [x**2 for x in range(10)]\ncombs = [(x, y) for x in [1,2,3] for y in [3,1,4] if x != y] # \u8fd8\u53ef\u4ee5\u8fd9\u4e48\u8fde\uff01\n</code></pre>"},{"location":"Langs/Python/basic/#tuples","title":"Tuples <code>()</code>","text":"<p>immutable</p> <pre><code>empty = ()\nsingleton = 'hello',    # &lt;-- note trailing comma\n</code></pre>"},{"location":"Langs/Python/basic/#sets","title":"Sets <code>{}</code>","text":""},{"location":"Langs/Python/basic/#dictionaries","title":"Dictionaries <code>{}</code>","text":"<ul> <li><code>list(adict)</code></li> <li><code>dict(sape=4139, guido=4127, jack=4098)</code></li> <li><code>for k, v in knights.items():</code> </li> </ul>"},{"location":"Langs/Python/basic/#modules-packages","title":"Modules &amp; Packages","text":"<ul> <li>Module: \u5355\u4e2a\u6587\u4ef6<ul> <li><code>import module0 as m0</code></li> <li><code>from module1 import module_info as mi</code></li> </ul> </li> <li>Package: \u542b\u6709 <code>__init__.py</code> \u7684\u6587\u4ef6\u5939<ul> <li><code>import package1.module0 as p1_m0</code></li> </ul> </li> </ul> <pre><code># __init_.py\n__all__ = [\"echo\", \"surround\", \"reverse\"] # \u4ee5\u652f\u6301 from\u00a0sound.effects\u00a0import\u00a0*\n</code></pre>"},{"location":"Langs/Python/basic/#_5","title":"\u5f02\u5e38","text":"<p>try...raise..except</p>"},{"location":"Langs/Python/basic/#class","title":"Class","text":"<pre><code>class MyClass:\n    \"\"\"A simple example class\"\"\"\n    i = 12345 # static method\n\n    def f(self):\n        return 'hello world'\n\n    def __init__(self, x): # constructor\n        self.data = x \n\nx = MyClass()\n</code></pre>"},{"location":"Langs/Python/basic/#_6","title":"\u5e93\u5927\u5168","text":""},{"location":"Langs/Python/basic/#_7","title":"\u6587\u4ef6\u4e0e\u8def\u5f84","text":"<pre><code>import os\nfrom os import path\nimport shutil\n\n# Path at terminal\nprint(os.getcwd() + \"\\n\")\n\n# file path\nprint(__file__ + \"\\n\")\n\n# full file path\nfull_path = path.realpath(__file__)\nprint(full_path + \"\\n\")\n\n# directory\npath.dirname(full_path)\n\n# dir_name\npath.basename(full_path)\n\n# \u8bfb\u53d6\u76f8\u5bf9\u5f53\u524d\u6587\u4ef6\u7684\u8def\u5f84\npath.realpath(path.join(path.dirname(__file__), '../images'))\n\n# \u590d\u5236\nshutil.copyfile(...)\nshutil.copytree(...)\n</code></pre>"},{"location":"Langs/Python/%E8%B5%84%E6%BA%90%E6%B1%87%E6%80%BB/","title":"\u8d44\u6e90\u6c47\u603b","text":""},{"location":"Langs/Python/%E8%B5%84%E6%BA%90%E6%B1%87%E6%80%BB/#_2","title":"\u770b\u8fc7\u7684\u6559\u6750","text":"<p>learn python the hard way &gt;&gt;&gt;&gt;&gt;&gt; \u8fd9\u4e2a\u592a\u57fa\u7840\u4e86 \u4e0d\u8fc7\u5b66\u4e60\u82f1\u8bed\u8fd8\u4e0d\u9519~</p> <p>dataquest\uff1a\u4e5f\u662f\u4e92\u52a8\u5f0f\u7684\u521d\u7ea7\u6559\u6750 \u53ef\u4ee5\u9009\u62e9python\u5165\u95e8\u540e\u7684\u8def\u7ebf \u7f16\u5199\u5f97\u8fd8\u662f\u5f88\u68d2\u7684\uff01</p> <p>dataquestio/solutions: Solutions for projects.</p> <p>automate the boring stuff\uff1a\u4e00\u672c\u6bd4\u8f83\u5168\u9762\u7684\u6559\u6750</p>"},{"location":"Langs/TypeScript/%E8%AF%AD%E6%B3%95%E8%AE%B0%E5%BD%95/","title":"\u8bed\u6cd5\u8bb0\u5f55","text":"<p>keyof \u4e0e in</p> <pre><code>export type ReducersMapObject&lt;S = any, A extends Action = Action&gt; = {\n  [K in keyof S]: Reducer&lt;S[K], A&gt;\n}\n</code></pre> <p>Never(nothing) \u4e0e unknown(all)</p> <pre><code>T | never \u21d2 T\nT &amp; unknown \u21d2 T\n</code></pre> <p>\u4e09\u76ee\u7ed3\u5408 nerver \u505a\u6821\u9a8c</p> <pre><code>type StateFromReducersMapObject&lt;M&gt; = M extends ReducersMapObject\n  ? { [P in keyof M]: M[P] extends Reducer&lt;infer S, any&gt; ? S : never }\n  : never\n</code></pre> <p>infer: \u63a8\u6d4b\u4e09\u65b9\u7684\u7c7b\u578b</p> <pre><code>type PromiseReturnType&lt;T&gt; = T extends Promise&lt;infer Return&gt; ? Return : T\ntype t = PromiseReturnType&lt;Promise&lt;string&gt;&gt; // string \n</code></pre> <p>\u4e00\u4e9b\u597d\u7528\u7684</p> <pre><code>type A = typeof B;\ntype A = ReturnType&lt;typeof Fn&gt;;\ntype A = {\n  [K in keyof S]: B;\n}\n</code></pre>"},{"location":"Leetcode/1/","title":"1","text":"<p>flat</p> <p>Itratively - iteration:</p> <pre><code>// \u4e0b\u9762\u662f\u6709\u95ee\u9898\u7684\uff0c\u4f30\u8ba1\u662f depth \u662f infinity \u7684\u65f6\u5019\u4f1a\u6b7b\u5faa\u73af\nfunction flat(arr, depth = 1) {\n  // your imeplementation here\n  function innerFlat(arr) {\n    let newArray = [];\n    arr.forEach(item =&gt; {\n      if(Array.isArray(item)) {\n        newArray.push(...item)\n      } else {\n        newArray.push(item)\n      }\n    })\n    return newArray;\n  }\n  for(let i = 0; i &lt; depth; i++) {\n      arr = innerFlat(arr)\n  }\n  return arr\n}\n\n// better\nfunction flat(arr, depth = 1) {\n  let flattened = []\n  let stack = [[arr, depth + 1]]\n\n  while(stack.length) {\n    let [el, currentDepth] = stack.pop()\n    if(Array.isArray(el) &amp;&amp; currentDepth &gt; 0) {\n      for(let item of el) {\n        stack.push([item, currentDepth - 1])\n      }\n    } else {\n      flattened.push(el)\n    }\n  }\n\n  return flattened.reverse()\n}\n</code></pre> <p>recusively - recursion:</p> <pre><code>function flat(arr, depth = 1) {\n   // your imeplementation here\n\n   function innerFlat(arr, depth) {\n     const newArray = [];\n     arr.forEach(item =&gt; {\n       if(Array.isArray(item) &amp;&amp; depth &gt; 0) {\n         newArray.push(...innerFlat(item, depth - 1))\n       } else {\n         newArray.push(item)\n       }\n     })\n     return newArray;\n   }\n   return innerFlat(arr, depth)\n}\n\n// better:\nfunction flat(arr, depth = 1) {\n  // your imeplementation here\n  const res = []\n  arr.forEach(item =&gt; {\n    if (Array.isArray(item) &amp;&amp; depth) {\n      res.push(...flat(item, depth - 1))\n    } else {\n      res.push(item)\n    }\n  })\n  return res\n}\n\n// better:\nfunction flat(arr, depth = 1) {\n  return depth ? \n    arr.reduce((acc, curr) =&gt; {\n      return [...acc, ...(Array.isArray(curr) ? flat(curr, depth - 1) : [curr])]\n    }, []) : arr;\n}\n</code></pre> <p>throttle</p> <pre><code>const throttle = (func, wait, options = {leading: true, trailing: true}) =&gt; {\n  let timer = null\n  let lastContext = null\n  let lastArgs = null\n  return function(...args) {\n\n    // 1. if called within cool time, then store it for later call\n    if (timer !== null) {\n      lastContext = this\n      lastArgs = args\n      return\n    }\n\n    // 2. if other than cool time, execute it\n    if (options.leading !== false) {\n      func.call(this, ...args)\n    } else {\n      // save for trailing call if needed\n      lastContext = this\n      lastArgs = args\n    }\n\n    // 3. set a timeout to clear the cool, time\n    // and run the stored context\n    const timeup = () =&gt; {\n      if (options.trailing !== false &amp;&amp; lastArgs !== null) {\n        func.call(lastContext, ...lastArgs)\n        lastContext = null\n        lastArgs = null\n        timer = setTimeout(timeup, wait)\n      } else {\n        timer = null\n      }\n    }\n\n    timer = setTimeout(timeup, wait)\n  }\n}\n</code></pre> <p>\u8fd9\u91cc\u5f88\u795e\u5947\uff0c\u6211\u4f1a\u89c9\u5f97\u5728 timeout \u91cc\u53c8\u53bb\u8c03\u81ea\u5df1\uff0c \u90a3\u4e0d\u4f1a\u5b50\u5b50\u5b59\u5b59\u65e0\u6b62\u7a77\u5c3d\u5417\u3002\u5176\u5b9e\u51fd\u6570\u786e\u4fdd\u4e86\u8c03\u7528\u518d\u591a\u6b21 throttle \u7684\u8fd4\u56de\u51fd\u6570\uff0c\u91cc\u9762\u53ea\u6709\u4e00\u6b21\u5728\u5faa\u73af\u8c03\u7528 setTimeout\u3002\u5176\u4ed6\u7684\u8fd4\u56de\u51fd\u6570\u53ea\u662f\u6267\u884c\u4e86\u4e0b\u8bb0\u5f55\u5165\u53c2\u548c context \u800c\u5df2\u3002</p> <p>debounce</p> <pre><code>function debounce(func, wait, option = {leading: false, trailing: true}) {\n  // your code here\n  let timeout = null\n  let lastArgs = null\n\n  const startTimeout = () =&gt; {\n    clearTimeout(timeout)\n    timeout = setTimeout(() =&gt; {\n      if(lastArgs &amp;&amp; option.trailing) {\n        func.apply(func, lastArgs)\n      }\n      timeout = null\n    }, wait)\n  }\n\n  return function(...args) {\n    if(option.leading &amp;&amp; !timeout) {\n      func.apply(func, args)\n    } else {\n      lastArgs = args;\n    }\n    startTimeout()\n  }\n}\n</code></pre>"},{"location":"Leetcode/bfe/","title":"bfe","text":""},{"location":"Leetcode/bfe/#js","title":"js","text":""},{"location":"Leetcode/bfe/#implement-jsonstringify","title":"implement JSON.stringify()","text":"<p>https://bigfrontend.dev/problem/implement-JSON-stringify</p> <pre><code>function stringify(data) {\n  if(typeof data === 'bigint') {\n    throw new Error('Do not know how to serialize a BigInt at JSON.stringify');\n  } \n  if(typeof data === 'string') {\n    return `\"${data}\"`;\n  } \n  if(typeof data === 'function') {\n    return undefined;\n  }\n  if(data !== data) {\n    return 'null';\n  }\n  if(data === Infinity) {\n    return 'null';\n  }\n  if(data === -Infinity) {\n    return 'null';\n  }\n  if(typeof data === 'number') {\n   return `${data}`;\n  }\n  if(typeof data === 'boolean') {\n    return `${data}`;\n  }\n  if(data === null) {\n    return 'null';\n  }\n  if(data === undefined) {\n    return 'null';\n  }\n  if(typeof data === 'symbol') {\n    return 'null';\n  }\n  if(data instanceof Date) {\n    return `\"${data.toISOString()}\"`;\n  }\n  if(Array.isArray(data)) {\n    const arr = data.map((el) =&gt; {\n      if (stringify(el) === undefined) return 'null';\n       else return stringify(el);\n    });\n    return `[${arr.join(',')}]`;\n  }\n  if(typeof data === 'object') {\n    const arr = Object.entries(data).reduce((acc, [key, value]) =&gt; {\n      if(value === undefined || stringify(value) === undefined) {\n        return acc;\n      }\n      acc.push(`\"${key}\":${stringify(value)}`);\n      return acc;\n    }, [])\n    return `{${arr.join(',')}}`;\n  }\n}\n</code></pre> <ul> <li>\u5173\u4e8e\u7c7b\u578b\u5224\u65ad\uff0c\u9700\u8981\u7ed3\u5408 typeof \u548c instanceof..</li> <li>Object \u548c array \u91cc\u7684\u8fde\u63a5\uff0c\u6ce8\u610f\u7528 array join \u800c\u4e0d\u662f\u50bb\u50bb\u7684 string +\uff01\u56e0\u4e3a\u8981\u5904\u7406\u7b2c\u4e00\u4e2a\u9017\u53f7\u95ee\u9898</li> </ul>"},{"location":"Leetcode/binarySearch/","title":"binarySearch","text":""},{"location":"Leetcode/binarySearch/#javascript","title":"javascript","text":""},{"location":"Leetcode/binarySearch/#recursive","title":"Recursive","text":"<pre><code>let recursiveFunction = function (arr, x, start, end) {\n\n    // Base Condition\n    if (start &gt; end) return false; // \u6ce8\u610f: &gt; \n\n    // Find the middle index\n    let mid=Math.floor((start + end)/2);\n\n    // Compare mid with given key x\n    if (arr[mid]===x) return true;\n\n    // If element at mid is greater than x,\n    // search in the left half of mid\n    if(arr[mid] &gt; x)\n        return recursiveFunction(arr, x, start, mid-1);\n    else\n\n        // If element at mid is smaller than x,\n        // search in the right half of mid\n        return recursiveFunction(arr, x, mid+1, end);\n}\n</code></pre>"},{"location":"Leetcode/binarySearch/#iterative","title":"Iterative","text":"<pre><code>let iterativeFunction = function (arr, x) {\n\n    let start=0, end=arr.length-1;\n\n    // Iterate while start not meets end\n    while (start&lt;=end){ // \u6ce8\u610f: &lt;= \u8fdb\u5165\uff0c\u5373 start &gt; end \u7684\u53cd\u9762\n\n        // Find the mid index\n        let mid=Math.floor((start + end)/2); // \u2460\u4e0d\u8981\u5199\u6210 (end - start) / 2 + start \u2461\u7ea6\u5b9a\u4fd7\u6210\u7528 floor\n\n        // If element is present at mid, return True\n        if (arr[mid]===x) return true;\n\n        // Else look in left or right half accordingly\n        else if (arr[mid] &lt; x)\n             start = mid + 1; // \u6ce8\u610f\uff1a\u975e start = mid!! \u2460\u5982\u679c mid \u7b97\u51fa\u6765\u7b49\u4e8e start \u7684\u8bdd\uff0c\u4f1a\u9677\u5165\u5faa\u73af \u2461\u5df2\u9a8c\u8bc1\u8fc7 mid &lt; x \u4e0d\u7b26\u5408\uff0c\u6240\u4ee5\u76f4\u63a5\u4ece\u4e0b\u4e00\u4f4d\u5f00\u59cb\n        else\n             end = mid - 1; // \u540c\u4ee5\u4e0a\u6ce8\u610f\n    }\n\n    return false;\n}\n</code></pre>"},{"location":"Leetcode/binarySearch/#_1","title":"\u6269\u5c55","text":"<p>\u6211\u9047\u5230\u4e86\u4f7f\u7528\u4e8c\u5206\u6cd5\u83b7\u53d6\u67d0\u503c val \u5e94\u63d2\u5165\u4f4d\u7f6e\u7684\u60c5\u51b5\uff0c\u6240\u505a\u7684\u989d\u5916\u5904\u7406\u662f:</p> <ul> <li>\u5728\u5faa\u73af\u5f00\u59cb\u5148\u5224\u65ad val \u662f\u5426\u662f\u6700\u5927\u6216\u6700\u5c0f\uff0c\u907f\u514d\u540e\u7eed\u65e0\u8c13\u7684\u4e8c\u5206</li> <li>\u5e94\u8fd4\u56de index, \u6709\u65f6\u9700\u8981\u52a0\u51cf\u4e00\u5904\u7406</li> </ul>"},{"location":"Leetcode/binarySearch/#java","title":"Java","text":"<pre><code>public int runBinarySearchRecursively(int[] sortedArray, int key, int low, int high) {\n    int middle = low  + ((high - low) / 2);\n\n    if (high &lt; low) {\n        return -1;\n    }\n\n    if (key == sortedArray[middle]) {\n        return middle;\n    } else if (key &lt; sortedArray[middle]) {\n        return runBinarySearchRecursively(\n          sortedArray, key, low, middle - 1);\n    } else {\n        return runBinarySearchRecursively(\n          sortedArray, key, middle + 1, high);\n    }\n}\n</code></pre> <pre><code>public int runBinarySearchIteratively(int[] sortedArray, int key, int low, int high) {\n    int index = Integer.MAX_VALUE;\n\n    while (low &lt;= high) {\n        int mid = low  + ((high - low) / 2);\n        if (sortedArray[mid] &lt; key) {\n            low = mid + 1;\n        } else if (sortedArray[mid] &gt; key) {\n            high = mid - 1;\n        } else if (sortedArray[mid] == key) {\n            index = mid;\n            break;\n        }\n    }\n    return index;\n}\n</code></pre>"},{"location":"MachineLearning/resources/","title":"ressources","text":"<p>(72 \u5c01\u79c1\u4fe1 / 46 \u6761\u6d88\u606f) \u4e3a\u4f55\u4e2d\u56fd\u4eba\u8ff7\u604b\u5434\u6069\u8fbe\u7684\u673a\u5668\u5b66\u4e60\u8bfe\uff1f - \u77e5\u4e4e</p>"},{"location":"Misc/AI%20%E9%83%A8%E5%88%86/","title":"AI \u90e8\u5206","text":"<p>\u8d44\u6599\uff1a \u300a\u52a8\u624b\u5b66\u6df1\u5ea6\u5b66\u4e60\u300b \u2014 \u52a8\u624b\u5b66\u6df1\u5ea6\u5b66\u4e60 2.0.0 documentation</p>"},{"location":"Misc/windows/","title":"windows","text":"<ul> <li>\u64cd\u4f5c\u7cfb\u7edf</li> <li>wsl \u53ef\u4f7f\u7528 unbuntu</li> <li>\u5e94\u7528 mac \u5feb\u6377\u952e</li> <li> <p>GitHub - stevenilsen123/mac-keyboard-behavior-in-windows: This AutoHotKey script gets you all the MacOS keyboard shortcuts you love, in Windows!</p> </li> <li> <p>iCloud \u540c\u6b65</p> </li> </ul>"},{"location":"Misc/Fame/blogger/","title":"Blogger","text":"<p>\u6211\u559c\u6b22\u7684\u3001\u6563\u53d1\u7740\u4eba\u683c/\u6280\u672f\u9b45\u529b\u7684\u4eba\u4eec\uff0c\u6392\u540d\u4e0d\u5206\u5148\u540e~</p> <p>\u5356\u6843\u8005 \u5143\u8001\u7ea7IT\u4ece\u4e1a\u8005\u00b7App\u00b7\u521b\u4e1a\u00b7\u6781\u5ba2\u65f6\u95f4</p> <p>\u8ba4\u8bc6\u4ed6\u662f\u56e0\u4e3a\u770b\u4ed6\u7684\u4e0eios\u76f8\u5173\u7684\u535a\u6587\uff0c\u60ca\u89c9\u4f5c\u8005\u7528\u8bcd\u7cbe\u51c6\u4e0d\u6d6e\u5938\uff0c\u53c8\u65e0\u610f\u95f4\u900f\u9732\u4e86\u5199\u7801\u65e0\u6570\u7684\u6280\u672f\u5e95\u8574\u3002\u4e00\u5b9a\u4e0d\u662f\u51e1\u4eba\u3002</p> <p>\u4e00\u770b\u4ecb\u7ecd\uff0c\u300c\u4e03\u5341\u5e74\u4ee3\u751f\u4eba\u300d\u3002\u54c7\uff0c\u6211\u6700\u4f69\u670d\u4ece\u4e1a\u591a\u5e74\u53c8\u4e0d\u83dc\u7684\u6280\u672f\u5927\u4f6c\u4e86\uff01</p> <p>\u518d\u4e00\u770b\u3002\u300c\u73b0\u5728\u6211\u8d70\u4e0a\u4e86\u521b\u4e1a\u7684\u9053\u8def\uff0c\u505a\u4e86\u4e00\u6b3e\u4ea7\u54c1\uff0c\u53eb\u2026\u6781\u5ba2\u65f6\u95f4\u300d\u3002\uff1f\uff1fWhat \u8fd9\u5c31\u662f\u6211\u524d\u4e24\u4e2a\u6708\u521a\u521a\u4e70\u4e86\u8bfe\u7684\u6781\u5ba2\u65f6\u95f4\uff1f\u90a3\u52bf\u5934\u5f88\u4e0d\u9519\u5440\u3002\u4e24\u5e74\u5c31\u5df2\u6210\u4e3a\u6c34\u82b1\u5f88\u5927\u3001\u60f3\u5fc5\u53d8\u73b0\u80fd\u529b\u4e5f\u4e0d\u9519\u7684\u6210\u719f\u4ea7\u54c1\u4e86\uff0c\u786e\u5b9e\u5341\u5206\u8ba9\u4eba\u60ca\u53f9\u3002</p> <p>blog: MacTalk-\u6c60\u5efa\u5f3a\u7684\u968f\u60f3\u5f55</p> <p>\u524d\u7aef\u00b7\u57f9\u8bad</p> <p>blog: https://tylermcginnis.com/blog/</p>"},{"location":"Misc/Fame/blogger/#_1","title":"\u6c60\u5efa\u5f3a","text":""},{"location":"Misc/Fame/blogger/#tyler-mcginnis","title":"Tyler McGinnis","text":""},{"location":"Misc/Fame/githubber/","title":"Githubber","text":"<ul> <li>Jordan W</li> </ul> <p>Facebook\u00b7React\u6700\u521d\u4ee3\u5f00\u521b\u8005</p> <ul> <li>cheng lou </li> </ul> <p>Facebook\u00b7reasonml</p>"},{"location":"Utilities/Vist-a-local-service/","title":"Vist-a-local-service","text":""},{"location":"Utilities/Vist-a-local-service/#you-need","title":"you need","text":"<ul> <li> <p>A server accessible through public IP, installed with FRP-server and Nginx</p> </li> <li> <p>A local server, installed with FRP-client</p> </li> </ul>"},{"location":"Utilities/Vist-a-local-service/#snippets","title":"Snippets","text":"<p>public server</p> <p>frps.ini:</p> <pre><code>  [common]\n  bind_port = $FRPClientPort\n  token = $yourToken\n  ```\n\nNginx conf:\n\n</code></pre> <p>server {    listen 80;    server_name xxx.xxx.com xx.xx.com;</p> <p>gzip on;    gzip_min_length 10k;    gzip_comp_level 5;    gzip_types text/plain application/javascript application/x-javascript text/css text/javascript;    gzip_vary on;    gzip_disable \"MSIE [1-6].\";</p> <p>client_max_body_size 100m;    proxy_buffers 16 1024k;    proxy_buffer_size 1024k;</p> <p>location / {     proxy_set_header Host $host;     proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;     proxy_set_header X-Real-IP $remote_addr;     proxy_pass http://127.0.0.1:$FRPServerPort;    }   }   ```</p> <p>local server</p> <p>frpc.ini:</p> <pre><code>  [common]\n  server_addr = 139.224.186.27\n  server_port = 11000\n  token = Frps@lmhdev.com2017\n\n  [local-macmini-nginx]\n  type = tcp\n  local_port = $LocalServicePort\n  remote_port = 11002\n</code></pre>"},{"location":"Utilities/Vist-a-local-service/#others","title":"others","text":"<p>https://ngrok.com/</p>"},{"location":"Utilities/jenkins/","title":"jenkins","text":""},{"location":"Utilities/jenkins/#pipeline","title":"pipeline","text":"<ul> <li>pull SCM: source code managemnt</li> </ul>"},{"location":"Utilities/jenkins/#jenkins_home","title":"jenkins_home","text":"<ul> <li>workspace: \u53ef\u6e05\u7406</li> <li>jobs: \u5386\u53f2\u4efb\u52a1\uff0c\u53ef\u5220</li> </ul>"},{"location":"Utilities/nginx/","title":"nginx","text":""},{"location":"Utilities/nginx/#_1","title":"\u914d\u7f6e","text":"<p>\u4e00\u822c\u4f1a\u5728 nginx.conf &gt; http \u6a21\u5757\u91cc\u914d\u7f6e <code>include /etc/nginx/conf.d/*.conf;</code></p> <p>\u7136\u540e ./conf.d/ \u91cc\u7684\u914d\u7f6e\u6587\u4ef6\u6309\u5404\u670d\u52a1\u62c6\u5206</p>"},{"location":"Utilities/nginx/#_2","title":"\u666e\u901a\u8f6c\u53d1","text":"<p>Yapi \u7684 conf</p> <pre><code>server {\n\n listen 80;\n server_name yapi.lmhdev.com; # \u8fd9\u91cc\u5982\u679c\u662f ip\uff0c\u4e5f\u8981\u586b\u5199\uff0c\u5426\u5219\u5339\u914d\u4e0d\u4e0a\n\n gzip on;\n gzip_min_length 10k;\n gzip_comp_level 5;\n gzip_types text/plain application/javascript application/x-javascript text/css text/javascript;\n gzip_vary on;\n gzip_disable \"MSIE [1-6]\\.\";\n\n client_max_body_size 15m;\n proxy_buffers 16 1024k;\n proxy_buffer_size 1024k;\n\n auth_basic           \"Administrator\u2019s Area\";\n  auth_basic_user_file /etc/nginx/.htpasswd;\n\n location / {\n  proxy_set_header Host $host;\n  proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n  proxy_set_header X-Real-IP $remote_addr;\n  proxy_pass_request_headers      on; # \u91cd\u8981\uff01\n  # \u5982\u679c\u81ea\u5b9a\u4e49\u8bf7\u6c42\u5934\u672c\u8eab\u6709\u4e0b\u5212\u7ebf_\u7684\uff0c\u5219\u8981\u914d\u7f6e underscores_in_headers on;\n  proxy_pass http://127.0.0.1:4000;\n }\n\n  # \u5176\u4ed6\u8f6c\u53d1\n  # \u8f6c\u53d1\u65f6\u4f1a\u8fde\u5e26\u5339\u914d\u8def\u5f84\u4e00\u8d77\n  location /mw/v1/wx/server/ {\n   proxy_set_header Host $host;\n   proxy_pass http://0.0.0.0:8088;\n  }\n\n  # \u8f6c\u53d1\u65f6\u4ec5\u5e26\u7740\u5339\u914d\u8def\u5f84\u4ee5\u540e\u7684\u90e8\u5206\n  location /mw/v1/wx/server2/ {\n   proxy_set_header Host $host;\n   proxy_pass http://0.0.0.0:8088/; # \u659c\u6760\u52a0 proxy_pass \u8fd9\u91cc\uff01\n  }\n</code></pre>"},{"location":"Utilities/nginx/#basic-auth","title":"basic auth","text":"<p>ref</p>"},{"location":"Utilities/nginx/#_3","title":"\u6d4b\u8bd5","text":"<p>\u4e0d\u786e\u5b9a\u65f6\u6700\u597d\u5148 online \u68c0\u6d4b\u4e0b</p>"},{"location":"Utilities/nginx/#_4","title":"\u542f\u52a8","text":"<p>nginx -s reload</p> <p>nginx: [error] open() \"/opt/homebrew/var/run/nginx/nginx.pid\" failed (2: No such file or directory)</p> <p>\u987e\u540d\u601d\u4e49 \u6ca1\u6709 pid \u8bf4\u660e\u6b64\u65f6\u6ca1\u6709\u6682\u505c\u6216\u542f\u52a8\u7684 nginx\uff0c\u9700\u8981\u91cd\u65b0\u542f\u52a8 <code>nginx</code> \u5373\u53ef</p> <p>p.s. \u82e5 brew start nginx \u62a5\u9519\uff0c\u5219\u53bb nginx \u5b89\u88c5\u76ee\u5f55\u4e0b\u76f4\u63a5\u542f\u52a8 nginx</p> <p>\u5982\u4f55\u5b9a\u4f4d nginx \u5b89\u88c5\u76ee\u5f55\uff1f(\u4ee5\u53ca \u5982\u4f55\u5b9a\u4f4d\u5176\u4ed6\u5e94\u7528\u7a0b\u5e8f\u7684\u5b89\u88c5\u76ee\u5f55)</p> <ul> <li>which nginx</li> <li>brew info nginx</li> <li>nginx -V</li> </ul> <p>brew services start nginx</p> <p>/bin/launchctl bootstrap gui/501 /Users/lmh/Library/LaunchAgents/homebrew.mxcl.nginx.plist --verbose Bootstrap failed: 5: Input/output error Try re-running the command as root for richer errors.</p> <p>\u6ca1\u6709\u770b\u5230\u771f\u6b63\u7684\u62a5\u9519\uff0c\u4f46\u662f\u5927\u6982\u539f\u56e0\u4e00\u822c\u662f\u8ba9 nginx \u76d1\u542c\u4e86\u88ab\u5360\u7528\u7684\u7aef\u53e3\uff08\u9ed8\u8ba4 8080\uff09\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u5e94\u8be5\u662f\u8ba9 nginx \u76d1\u542c 80 \u7684\u3002</p> <p>\u95ee\u9898\u89e3\u51b3\u4e86 \u5e94\u8be5 <code>sudo brew services restart nginx</code> \u4e0d\u52a0 sudo \u7684\u8bdd\uff0cbrew \u4f1a\u81ea\u5df1\u8bd5\u56fe\u8c03\u6574\u5230 8080 \u7aef\u53e3\uff0c\u653e\u5f03\u5bf9 80 \u7684\u7aef\u53e3\u76d1\u542c\u53bb\u3002</p>"},{"location":"Utilities/nginx/#_5","title":"\u5b89\u88c5","text":""},{"location":"Utilities/nginx/#linux","title":"linux","text":"<pre><code>sudo yum update\nsudo yum install nginx\nsudo systemctl status nginx\nsudo systemctl enable nginx\nsudo systemctl start nginx\n</code></pre>"},{"location":"Utilities/nginx/#_6","title":"\u57fa\u7840","text":""},{"location":"Utilities/nginx/#static-server","title":"static server \u9759\u6001\u670d\u52a1\u5668","text":"<pre><code>http {\n\n    # \u5982\u679c\u6ca1\u6709\u663e\u5f0f\u58f0\u660e default server \u5219\u7b2c\u4e00\u4e2a server \u4f1a\u88ab\u9690\u5f0f\u7684\u8bbe\u4e3a default server\n    server {\n        listen 80 default_server;\n        server_name _; # _ \u5e76\u4e0d\u662f\u91cd\u70b9 __ \u4e5f\u53ef\u4ee5 ___\u4e5f\u53ef\u4ee5\n        return 403; # 403 forbidden\n    }\n     server {\n        listen 8080;\n        server_name localhost;\n\n        location / {\n            root /Users/dearvikki/workspace;\n        }\n     }\n}\n</code></pre> <ul> <li>location   autoindex on; //\u53ef\u4ee5\u53bb\u81ea\u52a8\u5339\u914d\u6587\u4ef6\u5939\u4e0b\u7684index.html \u5f53\u7136\u9ed8\u8ba4index\u7684\u503c\u4e5f\u53ef\u4ee5\u6307\u5b9a   index index.htm;   location\u5339\u914d\u89c4\u5219\uff1a</li> </ul> <ul> <li>root v.s. alias   stackoverflow.com   \u524d\u8005\u914d\u7f6e\u65f6\u53ea\u9700\u4e0a\u5c42\u6587\u4ef6\u5939\u5730\u5740\uff0c\u4f1a\u5e26\u7740\u5339\u914d\u5230\u7684\u8def\u5f84\u5339\u914d\uff1b\u540e\u8005\u53ef\u4ee5\u5b9a\u4e49\u5230\u4efb\u4f55\u6587\u4ef6\u6216\u6587\u4ef6\uff0c\u6240\u4ee5\u6211\u66f4\u559c\u6b22\u7528\u540e\u8005</li> <li>error page</li> </ul> <p><code>shell     error_page 404 403 500 503 /error-page.html;     location = /error-page.html {           root /var/www/html;           internal;     }</code></p> <ul> <li>Https \u914d\u7f6e</li> </ul> <p><code>shell   http{   ssl_ciphers EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH;   ssl_protocols TLSv1.1 TLSv1.2;   server {    listen 443 ssl default_server;    listen [::]:443 ssl default_server ;    server_name www.zhihu.com zhihu.com;    ssl_certificate /certs/www.zhihu.com.pem;    ssl_certificate_key /certs/www.zhihu.com-key.pem;    location / {     root /nginx;     autoindex on;     index test.html;    }   }   }</code></p> <p>\u53c2\u8003 https://www.linode.com/docs/web-servers/nginx/enable-tls-on-nginx-for-https-connections/</p> <p>\u81ea\u7b7e\u540d\u8bc1\u4e66\u91c7\u7528mkcert\u5de5\u5177 https://github.com/FiloSottile/mkcert#installation \u8d85\u7ea7\u5feb\u4e50\uff01</p> <p>\u81ea\u5df1\u7528openssl\u751f\u6210\u7684\u8bdd \u5f88\u6709\u53ef\u80fd\u54ea\u91cc\u914d\u7f6e\u4e0d\u5bf9 chrome\u4f1a\u7ed9\u4e0d\u5b89\u5168\u754c\u9762</p> <p>\u5177\u4f53\u5b9e\u73b0\u53ef\u53c2\u8003 https://github.com/loganstellway/self-signed-ssl \u8f83\u6613\u61c2</p> <p>stackoverflow https://stackoverflow.com/questions/43665243/invalid-self-signed-ssl-cert-subject-alternative-name-missing</p>"},{"location":"Utilities/nginx/#proxy-server","title":"proxy server \u4ee3\u7406\u670d\u52a1\u5668","text":"<p>\u4f1a\u53cd\u5411\u4ee3\u7406/\u8f6c\u53d1\u5566\uff01</p> <pre><code>server{\n listen 80;\n server_name localhost;\n location ^~ /permission/ {\n  # /permission/api1\u8f6c\u53d1\u5230\u7684\u662fhttp://127.0.0.1:5000/api1\n  proxy_pass http://127.0.0.1:8888;\n  proxy_redirect default;\n }\n}\n</code></pre> <p>\u5728nginx\u4e2d\u914d\u7f6eproxy_pass\u65f6\uff0c**\u5982\u679c\u662f\u6309\u7167^~\u5339\u914d\u8def\u5f84\u65f6,\u8981\u6ce8\u610fproxy_pass\u540e\u7684url\u6700\u540e\u7684/\uff1a - \u5982\u679cproxy_pass\u672b\u5c3e\u6709\u659c\u6760/\uff0cproxy_pass\u4e0d\u62fc\u63a5location\u7684\u8def\u5f84 - \u5982\u679cproxy_pass\u672b\u5c3e\u65e0\u659c\u6760/\uff0cproxy_pass\u4f1a\u62fc\u63a5location\u7684\u8def\u5f84 \u6bcf\u6b21\u90fd\u8981\u70b9\u5f00\u770b\u4e00\u904d\u624d\u80fd\u626f\u6e05\u695a\uff01\uff01\u751f\u6c14\uff01\uff01\ud83d\ude20 Nginx\u4e2dproxy_pass\u672b\u5c3e\u5e26\u659c\u6760/\u548c\u4e0d\u5e26\u7684\u533a\u522b_nginx\u5e26\u659c\u6760\u548c\u4e0d\u5e26\u659c\u6760-CSDN\u535a\u5ba2</p>"},{"location":"Utilities/nginx/#lua","title":"Lua","text":"<p>\u914d\u5408\u53ef\u5b9e\u73b0\u6d41\u91cf\u5207\u6362\u3001\u7070\u5ea6\u914d\u7f6e\u3001\u670d\u52a1\u70ed\u90e8\u7f72\u7b49</p> <p>How to add Lua scripting power to your NGINX in under one minute - GetPageSpeed</p> <p>lua - Dynamic Nginx upstream based on ngx.var set in access_by_lua_block - Stack Overflow</p> <p>Directives - OpenResty Reference</p> <p>Lua \u8bed\u6cd5\u00b7 OpenResty\u6700\u4f73\u5b9e\u8df5</p>"},{"location":"Utilities/nginx/#n","title":"\u542f\u52a8\u7684 n \u79cd\u59ff\u52bf","text":"<ul> <li>\u76f4\u63a5\uff1a\u8fd0\u884c nginx \u7684 bin</li> <li>systemctl: </li> </ul>"},{"location":"Utilities/proxy/","title":"proxy","text":"<p>\u5173\u4e8e\u6b63\u5411\u548c\u53cd\u5411\uff0c\u6211\u603b\u662f\u5f88\u5bb9\u6613\u6df7\u4e71\u3002</p> <p>\u6b63\u5411\u4ee3\u7406 - node.http-proxy-middleware - \u4ee3\u7406\u8bf7\u6c42\u63a5\u53e3\u5230\u53e6\u4e00\u4e2a\u63a5\u53e3\uff08\u6240\u4ee5\u8fd9\u91cc\u53d1\u51fa\u7684\u8bf7\u6c42\u63a5\u53e3\u8981\u5199\u672c\u5730 localhost:8080/api/xxx \u8fd9\u6837\uff09</p> <p>My situation: \u6d4f\u89c8\u5668\u8bf7\u6c42\u6253\u5230 Charles &gt;&gt; Charles \u53d1 http \u8bf7\u6c42 &gt;&gt; \u5982\u679c\u662f\u672c\u5730 host \u6253\u56de\u672c\u5730 / \u5982\u679c\u662f\u7ebf\u4e0a port \u6253\u5230\u7ebf\u4e0a</p> <p>\u53cd\u5411\u4ee3\u7406 - nginx / charles - \u4ee3\u7406\u8bbf\u95ee\u7684\u7ebf\u4e0a\u9875\u9762\u57df\u540d\u5230\u53e6\u4e00\u4e2a\u672c\u5730\u57df\u540d\uff08\u6240\u4ee5\u8bf7\u6c42\u63a5\u53e3\u5c31\u4f9d\u7136\u53ef\u4ee5\u7528\u7ebf\u4e0a\u63a5\u53e3\uff09</p>"},{"location":"Utilities/proxy/#charles","title":"charles","text":""},{"location":"Utilities/proxy/#mac","title":"Mac","text":""},{"location":"Utilities/proxy/#https","title":"https","text":"<ol> <li>\u4fe1\u4efb\u8bc1\u4e66</li> <li>\u6253\u5f00 charles \u7684 SSL Proxying settings \u5e76\u8bbe\u7f6e  <code>*:*</code></li> </ol>"},{"location":"Utilities/proxy/#_1","title":"\u5fae\u4fe1\u5f00\u53d1\u8005\u5de5\u5177\u8bf7\u6c42\u8f6c\u53d1\u5230\u672c\u5730","text":"<ol> <li>\u5fae\u4fe1\u5f00\u53d1\u8005\u5de5\u5177\u624b\u52a8\u8bbe\u7f6e\u4ee3\u7406</li> <li>\u6253\u5f00 charles \u7684 Tools &gt; Map Remote \u5e76\u8bbe\u7f6e From <code>https://api.xxx.com:443</code> To <code>http://127.0.0.1:xxx</code>, \u622a\u6b62\u76ee\u524d\u4e3a\u6b62\uff0c\u8fd9\u91cc\u53ea\u6709\u663e\u8457\u6307\u5b9a https \u5230 http \u624d\u80fd\u88ab\u8f6c\u6362</li> </ol>"},{"location":"Utilities/proxy/#android","title":"Android","text":"<p>\u5373\u4fbf\u5b89\u88c5\u4e86\u8bc1\u4e66\uff0c\u53ef\u4ee5\u8d70 https \u8fde\u63a5\uff0c\u4f46\u662f charles \u8fd8\u662f\u4e0d\u80fd\u89e3\u9501\u88ab\u52a0\u5bc6\u7684\u8bf7\u6c42\u4f53\u3002\u662f\u56e0\u4e3a\u4eceAndroid7.0\u4ee5\u540e\uff0c\u7cfb\u7edf\u5141\u8bb8\u6bcf\u4e2a\u5e94\u7528\u53ef\u4ee5\u5b9a\u4e49\u81ea\u5df1\u7684\u53ef\u4fe1CA\u96c6\u3002\u6709\u90e8\u5206\u5e94\u7528\u9ed8\u8ba4\u53ea\u4f1a\u4fe1\u4efb\u7cfb\u7edf\u9884\u88c5\u7684CA\u8bc1\u4e66\uff0c\u800c\u4e0d\u4f1a\u4fe1\u4efb\u7528\u6237\u5b89\u88c5\u7684CA\u8bc1\u4e66\u3002\u5bf9\u4e8e\u8fd9\u79cd\u60c5\u51b5\uff0c\u9700\u8981 root\uff0c\u628a\u8bc1\u4e66\u88c5\u5230\u7cfb\u7edf\u8bc1\u4e66\u6240\u5728\u7684\u6587\u4ef6\u5939\u4e0b\u53bb\u3002\u5bf9\u4e8e\u81ea\u5b9a\u4e49\u4e86\u53ef\u4fe1 CA \u96c6\u7684\u5e94\u7528\uff0c\u6bd4\u5982\u5fae\u4fe1 7.0 \u4ee5\u4e0a\uff0c\u53ea\u4fe1\u4efb\u81ea\u5df1\u914d\u7f6e\u7684\u8bc1\u4e66\u5217\u8868\u4e86\u3002</p> <p>ref: - android\u5fae\u4fe1\u5c0f\u7a0b\u5e8fhttps\u6293\u5305\u4e4b\u8def - \u90e8\u5206APP\u65e0\u6cd5\u4ee3\u7406\u6293\u5305\u7684\u539f\u56e0\u53ca\u89e3\u51b3\u65b9\u6cd5</p>"},{"location":"Utilities/%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0/","title":"\u56fe\u7247\u4e0a\u4f20","text":"<p>picGo-Core</p> <p>\u817e\u8baf\u4e91 cos \u7ba1\u7406\uff1a\u4f7f\u7528\u81ea\u52a8\u4e0a\u4f20\u8f6f\u4ef6\u65f6\uff0c\u8bb0\u5f97\u5f00\u5b50\u7528\u6237\u8d26\u53f7\uff0c\u4ec5\u8d4b\u4e88 cos \u53ea\u8bfb\u53ea\u5199\u6743\u5229\u3002</p> <p>\u6388\u6743\u5b50\u8d26\u53f7\u8bbf\u95ee COS </p>"},{"location":"Utilities/Mac/%E8%A3%85%E6%96%B0%E6%9C%BA/","title":"\u88c5\u65b0\u673a","text":""},{"location":"Utilities/Mac/%E8%A3%85%E6%96%B0%E6%9C%BA/#_2","title":"\u7b2c\u4e00\u6b65","text":"<ul> <li>Chrome comes first</li> <li>\u641c\u72d7\u8f93\u5165\u6cd5<ul> <li>fn \u952e\u8bbe\u7f6e\u6210\u5524\u51fa emoji \u7684</li> </ul> </li> <li>\u79d1\u5b66\u4e0a\u7f51\u914d\u7f6e</li> </ul>"},{"location":"Utilities/Mac/%E8%A3%85%E6%96%B0%E6%9C%BA/#_3","title":"\u547d\u4ee4\u884c\u5de5\u5177","text":"<ul> <li>iterm2<ul> <li>zsh-autosuggestions</li> <li>zsh-syntax-highlighting</li> </ul> </li> <li>oh-my-zsh</li> </ul>"},{"location":"Utilities/Mac/%E8%A3%85%E6%96%B0%E6%9C%BA/#_4","title":"\u7f16\u8f91\u5668","text":"<ul> <li>vscode - \u547d\u4ee4\u884c\u6253\u5f00</li> <li>intellij - \u547d\u4ee4\u884c\u6253\u5f00<ul> <li>/usr/local/bin/ij:  ```shell</li> </ul> </li> </ul>"},{"location":"Utilities/Mac/%E8%A3%85%E6%96%B0%E6%9C%BA/#binsh","title":"!/bin/sh","text":"<p>open -na \"IntelliJ IDEA.app\" --args \"$@\" ```</p>"},{"location":"Utilities/Mac/%E8%A3%85%E6%96%B0%E6%9C%BA/#git","title":"git","text":""},{"location":"Utilities/Mac/%E8%A3%85%E6%96%B0%E6%9C%BA/#_5","title":"\u514b\u9686\u9879\u76ee","text":"<ul> <li>\u6ce8\u610f\u9879\u76ee\u5185\u672a\u540c\u6b65\u7684\u914d\u7f6e\u6587\u4ef6</li> </ul>"},{"location":"Utilities/Mac/%E8%A3%85%E6%96%B0%E6%9C%BA/#nodejs","title":"nodejs","text":"<ul> <li>nvm<ul> <li>\u6ce8\u610f nvm \u5728 apple chip \u4e0b\u5b89\u88c5 npm \u65e9\u5148\u7248\u672c\u9700\u8981\u7279\u522b\u5904\u7406</li> </ul> </li> </ul> <pre><code>softwareupdate --install-rosetta\narch -x86_64 zsh\n</code></pre> <ul> <li>.npmrc<ul> <li><code>@\u79c1\u6709\u5305\u6e90:registry=https://npm.pkg.github.com/</code></li> <li><code>registry=https://registry.npmmirror.com/</code></li> </ul> </li> <li>npm login</li> </ul>"},{"location":"Utilities/Mac/%E8%A3%85%E6%96%B0%E6%9C%BA/#go","title":"go","text":"<p><code>export $PATH=~/go/bin:$PATH</code></p> <pre><code>go env -w GOPRIVATE=codeup.aliyun.com\ngo env -w GOPROXY=https://goproxy.cn,direct\n</code></pre> <p>\u79c1\u6709\u5316\u5305\u6e90\u8bbe\u7f6e: - .netrc</p>"},{"location":"Utilities/Mac/%E8%A3%85%E6%96%B0%E6%9C%BA/#java","title":"java","text":"<ul> <li>\u5b89\u88c5 jdk</li> <li>.m2/settings.json \u914d\u7f6e</li> </ul>"},{"location":"Utilities/Mac/%E8%A3%85%E6%96%B0%E6%9C%BA/#_6","title":"\u5176\u4f59\u5fc5\u5907\u8f6f\u4ef6","text":"<ul> <li>navicat</li> <li>Scroll Reverser</li> <li> <p>Alfred</p> <ul> <li>Command+\u7a7a\u683c \u53d6\u6d88\u539f\u6765\u7684\u805a\u7126\u70ed\u952e\uff0c\u6362\u6210 Alfred \u7684</li> </ul> </li> <li> <p>\u5b89\u88c5\u9014\u5f84</p> <ul> <li>github</li> <li>xclient.info</li> </ul> </li> </ul>"},{"location":"Utilities/VSCode/debugger/","title":"debugger","text":""},{"location":"Utilities/VSCode/debugger/#nodejs","title":"nodejs","text":""},{"location":"Utilities/VSCode/debugger/#vscode-launchjson","title":"vscode launch.json","text":""},{"location":"Utilities/VSCode/debugger/#use-inspect","title":"use inspect","text":"<p><code>node --nolazy --inspect-brk ./scripts/jest/jest-cli.js ReactSmoosh</code></p> <p>Then Open chrome://inspect and press \"inspect\"</p>"},{"location":"Utilities/VSCode/debugger/#webapp","title":"WEBAPP","text":"<p>console.log + debugger</p> <p>\u4f7f\u7528 attach \u6a21\u5f0f: <code>/Applications/Google\\ Chrome.app/Contents/MacOS/Google\\ Chrome --remote-debugging-port=9222 --user-data-dir=remote-debug-profile</code></p>"},{"location":"Utilities/git/","title":"index","text":"<ul> <li> <p>\u5408\u5e76\u7b56\u7565\uff0c\u4ee5\u53ca\u5982\u4f55\u663e\u793a\u6709\u51b2\u7a81\u7684\u6587\u4ef6\uff1f</p> <ol> <li>\u5982\u679c\u4e3b\u5206\u652f\u540e\u6709\u63d0\u4ea4\uff0c\u9ed8\u8ba4\u8d70 recursive, \u5373\u4f1a\u4e3b\u52a8\u521b\u5efa\u4e00\u4e2a merge commit; \u5982\u679c\u4e3b\u5206\u652f\u5e76\u65e0\u63d0\u4ea4\uff0c\u9ed8\u8ba4\u8d70 fast-forward\uff0c\u5373\u76f4\u63a5\u6307\u5411\u88ab\u5408\u5e76\u5206\u652f\u7684\u63d0\u4ea4\uff0c\u65e0 merge commit\u3002</li> <li>\u9996\u5148\u4e00\u5b9a <code>git merge --no-ff --no-commit</code>\uff0c<code>no-ff</code> \u786e\u4fdd\u6bcf\u6b21\u5408\u5e76\u4e00\u5b9a\u4f1a\u751f\u6210\u4e00\u4e2a merge request\uff08 fast-foward \u6307\u88ab\u5408\u5e76\u5206\u652f\u662f\u5f53\u524d\u5206\u652f\u7684 descendant \u90a3\u4e48\u5408\u5e76\u65f6\u76f4\u63a5\u5c06 branch pointer \u79fb\u5230\u88ab\u5408\u5e76\u5206\u652f\u4e0a\uff09\uff0c<code>no-commit</code> \u6307\u4e0d\u53d1\u751f\u51b2\u7a81\u7684\u60c5\u51b5\u4e0b\u9875\u4e0d\u4f1a\u81ea\u52a8\u5408\u5e76\u3002\u56e0\u6b64\u7528\u6237\u53ef\u4ee5\u901a\u8fc7 <code>git commit</code> \u7ee7\u7eed\u5408\u5e76\u6216\u8005 <code>git merge \u2014abort</code> \u9000\u51fa\u5408\u5e76(\u867d\u7136\u5728 log \u91cc\u53ef\u4ee5\u770b\u89c1\u88ab merge \u5206\u652f\u7684 log, \u4f46\u662f\u540e\u7eed reset \u65f6\uff0c\u8fd8\u662f reset HEAD~1, \u5373 reset \u6389 merge \u7684\u90a3\u4e00\u4e2a commit \u5373\u53ef)</li> <li>\u6211\u559c\u6b22 git merge --squash -m \"new merge commit\"</li> <li><code>git diff --diff-filter=U --relative</code> U to only include unmerged files, relative to show paths relative to current working directory. \u5982\u679c\u53ea\u60f3\u8981\u663e\u793a\u6587\u4ef6\u540d\uff0c\u52a0\u4e0a <code>\u2014-name-only</code></li> <li>\u6ce8\u610f rebase \u65f6 additional commits \u4f1a\u751f\u6210\u65b0\u7684 hash\uff0c\u4e5f\u5c31\u76f8\u5f53\u4e8e\u91cd\u7f6e\u4e86\u65b0\u7684additional commits</li> </ol> </li> <li> <p>\u8bb2 git \u539f\u7406\u5f88\u597d\u7684\u5e16\u5b50\uff1aGit \u5185\u90e8\u539f\u7406\u56fe\u89e3\u2014\u2014\u5bf9\u8c61\u3001\u5206\u652f\u4ee5\u53ca\u5982\u4f55\u4ece\u96f6\u5f00\u59cb\u5efa\u4ed3\u5e93: https://chinese.freecodecamp.org/news/git-internals-objects-branches-create-repo/#:~:text=%E5%9C%A8%20git%20%E4%B8%AD%EF%BC%8C%E6%96%87%E4%BB%B6%E7%9A%84,%E2%80%94%E2%80%94%E6%95%B0%E6%8D%AE%E7%9A%84%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%B5%81%E3%80%82</p> </li> <li> <p>blob: \u6587\u4ef6\u5185\u5bb9\uff1b Tree\u4e0eCommit\uff1b</p> </li> <li> <p>Head: \u9ed8\u8ba4\u6307\u5411\u5f53\u524d branch \u7684\u6700\u65b0 commit; detached-head: head doesnt belong to a branch</p> </li> <li> <p>Undoing unstaged changes:</p> <ul> <li>checkout: \u5982\u679c+\u6587\u4ef6\u540d\uff0c\u4ee3\u8868\u5207\u5230\u67d0\u6587\u4ef6\u7684\u6700\u8fd1\u63d0\u4ea4\u72b6\u6001\uff08\u5373\u629b\u5f03\u5f53\u524d\u7684\u66f4\u6539\uff09\uff1b+.\u4ee3\u8868\u629b\u5f03\u5f53\u524d\u6240\u6709\u66f4\u6539</li> <li>newer: git restore</li> <li>newer: git clean // remove newly added files</li> </ul> </li> <li> <p>Undoing staged changes:</p> <ul> <li>reset + \u6587\u4ef6\u540d: means copy the latest commited chanage of a file into the staging area. \u9700\u8981\u5148\u628a staging status \u53d8\u4e3a commit \u7684\u72b6\u6001\uff0c\u518d checkout</li> <li>newer: git restore --staged   \u76f8\u5f53\u4e8e\u4e0a\u8ff0 reset <li> <p>git reset</p> <ul> <li> <p>Soft: only reset the head to commit, will leaves all changed files \"Changes to be committed\"</p> </li> <li> <p>mixed: the default action, resets the index but not the working tree.</p> </li> <li> <p>Hard: resets the index and working tree.</p> <pre><code>In other words, --soft is discarding last commit, --mix is discarding last commit and add, --hard is discarding last commit\n</code></pre> </li> </ul> </li>"},{"location":"Utilities/git/#commit","title":"commit","text":"<p>\u5b66\u4f1a\u5206\u533a commit \u5185\u5bb9</p> <ul> <li>Add files to staging: <code>git add file1 file2</code></li> <li>Check to see what you are committing: <code>git status</code></li> <li>Commit: <code>git commit -m \"ss\"</code> or <code>git commit file1 file2 -m \"sss\"</code></li> <li>Accidentally commit the wrong files: <code>git reset --soft HEAD~1</code></li> <li>Unstage the files: <code>git reset</code> -- filename</li> <li>Stash a certain file[s]: <code>git stash push [file]</code></li> <li>Merge last several results: <code>git rebase -i HEAD~n</code> \u6ce8\u610f\uff0c\u5982\u679c\u5982\u679c\u53ea\u6709 2 \u4e2a commit \u7684\u8bdd\uff0c\u9700\u8981 rebase \u5230 root ref</li> </ul>"},{"location":"Utilities/git/#log","title":"log","text":"<ul> <li>log with changes overview: <code>git log --raw</code></li> <li>\u663e\u793a\u67d0\u6587\u4ef6\u6700\u8fd1\u4e24\u6b21\u7684 diff \u5185\u5bb9: <code>git log -p -2 -- filepath</code></li> <li>\u663e\u793a\u67d0\u6587\u4ef6\u5728\u67d0\u4e00 commit \u4e0b\u7684\u5185\u5bb9: <code>git show commit:filepath</code></li> <li>git show \u6897\u6982\u7248: <code>git show --stat commit</code></li> </ul>"},{"location":"Utilities/git/#local-and-remote","title":"local and remote","text":"<ul> <li>git remote add origin xxx: \u8fd9\u91cc\u7684 origin \u5b9e\u9645\u53ea\u662f\u4e00\u4e2a\u540e\u7eed url \u7684 key shorthand, can be any word.</li> <li>git push origin master: \u8fd9\u91cc\u7684 remotes/origin/master \u79f0\u4e3a remote tracking branch</li> <li>git fetch origin(remote branch to remote tracking branch) v.s. git pull origin master // \u540e\u8005\u9700\u8981\u6307\u5b9a tracking branch \u624d\u53ef\u4ee5 merge</li> <li>\u5f53\u51fa\u73b0\uff1aYour branch have diverged, and have 1 and 2 different commits each, respectively. (use \"git pull\" to merge the remote branch into yours) \u65f6\u2026\u8bf4\u660e\u4f60\u7684\u5386\u53f2\u548c\u8fdc\u7aef\u5206\u652f\u7684\u5386\u53f2\u51fa\u73b0\u4e86\u51b2\u7a81(\u6bd4\u5982\u8fdc\u7aef\u5206\u652f\u88ab push --f \u4e86\u4ee5\u540e)\uff0c\u6240\u4ee5</li> <li>merge/rebase \u8fdc\u7aef\u7684: git merge(or rebase) origin/master</li> <li>\u629b\u5f03\u672c\u5730\u5206\u652f\uff0c\u4f7f\u7528\u8fdc\u7aef\u5206\u652f: git reset --hard origin/master</li> <li>git branch --track xxx (remotes/\u53ef\u4ee5\u7701\u7565)origin/xxx</li> <li>local tracking branch -&gt; remote tracking branch -&gt; remote branch</li> <li>git branch -vv</li> <li>git push -u origin xxx // \u8fd9\u91cc -u \u662f\u6307\u7684 upstream</li> </ul>"},{"location":"Utilities/git/cli/","title":"cli","text":""},{"location":"Utilities/git/cli/#login","title":"Login","text":"<ul> <li>Configure Git in your Workspace</li> </ul> <pre><code>git config [--global] user.name \"your_username\"\ngit config [--global] user.email \"your_email_address@example.com\"\ngit config [--global] --list\n</code></pre> <ul> <li> <p>Make SSH Credentials</p> </li> <li> <p>Update Online Github Settings</p> </li> </ul> <p>Copy id_rsa.pub to <code>Account Settings &gt; SSH and GPG Keys</code></p>"},{"location":"Utilities/git/cli/#common-commands","title":"common commands","text":"<pre><code>git config --list\n\ngit remote show origin\n\n# remove cached files\ngit rm --cached &lt;file&gt;\ngit rm -r --cached &lt;folder&gt;\n\ngit rm -r --cached .\ngit add .\ngit commit -am \"Remove ignored files\"\n\n# reset hard a file\ngit checkout -- filename\n</code></pre>"},{"location":"statestreet/%E4%B8%80%E4%BA%9B%E5%85%B3%E4%BA%8E%E5%A4%96%E6%B1%87%E7%9A%84%E7%9F%A5%E8%AF%86/","title":"\u4e00\u4e9b\u5173\u4e8e\u5916\u6c47\u7684\u77e5\u8bc6","text":"<p>Foreign Exchange Rate\uff1a\u5916\u6c47\u6c47\u7387\u662f\u4e00\u4e2a\u56fd\u5bb6\u7684\u8d27\u5e01\u6298\u7b97\u6210\u53e6\u4e00\u4e2a\u56fd\u5bb6\u8d27\u5e01\u7684\u6bd4\u7387\u6216\u6bd4\u4ef7\uff0c\u4e5f\u53ef\u4ee5\u8bf4\u662f\u7528\u4e00\u56fd\u8d27\u5e01\u6240\u8868\u793a\u7684\u53e6\u4e00\u56fd\u8d27\u5e01\u7684\u4ef7\u683c</p> <p>\u4e2d\u95f4\u4ef7\uff1a\u4e2d\u95f4\u4ef7\u5373\u4e70\u5165\u4ef7\u4e0e\u5356\u51fa\u4ef7\u7684\u5e73\u5747\u4ef7\uff0c\u662f\u8861\u91cf\u4e00\u56fd\u8d27\u5e01\u4ef7\u503c\u7684\u91cd\u8981\u6307\u6807\u3002 \u4eba\u6c11\u5e01\u6c47\u7387\u4e2d\u95f4\u4ef7\uff1a\u4ea4\u6613\u4e2d\u5fc3\u6839\u636e\u4e2d\u56fd\u4eba\u6c11\u94f6\u884c\u6388\u6743\uff0c\u6bcf\u65e5\u8ba1\u7b97\u548c\u53d1\u5e03\u4eba\u6c11\u5e01\u5bf9\u7f8e\u5143\u7b49\u4e3b\u8981\u5916\u6c47\u5e01\u79cd\u6c47\u7387\u4e2d\u95f4\u4ef7\u3002</p> <p>interest rate: \u5229\u7387 benchmark interest rate\uff1a\u57fa\u51c6\u5229\u7387 inflation\uff1a\u901a\u8d27\u81a8\u80c0 Benchmark Rate\uff1a\u53c2\u7167\u5229\u7387/\u5e02\u573a\u57fa\u51c6\u5229\u7387 Reference Rate\uff1a A reference rate is an interest rate benchmark used to set other interest rates.</p> <p>\u5356\u51fa\u4ef7 (Ask) \u662f\u5356\u5bb6\u5f53\u524d\u63d0\u4f9b\u7684\u6700\u4f4e\u4ef7\u683c\u3002\u5982\u679c\u4ea4\u6613\u5458\u73b0\u5728\u60f3\u8981\u4e70\u5165\uff0c\u5219\u53ef\u4ee5\u8fd9\u4e2a\u4ef7\u683c\u8d2d\u4e70\u3002 \u4e70\u5165\u4ef7 (Bid) \u662f\u4e70\u65b9\u613f\u610f\u63a5\u53d7\u7684\u5f53\u524d\u6700\u9ad8\u4ef7\u683c\u3002\u5982\u679c\u4ea4\u6613\u5458\u73b0\u5728\u60f3\u8981\u5356\u51fa\uff0c\u5219\u53ef\u4ee5\u8fd9\u4e2a\u4ef7\u683c\u5356\u51fa\u3002 \u5356\u51fa\u4ef7\u603b\u662f\u9ad8\u4e8e\u4e70\u5165\u4ef7\u3002</p>"},{"location":"statestreet/%E5%90%8C%E4%BA%8B%E5%88%97%E8%A1%A8/","title":"\u540c\u4e8b\u5217\u8868","text":"<p>\u5f00\u53d1\uff1a Yingxiang huang \u9ec4\u5e94\u7fd4</p>"},{"location":"what-I-have-read/2020-02-anything/","title":"2020-02-anything","text":""},{"location":"what-I-have-read/2020-02-anything/#vanilla","title":"vanilla","text":"<p>Vanilla  means that  without anything else."},{"location":"what-I-have-read/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3typescript/","title":"\u6df1\u5165\u7406\u89e3 typescript","text":"<p>\u4e2d\uff1ahttps://jkchao.github.io/typescript-book-chinese/#why</p> <p>\u539f\uff1ahttps://basarat.gitbook.io/typescript/</p>"},{"location":"what-I-have-think/%E5%85%B3%E4%BA%8E%E8%A1%A8%E6%A0%BC%E5%90%84%E5%A4%A7%E5%9D%97%E6%95%B0%E6%8D%AE%E6%9D%A5%E6%BA%90%E4%BA%92%E7%9B%B8%E4%BE%9D%E8%B5%96/","title":"\u5173\u4e8e\u8868\u683c\u5404\u5927\u5757\u6570\u636e\u6765\u6e90\u4e92\u76f8\u4f9d\u8d56","text":""},{"location":"what-I-have-think/%E9%93%BE%E5%BC%8F%E8%B0%83%E7%94%A8/","title":"\u94fe\u5f0f\u8c03\u7528","text":""},{"location":"what-I-have-think/%E9%93%BE%E5%BC%8F%E8%B0%83%E7%94%A8/#koa","title":"koa\u7248\u672c","text":"<p>\u6e90\u7801:</p> <pre><code>function compose (middleware) {\n\n  return function (context, next) {\n    let index = -1\n    return dispatch(0)\n\n    function dispatch (i) {\n      if (i &lt;= index) return Promise.reject(new Error('next() called multiple times'))\n      index = i\n\n      let fn = middleware[i]\n      //\u8fd9\u91cc\u7684next\u662f\u8be5\u94fe\u8c03\u7528\u5b8c\u6bd5\u540e\uff0c\u7528\u6237\u53ef\u4ee5\u81ea\u5b9a\u4e49\u7684\u7ed3\u5c3e\u64cd\u4f5c\uff1bso..\u4e5f\u53ef\u4ee5\u6574\u5408\u591a\u4e2a\u94fe\n      if (i === middleware.length) fn = next\n      if (!fn) return Promise.resolve()\n      try {\n        // \u5305\u88c5 Promise.resolve \u4ee5\u9632\u6b62\u5f53\u524d middleware \u8fd4\u56de\u7684\u4e0d\u662f promise\n        return Promise.resolve( fn(context, dispatch.bind(null, i + 1)) );\n      } catch (err) {\n        return Promise.reject(err)\n      }\n    }\n\n  }\n\n this.middleware = [\n  async (ctx, next) =&gt; {\n    console.log('i am func1')\n    // \u8fd9\u91cc\u7684 next \u5c31\u662f\u4e0a\u8ff0\u6e90\u7801\u7684 dispatch(index+1)\uff0c\u6307\u5411\u4e0b\u4e00\u4e2a middleware \u7684\u8c03\u7528\n    await next();\n    // \u4ece\u4e0b\u4e00\u4e2a middleware \u5904\u56de\u6765\n    },\n   async (ctx, next) =&gt; {\n    console.log('i am func2')\n    return 'done'\n    },\n]\n\n  // \u7ec4\u7ec7\u8c03\u7528 middleware\n   const fnMiddleware = compose(this.middleware)\n   fnMiddleware(ctx)\n</code></pre> <p>\u8fd9\u662f\u4e00\u79cd\u6253\u5e73\u7684\u4e3b\u52a8\u8c03\u7528\uff0c\u4e5f\u5c31\u662f\u7ed9\u7528\u6237\u4e00\u7ec4\u51fd\u6570\u5e8f\u5217\uff0c\u7528\u6237\u5728\u6bcf\u4e2a\u51fd\u6570\u5185\u90e8\u53bb\u624b\u52a8\u8c03\u7528\u4e0b\u4e00\u4e2a\u51fd\u6570\u3002 \u597d\u5904\u662f\u6bd4\u8f83\u7b80\u5355\u6d41\u7545\uff0c\u7528\u6237\u53ef\u4ee5\u5728\u8c03\u7528\u524d\u540e\u505a\u4e00\u4e9b\u4e8b\u60c5\uff0c\u5b9e\u73b0\u6d0b\u8471\u6a21\u578b\u3002</p>"},{"location":"what-I-have-think/%E9%93%BE%E5%BC%8F%E8%B0%83%E7%94%A8/#redux","title":"Redux\u7248\u672c","text":"<p>\u505a\u4e86\u4e00\u4e9b\u5220\u51cf~</p> <p>\u6e90\u7801:</p> <pre><code>function compose (middleware) {\n  return middleware.reduce((a, b) =&gt; (...args) =&gt; a(b(...args)))\n}\n\n// \u7ec4\u7ec7\u8c03\u7528 middleware \u8fd9\u91cc\u771f\u5b9e\u7684 store.dispatch \u4f1a\u4f5c\u4e3a\u4e0a\u4e00\u884c\u7684 ...args \u4f20\u5165\nconst applyMiddleware = (middlleware) =&gt; compose(middleware)(store.dispatch)\nconst dispatchEnhancer = applyMiddleware([\n    next =&gt; action =&gt; {\n      // next \u662f\u4e0b\u4e00\u4e2a middleware\n      console.log('func1');\n      return next(action);\n    },\n    next =&gt; action =&gt; {\n      console.log('func2', next, action);\n      return next(action);\n    },\n  ])\n\ndispatchEnhancer(reducer)\n</code></pre> <p>\u628a\u7b2c\u4e00\u884c\u7684 reduce \u62c6\u5206\u5f00\u6765:</p> <pre><code>return middleware.reduce((acc, curr) =&gt; {\n  const result = curr(...args);\n  return acc(result);\n})\n</code></pre> <p>\u6ce8\u610f\u4e00\u65e6\u4f7f\u7528 reduce \u8fd9\u6837\u5b50\u7684 chainnable \u5f62\u5f0f\uff0creturn \u7684\u4e00\u5b9a\u662f\u4e00\u4e2a\u51fd\u6570\u3002</p>"},{"location":"work/oracle%E6%93%8D%E4%BD%9C%E4%B8%80%E8%A7%88/","title":"oracle\u64cd\u4f5c\u4e00\u89c8","text":"<p>\u67e5\u770b\u7248\u672c\uff1a <code>SELECT * FROM V$VERSION;</code> // 11g</p> <p>list \u51fd\u6570\uff1a</p> <pre><code>SELECT * FROM all_objects WHERE OBJECT_TYPE IN ('FUNCTION','PROCEDURE','PACKAGE')\n\nand object_name = 'BASE64ENCODE'\n\n-- DROP PROCEDURE BASE64ENCODE\n</code></pre> <p>\u8fc7\u7a0b</p> <pre><code>SELECT * FROM all_procedures WHERE OBJECT_TYPE IN ('FUNCTION','PROCEDURE','PACKAGE') \n</code></pre> <p>\u6240\u6709</p> <pre><code>SELECT * FROM ALL_OBJECTS WHERE OBJECT_TYPE IN ('FUNCTION','PROCEDURE','PACKAGE')\n</code></pre> <pre><code>select judgmentattachment, BASE64ENCODE(judgmentattachment) base64string from t_law_civilcaseinfo where rownum &lt; 2;\n</code></pre>"},{"location":"work/%E4%B8%AD%E5%A4%A9%E4%BF%A1%E6%81%AF%E5%8C%96%E6%AD%A3%E5%BC%8F%E8%B4%A6%E5%8F%B7/","title":"\u4e2d\u5929\u4fe1\u606f\u5316\u6b63\u5f0f\u8d26\u53f7","text":""},{"location":"work/%E4%B8%AD%E5%A4%A9%E4%BF%A1%E6%81%AF%E5%8C%96%E6%AD%A3%E5%BC%8F%E8%B4%A6%E5%8F%B7/#ztemas-pc-oa","title":"ztemas-pc\uff1a\u534f\u540c\u5e73\u53f0 / OA\u7684\u96c6\u56e2\u89c6\u89d2","text":"<p>\u767b\u5f55\u5730\u5740\uff1ahttp://ztit.zjzhongtian.com:1122/main.html \u8d26\u53f7\uff1a - \u8d85\u7ba1\uff1aadmin / Admin@zjzt240202 - \u8bb8\u5141\u7eaf\u7684\u8d26\u53f7\uff1a\u8bb8\u5141\u7eaf / 173766</p> <p>\u5982\u679c\u662f\u9879\u76ee\u89c6\u89d2\uff08http://ztit.zjzhongtian.com:1122/pm-main.html\uff09\uff0c\u4e00\u822c\u90fd\u662f\u95ee\u5230\u9879\u76ee\u5458\u5de5\u7684\u8d26\u53f7\uff0c\u518d\u7528\u5458\u5de5\u8d26\u53f7\u8fdb\u884c\u767b\u5f55\ud83d\ude02</p>"},{"location":"work/%E4%B8%AD%E5%A4%A9%E5%AF%B9%E6%8E%A5%E4%BA%8B%E5%AE%9C/","title":"\u4e2d\u5929\u5bf9\u63a5\u4e8b\u5b9c","text":""},{"location":"work/%E4%B8%AD%E5%A4%A9%E5%AF%B9%E6%8E%A5%E4%BA%8B%E5%AE%9C/#ztemas-pc-oa","title":"ztemas-pc\uff1a\u534f\u540c\u5e73\u53f0 / OA","text":"<p>\u7ebf\u4e0a\uff1a http://ztit.zjzhongtian.com:1122/main.html admin / Admin@zjzt240202 \u8bb8\u5141\u7eaf / 173766</p> <p>\u6d4b\u8bd5\uff1a http://47.110.238.59:8090/ admin / test8801 \u6570\u636e\u5e93\uff1a\u6211\u6709</p> <pre><code>172.16.72.41\n=&gt;\n47.110.238.59\n</code></pre> <p>\u96c6\u56e2\u7684\u4eba\uff08ZTJS00\u3001ZTJSZB\uff09\u548c\u533a\u57df\u7684\u4eba \u53f6\u5764</p> <p>\u9879\u76ee\u7ea7\u522b\u7684\u65bd\u5de5\u534f\u540c\uff1a http://ztit.zjzhongtian.com:1122/pm-main.html \uff08\u516c\u53f8\u7684\u4eba\u767b\u5b83\u770b\u9879\u76ee\u6570\u636e\uff09 admin / adminpm2020</p> <p>http://47.110.238.59:8090/pm-main.html admin / 123 \u7528\u6237\u8868(ztpm\u5e93)\uff1at_pm2020_sys_user \u5bc6\u7801\u90fd\u662f 123</p> <p>\u6253\u5305-\u5bfc\u51fa\uff1a\u8981 add directory entries</p>"},{"location":"work/%E4%B8%AD%E5%A4%A9%E5%AF%B9%E6%8E%A5%E4%BA%8B%E5%AE%9C/#ztit-pcoa-","title":"ztit-pc\uff1a\u8001OA - \u4e0d\u8981\u52a8","text":"<p>\u73b0\u5728\u4e3b\u8981\u662f\u770b\u7ecf\u8425\u62a5\u8868\u3001\u5de5\u7a0b\u68c0\u67e5 \u4eceOA\u8df3\u8fc7\u53bb\uff1ahttp://it.zjzhongtian.com:1122/MainView/Report.html \u4e1a\u52a1\u4e2d\u5fc3 &gt; \u7ecf\u8425\u62a5\u8868 \u65bd\u5de5\u534f\u540c &gt; \u57fa\u672c\u4fe1\u606f &gt; \u9879\u76ee\u6982\u51b5\uff08iframe\u5d4c\u5165\u7684\uff09 \uff08\u62ff\u522b\u4eba\u7684\u8d26\u53f7\u767b\u5f55\u6d4b\u8bd5\uff09 ![[Pasted image 20240626134744.png]]</p>"},{"location":"work/%E4%B8%AD%E5%A4%A9%E5%AF%B9%E6%8E%A5%E4%BA%8B%E5%AE%9C/#_2","title":"\u79fb\u52a8\u7aef","text":"<p>node\u7248\u672c\uff1a v8.17.0</p>"},{"location":"work/%E4%B8%AD%E5%A4%A9%E5%AF%B9%E6%8E%A5%E4%BA%8B%E5%AE%9C/#ztemas-h5oa-pad","title":"ztemas-h5\uff1a\u7ea2\u7684OA\uff08\u4e0d\u7528\u4e86\uff09-PAD","text":"<p>http://ztit.zjzhongtian.com:1122/Pad/#/oa2021 \u5148\u767b\u5f55\uff1a\u53ef\u4ee5\u901a\u8fc7 ztemas PC\u7684\u754c\u9762 login</p>"},{"location":"work/%E4%B8%AD%E5%A4%A9%E5%AF%B9%E6%8E%A5%E4%BA%8B%E5%AE%9C/#ztpm-h5-padpm","title":"ztpm-h5\uff1a\u84dd\u7684 \u9879\u76ee\u7ea7\u522b(\u7528\uff09-PadPm","text":"<p>\u540e\u7aef\uff1aPadPm \u5148\u767b\u5f55\uff1ahttp://localhost:8100/#/login \u6d4b\u8bd5\u73af\u5883\uff1a\u674e\u6653\u534e / 123 - \u672c\u5730\u8bf7\u6c42\u8981\u52a0\u4e00\u4e0b\u6d4b\u8bd5\u73af\u5883\u7684\u4ee3\u7801 http://ztit.zjzhongtian.com:1122/PadPm/</p>"},{"location":"work/%E4%B8%AD%E5%A4%A9%E5%AF%B9%E6%8E%A5%E4%BA%8B%E5%AE%9C/#_3","title":"\u95e8\u6237\u7f51\u7ad9","text":"<p>https://zt.zjzhongtian.com/#/login 18201599928 / zt290517</p>"},{"location":"work/%E4%B8%AD%E5%A4%A9%E5%AF%B9%E6%8E%A5%E4%BA%8B%E5%AE%9C/#_4","title":"\u8fdc\u7a0b\u8fde\u63a5","text":"<p>windows\u670d\u52a1\u5668\uff1a47.110.49.183 administrator / ZtZh@2024@07</p> <p>oracle\u6570\u636e\u5e93\uff1a  192.168.0.201:1521:oraaclezt  <code>&lt;property name=\"hibernate.connection.url\"&gt;jdbc:oracle:thin:@192.168.0.201:1521:oraclezt&lt;/property&gt; &lt;!--\u4e3b192.168.0.201 oraclezt   \u5907192.168.0.203 oraztbak--&gt;   &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.Oracle10gDialect&lt;/property&gt;   &lt;property name=\"hibernate.connection.username\"&gt;ztit&lt;/property&gt;   &lt;property name=\"hibernate.connection.password\"&gt;ztf53zj71&lt;/property&gt;</code></p>"},{"location":"work/%E4%B8%AD%E5%A4%A9%E6%8A%A5%E8%A1%A8/","title":"\u4e2d\u5929\u62a5\u8868","text":"<p>\u63a5\u53e3\u5730\u5740\u5217\u8868\uff1aWebRoot/WEB-INF/struts-config.xml</p>"},{"location":"work/%E4%B8%AD%E5%A4%A9%E6%8A%A5%E8%A1%A8/#_2","title":"\u4e1a\u52a1","text":"<p>ReportManage.panel.BusinessMainPanel \u4e1a\u52a1\u6e05\u5355\u6309\u94ae\uff1a</p> <pre><code>{  \n       itemId: 'reportGrid',  \n         text: '\u4e1a\u52a1\u6e05\u5355',  \n         cls: 'button_pressed',  \n         iconCls : 'acutalmeasure_manage',  \npressed:true,  \n         handler: function(btn) {  \n            var layout = me.down('#businessmaincardpanel').getLayout();  \n            layout.setActiveItem(0);  \n            btn.setPressed(true);  \n            btn.up('#cardchangebuttons').down('#intentionReportGrid').setPressed(false);  \n         }    }\n</code></pre> <p>\u5bf9\u5e94\u8868\u5355\uff1aBusinessReport Controller: BusinessReportController Store: BusinessReportStore \u8868\u5355\u63a5\u53e3\uff1a'../BusinessReport.do?method=getBusinessReportList' - \u8868\u5355\u5217\u8868\uff1acom/zt/reportManage/businessReport/BusinessContractDispatchAction.java\uff1agetBusinessReportList - \u6570\u636e\u5e93\u8868\uff1acom/zt/pm/PMProject.hbm.xml</p> <p>\u9884\u4e0a\u62a5\uff1aaddPre \u4e2d\u6807\u901a\u77e5\u4e66\uff1aaddWinningBid \u65bd\u5de5\u5408\u540c\uff1aaddConstruction</p> <p>\u610f\u5411\u4e1a\u52a1\uff1a intentionReportGrid \u5bf9\u5e94\u8868\u5355\uff1a IntentionBusinessReport</p>"},{"location":"work/%E4%B8%AD%E5%A4%A9%E6%8A%A5%E8%A1%A8/#_3","title":"\u4ea7\u503c","text":"<p>ReportManage.panel.OutputValueReport Controller: OutputValueReportController.js Store: OutputValueStore.js \u63a5\u53e3\uff1a../reportOfOutputValue.do?method=getOutputValue - \u8868\u5355\u5217\u8868\uff1a../reportOfOutputValue.do?method=getOutputValue - com/zt/reportManage/OutputValueDispatchAction.java\uff1agetOutputValue</p> <pre><code>StringBuffer hql = new StringBuffer(\"from OutputValue where 1=1\");  \n//\u4ece\u9879\u76ee\u57fa\u672c\u4fe1\u606f\u8868\u4e2d\u7b5b\u9009\u51fa \u7b26\u5408\u6761\u4ef6\u7684\u9879\u76ee\u7f16\u7801 \u7136\u540e\u5728\u4ea7\u503c\u8868\u4e2d\u7b5b\u9009\u51fa\u8fd9\u4e9b \u4e1a\u52a1\u4ea7\u503c  \nStringBuffer hqlPM = new StringBuffer(\"select projectCode from PMProject where 1=1\");\n</code></pre> <ul> <li>\u6570\u636e\u5e93\u8868\uff1acom/zt/reportManage/OutputValue.hbm.xml</li> </ul>"},{"location":"work/%E4%B8%AD%E5%A4%A9%E6%8A%A5%E8%A1%A8/#_4","title":"\u4ea7\u503c\u521d\u59cb\u5316\uff1a","text":"<p>reportOfOutputValue.do?method=checkIsOutpuValueInit PMProject: \u9879\u76ee\u8868</p> <pre><code>public ActionForward initOutputValue(ActionMapping mapping, ActionForm form,  \n          HttpServletRequest request, HttpServletResponse response) throws Exception {  \n       response.setContentType(\"text/json;charset=utf-8\");  \n       String userId = (String) request.getSession().getAttribute(\"userId\");  \n       String userName = (String) request.getSession().getAttribute(\"userName\");  \n       Session session = null;  \n       Transaction tx = null;  \n       String orgId = request.getParameter(\"orgId\");  \n       Calendar c = Calendar.getInstance();  \n       int year = c.get(Calendar.YEAR);  \n       int month = c.get(Calendar.MONTH)+1;  \n       Date date = new Date();  \n       SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");  \n       try {  \n          session = HibernateClass.getSession();  \n          tx = session.beginTransaction();  \n          List projectCodes= session.createQuery(\"select projectCode from PMProject where (orgId=:orgId or subOrgId=:orgId) and (reportReason!='1' or reportReason is null) \")  \n                               .setParameter(\"orgId\", orgId)  \n                               .list();  \n          if(!projectCodes.isEmpty()){  \n             String inSQL = SqlQuery.getOracleSQLIn(projectCodes, 900, \"projectCode\");  \n             //\u8fd9\u4e9b\u9879\u76ee\u5728\u5f53\u524d\u5e74\u6708\u662f\u5426\u5df2\u6709\u4ea7\u503c\u6570\u636e  \n             Object obj = session.createQuery(\"select count(id) from OutputValue where (\"+inSQL+\") and year=:year and month=:month\")  \n                               .setParameter(\"year\", year)  \n                               .setParameter(\"month\", month)  \n                               .uniqueResult();  \n             int num = Integer.parseInt(obj.toString());  \n             if(num == 0){//\u8be5\u533a\u57df \u5728\u8be5\u5e74\u6708 \u8fd8\u672a\u6709\u4ea7\u503c\u5f55\u5165 \u8fd8\u672a\u521d\u59cb\u5316  \n                List list = session.createQuery(\"from PMProject where (orgId=:orgId or subOrgId=:orgId) and (reportReason!='1' or reportReason is null) \")  \n                      .setParameter(\"orgId\", orgId)  \n                      .list();  \n                int i = 0;  \n                for (Iterator iterator = list.iterator(); iterator.hasNext();) {  \n                   PMProject p = (PMProject) iterator.next();  \n                   Object obj_status = session.createQuery(\"select currentStatus from ProjectStatus where projectCode=:projectCode and currentStatus in(0,1,2,3,6)\")  \n                                     .setParameter(\"projectCode\", p.getProjectCode())  \n                                     .uniqueResult();  \n                   if(obj_status != null){//\u8d22\u52a1\u6e05\u7b97 \u548c\u51b2\u9500 \u72b6\u6001\u7684\u9879\u76ee \u4e0d\u5141\u8bb8\u521d\u59cb\u5316  \n                      int status = Integer.parseInt(obj_status.toString());  \n                      OutputValue ov = new OutputValue();  \n                      ov.setOrgId(p.getOrgId());  \n                      ov.setOrgName(p.getOrgName());  \n                      ov.setSubOrgId(p.getSubOrgId());  \n                      ov.setSubOrgName(p.getSubOrgName());  \n                      ov.setProjectCode(p.getProjectCode());  \n                      ov.setProjectName(p.getProjectName());  \n                      ov.setBuildUnit(p.getBuildUnit());  \n                      ov.setProjectRealyManage(p.getProjectManager());//\u9879\u76ee\u5b9e\u9645\u7ecf\u7406  \n                      ov.setConstructionArea(Float.parseFloat(p.getConstructionArea()+\"\"));//\u5efa\u7b51\u9762\u79ef  \n                      ov.setContractPrice(p.getContractPrice());//\u5408\u540c\u9020\u4ef7  \n//                    ov.setImageProgress(getImageProgress(p.getStatusLevel()));//\u5f62\u8c61\u8fdb\u5ea6 p.getStatusLevel                      ov.setImageProgress(getImageProgressNew(p));//\u5f62\u8c61\u8fdb\u5ea6 p.getStatusLevel                      ov.setActualStartDate(p.getActualStartDate());//\u5b9e\u9645\u5f00\u5de5\u65e5\u671f  \n                      ov.setActualEndDate(p.getActualEndDate());//\u5b9e\u9645\u7ae3\u5de5\u65e5\u671f  \n                      ov.setYear(year);  \n                      ov.setMonth(month);  \n                      ov.setOutputValueOfMonth(0);  \n                      ov.setRecoupFundsOfMonth(0);  \n                      ov.setStatus(status);  \n                      if(status==1){//\u5982\u679c\u662f\u505c\u7f13\u5efa \u5219\u5c06\u539f\u56e0\u548c\u62df\u590d\u5de5\u65e5\u671f\u52a0\u4e0a\u53bb  \n                         List list2 = session.createQuery(\"select reason,startDate from OutputValue where projectCode=:projectCode and status=1 order by reportDate desc\")  \n                                  .setParameter(\"projectCode\", p.getProjectCode())  \n                                  .list();  \n                         if(!list2.isEmpty()){  \n                            Object[] object = (Object[]) list2.get(0);  \n                            ov.setReason(object[0]==null?\"\":object[0].toString());  \n                            ov.setStartDate(object[1]==null?null:sdf.parse(object[1].toString()));  \n                         }                      }                      ov.setProjectCategory(p.getProjectCategory());//\u4e1a\u52a1\u7c7b\u522b  \n                      ov.setReportId(userId);  \n                      ov.setReportMan(userName);  \n                      ov.setReportDate(date);  \n                      session.save(ov);  \n                      //response.getWriter().write(\"{success:1,msg:'Y'}\");  \n                   }else{  \n                      //response.getWriter().write(\"{success:1,msg:'NO'}\");  \n                   }  \n                   i++;  \n                   if(i == 100){  \n                      session.flush();  \n                      i = 0;  \n                   }                }                response.getWriter().write(\"{success:1,msg:'Y'}\");  \n             }else{//\u5df2\u521d\u59cb\u5316  \n                response.getWriter().write(\"{success:1,msg:'N'}\");  \n             }          }else{//\u6ca1\u6709\u9879\u76ee  \n             response.getWriter().write(\"{success:1,msg:'NN'}\");  \n          }\n</code></pre>"},{"location":"work/%E4%B8%AD%E5%A4%A9%E6%8A%A5%E8%A1%A8/#_5","title":"\u505c\u7f13\u5efa\u4e1a\u52a1","text":"<p>float contractPriceOfSuspended = 0;// \u505c\u7f13\u5efa\u4e1a\u52a1\u5408\u540c\u91d1\u989d float contractPriceOfNotStart = 0;// \u505c\u7f13\u5efa\u4e1a\u52a1\u7d2f\u8ba1\u4ea7\u503c\u4e3a0\u7684\u5408\u540c\u91d1\u989d float allOutputValueOfSuspended = 0;// \u505c\u7f13\u5efa\u4e1a\u52a1\u7d2f\u8ba1\u4ea7\u503c float noConstructionOutputValue = 0;// \u672a\u65bd\u5de5\u4ea7\u503c = \u672c\u6708\u505c\u7f13\u5efa\u4e1a\u52a1\u7684\u5408\u540c\u91d1\u989d\u5408\u8ba1-\u672c\u6708\u505c\u7f13\u5efa\u4e1a\u52a1\u7684\u7d2f\u8ba1\u4ea7\u503c</p> <p>\u5408\u540c\u91d1\u989d\uff1a\uff08contractPriceOfSuspended\uff09 \u6240\u6709 status=1 \u7684 contractPrice \u7684\u5408\u96c6 </p> <p>\u672a\u5f00\u5de5\u5408\u540c\u91d1\u989d\uff1a\uff08contractPriceOfNotStart\uff09 outputValueOfMonth\u7684\u9879\u76ee\u7684 contractPrice\u603b\u548c</p> <pre><code>String inSQL = \"select projectCode from OutputValue where (orgId in(:orgIds) and (orgId not in(:excludeOrgList) and subOrgId not in(:excludeOrgList))) \"  \n       + \"and year=:year and month=:month and status=1 and auditStatus='checked'\";  \nString inSQLFor0 = \"select projectCode from OutputValue where projectCode in (\"+inSQL+\") and (year=:year and month=:month or year&lt;:year) and AUDITSTATUS = 'checked'\"       + \" group by projectCode having sum(outputValueOfMonth)=0\";  // \u5f53\u6708\u4ea7\u503c\n\n//\u7edf\u8ba1\u7d2f\u8ba1\u4ea7\u503c\u4e3a0\u7684\u505c\u7f13\u5efa\u4e1a\u52a1\u7684\u5408\u540c\u5408\u4ef7 = \u505c\u7f13\u5efa\u672a\u5f00\u5de5\u5408\u540c\u91d1\u989d  \ntempList = session.createQuery(  \n       \"select orgId,sum(contractPrice) from OutputValue where projectCode in (\"+inSQLFor0+\") \"  \n             + \"and year=:year and month=:month and status=1 and auditStatus='checked' group by orgId\")  \n       .setParameterList(\"excludeOrgList\", excludeOrgList)  \n       .setParameterList(\"orgIds\", orgIdList)  \n       .setParameter(\"year\", year).setParameter(\"month\", month)  \n       .list();\n</code></pre> <p>\u672a\u65bd\u5de5\u4ea7\u503c\uff1a outputValueOfMonth</p> <pre><code>// 3.\u7edf\u8ba1\u505c\u7f13\u5efa\u9879\u76ee\u7684\u7d2f\u8ba1\u4ea7\u503c \u9700\u8981\u5df2\u5ba1\u6838  \ntempList = session.createQuery(\"select orgId,sum(outputValueOfMonth) from OutputValue where projectCode in (\" + inSQL  \n             + \") and (year=:year and month&lt;=:month or year&lt;:year) and auditStatus='checked' group by orgId\")  \n       .setParameterList(\"excludeOrgList\", excludeOrgList)  \n       .setParameterList(\"orgIds\", orgIdList)  \n       .setParameter(\"year\", year).setParameter(\"month\", month)  \n       .list();  \nfor (Iterator iterator = tempList.iterator(); iterator.hasNext();) {  \n    Object[] obj = (Object[]) iterator.next();  \n    String orgId = obj[0].toString();  \n    // \u505c\u7f13\u5efa\u4e1a\u52a1\u7d2f\u8ba1\u4ea7\u503c  \n    float allOutputValueOfSuspended = obj[1] == null ? 0f : Float.parseFloat(obj[1].toString());  \n    map0.put(orgId+\"-allOutputValueOfSuspended\", allOutputValueOfSuspended);  \n}\n</code></pre> <p>\u505c\u7f13\u5efa\u4e1a\u52a1\u5408\u540c\u4ea7\u503c-\u5df2\u65bd\u5de5\u7684\u7d2f\u8ba1\u4ea7\u503c noConstructionOutputValue = contractPriceOfSuspended - allOutputValueOfSuspended;</p> <pre><code>select\u00a0\norgNAme \u6240\u5c5e\u533a\u57df,subOrgName \u6240\u5c5e\u5206\u516c\u53f8,reportYear \u5e74, reportMonth \u6708, projectName \u540d\u79f0,id \u9879\u76ee\u7f16\u7801,\n'' as \u627f\u5efa\u4e3b\u4f53,\nprojectLocationProvince \u7701,projectLocationCity \u5e02, buildUnit \u5efa\u8bbe\u5355\u4f4d, bigCustomShortName \u5ba2\u6237\u540d\u79f0, \nCASE\n    WHEN investType = 'a0' THEN '\u623f\u5730\u4ea7\u4f01\u4e1a\u6295\u8d44'\n    WHEN investType = 'a1' THEN '\u653f\u5e9c\u6295\u8d44'\n    WHEN investType = 'a2' THEN '\u4f01\u4e1a\u6295\u8d44'\n    WHEN investType = 'a3' THEN '\u526a\u529b\u5899'\n    WHEN investType = 'a4' THEN '\u5176\u4ed6'\n  END AS \"\u6295\u8d44\u7c7b\u578b\",\nprojectManager \u9879\u76ee\u7ecf\u6d4e\u8d23\u4efb\u4eba, constructEngineer \u5408\u540c\u5efa\u9020\u5e08, \ncontractStartDate \u5408\u540c\u5f00\u59cb\u65f6\u95f4, contractEndDate \u5408\u540c\u7ed3\u675f\u65f6\u95f4,\nTO_DATE(contractEndDate, 'YYYY-MM-DD') -  \n       TO_DATE(contractStartDate, 'YYYY-MM-DD') AS \u603b\u5de5\u671f,\npublicYesOrNo \u662f\u5426\u516c\u62db\u9879\u76ee, isProjectManageNewModel \u662f\u5426\u9879\u76ee\u7ba1\u7406\u65b0\u6a21\u5f0f,\nCASE\n    WHEN projectManageNewModelType = 'a0' THEN '\u76f4\u8425'\n    WHEN projectManageNewModelType = 'a1' THEN '\u80a1\u4efd\u5236'\n    WHEN projectManageNewModelType = 'a2' THEN '\u5176\u4ed6'\n  END AS \"\u9879\u76ee\u7ba1\u7406\u65b0\u6a21\u5f0f\u7c7b\u578b\",\n\u00a0isEpc \u662f\u5426EPC\u9879\u76ee, \n\u00a0CASE\n    WHEN epcType = 'a0' THEN 'EPC'\n    WHEN epcType = 'a1' THEN '\u8bbe\u8ba1\u65bd\u5de5\u4e00\u4f53\u5316'\n    WHEN epcType = 'a2' THEN '\u5176\u4ed6'\n  END AS \"\u8bbe\u8ba1\u53d1\u5305\u7c7b\u578b\",\n\u00a0 epcDesignName \u8bbe\u8ba1\u5355\u4f4d\u540d\u79f0, \n\u00a0 newBusinessYesOrNo \u662f\u5426\u65b0\u4e1a\u52a1\u9886\u57df,\nnewBusinessType \u65b0\u4e1a\u52a1\u9886\u57df\u7c7b\u578b,\n\u00a0 constractScopeGoal \u627f\u5305\u8303\u56f4, projectIntroduction \u4e1a\u52a1\u7ed3\u6784\n\nfrom t_pm_project\n\nwhere projectCode is not null\n</code></pre>"},{"location":"work/%E5%A4%A7%E5%AE%A2%E6%88%B7/","title":"\u5927\u5ba2\u6237","text":"<p>\u5927\u5ba2\u6237\u5217\u8868\uff1a http://it.zjzhongtian.com:1122/CustomerInformation.do?method=getCustomer&amp;_dc=1722236309750&amp;buildUnit=&amp;page=1&amp;start=0&amp;limit=25 \u6570\u636e\u5e93\uff1at_crm_information</p> <p>\u57fa\u672c\u4fe1\u606f\uff1a getCustomerInformationBasicInfo \u6570\u636e\u5e93\uff1at_crm_informationbasic</p> <p>\u5386\u5e74\u5ba2\u6237\u7c7b\u522b\uff1a http://it.zjzhongtian.com:1122/CustomerInformationVisit.do?method=getCustomerInformationVisit&amp;_dc=1722235943320&amp;parentId=ff80808144633bae0144669bdd1d0115&amp;page=1&amp;start=0&amp;limit=20 \u6570\u636e\u5e93\uff1at_crm_informationvisit</p> <p><code>select year \"\u5e74\u4efd,\u00a0 yesOrNoBigCustomer \"\u662f\u5426\u5927\u5ba2\u6237, shortname \"\u5ba2\u6237\u7b80\u79f0,parentid \"\u5ba2\u6237d\" from t_crm_informationcategory</code></p> <p>\u5ba2\u6237\u5efa\u8bbe\u5355\u4f4d\u5e93\uff1a getCustomerInformationBuildUnit \u6570\u636e\u5e93\uff1at_crm_informationbuildunit <code>select a.id \"\u5efa\u8bbe\u5355\u4f4dd\", a.parentid \"\u5ba2\u6237d\", a.shortname \"\u7b80\u79f0, a.buildunit \"\u5168\u79f0, b.shortname \"\u5ba2\u6237\u7b80\u79f0\u00a0from t_crm_informationbuildunit a left join t_crm_information b on a.parentid = b.id</code></p> <p>\u5e74\u5ea6\u76ee\u6807\uff1a <code>select orgname \"\u516c\u53f8\u540d\u79f0, year \"\u5e74\u4efd, annualTarget \"\u76ee\u6807 from t_report_AnnualObjective where type = 0</code></p>"},{"location":"work/%E5%A4%A7%E5%AE%A2%E6%88%B7/#_2","title":"\u5efa\u9020\u5e08\u5e93","text":"<p>http://it.zjzhongtian.com:1122/cert.do?method=getCertificate \u6570\u636e\u5e93\uff1at_market_certificate</p> <pre><code>public class Certificate {\n    private String id;  \n    private String orgId;  \n    private String orgName;  \n    private String projectManager;//\u9879\u76ee\u7ecf\u7406\u540d\u79f0  \n    private Date birthDay;//\u51fa\u751f\u65e5\u671f  \n    private String title;//\u804c\u79f0  \n    private String profession;//\u5efa\u9020\u5e08\u4e13\u4e1a  \n    private String registerNo;//\u5efa\u9020\u5e08\u6ce8\u518c\u53f7  \n    private String archTel;//\u5efa\u9020\u5e08\u8054\u7cfb\u65b9\u5f0f  \n    private Date getCertDate;//\u53d1\u8bc1\u65f6\u95f4  \n    private String bCertNo;//\u4e09\u7c7b\u8003\u6838B\u8bc1\u7f16\u53f7  \n    private Date bCertExpDate;//B\u8bc1\u5230\u671f\u65f6\u95f4  \n    private String workingProjectName1;//\u5728\u5efa\u9879\u76ee\u540d\u79f0  \n    private String workingProjectName2;  \n    private String workingProjectName3;  \n    private String workingProjectName4;  \n    private String workingProjectName5;  \n    private int workingProjectNumber;//\u5728\u5efa\u9879\u76ee\u6570\u91cf  \n    private String workingProjectName;//\u5728\u5efa\u9879\u76ee\u5b57\u7b26\u4e32  \n    private String isContract;//\u662f\u5426\u7b7e\u8ba2\u5408\u540c  \n    private String isSubmitSecurity;//\u662f\u5426\u7f34\u7eb3\u793e\u4fdd  \n    private String importType;//\u5f15\u8fdb\u65b9\u5f0f  \n    private String isZTStaff;//\u662f\u5426\u4e2d\u5929\u5458\u5de5  \n    private String staffType;//\u5458\u5de5\u7c7b\u578b  \n    private String isFreedom;//\u662f\u5426\u81ea\u7531  \n    private String isLocked;//\u662f\u5426\u9501\u5b9a  \n    private Date freeDate;//\u9884\u8ba1\u89e3\u9501\u65f6\u95f4  \n    private String memo;//\u5907\u6ce8  \n    private Date reportDate;  \n    private String reportMan;  \n    private String projectManagerType;//\u9879\u76ee\u7ecf\u7406\u7c7b\u522b  \n    private String sex;//\u6027\u522b  \n    private String education;//\u5b66\u5386  \n    private String school;//\u6bd5\u4e1a\u9662\u6821  \n    private Date projectYear;//\u4ece\u4e8b\u9879\u76ee\u7ecf\u7406\u65f6\u95f4  \n    //\u4eba\u5458\u8bc1\u4e66  \n    private Blob identityCardAttachment;  \n    private Blob titleCertificateAttachment;  \n    private Blob constructionCertificateAttachment;  \n    private Blob safeWorkCertificateAttachment;  \n    private Blob educationCertificateAttachment;  \n    private String identityCardAttachmentTitle;  \n    private String titleCertificateAttachmentTitle;  \n    private String constructionCertificateAttachmentTitle;  \n    private String safeWorkCertificateAttachmentTitle;  \n    private String educationCertificateAttachmentTitle;  \n    //2017.6.15\u65b0\u589e  \n    private String constructionType; //\u5efa\u9020\u5e08\u7c7b\u522b  \n    private String regionAcrossName;//\u8d1f\u8d23\u533a\u57dfName  \n    private String regionAcrossId;//\u8d1f\u8d23\u533a\u57dfId  \n\n    //2022.11.15\u589e\u52a0\u5b57\u6bb5\uff1a\u5e74\u9f84\u3001\u5b66\u5386\uff08\u5168\u65e5\u5236\u6700\u9ad8\u5b66\u5386\uff09\u3001\u4e13\u4e1a\uff08\u5168\u65e5\u5236\u6700\u9ad8\u5b66\u5386\u4e13\u4e1a\uff09\u3001\u6700\u9ad8\u804c\u79f0\u83b7\u53d6\u65f6\u95f4\u3001\u6700\u9ad8\u804c\u79f0\u83b7\u53d6\u5e74\u9650\u3001\u804c\u79f0\u4e13\u4e1a\uff08\u6309\u8bc1\u4e66\u540d\u79f0\u624b\u586b\uff09\u3001\u6700\u9ad8\u7b49\u7ea7\u5efa\u9020\u5e08\u6ce8\u518c\u65f6\u95f4\u3001  \n    //              * \u6700\u9ad8\u7b49\u7ea7\u5efa\u9020\u5e08\u8bc1\u4e66\u6ce8\u518c\u5e74\u9650\u3001\u3001\u5728\u5efa\u9879\u76ee\u4e2a\u6570\u3001\u7ae3\u5de5\u9879\u76ee\u65f6\u95f4\u3001\u793e\u4fdd\u7f34\u7eb3\u65f6\u95f4\u3001\u793e\u4fdd\u5e74\u9650\u3002  \n\n    private Integer age;//\u5e74\u9f84  \n//  private String education;//\u5b66\u5386\uff08\u5168\u65e5\u5236\u6700\u9ad8\u5b66\u5386\uff09  \n    private String professional;//\u4e13\u4e1a\uff08\u5168\u65e5\u5236\u6700\u9ad8\u5b66\u5386\u4e13\u4e1a\uff09  \n    private Date highestTitleTime;//\u6700\u9ad8\u804c\u79f0\u83b7\u53d6\u65f6\u95f4  \n    private String highestTitleYear;//\u6700\u9ad8\u804c\u79f0\u83b7\u53d6\u5e74\u9650  \n    private String titleMajor;//\u804c\u79f0\u4e13\u4e1a\uff08\u6309\u8bc1\u4e66\u540d\u79f0\u624b\u586b\uff09  \n    private String getCertYear;//\u6700\u9ad8\u7b49\u7ea7\u5efa\u9020\u5e08\u8bc1\u4e66\u6ce8\u518c\u5e74\u9650  \n    private Integer projectUnderWayNum;//\u5728\u5efa\u9879\u76ee\u4e2a\u6570  \n    private Date completedProjectTime;//\u7ae3\u5de5\u9879\u76ee\u65f6\u95f4  \n    private Date socialSecurityTime;//\u793e\u4fdd\u7f34\u7eb3\u65f6\u95f4  \n    private String socialSecurityYear;//\u793e\u4fdd\u5e74\u9650  \n    private String personLocked;//\u4eba\u5458\u662f\u5426\u9501\u5b9a  \n    private String socialSecurityPayer;//\u793e\u4fdd\u7f34\u7eb3\u5355\u4f4d\n}\n</code></pre>"},{"location":"work/%E5%AF%93%E7%9B%9F/","title":"\u5bd3\u76df","text":""},{"location":"work/%E5%AF%93%E7%9B%9F/#_2","title":"\u9000\u79df","text":"<ul> <li>\u6821\u9a8c\uff1a<ul> <li>\u9000\u79df\u65f6\u9632\u6b62\u591a\u6b21\u6d88\u8d39\uff1a\u901a\u8fc7 stringRedisTemplate.opsForValue().setIfAbsent(\"...\")</li> <li>\u5b58\u5728\u4ed8\u6b3e\u4e2d\u7684\u5408\u540c\u8d26\u5355</li> </ul> </li> <li>\u8c03\u7528\u5408\u540c service \u7684 breakRent\uff1a<ul> <li>\u662f\u5426\u652f\u6301\u8fd8\u539f</li> <li>\u9000\u79df\u7c7b\u578b\uff1a\u5982\u679c\u662f\u7eed\u7b7e\uff08\u6709 contractPid\uff09\u5219\u8bbe\u7f6e\u7eed\u7b7e\u7c7b\u578b\uff1b\u6362\u623f..</li> <li>\u662f\u5426\u7ed3\u8d26</li> <li>cont_renter_contract_biz</li> <li>cont_renter_contract_extra</li> </ul> </li> <li>\u7269\u4e1a\u4ea4\u5272\u5904\u7406</li> <li>\u5904\u7406\u8d26\u5355\u660e\u7ec6</li> <li>\u53d1\u8d77\u5ba1\u6279</li> </ul>"},{"location":"work/%E5%AF%93%E7%9B%9F/#_3","title":"\u7535\u8868","text":"<p>paymentmode 1\u9884\u4ed8\u8d39 2\u540e\u4ed8\u8d39</p>"},{"location":"work/%E6%B3%95%E5%8A%A1/","title":"\u6cd5\u52a1","text":"<pre><code>&lt;mapping resource=\"com/zt/legalInfo/criminalCases.hbm.xml\" /&gt;\n&lt;mapping resource=\"com/zt/legalInfo/civilCase.hbm.xml\" /&gt;\n&lt;mapping resource=\"com/zt/legalInfo/civilCaseInfo.hbm.xml\" /&gt;\n&lt;mapping resource=\"com/zt/legalInfo/criminalCasesAttachment.hbm.xml\" /&gt;\n</code></pre> <p>\u6c11\u4e8b\u8bc9\u8bbc\u6848\u4ef6\u5217\u8868\uff1a <code>http://it.zjzhongtian.com:1122/civilCase.do?method=getCivilCase</code> \u8bc9\u8bbc\u8be6\u60c5: <code>http://it.zjzhongtian.com:1122/civilCase.do?method=getCivilCaseByID</code> <code>http://it.zjzhongtian.com:1122/civilCaseInfo.do?method=getCivilCaseInfo</code> \u9644\u4ef6\u7ba1\u7406\uff1a <code>http://it.zjzhongtian.com:1122/civilCaseInfo.do?method=getCivilCaseInfoByID</code> \u91cd\u5927\u6c11\u4e8b\u8bc9\u8bbc\u6848\u4ef6\uff1a <code>http://it.zjzhongtian.com:1122/majorCivilCase.do?method=getCivilCase</code> \u9644\u4ef6\uff1a <code>criminalCases.do?method=getAttachmentListByID</code> <code>http://it.zjzhongtian.com:1122/criminalCases.do?method=getAttachmentByID</code></p>"},{"location":"work/%E6%B3%95%E5%8A%A1/#civilcase","title":"civilCase \u6c11\u4e8b\u6848\u4ef6\u8868","text":"<pre><code>// t_law_civilCase\npublic class CivilCase {  \n\n    private String id;// \u6848\u4ef6id key  \n    private String orgId;// \u7ec4\u7ec7id  \n    @Excel(cellName=\"\u6240\u5c5e\u7ec4\u7ec7\",sortNum=0)  \n    private String orgName;// \u7ec4\u7ec7\u540d\u5b57  \n    private String caseName;// \u6848\u4ef6\u540d\u5b57  \n    @Excel(cellName=\"\u6848\u4ef6\u7c7b\u578b\",sortNum=1)  \n    private String caseType;// \u6848\u4ef6\u7c7b\u578b  \n    @Excel(cellName=\"\u6848\u7531\",sortNum=2)  \n    private String caseReason;// \u6848\u7531  \n    private Date starttime;// \u8d77\u59cb\u65e5  \n    private Date endtime;// \u7ec8\u6b62\u65e5  \n    @Excel(cellName=\"\u6240\u6d89\u9879\u76ee\",sortNum=20)  \n    private String project;// \u6240\u6d89\u9879\u76ee  \n    @Excel(cellName=\"\u9879\u76ee\u7ecf\u7406\",sortNum=24)  \n    private String projectManager;// \u6240\u6d89\u9879\u76ee\u7ecf\u7406  \n    @Excel(cellName=\"\u7ed3\u6848\u65e5\u671f\",sortNum=26,dateFormat=\"yyyy-MM-dd\")  \n    private Date caseFinishTime;// \u7ed3\u6848\u65e5\u671f  \n    @Excel(cellName=\"\u53d1\u751f\u65e5\u671f\",sortNum=25,dateFormat=\"yyyy-MM-dd\")  \n    private Date actionDate; // \u53d1\u751f\u65e5\u671f ----12.9\u65b0\u589e  \n    @Excel(cellName=\"\u786e\u8ba4\u503a\u6743\u989d\uff08\u4e07\u5143\uff09\",sortNum=22)  \n    private String bondAmount;// \u786e\u8ba4\u503a\u6743\u989d ----12.9\u65b0\u589e  \n    @Excel(cellName=\"\u53ef\u51cf\u5c11\u652f\u4ed8\u989d\uff08\u4e07\u5143\uff09\",sortNum=23)  \n    private String reducePaid;// \u53ef\u51cf\u5c11\u652f\u4ed8\u989d ----12.9\u65b0\u589e  \n    @Excel(cellName=\"\u6807\u7684\u989d\uff08\u4e07\u5143\uff09\",sortNum=21,numberFormat=\"0.####\")  \n    private Double payMoney(\u5212\u6389money);// \u6807\u7684\u989d\uff08\u4e07\u5143\uff09  \n    @Excel(cellName=\"\u539f\u544a\",sortNum=6,groupName=\"\u5f53\u4e8b\u4eba\")  \n    private String mainPerson;// \u539f\u544a----12.10\u65b0\u589e  \n    @Excel(cellName=\"\u88ab\u544a\",sortNum=7,groupName=\"\u5f53\u4e8b\u4eba\")  \n    private String secPerson;// \u88ab\u544a----12.10\u65b0\u589e  \n    @Excel(cellName=\"\u7b2c\u4e09\u4eba\",sortNum=8,groupName=\"\u5f53\u4e8b\u4eba\")  \n    private String thirdPerson;// \u7b2c\u4e09\u4eba----12.10\u65b0\u589e  \n    @Excel(cellName=\"\u8bc9\u8bbc\u9636\u6bb5\",sortNum=4)  \n    private String lev(\u5212\u6389level);// \u8bc9\u8bbc\u9636\u6bb5  \n    private String excutstatus;// \u5c65\u884c\u72b6\u6001  \n    @Excel(cellName=\"\u5907\u6ce8\",sortNum=31)  \n    private String remark;// \u5907\u6ce8  \n\n    @Excel(cellName=\"\u53d1\u5e03\u65e5\u671f\",sortNum=30,dateFormat=\"yyyy-MM-dd\")  \n    private Date reportDate;  \n    @Excel(cellName=\"\u53d1\u5e03\u4eba\",sortNum=29)  \n    private String reportMan;  \n\n    // 2019-03-20 \u65b0\u589e  \n    @Excel(cellName=\"\u6848\u53f7\",sortNum=5)  \n    private String caseNo;//\u6848\u53f7  \n    @Excel(cellName=\"\u5c65\u884c\u65f6\u95f4\",sortNum=9,groupName=\"\u5c65\u884c\u8282\u70b9\")  \n    private String performDate; // \u5c65\u884c\u65f6\u95f4 \u591a\u9636\u6bb5  \n    @Excel(cellName=\"\u5c65\u884c\u5185\u5bb9\",sortNum=10,groupName=\"\u5c65\u884c\u8282\u70b9\",width=25)  \n    private String performContent;// \u5c65\u884c\u5185\u5bb9 \u591a\u9636\u6bb5  \n    @Excel(cellName=\"\u5c65\u884c\u72b6\u6001\",sortNum=11,groupName=\"\u5c65\u884c\u8282\u70b9\")  \n    private String performStatus;// \u5c65\u884c\u72b6\u6001 \u591a\u9636\u6bb5  \n    @Excel(cellName=\"\u662f\u5426\\n\u88ab\u6267\u884c\u4e0a\u7f51\",sortNum=12)  \n    private String performOnline;// \u6267\u884c\u4e0a\u7f51  \n    @Excel(cellName=\"\u662f\u5426\\n\u51bb\u7ed3\u8d26\u6237\",sortNum=13)  \n    private String blockedAccount;// \u662f\u5426\u51bb\u7ed3\u8d26\u6237  \n    @Excel(cellName=\"\u51bb\u7ed3\u6587\u53f7\",sortNum=14)  \n    private String blockNo;// \u51bb\u7ed3\u6587\u53f7  \n    @Excel(cellName=\"\u51bb\u7ed3\u8d26\u6237\u6cd5\u9662\",sortNum=15)  \n    private String blockCourt;// \u51bb\u7ed3\u8d26\u6237\u6cd5\u9662  \n    @Excel(cellName=\"\u51bb\u7ed3\u91d1\u989d\uff08\u4e07\u5143\uff09\",sortNum=16,numberFormat=\"0.####\")  \n    private Double blockAmount;// \u51bb\u7ed3\u91d1\u989d\uff08\u4e07\u5143\uff09  \n    @Excel(cellName=\"\u51bb\u7ed3\u65f6\u95f4\",sortNum=17,dateFormat=\"yyyy-MM-dd\")  \n    private Date blockDate;// \u51bb\u7ed3\u65f6\u95f4  \n    @Excel(cellName=\"\u662f\u5426\u88ab\u5217\u5165\\n\u5931\u4fe1\u9ed1\u540d\u5355\",sortNum=18)  \n    private String blacklist;// \u662f\u5426\u5217\u5165\u5931\u4fe1\u9ed1\u540d\u5355  \n    @Excel(cellName=\"\u662f\u5426\u88ab\u5217\u5165\\n\u9ad8\u6d88\u8d39\",sortNum=19)  \n    private String limitHighConsumption;// \u662f\u5426\u9650\u5236\u9ad8\u6d88\u8d39  \n    @Excel(cellName=\"\u5904\u7406\u60c5\u51b5\u8fdb\u5c55\",sortNum=28,width=20)  \n    private String caseProgress;// \u5904\u7406\u8fdb\u5c55  \n\n    // 2019-05-55 \u65b0\u589e  \n    @Excel(cellName=\"\u6848\u4ef6\u7b49\u7ea7\",sortNum=3)  \n    private String caseRank;// \u6848\u4ef6\u7b49\u7ea7  \n\n    // 2022-04-13 \u65b0\u589e  \n    @Excel(cellName=\"\u8fdb\u5c55\u60c5\u51b5\u8282\u70b9\",sortNum=27,width=20)  \n    private String progressNode;// \u8fdb\u5c55\u60c5\u51b5\u8282\u70b9  \n\n    // 2022-04-14 \u65b0\u589e  \n    private String enforceCase;// \u88ab\u5f3a\u5236\u6267\u884c\u6848\u4ef6  \n\n    @Excel(cellName=\"\u6267\u884c\u7acb\u6848\u65e5\u671f\",sortNum=11,dateFormat=\"yyyy-MM-dd\")  \n    private Date registerTime;//\u6267\u884c\u7acb\u6848\u65e5\u671f  \n    @Excel(cellName=\"\u6267\u884c\u673a\u5173\u4e0e\u627f\u529e\u4eba\",sortNum=11)  \n    private String organizationAndUndertaker;//\u6267\u884c\u673a\u5173\u4e0e\u627f\u529e\u4eba  \n    @Excel(cellName=\"\u7ed3\u6848\u6807\u7684\",sortNum=11)  \n    private String closeCase;//\u7ed3\u6848\u6807\u7684  \n    @Excel(cellName=\"\u662f\u5426\u89e3\u51bb\",sortNum=11)  \n    private String frozen;//\u662f\u5426\u89e3\u51bb\n}\n</code></pre> <pre><code>select t_law_civilCase.*, t_hr_staffbasicinfo.cellphone mobile\u00a0 from t_law_civilCase\n\nleft join t_hr_staffbasicinfo\u00a0\n\non t_law_civilCase.reportMan = t_hr_staffbasicinfo.name\n</code></pre>"},{"location":"work/%E6%B3%95%E5%8A%A1/#criminalcase","title":"criminalCase \u5211\u4e8b\u6848\u4ef6\u8868","text":"<pre><code>// t_law_criminalCases\npublic class CriminalCases {  \n    private String id;  \n    private String orgId;  \n    private String orgName;  \n\n    private String caseName;// \u6848\u540d  \n    private String caseType;// \u6848\u4ef6\u7c7b\u578b  \n    private String suspect;// \u72af\u7f6a\u5acc\u7591\u4eba  \n    private String accusation;// \u7f6a\u540d  \n\n    private float amount;// \u91d1\u989d  \n    private String caseStage;// \u6848\u4ef6\u9636\u6bb5  \n    private String reportInfo;// \u7acb\u6848\u4fa6\u67e5\u673a\u5173\u53ca\u627f\u529e\u8b66\u5b98  \n    private String checkOrgInfo;//\u68c0\u67e5\u673a\u5173\u53ca\u627f\u529e\u4eba \u3010130726 \u6dfb\u52a0\u3011  \n    private String courtInfo;// \u5ba1\u7406\u6cd5\u9662\u53ca\u627f\u529e\u6cd5\u5b98  \n    private String involveProject;// \u6240\u6d89\u9879\u76ee  \n    private String involveProjectManager;// \u6240\u6d89\u9879\u76ee\u7ecf\u7406  \n    private String externalLawyers;// \u5916\u8058\u5f8b\u5e08\u3010130726 \u6dfb\u52a0\u3011  \n    private String remark;// \u5907\u6ce8  \n    private Date reportDate;  \n    private String reportMan;    \n\n    // 2022-04-13 \u65b0\u589e  \n    private String progressNode;// \u8fdb\u5c55\u60c5\u51b5\u8282\u70b9\n}\n</code></pre>"},{"location":"work/%E6%B3%95%E5%8A%A1/#caseinfo","title":"caseInfo \u6848\u4ef6\u8be6\u60c5\u8868","text":"<pre><code>// t_law_civilCaseInfo\npublic class CivilCaseInfo {  \n\n    private String id;// \u6848\u4ef6\u8be6\u7ec6\u4fe1\u606fid \u4e3b\u952e  \n    private String parentId;// \u6848\u4ef6id  \n    private String lev(\u5212\u6389level);// \u8bc9\u8bbc\u9636\u6bb5  \n    private String caseNO;// \u6848\u53f7  \n    private String mainPerson;// \u5f53\u4e8b\u4eba1  \n    private String secPerson;// \u5f53\u4e8b\u4eba2  \n    private String thirdPerson;// \u7b2c\u4e09\u4eba  \n    private Date actionDate;// \u53d1\u751f\u65e5\u671f ----12.9\u65b0\u589e  \n    private String bondAmount;// \u786e\u8ba4\u503a\u5238\u989d ----12.9\u65b0\u589e  \n    private String reducePaid;// \u53ef\u51cf\u5c11\u652f\u4ed8\u989d ----12.9\u65b0\u589e  \n    private double payMoney(\u5212\u6389money);// \u6807\u7684\u989d\uff08\u4e07\u5143\uff09  \n    private Date finishDate;// \u7ed3\u6848\u65e5\u671f  \n    private String excutContent;// \u5c65\u884c\u5185\u5bb9  \n    private String excutstatus;// \u5c65\u884c\u72b6\u6001  \n    private String court;// \u5ba1\u7406\u6cd5\u9662 -&gt;\u5ba1\u5224\u673a\u5173\u53ca\u627f\u529e\u4eba  \n    private String judgeMen;// \u627f\u529e\u6cd5\u5b98\u53ca\u8054\u7cfb\u65b9\u5f0f-&gt;\u9884\u7559 \u4e0d\u7528  \n    private String extLayer;// \u5916\u8058\u5f8b\u5e08  \n    private String judgeResult;// \u88c1\u5224\u7ed3\u679c  \n    private String remark;// \u5907\u6ce8  \n    private Date reportDate;  \n    private String reportMan;  \n    private Calendar addTime;  \n\n    // \u9644\u4ef6\u5185\u5bb9  \n\n    private String personAttachmentTitle;  \n    private Blob personAttachment;// \u5f53\u4e8b\u4eba\u57fa\u672c\u4fe1\u606f  \n\n    private String summonsAttachmentTitle;  \n    private Blob summonsAttachment;// \u4f20\u7968  \n\n    private String indictmentAttachmentTitle;  \n    private Blob indictmentAttachment;// \u8bc9\u72b6  \n\n    private String judgmentAttachmentTitle;  \n    private Blob judgmentAttachment;// \u5224\u51b3\u4e66\u3001\u88c1\u5b9a\u4e66  \n\n    private String proofAttachmentTitle;  \n    private Blob proofAttachment;// \u4e3e\u8bc1\u901a\u77e5\u4e66  \n\n    private String caseReportAttachmentTitle;  \n    private Blob caseReportAttachment;// \u88ab\u8bc9\u6848\u4ef6\u62a5\u544a  \n\n    private String legalInstrumentAttachmentTitle;  \n    private Blob legalInstrumentAttachment;// \u4e0e\u6848\u4ef6\u76f8\u5173\u7684\u6cd5\u5f8b\u6587\u4e66  \n\n    // 2022-04-14 \u65b0\u589e  \n    private String paymentVoucherAttachmentTitle;// \u4ed8\u6b3e\u51ed\u8bc1  \n    private Blob paymentVoucherAttachment;//\u4ed8\u6b3e\u51ed\u8bc1  \n\n    // 2019-03-20 \u65b0\u589e  \n    private String performDate; // \u5c65\u884c\u65f6\u95f4 \u591a\u9636\u6bb5  \n    private String performContent;// \u5c65\u884c\u5185\u5bb9 \u591a\u9636\u6bb5  \n    private String performStatus;// \u5c65\u884c\u72b6\u6001 \u591a\u9636\u6bb5  \n    private String performOnline;// \u6267\u884c\u4e0a\u7f51  \n    private String blockedAccount;// \u662f\u5426\u51bb\u7ed3\u8d26\u6237  \n    private String blockNo;// \u51bb\u7ed3\u6587\u53f7  \n    private String blockCourt;// \u51bb\u7ed3\u8d26\u6237\u6cd5\u9662  \n    private Double blockAmount;// \u51bb\u7ed3\u91d1\u989d\uff08\u4e07\u5143\uff09  \n    private Date blockDate;// \u51bb\u7ed3\u65f6\u95f4  \n    private String blacklist;// \u662f\u5426\u5217\u5165\u5931\u4fe1\u9ed1\u540d\u5355  \n    private String limitHighConsumption;// \u662f\u5426\u9650\u5236\u9ad8\u6d88\u8d39  \n    private String caseProgress;// \u5904\u7406\u8fdb\u5c55  \n\n    // 2019-05-55 \u65b0\u589e  \n    private String caseRank;// \u6848\u4ef6\u7b49\u7ea7  \n\n    // 2022-04-13 \u65b0\u589e  \n    private String progressNode;// \u8fdb\u5c55\u60c5\u51b5\u8282\u70b9  \n\n    // 2022-04-14 \u65b0\u589e  \n    private Date registerTime;//\u6267\u884c\u7acb\u6848\u65e5\u671f  \n    private String organizationAndUndertaker;//\u6267\u884c\u673a\u5173\u4e0e\u627f\u529e\u4eba  \n    private String closeCase;//\u7ed3\u6848\u6807\u7684  \n    private String frozen;//\u662f\u5426\u89e3\u51bb\n}\n</code></pre> <pre><code>select\u00a0\n\naa.id, aa.parentid, aa.lev, aa.caseno, aa.mainperson, aa.secperson,\n\naa.thirdperson, aa.paymoney, aa.finishdate, aa.excutcontent, aa.excutstatus,\n\naa.court, aa.judgemen, aa.extlayer, aa.judgeresult, aa.remark, aa.personattachmenttitle,\n\naa.summonsattachmenttitle, aa.indictmentattachmenttitle, aa.judgmentattachmenttitle,\n\naa.proofattachmenttitle, aa.casereportattachmenttitle, aa.legalinstrumentattachmenttitle,\n\naa.paymentvoucherattachmenttitle,\n\naa.reportdate, aa.reportman, aa.addtime, aa.actiondate, aa.bondamount, aa.reducepaid,\n\naa.performdate, aa.performcontent, aa.performstatus, aa.performonline, aa.blockedaccount,\n\naa.blockno, aa.blockcourt, aa.blockamount, aa.blockdate, aa.blacklist, aa.limithighconsumption,\n\naa.caseprogress, aa.caserank, aa.progressnode, aa.registertime, aa.organizationandundertaker,\n\naa.closecase, aa.frozen,\n\n\n\nt_hr_staffbasicinfo.cellphone mobile from t_law_civilCaseInfo aa\n\nleft join t_hr_staffbasicinfo\u00a0\n\non aa.reportMan = t_hr_staffbasicinfo.name\n</code></pre>"},{"location":"%E4%BA%A4%E6%8E%A5%E7%9B%B8%E5%85%B3/%E4%B8%AD%E5%A4%A9%E7%BE%8E%E5%A5%BD%E7%89%A9%E4%B8%9A/%E5%89%8D%E7%AB%AF/1%E3%80%81%E7%89%A9%E4%B8%9A%E5%90%8E%E5%8F%B0/","title":"1\u3001\u7269\u4e1a\u540e\u53f0","text":""},{"location":"%E4%BA%A4%E6%8E%A5%E7%9B%B8%E5%85%B3/%E4%B8%AD%E5%A4%A9%E7%BE%8E%E5%A5%BD%E7%89%A9%E4%B8%9A/%E5%89%8D%E7%AB%AF/2%E3%80%81%E4%B8%AD%E5%A4%A9%E7%BE%8E%E5%A5%BD%E5%B0%8F%E7%A8%8B%E5%BA%8F/","title":"2\u3001\u4e2d\u5929\u7f8e\u597d\u5c0f\u7a0b\u5e8f","text":""},{"location":"%E4%BA%A4%E6%8E%A5%E7%9B%B8%E5%85%B3/%E4%B8%AD%E5%A4%A9%E7%BE%8E%E5%A5%BD%E7%89%A9%E4%B8%9A/%E5%89%8D%E7%AB%AF/3%E3%80%81%E8%81%94%E6%AF%8F%E5%AE%B6%20App/","title":"3\u3001\u8054\u6bcf\u5bb6 App","text":""},{"location":"%E4%BA%A4%E6%8E%A5%E7%9B%B8%E5%85%B3/%E4%B8%AD%E5%A4%A9%E8%80%81%E7%B3%BB%E7%BB%9F/1%E3%80%81%E7%9B%B8%E5%85%B3%E8%B4%A6%E5%8F%B7%E5%8F%8A%E7%8E%AF%E5%A2%83/","title":"1\u3001\u76f8\u5173\u8d26\u53f7\u53ca\u73af\u5883","text":""},{"location":"%E4%BA%A4%E6%8E%A5%E7%9B%B8%E5%85%B3/%E4%B8%AD%E5%A4%A9%E8%80%81%E7%B3%BB%E7%BB%9F/2%E3%80%81%E5%90%8E%E7%AB%AF%E5%B7%A5%E4%BD%9C%E4%BA%A4%E6%8E%A5/","title":"2\u3001\u540e\u7aef\u5de5\u4f5c\u4ea4\u63a5","text":""},{"location":"%E4%BA%A4%E6%8E%A5%E7%9B%B8%E5%85%B3/%E4%B8%AD%E5%A4%A9%E8%80%81%E7%B3%BB%E7%BB%9F/3%E3%80%81%E5%89%8D%E7%AB%AF%E5%B7%A5%E4%BD%9C%E4%BA%A4%E6%8E%A5/","title":"3\u3001\u524d\u7aef\u5de5\u4f5c\u4ea4\u63a5","text":""},{"location":"%E4%BA%A4%E6%8E%A5%E7%9B%B8%E5%85%B3/%E4%B8%AD%E5%A4%A9%E8%80%81%E7%B3%BB%E7%BB%9F/4%E3%80%81%E5%BA%94%E7%94%A8%E5%8F%91%E5%B8%83/","title":"4\u3001\u5e94\u7528\u53d1\u5e03","text":""}]}